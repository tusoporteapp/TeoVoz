import{c as j,j as e,P as N,H as k,b as S,R as E,r as d,d as C,a as h}from"./Skeleton-DtBm_Hz7.js";import{C as I,f as z}from"./constants-BML1BJYv.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],P=j("share-2",F),_=({episode:t,currentEpisode:r,onPlay:x,favorites:g,onToggleFavorite:p})=>{const i=(r==null?void 0:r.guid)===t.guid,l=g.has(t.guid),n=()=>{const o=`ðŸŽ™ï¸ TEOVOZ: ${t.title}

ðŸŽ§ Escucha el resumen completo en la App original:
https://play.google.com/store/apps/details?id=com.teovoz.app`;navigator.share?navigator.share({title:t.title,text:o}).catch(console.error):window.open(`https://api.whatsapp.com/send?text=${encodeURIComponent(o)}`,"_blank")};return e.jsx("div",{className:"animate-in fade-in duration-300 pb-32",children:e.jsxs("div",{className:"px-6 flex flex-col items-center",children:[e.jsxs("div",{className:"relative w-full max-w-sm aspect-square rounded-[40px] overflow-hidden shadow-2xl mb-8 border-app border",children:[e.jsx("img",{src:t.image,className:"w-full h-full object-cover",alt:t.title}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30",children:e.jsx("button",{onClick:()=>x(t),className:`w-24 h-24 rounded-full border border-white/20 flex items-center justify-center text-white shadow-2xl transition-all active:scale-95 ${i?"bg-indigo-600":"bg-black/40"}`,children:e.jsx(N,{size:40,fill:"currentColor",className:"ml-1.5"})})})]}),e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsxs("button",{onClick:()=>p(t),className:`flex items-center gap-2 px-6 py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest transition-all active:scale-95 ${l?"bg-red-500 text-white shadow-lg shadow-red-500/10":"bg-surface border border-app text-primary"}`,children:[e.jsx(k,{size:16,fill:l?"currentColor":"none"}),l?"Guardado":"Favorito"]}),e.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-6 py-3 rounded-2xl bg-indigo-600 text-white font-black text-[10px] uppercase tracking-widest shadow-lg shadow-indigo-600/10 active:scale-95",children:[e.jsx(P,{size:16}),"Compartir"]})]}),e.jsxs("div",{className:"w-full max-w-2xl text-center",children:[e.jsx("h2",{className:"text-3xl font-black text-primary mb-6 leading-tight tracking-tighter",children:t.title}),e.jsx("div",{className:"text-left bg-surface p-8 rounded-[32px] border border-app text-muted text-base leading-relaxed whitespace-pre-line font-medium",children:t.description})]})]})})},O=()=>{const[t,r]=d.useState(null),[x,g]=d.useState(null),[p,i]=d.useState(!0),[l,n]=d.useState(null),u=new URLSearchParams(window.location.search),o=u.get("guid"),f=u.get("cat"),b=new Set(JSON.parse(localStorage.getItem("teovoz_favorites")||"[]").map(c=>c.guid));d.useEffect(()=>{(async()=>{if(!o){n("ParÃ¡metros de episodio no vÃ¡lidos."),i(!1);return}const s=localStorage.getItem("teovoz_viewing_episode");if(s){const a=JSON.parse(s);if(a.guid===o){r(a),i(!1);return}}const m=I.find(a=>a.id===f);if(!m||!m.rss){n("CategorÃ­a no encontrada o sin contenido."),i(!1);return}try{const v=(await z(m.rss)).episodes.find(y=>y.guid===o);v?r(v):n("Episodio no encontrado.")}catch(a){console.error(a),n("Error al cargar el episodio.")}finally{i(!1)}})()},[o,f]);const w=c=>{let s=JSON.parse(localStorage.getItem("teovoz_favorites")||"[]");s.some(a=>a.guid===c.guid)?s=s.filter(a=>a.guid!==c.guid):s.push(c),localStorage.setItem("teovoz_favorites",JSON.stringify(s)),window.location.reload()};return e.jsx(C,{activeTab:"home",currentEpisode:x,onEpisodeChange:g,children:e.jsx("div",{className:"px-6 py-4",children:p?e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx(h,{className:"h-64 rounded-[40px]"}),e.jsx(h,{className:"h-10 w-3/4 rounded-xl"}),e.jsx(h,{className:"h-32 rounded-3xl"})]}):l?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("p",{className:"text-red-500 font-bold mb-4",children:l}),e.jsx("a",{href:"/",className:"text-indigo-500 font-black uppercase text-xs tracking-widest",children:"Volver al inicio"})]}):t?e.jsx(_,{episode:t,currentEpisode:x,onPlay:g,favorites:b,onToggleFavorite:w}):null})})};S.createRoot(document.getElementById("root")).render(e.jsx(E.StrictMode,{children:e.jsx(O,{})}));
