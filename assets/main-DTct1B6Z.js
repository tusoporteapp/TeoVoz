import{c as s,r,j as e,S as _,H as C,a as x,P as E,b as $,R as N,d as H}from"./Skeleton-DtBm_Hz7.js";import{C as b,f}from"./constants-BML1BJYv.js";import{S as I}from"./sparkles-BhlDet60.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],R=s("activity",A);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],L=s("banknote",V);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],B=s("brain",O);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],T=s("briefcase",D);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],P=s("clock",q);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],G=s("headphones",F);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]],Z=s("laptop",J);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],v=s("lock",U);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],Q=s("scroll-text",K);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],X=s("zap",W),Y={zap:X,banknote:L,brain:B,heart:C,activity:R,briefcase:T,"scroll-text":Q,sun:_},ee=r.memo(({categories:c,onSelect:l,counts:d={}})=>e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 p-4 pt-0",children:c.map((t,n)=>{const o=Y[t.icon]||Z,a=!t.rss,p=d[t.id]||0;return e.jsxs("a",{href:a?"#":`/${t.id}.html`,"aria-disabled":a,style:{animationDelay:`${n*50}ms`,animationFillMode:"backwards"},className:`
              ${a?"bg-slate-900/50 border-slate-800 opacity-60 grayscale pointer-events-none":t.color+" border-white/10"} 
              group relative h-40 rounded-[32px] p-5 
              flex flex-col justify-between items-start text-white 
              shadow-lg shadow-black/20
              transition-all duration-300 ease-out
              ${!a&&"hover:-translate-y-1 hover:shadow-indigo-500/10 active:scale-95 active:translate-y-0"}
              overflow-hidden border
              animate-in fade-in slide-in-from-bottom-4 block
            `,children:[e.jsx("div",{className:"absolute -right-3 -bottom-3 opacity-10 rotate-[-15deg] group-hover:scale-125 group-hover:rotate-0 transition-transform duration-500",children:a?e.jsx(v,{size:100}):e.jsx(o,{size:100})}),e.jsx("div",{className:`
              ${a?"bg-slate-800":"bg-black/40"} 
              p-2.5 rounded-2xl z-10 border border-white/10 transition-colors
            `,children:a?e.jsx(v,{size:18,className:"text-slate-600"}):e.jsx(o,{size:18})}),e.jsxs("div",{className:"z-10 text-left w-full mt-2",children:[e.jsx("span",{className:"font-black text-[16px] uppercase leading-[1.1] block tracking-tighter group-hover:text-white transition-colors",children:t.name}),!a&&e.jsxs("span",{className:"text-[8px] uppercase tracking-[0.25em] text-white/50 font-black mt-2 block group-hover:text-white/80",children:[p," Episodios"]}),a&&e.jsx("span",{className:"text-[8px] uppercase tracking-[0.2em] text-slate-500 font-black mt-2 block",children:"Próximamente"})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/0 via-white/5 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000 ease-in-out"})]},t.id)})}));let te=[],y=null,j={},k=!1;const ae=({onCategorySelect:c,onEpisodeSelect:l,listenedCount:d,lastPlayed:t})=>{const[n,o]=r.useState(y),[a,p]=r.useState(j),[w,M]=r.useState(!k);return r.useEffect(()=>{(async()=>{const m=b.filter(h=>h.rss),z=m[Math.floor(Math.random()*m.length)];try{const[h,g]=await Promise.all([f(b[0].rss),f(z.rss)]);if(te=h.episodes,g.episodes.length>0){const i=g.episodes[Math.floor(Math.random()*g.episodes.length)];o(i),y=i}const u={};(await Promise.all(m.map(async i=>{try{const S=await f(i.rss);return{id:i.id,count:S.episodes.length}}catch{return{id:i.id,count:0}}}))).forEach(i=>{u[i.id]=i.count}),p(u),j=u,k=!0}catch(h){console.error("Error loading home data:",h)}finally{M(!1)}})()},[]),w&&!k?e.jsxs("div",{className:"py-6 px-6 space-y-8 animate-in fade-in duration-300",children:[e.jsx(x,{className:"w-full h-24 rounded-[28px]"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(x,{className:"h-32 rounded-[28px]"}),e.jsx(x,{className:"h-32 rounded-[28px]"})]})]}):e.jsxs("div",{className:"animate-in fade-in duration-300 py-6",children:[n&&e.jsx("div",{className:"px-6 mb-8",children:e.jsx("button",{onClick:()=>l(n),className:"w-full relative overflow-hidden rounded-[28px] p-5 text-left transition-all active:scale-95 bg-indigo-600 shadow-lg shadow-indigo-500/10 border border-white/10",children:e.jsx("div",{className:"relative z-10 flex items-center justify-between gap-3",children:e.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[e.jsxs("div",{className:"relative w-14 h-14 flex-shrink-0",children:[e.jsx("img",{src:n.image,className:"w-full h-full object-cover rounded-xl border border-white/20",alt:"Rec"}),e.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white text-indigo-600 p-1 rounded shadow-lg",children:e.jsx(I,{size:8})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"text-[7px] font-black uppercase tracking-[0.3em] text-white/70 mb-1 block",children:"Sugerencia TEOVOZ"}),e.jsx("h3",{className:"text-base font-black text-white leading-tight mb-3 line-clamp-1",children:n.title}),e.jsxs("div",{className:"bg-white/10 text-white px-3 py-1.5 rounded-lg font-black text-[8px] uppercase tracking-widest inline-flex items-center gap-1.5 border border-white/10",children:[e.jsx(E,{size:8,fill:"currentColor"})," Escuchar Ahora"]})]})]})})})}),e.jsx("div",{className:"px-6 mb-10",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-surface border-app border rounded-[28px] p-5 flex flex-col gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center text-white",children:e.jsx(G,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.2em] text-muted mb-1 leading-none",children:"Mi Progreso"}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:"text-2xl font-black text-primary tracking-tighter",children:d}),e.jsx("span",{className:"text-[9px] font-bold text-muted uppercase",children:"Temas"})]})]})]}),e.jsxs("button",{onClick:()=>t&&l(t),disabled:!t,className:`bg-surface border-app border rounded-[28px] p-5 flex flex-col gap-3 text-left transition-all active:scale-95 ${t?"opacity-100":"opacity-50"}`,children:[e.jsx("div",{className:"w-10 h-10 bg-amber-500/10 rounded-xl flex items-center justify-center text-amber-500",children:e.jsx(P,{size:20})}),e.jsxs("div",{className:"truncate w-full",children:[e.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.2em] text-muted mb-1 leading-none",children:"Continuar"}),e.jsx("p",{className:"text-[10px] font-bold text-primary truncate tracking-tight",children:t?t.title:"Nada aún"})]})]})]})}),e.jsxs("div",{className:"px-6 mb-5 flex items-center gap-2",children:[e.jsx("h2",{className:"text-[10px] font-black text-muted uppercase tracking-[0.25em]",children:"Bibliotecas"}),e.jsx("div",{className:"h-[1px] flex-1 bg-app"})]}),e.jsx(ee,{categories:b,onSelect:c,counts:a})]})},se=()=>{const[c,l]=N.useState(null),d=new Set(JSON.parse(localStorage.getItem("teovoz_listened")||"[]")).size,t=JSON.parse(localStorage.getItem("teovoz_last_played")||"null"),n=o=>{localStorage.setItem("teovoz_viewing_episode",JSON.stringify(o)),window.location.href=`/episode.html?guid=${encodeURIComponent(o.guid)}`};return e.jsx(H,{activeTab:"home",currentEpisode:c,onEpisodeChange:l,children:e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"p-6",children:e.jsx(x,{className:"h-40 rounded-3xl"})}),children:e.jsx(ae,{onCategorySelect:o=>window.location.href=`/${o.id}.html`,onEpisodeSelect:n,listenedCount:d,lastPlayed:t})})})};$.createRoot(document.getElementById("root")).render(e.jsx(N.StrictMode,{children:e.jsx(se,{})}));
