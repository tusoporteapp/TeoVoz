var Cb=Object.defineProperty,Tb=Object.defineProperties;var Ab=Object.getOwnPropertyDescriptors;var so=Object.getOwnPropertySymbols;var d0=Object.prototype.hasOwnProperty,f0=Object.prototype.propertyIsEnumerable;var u0=(i,n,a)=>n in i?Cb(i,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[n]=a,Ne=(i,n)=>{for(var a in n||(n={}))d0.call(n,a)&&u0(i,a,n[a]);if(so)for(var a of so(n))f0.call(n,a)&&u0(i,a,n[a]);return i},ot=(i,n)=>Tb(i,Ab(n));var ao=(i,n)=>{var a={};for(var l in i)d0.call(i,l)&&n.indexOf(l)<0&&(a[l]=i[l]);if(i!=null&&so)for(var l of so(i))n.indexOf(l)<0&&f0.call(i,l)&&(a[l]=i[l]);return a};var jb=(i,n)=>()=>(n||i((n={exports:{}}).exports,n),n.exports);var ie=(i,n,a)=>new Promise((l,o)=>{var u=v=>{try{m(a.next(v))}catch(g){o(g)}},f=v=>{try{m(a.throw(v))}catch(g){o(g)}},m=v=>v.done?l(v.value):Promise.resolve(v.value).then(u,f);m((a=a.apply(i,n)).next())});var R3=jb(rn=>{(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function a(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(o){if(o.ep)return;o.ep=!0;const u=a(o);fetch(o.href,u)}})();function Db(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var xd={exports:{}},rl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function Mb(){if(h0)return rl;h0=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(l,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:l,key:f,ref:o!==void 0?o:null,props:u}}return rl.Fragment=n,rl.jsx=a,rl.jsxs=a,rl}var m0;function Rb(){return m0||(m0=1,xd.exports=Mb()),xd.exports}var h=Rb(),bd={exports:{}},fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function Ob(){if(p0)return fe;p0=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),_=Symbol.iterator;function N(S){return S===null||typeof S!="object"?null:(S=_&&S[_]||S["@@iterator"],typeof S=="function"?S:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,U={};function Y(S,M,q){this.props=S,this.context=M,this.refs=U,this.updater=q||C}Y.prototype.isReactComponent={},Y.prototype.setState=function(S,M){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,M,"setState")},Y.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function $(){}$.prototype=Y.prototype;function F(S,M,q){this.props=S,this.context=M,this.refs=U,this.updater=q||C}var oe=F.prototype=new $;oe.constructor=F,z(oe,Y.prototype),oe.isPureReactComponent=!0;var ue=Array.isArray;function te(){}var X={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function qe(S,M,q){var P=q.ref;return{$$typeof:i,type:S,key:M,ref:P!==void 0?P:null,props:q}}function Xe(S,M){return qe(S.type,M,S.props)}function Oe(S){return typeof S=="object"&&S!==null&&S.$$typeof===i}function be(S){var M={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(q){return M[q]})}var ze=/\/+/g;function De(S,M){return typeof S=="object"&&S!==null&&S.key!=null?be(""+S.key):M.toString(36)}function ke(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(te,te):(S.status="pending",S.then(function(M){S.status==="pending"&&(S.status="fulfilled",S.value=M)},function(M){S.status==="pending"&&(S.status="rejected",S.reason=M)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function O(S,M,q,P,ae){var pe=typeof S;(pe==="undefined"||pe==="boolean")&&(S=null);var ce=!1;if(S===null)ce=!0;else switch(pe){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(S.$$typeof){case i:case n:ce=!0;break;case b:return ce=S._init,O(ce(S._payload),M,q,P,ae)}}if(ce)return ae=ae(S),ce=P===""?"."+De(S,0):P,ue(ae)?(q="",ce!=null&&(q=ce.replace(ze,"$&/")+"/"),O(ae,M,q,"",function(Mi){return Mi})):ae!=null&&(Oe(ae)&&(ae=Xe(ae,q+(ae.key==null||S&&S.key===ae.key?"":(""+ae.key).replace(ze,"$&/")+"/")+ce)),M.push(ae)),1;ce=0;var lt=P===""?".":P+":";if(ue(S))for(var $e=0;$e<S.length;$e++)P=S[$e],pe=lt+De(P,$e),ce+=O(P,M,q,pe,ae);else if($e=N(S),typeof $e=="function")for(S=$e.call(S),$e=0;!(P=S.next()).done;)P=P.value,pe=lt+De(P,$e++),ce+=O(P,M,q,pe,ae);else if(pe==="object"){if(typeof S.then=="function")return O(ke(S),M,q,P,ae);throw M=String(S),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return ce}function V(S,M,q){if(S==null)return S;var P=[],ae=0;return O(S,P,"","",function(pe){return M.call(q,pe,ae++)}),P}function J(S){if(S._status===-1){var M=S._result;M=M(),M.then(function(q){(S._status===0||S._status===-1)&&(S._status=1,S._result=q)},function(q){(S._status===0||S._status===-1)&&(S._status=2,S._result=q)}),S._status===-1&&(S._status=0,S._result=M)}if(S._status===1)return S._result.default;throw S._result}var B=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},Q={map:V,forEach:function(S,M,q){V(S,function(){M.apply(this,arguments)},q)},count:function(S){var M=0;return V(S,function(){M++}),M},toArray:function(S){return V(S,function(M){return M})||[]},only:function(S){if(!Oe(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return fe.Activity=x,fe.Children=Q,fe.Component=Y,fe.Fragment=a,fe.Profiler=o,fe.PureComponent=F,fe.StrictMode=l,fe.Suspense=v,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,fe.__COMPILER_RUNTIME={__proto__:null,c:function(S){return X.H.useMemoCache(S)}},fe.cache=function(S){return function(){return S.apply(null,arguments)}},fe.cacheSignal=function(){return null},fe.cloneElement=function(S,M,q){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var P=z({},S.props),ae=S.key;if(M!=null)for(pe in M.key!==void 0&&(ae=""+M.key),M)!de.call(M,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&M.ref===void 0||(P[pe]=M[pe]);var pe=arguments.length-2;if(pe===1)P.children=q;else if(1<pe){for(var ce=Array(pe),lt=0;lt<pe;lt++)ce[lt]=arguments[lt+2];P.children=ce}return qe(S.type,ae,P)},fe.createContext=function(S){return S={$$typeof:f,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:u,_context:S},S},fe.createElement=function(S,M,q){var P,ae={},pe=null;if(M!=null)for(P in M.key!==void 0&&(pe=""+M.key),M)de.call(M,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(ae[P]=M[P]);var ce=arguments.length-2;if(ce===1)ae.children=q;else if(1<ce){for(var lt=Array(ce),$e=0;$e<ce;$e++)lt[$e]=arguments[$e+2];ae.children=lt}if(S&&S.defaultProps)for(P in ce=S.defaultProps,ce)ae[P]===void 0&&(ae[P]=ce[P]);return qe(S,pe,ae)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(S){return{$$typeof:m,render:S}},fe.isValidElement=Oe,fe.lazy=function(S){return{$$typeof:b,_payload:{_status:-1,_result:S},_init:J}},fe.memo=function(S,M){return{$$typeof:g,type:S,compare:M===void 0?null:M}},fe.startTransition=function(S){var M=X.T,q={};X.T=q;try{var P=S(),ae=X.S;ae!==null&&ae(q,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(te,B)}catch(pe){B(pe)}finally{M!==null&&q.types!==null&&(M.types=q.types),X.T=M}},fe.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},fe.use=function(S){return X.H.use(S)},fe.useActionState=function(S,M,q){return X.H.useActionState(S,M,q)},fe.useCallback=function(S,M){return X.H.useCallback(S,M)},fe.useContext=function(S){return X.H.useContext(S)},fe.useDebugValue=function(){},fe.useDeferredValue=function(S,M){return X.H.useDeferredValue(S,M)},fe.useEffect=function(S,M){return X.H.useEffect(S,M)},fe.useEffectEvent=function(S){return X.H.useEffectEvent(S)},fe.useId=function(){return X.H.useId()},fe.useImperativeHandle=function(S,M,q){return X.H.useImperativeHandle(S,M,q)},fe.useInsertionEffect=function(S,M){return X.H.useInsertionEffect(S,M)},fe.useLayoutEffect=function(S,M){return X.H.useLayoutEffect(S,M)},fe.useMemo=function(S,M){return X.H.useMemo(S,M)},fe.useOptimistic=function(S,M){return X.H.useOptimistic(S,M)},fe.useReducer=function(S,M,q){return X.H.useReducer(S,M,q)},fe.useRef=function(S){return X.H.useRef(S)},fe.useState=function(S){return X.H.useState(S)},fe.useSyncExternalStore=function(S,M,q){return X.H.useSyncExternalStore(S,M,q)},fe.useTransition=function(){return X.H.useTransition()},fe.version="19.2.3",fe}var g0;function mf(){return g0||(g0=1,bd.exports=Ob()),bd.exports}var H=mf();const Oo=Db(H);var Sd={exports:{}},ol={},wd={exports:{}},Ed={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function zb(){return v0||(v0=1,(function(i){function n(O,V){var J=O.length;O.push(V);e:for(;0<J;){var B=J-1>>>1,Q=O[B];if(0<o(Q,V))O[B]=V,O[J]=Q,J=B;else break e}}function a(O){return O.length===0?null:O[0]}function l(O){if(O.length===0)return null;var V=O[0],J=O.pop();if(J!==V){O[0]=J;e:for(var B=0,Q=O.length,S=Q>>>1;B<S;){var M=2*(B+1)-1,q=O[M],P=M+1,ae=O[P];if(0>o(q,J))P<Q&&0>o(ae,q)?(O[B]=ae,O[P]=J,B=P):(O[B]=q,O[M]=J,B=M);else if(P<Q&&0>o(ae,J))O[B]=ae,O[P]=J,B=P;else break e}}return V}function o(O,V){var J=O.sortIndex-V.sortIndex;return J!==0?J:O.id-V.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var v=[],g=[],b=1,x=null,_=3,N=!1,C=!1,z=!1,U=!1,Y=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate!="undefined"?setImmediate:null;function oe(O){for(var V=a(g);V!==null;){if(V.callback===null)l(g);else if(V.startTime<=O)l(g),V.sortIndex=V.expirationTime,n(v,V);else break;V=a(g)}}function ue(O){if(z=!1,oe(O),!C)if(a(v)!==null)C=!0,te||(te=!0,be());else{var V=a(g);V!==null&&ke(ue,V.startTime-O)}}var te=!1,X=-1,de=5,qe=-1;function Xe(){return U?!0:!(i.unstable_now()-qe<de)}function Oe(){if(U=!1,te){var O=i.unstable_now();qe=O;var V=!0;try{e:{C=!1,z&&(z=!1,$(X),X=-1),N=!0;var J=_;try{t:{for(oe(O),x=a(v);x!==null&&!(x.expirationTime>O&&Xe());){var B=x.callback;if(typeof B=="function"){x.callback=null,_=x.priorityLevel;var Q=B(x.expirationTime<=O);if(O=i.unstable_now(),typeof Q=="function"){x.callback=Q,oe(O),V=!0;break t}x===a(v)&&l(v),oe(O)}else l(v);x=a(v)}if(x!==null)V=!0;else{var S=a(g);S!==null&&ke(ue,S.startTime-O),V=!1}}break e}finally{x=null,_=J,N=!1}V=void 0}}finally{V?be():te=!1}}}var be;if(typeof F=="function")be=function(){F(Oe)};else if(typeof MessageChannel!="undefined"){var ze=new MessageChannel,De=ze.port2;ze.port1.onmessage=Oe,be=function(){De.postMessage(null)}}else be=function(){Y(Oe,0)};function ke(O,V){X=Y(function(){O(i.unstable_now())},V)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(O){O.callback=null},i.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<O?Math.floor(1e3/O):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_next=function(O){switch(_){case 1:case 2:case 3:var V=3;break;default:V=_}var J=_;_=V;try{return O()}finally{_=J}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(O,V){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var J=_;_=O;try{return V()}finally{_=J}},i.unstable_scheduleCallback=function(O,V,J){var B=i.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?B+J:B):J=B,O){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=J+Q,O={id:b++,callback:V,priorityLevel:O,startTime:J,expirationTime:Q,sortIndex:-1},J>B?(O.sortIndex=J,n(g,O),a(v)===null&&O===a(g)&&(z?($(X),X=-1):z=!0,ke(ue,J-B))):(O.sortIndex=Q,n(v,O),C||N||(C=!0,te||(te=!0,be()))),O},i.unstable_shouldYield=Xe,i.unstable_wrapCallback=function(O){var V=_;return function(){var J=_;_=V;try{return O.apply(this,arguments)}finally{_=J}}}})(Ed)),Ed}var y0;function kb(){return y0||(y0=1,wd.exports=zb()),wd.exports}var Nd={exports:{}},St={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function Ib(){if(_0)return St;_0=1;var i=mf();function n(v){var g="https://react.dev/errors/"+v;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var l={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(v,g,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:v,containerInfo:g,implementation:b}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(v,g){if(v==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return St.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,St.createPortal=function(v,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return u(v,g,null,b)},St.flushSync=function(v){var g=f.T,b=l.p;try{if(f.T=null,l.p=2,v)return v()}finally{f.T=g,l.p=b,l.d.f()}},St.preconnect=function(v,g){typeof v=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,l.d.C(v,g))},St.prefetchDNS=function(v){typeof v=="string"&&l.d.D(v)},St.preinit=function(v,g){if(typeof v=="string"&&g&&typeof g.as=="string"){var b=g.as,x=m(b,g.crossOrigin),_=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?l.d.S(v,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:_,fetchPriority:N}):b==="script"&&l.d.X(v,{crossOrigin:x,integrity:_,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},St.preinitModule=function(v,g){if(typeof v=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=m(g.as,g.crossOrigin);l.d.M(v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&l.d.M(v)},St.preload=function(v,g){if(typeof v=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,x=m(b,g.crossOrigin);l.d.L(v,b,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},St.preloadModule=function(v,g){if(typeof v=="string")if(g){var b=m(g.as,g.crossOrigin);l.d.m(v,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else l.d.m(v)},St.requestFormReset=function(v){l.d.r(v)},St.unstable_batchedUpdates=function(v,g){return v(g)},St.useFormState=function(v,g,b){return f.H.useFormState(v,g,b)},St.useFormStatus=function(){return f.H.useHostTransitionStatus()},St.version="19.2.3",St}var x0;function qv(){if(x0)return Nd.exports;x0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Nd.exports=Ib(),Nd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function Lb(){if(b0)return ol;b0=1;var i=kb(),n=mf(),a=qv();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(u(e)!==e)throw Error(l(188))}function g(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(l(188));return t!==e?null:e}for(var s=e,r=t;;){var c=s.return;if(c===null)break;var d=c.alternate;if(d===null){if(r=c.return,r!==null){s=r;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===s)return v(c),e;if(d===r)return v(c),t;d=d.sibling}throw Error(l(188))}if(s.return!==r.return)s=c,r=d;else{for(var p=!1,y=c.child;y;){if(y===s){p=!0,s=c,r=d;break}if(y===r){p=!0,r=c,s=d;break}y=y.sibling}if(!p){for(y=d.child;y;){if(y===s){p=!0,s=d,r=c;break}if(y===r){p=!0,r=d,s=c;break}y=y.sibling}if(!p)throw Error(l(189))}}if(s.alternate!==r)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,_=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),F=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),qe=Symbol.for("react.activity"),Xe=Symbol.for("react.memo_cache_sentinel"),Oe=Symbol.iterator;function be(e){return e===null||typeof e!="object"?null:(e=Oe&&e[Oe]||e["@@iterator"],typeof e=="function"?e:null)}var ze=Symbol.for("react.client.reference");function De(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ze?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case Y:return"Profiler";case U:return"StrictMode";case ue:return"Suspense";case te:return"SuspenseList";case qe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case F:return e.displayName||"Context";case $:return(e._context.displayName||"Context")+".Consumer";case oe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return t=e.displayName||null,t!==null?t:De(e.type)||"Memo";case de:t=e._payload,e=e._init;try{return De(e(t))}catch(s){}}return null}var ke=Array.isArray,O=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},B=[],Q=-1;function S(e){return{current:e}}function M(e){0>Q||(e.current=B[Q],B[Q]=null,Q--)}function q(e,t){Q++,B[Q]=e.current,e.current=t}var P=S(null),ae=S(null),pe=S(null),ce=S(null);function lt(e,t){switch(q(pe,t),q(ae,e),q(P,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Og(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Og(t),e=zg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}M(P),q(P,e)}function $e(){M(P),M(ae),M(pe)}function Mi(e){e.memoizedState!==null&&q(ce,e);var t=P.current,s=zg(t,e.type);t!==s&&(q(ae,e),q(P,s))}function Hl(e){ae.current===e&&(M(P),M(ae)),ce.current===e&&(M(ce),il._currentValue=J)}var nc,ch;function Ri(e){if(nc===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);nc=t&&t[1]||"",ch=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nc+e+ch}var ic=!1;function sc(e,t){if(!e||ic)return"";ic=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var L=function(){throw Error()};if(Object.defineProperty(L.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(L,[])}catch(R){var D=R}Reflect.construct(e,[],L)}else{try{L.call()}catch(R){D=R}e.call(L.prototype)}}else{try{throw Error()}catch(R){D=R}(L=e())&&typeof L.catch=="function"&&L.catch(function(){})}}catch(R){if(R&&D&&typeof R.stack=="string")return[R.stack,D.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=r.DetermineComponentFrameRoot(),p=d[0],y=d[1];if(p&&y){var w=p.split(`
`),j=y.split(`
`);for(c=r=0;r<w.length&&!w[r].includes("DetermineComponentFrameRoot");)r++;for(;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;if(r===w.length||c===j.length)for(r=w.length-1,c=j.length-1;1<=r&&0<=c&&w[r]!==j[c];)c--;for(;1<=r&&0<=c;r--,c--)if(w[r]!==j[c]){if(r!==1||c!==1)do if(r--,c--,0>c||w[r]!==j[c]){var k=`
`+w[r].replace(" at new "," at ");return e.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",e.displayName)),k}while(1<=r&&0<=c);break}}}finally{ic=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Ri(s):""}function i1(e,t){switch(e.tag){case 26:case 27:case 5:return Ri(e.type);case 16:return Ri("Lazy");case 13:return e.child!==t&&t!==null?Ri("Suspense Fallback"):Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 15:return sc(e.type,!1);case 11:return sc(e.type.render,!1);case 1:return sc(e.type,!0);case 31:return Ri("Activity");default:return""}}function uh(e){try{var t="",s=null;do t+=i1(e,s),s=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var ac=Object.prototype.hasOwnProperty,lc=i.unstable_scheduleCallback,rc=i.unstable_cancelCallback,s1=i.unstable_shouldYield,a1=i.unstable_requestPaint,Lt=i.unstable_now,l1=i.unstable_getCurrentPriorityLevel,dh=i.unstable_ImmediatePriority,fh=i.unstable_UserBlockingPriority,ql=i.unstable_NormalPriority,r1=i.unstable_LowPriority,hh=i.unstable_IdlePriority,o1=i.log,c1=i.unstable_setDisableYieldValue,pa=null,Ut=null;function Kn(e){if(typeof o1=="function"&&c1(e),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(pa,e)}catch(t){}}var Bt=Math.clz32?Math.clz32:f1,u1=Math.log,d1=Math.LN2;function f1(e){return e>>>=0,e===0?32:31-(u1(e)/d1|0)|0}var Vl=256,Gl=262144,Yl=4194304;function Oi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ql(e,t,s){var r=e.pendingLanes;if(r===0)return 0;var c=0,d=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var y=r&134217727;return y!==0?(r=y&~d,r!==0?c=Oi(r):(p&=y,p!==0?c=Oi(p):s||(s=y&~e,s!==0&&(c=Oi(s))))):(y=r&~d,y!==0?c=Oi(y):p!==0?c=Oi(p):s||(s=r&~e,s!==0&&(c=Oi(s)))),c===0?0:t!==0&&t!==c&&(t&d)===0&&(d=c&-c,s=t&-t,d>=s||d===32&&(s&4194048)!==0)?t:c}function ga(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function h1(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mh(){var e=Yl;return Yl<<=1,(Yl&62914560)===0&&(Yl=4194304),e}function oc(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function va(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function m1(e,t,s,r,c,d){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var y=e.entanglements,w=e.expirationTimes,j=e.hiddenUpdates;for(s=p&~s;0<s;){var k=31-Bt(s),L=1<<k;y[k]=0,w[k]=-1;var D=j[k];if(D!==null)for(j[k]=null,k=0;k<D.length;k++){var R=D[k];R!==null&&(R.lane&=-536870913)}s&=~L}r!==0&&ph(e,r,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(p&~t))}function ph(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Bt(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|s&261930}function gh(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-Bt(s),c=1<<r;c&t|e[r]&t&&(e[r]|=t),s&=~c}}function vh(e,t){var s=t&-t;return s=(s&42)!==0?1:cc(s),(s&(e.suspendedLanes|t))!==0?0:s}function cc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function uc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function yh(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:i0(e.type))}function _h(e,t){var s=V.p;try{return V.p=e,t()}finally{V.p=s}}var Zn=Math.random().toString(36).slice(2),vt="__reactFiber$"+Zn,Ct="__reactProps$"+Zn,ms="__reactContainer$"+Zn,dc="__reactEvents$"+Zn,p1="__reactListeners$"+Zn,g1="__reactHandles$"+Zn,xh="__reactResources$"+Zn,ya="__reactMarker$"+Zn;function fc(e){delete e[vt],delete e[Ct],delete e[dc],delete e[p1],delete e[g1]}function ps(e){var t=e[vt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[ms]||s[vt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=qg(e);e!==null;){if(s=e[vt])return s;e=qg(e)}return t}e=s,s=e.parentNode}return null}function gs(e){if(e=e[vt]||e[ms]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function _a(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function vs(e){var t=e[xh];return t||(t=e[xh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ut(e){e[ya]=!0}var bh=new Set,Sh={};function zi(e,t){ys(e,t),ys(e+"Capture",t)}function ys(e,t){for(Sh[e]=t,e=0;e<t.length;e++)bh.add(t[e])}var v1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wh={},Eh={};function y1(e){return ac.call(Eh,e)?!0:ac.call(wh,e)?!1:v1.test(e)?Eh[e]=!0:(wh[e]=!0,!1)}function Fl(e,t,s){if(y1(t))if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+s)}}function Xl(e,t,s){if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+s)}}function Nn(e,t,s,r){if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(t,s,""+r)}}function $t(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _1(e,t,s){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,d=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(p){s=""+p,d.call(this,p)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hc(e){if(!e._valueTracker){var t=Nh(e)?"checked":"value";e._valueTracker=_1(e,t,""+e[t])}}function Ch(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=Nh(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function Pl(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}var x1=/[\n"\\]/g;function Kt(e){return e.replace(x1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function mc(e,t,s,r,c,d,p,y){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+$t(t)):e.value!==""+$t(t)&&(e.value=""+$t(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?pc(e,p,$t(t)):s!=null?pc(e,p,$t(s)):r!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+$t(y):e.removeAttribute("name")}function Th(e,t,s,r,c,d,p,y){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){hc(e);return}s=s!=null?""+$t(s):"",t=t!=null?""+$t(t):s,y||t===e.value||(e.value=t),e.defaultValue=t}r=r!=null?r:c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=y?e.checked:!!r,e.defaultChecked=!!r,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),hc(e)}function pc(e,t,s){t==="number"&&Pl(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function _s(e,t,s,r){if(e=e.options,t){t={};for(var c=0;c<s.length;c++)t["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=t.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&r&&(e[s].defaultSelected=!0)}else{for(s=""+$t(s),t=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Ah(e,t,s){if(t!=null&&(t=""+$t(t),t!==e.value&&(e.value=t),s==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=s!=null?""+$t(s):""}function jh(e,t,s,r){if(t==null){if(r!=null){if(s!=null)throw Error(l(92));if(ke(r)){if(1<r.length)throw Error(l(93));r=r[0]}s=r}s==null&&(s=""),t=s}s=$t(t),e.defaultValue=s,r=e.textContent,r===s&&r!==""&&r!==null&&(e.value=r),hc(e)}function xs(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var b1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dh(e,t,s){var r=t.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,s):typeof s!="number"||s===0||b1.has(t)?t==="float"?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function Mh(e,t,s){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,s!=null){for(var r in s)!s.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in t)r=t[c],t.hasOwnProperty(c)&&s[c]!==r&&Dh(e,c,r)}else for(var d in t)t.hasOwnProperty(d)&&Dh(e,d,t[d])}function gc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var S1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),w1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $l(e){return w1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Cn(){}var vc=null;function yc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bs=null,Ss=null;function Rh(e){var t=gs(e);if(t&&(e=t.stateNode)){var s=e[Ct]||null;e:switch(e=t.stateNode,t.type){case"input":if(mc(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Kt(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var c=r[Ct]||null;if(!c)throw Error(l(90));mc(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<s.length;t++)r=s[t],r.form===e.form&&Ch(r)}break e;case"textarea":Ah(e,s.value,s.defaultValue);break e;case"select":t=s.value,t!=null&&_s(e,!!s.multiple,t,!1)}}}var _c=!1;function Oh(e,t,s){if(_c)return e(t,s);_c=!0;try{var r=e(t);return r}finally{if(_c=!1,(bs!==null||Ss!==null)&&(Ir(),bs&&(t=bs,e=Ss,Ss=bs=null,Rh(t),e)))for(t=0;t<e.length;t++)Rh(e[t])}}function xa(e,t){var s=e.stateNode;if(s===null)return null;var r=s[Ct]||null;if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(l(231,t,typeof s));return s}var Tn=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),xc=!1;if(Tn)try{var ba={};Object.defineProperty(ba,"passive",{get:function(){xc=!0}}),window.addEventListener("test",ba,ba),window.removeEventListener("test",ba,ba)}catch(e){xc=!1}var Jn=null,bc=null,Kl=null;function zh(){if(Kl)return Kl;var e,t=bc,s=t.length,r,c="value"in Jn?Jn.value:Jn.textContent,d=c.length;for(e=0;e<s&&t[e]===c[e];e++);var p=s-e;for(r=1;r<=p&&t[s-r]===c[d-r];r++);return Kl=c.slice(e,1<r?1-r:void 0)}function Zl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Jl(){return!0}function kh(){return!1}function Tt(e){function t(s,r,c,d,p){this._reactName=s,this._targetInst=c,this.type=r,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(s=e[y],this[y]=s?s(d):d[y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Jl:kh,this.isPropagationStopped=kh,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Jl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Jl)},persist:function(){},isPersistent:Jl}),t}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wl=Tt(ki),Sa=x({},ki,{view:0,detail:0}),E1=Tt(Sa),Sc,wc,wa,er=x({},Sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wa&&(wa&&e.type==="mousemove"?(Sc=e.screenX-wa.screenX,wc=e.screenY-wa.screenY):wc=Sc=0,wa=e),Sc)},movementY:function(e){return"movementY"in e?e.movementY:wc}}),Ih=Tt(er),N1=x({},er,{dataTransfer:0}),C1=Tt(N1),T1=x({},Sa,{relatedTarget:0}),Ec=Tt(T1),A1=x({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),j1=Tt(A1),D1=x({},ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),M1=Tt(D1),R1=x({},ki,{data:0}),Lh=Tt(R1),O1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=k1[e])?!!t[e]:!1}function Nc(){return I1}var L1=x({},Sa,{key:function(e){if(e.key){var t=O1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?z1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nc,charCode:function(e){return e.type==="keypress"?Zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),U1=Tt(L1),B1=x({},er,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uh=Tt(B1),H1=x({},Sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nc}),q1=Tt(H1),V1=x({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),G1=Tt(V1),Y1=x({},er,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Q1=Tt(Y1),F1=x({},ki,{newState:0,oldState:0}),X1=Tt(F1),P1=[9,13,27,32],Cc=Tn&&"CompositionEvent"in window,Ea=null;Tn&&"documentMode"in document&&(Ea=document.documentMode);var $1=Tn&&"TextEvent"in window&&!Ea,Bh=Tn&&(!Cc||Ea&&8<Ea&&11>=Ea),Hh=" ",qh=!1;function Vh(e,t){switch(e){case"keyup":return P1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ws=!1;function K1(e,t){switch(e){case"compositionend":return Gh(t);case"keypress":return t.which!==32?null:(qh=!0,Hh);case"textInput":return e=t.data,e===Hh&&qh?null:e;default:return null}}function Z1(e,t){if(ws)return e==="compositionend"||!Cc&&Vh(e,t)?(e=zh(),Kl=bc=Jn=null,ws=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bh&&t.locale!=="ko"?null:t.data;default:return null}}var J1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!J1[e.type]:t==="textarea"}function Qh(e,t,s,r){bs?Ss?Ss.push(r):Ss=[r]:bs=r,t=Gr(t,"onChange"),0<t.length&&(s=new Wl("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var Na=null,Ca=null;function W1(e){Tg(e,0)}function tr(e){var t=_a(e);if(Ch(t))return e}function Fh(e,t){if(e==="change")return t}var Xh=!1;if(Tn){var Tc;if(Tn){var Ac="oninput"in document;if(!Ac){var Ph=document.createElement("div");Ph.setAttribute("oninput","return;"),Ac=typeof Ph.oninput=="function"}Tc=Ac}else Tc=!1;Xh=Tc&&(!document.documentMode||9<document.documentMode)}function $h(){Na&&(Na.detachEvent("onpropertychange",Kh),Ca=Na=null)}function Kh(e){if(e.propertyName==="value"&&tr(Ca)){var t=[];Qh(t,Ca,e,yc(e)),Oh(W1,t)}}function ex(e,t,s){e==="focusin"?($h(),Na=t,Ca=s,Na.attachEvent("onpropertychange",Kh)):e==="focusout"&&$h()}function tx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tr(Ca)}function nx(e,t){if(e==="click")return tr(t)}function ix(e,t){if(e==="input"||e==="change")return tr(t)}function sx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ht=typeof Object.is=="function"?Object.is:sx;function Ta(e,t){if(Ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var c=s[r];if(!ac.call(t,c)||!Ht(e[c],t[c]))return!1}return!0}function Zh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jh(e,t){var s=Zh(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Zh(s)}}function Wh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function em(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Pl(e.document);t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch(r){s=!1}if(s)e=t.contentWindow;else break;t=Pl(e.document)}return t}function jc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ax=Tn&&"documentMode"in document&&11>=document.documentMode,Es=null,Dc=null,Aa=null,Mc=!1;function tm(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Mc||Es==null||Es!==Pl(r)||(r=Es,"selectionStart"in r&&jc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Aa&&Ta(Aa,r)||(Aa=r,r=Gr(Dc,"onSelect"),0<r.length&&(t=new Wl("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=Es)))}function Ii(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Ns={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionrun:Ii("Transition","TransitionRun"),transitionstart:Ii("Transition","TransitionStart"),transitioncancel:Ii("Transition","TransitionCancel"),transitionend:Ii("Transition","TransitionEnd")},Rc={},nm={};Tn&&(nm=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function Li(e){if(Rc[e])return Rc[e];if(!Ns[e])return e;var t=Ns[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in nm)return Rc[e]=t[s];return e}var im=Li("animationend"),sm=Li("animationiteration"),am=Li("animationstart"),lx=Li("transitionrun"),rx=Li("transitionstart"),ox=Li("transitioncancel"),lm=Li("transitionend"),rm=new Map,Oc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oc.push("scrollEnd");function on(e,t){rm.set(e,t),zi(t,[e])}var nr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Zt=[],Cs=0,zc=0;function ir(){for(var e=Cs,t=zc=Cs=0;t<e;){var s=Zt[t];Zt[t++]=null;var r=Zt[t];Zt[t++]=null;var c=Zt[t];Zt[t++]=null;var d=Zt[t];if(Zt[t++]=null,r!==null&&c!==null){var p=r.pending;p===null?c.next=c:(c.next=p.next,p.next=c),r.pending=c}d!==0&&om(s,c,d)}}function sr(e,t,s,r){Zt[Cs++]=e,Zt[Cs++]=t,Zt[Cs++]=s,Zt[Cs++]=r,zc|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function kc(e,t,s,r){return sr(e,t,s,r),ar(e)}function Ui(e,t){return sr(e,null,null,t),ar(e)}function om(e,t,s){e.lanes|=s;var r=e.alternate;r!==null&&(r.lanes|=s);for(var c=!1,d=e.return;d!==null;)d.childLanes|=s,r=d.alternate,r!==null&&(r.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,c&&t!==null&&(c=31-Bt(s),e=d.hiddenUpdates,r=e[c],r===null?e[c]=[t]:r.push(t),t.lane=s|536870912),d):null}function ar(e){if(50<Ka)throw Ka=0,Yu=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ts={};function cx(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,t,s,r){return new cx(e,t,s,r)}function Ic(e){return e=e.prototype,!(!e||!e.isReactComponent)}function An(e,t){var s=e.alternate;return s===null?(s=qt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function cm(e,t){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function lr(e,t,s,r,c,d){var p=0;if(r=e,typeof e=="function")Ic(e)&&(p=1);else if(typeof e=="string")p=mb(e,s,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case qe:return e=qt(31,s,t,c),e.elementType=qe,e.lanes=d,e;case z:return Bi(s.children,c,d,t);case U:p=8,c|=24;break;case Y:return e=qt(12,s,t,c|2),e.elementType=Y,e.lanes=d,e;case ue:return e=qt(13,s,t,c),e.elementType=ue,e.lanes=d,e;case te:return e=qt(19,s,t,c),e.elementType=te,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:p=10;break e;case $:p=9;break e;case oe:p=11;break e;case X:p=14;break e;case de:p=16,r=null;break e}p=29,s=Error(l(130,e===null?"null":typeof e,"")),r=null}return t=qt(p,s,t,c),t.elementType=e,t.type=r,t.lanes=d,t}function Bi(e,t,s,r){return e=qt(7,e,r,t),e.lanes=s,e}function Lc(e,t,s){return e=qt(6,e,null,t),e.lanes=s,e}function um(e){var t=qt(18,null,null,0);return t.stateNode=e,t}function Uc(e,t,s){return t=qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var dm=new WeakMap;function Jt(e,t){if(typeof e=="object"&&e!==null){var s=dm.get(e);return s!==void 0?s:(t={value:e,source:t,stack:uh(t)},dm.set(e,t),t)}return{value:e,source:t,stack:uh(t)}}var As=[],js=0,rr=null,ja=0,Wt=[],en=0,Wn=null,vn=1,yn="";function jn(e,t){As[js++]=ja,As[js++]=rr,rr=e,ja=t}function fm(e,t,s){Wt[en++]=vn,Wt[en++]=yn,Wt[en++]=Wn,Wn=e;var r=vn;e=yn;var c=32-Bt(r)-1;r&=~(1<<c),s+=1;var d=32-Bt(t)+c;if(30<d){var p=c-c%5;d=(r&(1<<p)-1).toString(32),r>>=p,c-=p,vn=1<<32-Bt(t)+c|s<<c|r,yn=d+e}else vn=1<<d|s<<c|r,yn=e}function Bc(e){e.return!==null&&(jn(e,1),fm(e,1,0))}function Hc(e){for(;e===rr;)rr=As[--js],As[js]=null,ja=As[--js],As[js]=null;for(;e===Wn;)Wn=Wt[--en],Wt[en]=null,yn=Wt[--en],Wt[en]=null,vn=Wt[--en],Wt[en]=null}function hm(e,t){Wt[en++]=vn,Wt[en++]=yn,Wt[en++]=Wn,vn=t.id,yn=t.overflow,Wn=e}var yt=null,Ye=null,Ee=!1,ei=null,tn=!1,qc=Error(l(519));function ti(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Da(Jt(t,e)),qc}function mm(e){var t=e.stateNode,s=e.type,r=e.memoizedProps;switch(t[vt]=e,t[Ct]=r,s){case"dialog":_e("cancel",t),_e("close",t);break;case"iframe":case"object":case"embed":_e("load",t);break;case"video":case"audio":for(s=0;s<Ja.length;s++)_e(Ja[s],t);break;case"source":_e("error",t);break;case"img":case"image":case"link":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"input":_e("invalid",t),Th(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":_e("invalid",t);break;case"textarea":_e("invalid",t),jh(t,r.value,r.defaultValue,r.children)}s=r.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||t.textContent===""+s||r.suppressHydrationWarning===!0||Mg(t.textContent,s)?(r.popover!=null&&(_e("beforetoggle",t),_e("toggle",t)),r.onScroll!=null&&_e("scroll",t),r.onScrollEnd!=null&&_e("scrollend",t),r.onClick!=null&&(t.onclick=Cn),t=!0):t=!1,t||ti(e,!0)}function pm(e){for(yt=e.return;yt;)switch(yt.tag){case 5:case 31:case 13:tn=!1;return;case 27:case 3:tn=!0;return;default:yt=yt.return}}function Ds(e){if(e!==yt)return!1;if(!Ee)return pm(e),Ee=!0,!1;var t=e.tag,s;if((s=t!==3&&t!==27)&&((s=t===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||ad(e.type,e.memoizedProps)),s=!s),s&&Ye&&ti(e),pm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ye=Hg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ye=Hg(e)}else t===27?(t=Ye,pi(e.type)?(e=ud,ud=null,Ye=e):Ye=t):Ye=yt?sn(e.stateNode.nextSibling):null;return!0}function Hi(){Ye=yt=null,Ee=!1}function Vc(){var e=ei;return e!==null&&(Mt===null?Mt=e:Mt.push.apply(Mt,e),ei=null),e}function Da(e){ei===null?ei=[e]:ei.push(e)}var Gc=S(null),qi=null,Dn=null;function ni(e,t,s){q(Gc,t._currentValue),t._currentValue=s}function Mn(e){e._currentValue=Gc.current,M(Gc)}function Yc(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function Qc(e,t,s,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var p=c.child;d=d.firstContext;e:for(;d!==null;){var y=d;d=c;for(var w=0;w<t.length;w++)if(y.context===t[w]){d.lanes|=s,y=d.alternate,y!==null&&(y.lanes|=s),Yc(d.return,s,e),r||(p=null);break e}d=y.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(l(341));p.lanes|=s,d=p.alternate,d!==null&&(d.lanes|=s),Yc(p,s,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function Ms(e,t,s,r){e=null;for(var c=t,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(l(387));if(p=p.memoizedProps,p!==null){var y=c.type;Ht(c.pendingProps.value,p.value)||(e!==null?e.push(y):e=[y])}}else if(c===ce.current){if(p=c.alternate,p===null)throw Error(l(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(il):e=[il])}c=c.return}e!==null&&Qc(t,e,s,r),t.flags|=262144}function or(e){for(e=e.firstContext;e!==null;){if(!Ht(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vi(e){qi=e,Dn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function _t(e){return gm(qi,e)}function cr(e,t){return qi===null&&Vi(e),gm(e,t)}function gm(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},Dn===null){if(e===null)throw Error(l(308));Dn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Dn=Dn.next=t;return s}var ux=typeof AbortController!="undefined"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(s,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(s){return s()})}},dx=i.unstable_scheduleCallback,fx=i.unstable_NormalPriority,nt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fc(){return{controller:new ux,data:new Map,refCount:0}}function Ma(e){e.refCount--,e.refCount===0&&dx(fx,function(){e.controller.abort()})}var Ra=null,Xc=0,Rs=0,Os=null;function hx(e,t){if(Ra===null){var s=Ra=[];Xc=0,Rs=Ku(),Os={status:"pending",value:void 0,then:function(r){s.push(r)}}}return Xc++,t.then(vm,vm),t}function vm(){if(--Xc===0&&Ra!==null){Os!==null&&(Os.status="fulfilled");var e=Ra;Ra=null,Rs=0,Os=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function mx(e,t){var s=[],r={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var c=0;c<s.length;c++)(0,s[c])(t)},function(c){for(r.status="rejected",r.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),r}var ym=O.S;O.S=function(e,t){tg=Lt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&hx(e,t),ym!==null&&ym(e,t)};var Gi=S(null);function Pc(){var e=Gi.current;return e!==null?e:Be.pooledCache}function ur(e,t){t===null?q(Gi,Gi.current):q(Gi,t.pool)}function _m(){var e=Pc();return e===null?null:{parent:nt._currentValue,pool:e}}var zs=Error(l(460)),$c=Error(l(474)),dr=Error(l(542)),fr={then:function(){}};function xm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bm(e,t,s){switch(s=e[s],s===void 0?e.push(t):s!==t&&(t.then(Cn,Cn),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wm(e),e;default:if(typeof t.status=="string")t.then(Cn,Cn);else{if(e=Be,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=r}},function(r){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wm(e),e}throw Qi=t,zs}}function Yi(e){try{var t=e._init;return t(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Qi=s,zs):s}}var Qi=null;function Sm(){if(Qi===null)throw Error(l(459));var e=Qi;return Qi=null,e}function wm(e){if(e===zs||e===dr)throw Error(l(483))}var ks=null,Oa=0;function hr(e){var t=Oa;return Oa+=1,ks===null&&(ks=[]),bm(ks,e,t)}function za(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function mr(e,t){throw t.$$typeof===_?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Em(e){function t(T,E){if(e){var A=T.deletions;A===null?(T.deletions=[E],T.flags|=16):A.push(E)}}function s(T,E){if(!e)return null;for(;E!==null;)t(T,E),E=E.sibling;return null}function r(T){for(var E=new Map;T!==null;)T.key!==null?E.set(T.key,T):E.set(T.index,T),T=T.sibling;return E}function c(T,E){return T=An(T,E),T.index=0,T.sibling=null,T}function d(T,E,A){return T.index=A,e?(A=T.alternate,A!==null?(A=A.index,A<E?(T.flags|=67108866,E):A):(T.flags|=67108866,E)):(T.flags|=1048576,E)}function p(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function y(T,E,A,I){return E===null||E.tag!==6?(E=Lc(A,T.mode,I),E.return=T,E):(E=c(E,A),E.return=T,E)}function w(T,E,A,I){var ne=A.type;return ne===z?k(T,E,A.props.children,I,A.key):E!==null&&(E.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===de&&Yi(ne)===E.type)?(E=c(E,A.props),za(E,A),E.return=T,E):(E=lr(A.type,A.key,A.props,null,T.mode,I),za(E,A),E.return=T,E)}function j(T,E,A,I){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=Uc(A,T.mode,I),E.return=T,E):(E=c(E,A.children||[]),E.return=T,E)}function k(T,E,A,I,ne){return E===null||E.tag!==7?(E=Bi(A,T.mode,I,ne),E.return=T,E):(E=c(E,A),E.return=T,E)}function L(T,E,A){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Lc(""+E,T.mode,A),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case N:return A=lr(E.type,E.key,E.props,null,T.mode,A),za(A,E),A.return=T,A;case C:return E=Uc(E,T.mode,A),E.return=T,E;case de:return E=Yi(E),L(T,E,A)}if(ke(E)||be(E))return E=Bi(E,T.mode,A,null),E.return=T,E;if(typeof E.then=="function")return L(T,hr(E),A);if(E.$$typeof===F)return L(T,cr(T,E),A);mr(T,E)}return null}function D(T,E,A,I){var ne=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return ne!==null?null:y(T,E,""+A,I);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case N:return A.key===ne?w(T,E,A,I):null;case C:return A.key===ne?j(T,E,A,I):null;case de:return A=Yi(A),D(T,E,A,I)}if(ke(A)||be(A))return ne!==null?null:k(T,E,A,I,null);if(typeof A.then=="function")return D(T,E,hr(A),I);if(A.$$typeof===F)return D(T,E,cr(T,A),I);mr(T,A)}return null}function R(T,E,A,I,ne){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return T=T.get(A)||null,y(E,T,""+I,ne);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case N:return T=T.get(I.key===null?A:I.key)||null,w(E,T,I,ne);case C:return T=T.get(I.key===null?A:I.key)||null,j(E,T,I,ne);case de:return I=Yi(I),R(T,E,A,I,ne)}if(ke(I)||be(I))return T=T.get(A)||null,k(E,T,I,ne,null);if(typeof I.then=="function")return R(T,E,A,hr(I),ne);if(I.$$typeof===F)return R(T,E,A,cr(E,I),ne);mr(E,I)}return null}function K(T,E,A,I){for(var ne=null,Ce=null,W=E,me=E=0,we=null;W!==null&&me<A.length;me++){W.index>me?(we=W,W=null):we=W.sibling;var Te=D(T,W,A[me],I);if(Te===null){W===null&&(W=we);break}e&&W&&Te.alternate===null&&t(T,W),E=d(Te,E,me),Ce===null?ne=Te:Ce.sibling=Te,Ce=Te,W=we}if(me===A.length)return s(T,W),Ee&&jn(T,me),ne;if(W===null){for(;me<A.length;me++)W=L(T,A[me],I),W!==null&&(E=d(W,E,me),Ce===null?ne=W:Ce.sibling=W,Ce=W);return Ee&&jn(T,me),ne}for(W=r(W);me<A.length;me++)we=R(W,T,me,A[me],I),we!==null&&(e&&we.alternate!==null&&W.delete(we.key===null?me:we.key),E=d(we,E,me),Ce===null?ne=we:Ce.sibling=we,Ce=we);return e&&W.forEach(function(xi){return t(T,xi)}),Ee&&jn(T,me),ne}function se(T,E,A,I){if(A==null)throw Error(l(151));for(var ne=null,Ce=null,W=E,me=E=0,we=null,Te=A.next();W!==null&&!Te.done;me++,Te=A.next()){W.index>me?(we=W,W=null):we=W.sibling;var xi=D(T,W,Te.value,I);if(xi===null){W===null&&(W=we);break}e&&W&&xi.alternate===null&&t(T,W),E=d(xi,E,me),Ce===null?ne=xi:Ce.sibling=xi,Ce=xi,W=we}if(Te.done)return s(T,W),Ee&&jn(T,me),ne;if(W===null){for(;!Te.done;me++,Te=A.next())Te=L(T,Te.value,I),Te!==null&&(E=d(Te,E,me),Ce===null?ne=Te:Ce.sibling=Te,Ce=Te);return Ee&&jn(T,me),ne}for(W=r(W);!Te.done;me++,Te=A.next())Te=R(W,T,me,Te.value,I),Te!==null&&(e&&Te.alternate!==null&&W.delete(Te.key===null?me:Te.key),E=d(Te,E,me),Ce===null?ne=Te:Ce.sibling=Te,Ce=Te);return e&&W.forEach(function(Nb){return t(T,Nb)}),Ee&&jn(T,me),ne}function Ue(T,E,A,I){if(typeof A=="object"&&A!==null&&A.type===z&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case N:e:{for(var ne=A.key;E!==null;){if(E.key===ne){if(ne=A.type,ne===z){if(E.tag===7){s(T,E.sibling),I=c(E,A.props.children),I.return=T,T=I;break e}}else if(E.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===de&&Yi(ne)===E.type){s(T,E.sibling),I=c(E,A.props),za(I,A),I.return=T,T=I;break e}s(T,E);break}else t(T,E);E=E.sibling}A.type===z?(I=Bi(A.props.children,T.mode,I,A.key),I.return=T,T=I):(I=lr(A.type,A.key,A.props,null,T.mode,I),za(I,A),I.return=T,T=I)}return p(T);case C:e:{for(ne=A.key;E!==null;){if(E.key===ne)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){s(T,E.sibling),I=c(E,A.children||[]),I.return=T,T=I;break e}else{s(T,E);break}else t(T,E);E=E.sibling}I=Uc(A,T.mode,I),I.return=T,T=I}return p(T);case de:return A=Yi(A),Ue(T,E,A,I)}if(ke(A))return K(T,E,A,I);if(be(A)){if(ne=be(A),typeof ne!="function")throw Error(l(150));return A=ne.call(A),se(T,E,A,I)}if(typeof A.then=="function")return Ue(T,E,hr(A),I);if(A.$$typeof===F)return Ue(T,E,cr(T,A),I);mr(T,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,E!==null&&E.tag===6?(s(T,E.sibling),I=c(E,A),I.return=T,T=I):(s(T,E),I=Lc(A,T.mode,I),I.return=T,T=I),p(T)):s(T,E)}return function(T,E,A,I){try{Oa=0;var ne=Ue(T,E,A,I);return ks=null,ne}catch(W){if(W===zs||W===dr)throw W;var Ce=qt(29,W,null,T.mode);return Ce.lanes=I,Ce.return=T,Ce}finally{}}}var Fi=Em(!0),Nm=Em(!1),ii=!1;function Kc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function si(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ai(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ae&2)!==0){var c=r.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),r.pending=t,t=ar(e),om(e,null,s),t}return sr(e,r,t,s),ar(e)}function ka(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,gh(e,s)}}function Jc(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var c=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?c=d=p:d=d.next=p,s=s.next}while(s!==null);d===null?c=d=t:d=d.next=t}else c=d=t;s={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:r.shared,callbacks:r.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var Wc=!1;function Ia(){if(Wc){var e=Os;if(e!==null)throw e}}function La(e,t,s,r){Wc=!1;var c=e.updateQueue;ii=!1;var d=c.firstBaseUpdate,p=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var w=y,j=w.next;w.next=null,p===null?d=j:p.next=j,p=w;var k=e.alternate;k!==null&&(k=k.updateQueue,y=k.lastBaseUpdate,y!==p&&(y===null?k.firstBaseUpdate=j:y.next=j,k.lastBaseUpdate=w))}if(d!==null){var L=c.baseState;p=0,k=j=w=null,y=d;do{var D=y.lane&-536870913,R=D!==y.lane;if(R?(Se&D)===D:(r&D)===D){D!==0&&D===Rs&&(Wc=!0),k!==null&&(k=k.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var K=e,se=y;D=t;var Ue=s;switch(se.tag){case 1:if(K=se.payload,typeof K=="function"){L=K.call(Ue,L,D);break e}L=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=se.payload,D=typeof K=="function"?K.call(Ue,L,D):K,D==null)break e;L=x({},L,D);break e;case 2:ii=!0}}D=y.callback,D!==null&&(e.flags|=64,R&&(e.flags|=8192),R=c.callbacks,R===null?c.callbacks=[D]:R.push(D))}else R={lane:D,tag:y.tag,payload:y.payload,callback:y.callback,next:null},k===null?(j=k=R,w=L):k=k.next=R,p|=D;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;R=y,y=R.next,R.next=null,c.lastBaseUpdate=R,c.shared.pending=null}}while(!0);k===null&&(w=L),c.baseState=w,c.firstBaseUpdate=j,c.lastBaseUpdate=k,d===null&&(c.shared.lanes=0),ui|=p,e.lanes=p,e.memoizedState=L}}function Cm(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Tm(e,t){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Cm(s[e],t)}var Is=S(null),pr=S(0);function Am(e,t){e=Hn,q(pr,e),q(Is,t),Hn=e|t.baseLanes}function eu(){q(pr,Hn),q(Is,Is.current)}function tu(){Hn=pr.current,M(Is),M(pr)}var Vt=S(null),nn=null;function li(e){var t=e.alternate;q(et,et.current&1),q(Vt,e),nn===null&&(t===null||Is.current!==null||t.memoizedState!==null)&&(nn=e)}function nu(e){q(et,et.current),q(Vt,e),nn===null&&(nn=e)}function jm(e){e.tag===22?(q(et,et.current),q(Vt,e),nn===null&&(nn=e)):ri()}function ri(){q(et,et.current),q(Vt,Vt.current)}function Gt(e){M(Vt),nn===e&&(nn=null),M(et)}var et=S(0);function gr(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||od(s)||cd(s)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Rn=0,he=null,Ie=null,it=null,vr=!1,Ls=!1,Xi=!1,yr=0,Ua=0,Us=null,px=0;function Ze(){throw Error(l(321))}function iu(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Ht(e[s],t[s]))return!1;return!0}function su(e,t,s,r,c,d){return Rn=d,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?fp:_u,Xi=!1,d=s(r,c),Xi=!1,Ls&&(d=Mm(t,s,r,c)),Dm(e),d}function Dm(e){O.H=qa;var t=Ie!==null&&Ie.next!==null;if(Rn=0,it=Ie=he=null,vr=!1,Ua=0,Us=null,t)throw Error(l(300));e===null||st||(e=e.dependencies,e!==null&&or(e)&&(st=!0))}function Mm(e,t,s,r){he=e;var c=0;do{if(Ls&&(Us=null),Ua=0,Ls=!1,25<=c)throw Error(l(301));if(c+=1,it=Ie=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}O.H=hp,d=t(s,r)}while(Ls);return d}function gx(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?Ba(t):t,e=e.useState()[0],(Ie!==null?Ie.memoizedState:null)!==e&&(he.flags|=1024),t}function au(){var e=yr!==0;return yr=0,e}function lu(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function ru(e){if(vr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}vr=!1}Rn=0,it=Ie=he=null,Ls=!1,Ua=yr=0,Us=null}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?he.memoizedState=it=e:it=it.next=e,it}function tt(){if(Ie===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=it===null?he.memoizedState:it.next;if(t!==null)it=t,Ie=e;else{if(e===null)throw he.alternate===null?Error(l(467)):Error(l(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},it===null?he.memoizedState=it=e:it=it.next=e}return it}function _r(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ba(e){var t=Ua;return Ua+=1,Us===null&&(Us=[]),e=bm(Us,e,t),t=he,(it===null?t.memoizedState:it.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?fp:_u),e}function xr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ba(e);if(e.$$typeof===F)return _t(e)}throw Error(l(438,String(e)))}function ou(e){var t=null,s=he.updateQueue;if(s!==null&&(t=s.memoCache),t==null){var r=he.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),s===null&&(s=_r(),he.updateQueue=s),s.memoCache=t,s=t.data[t.index],s===void 0)for(s=t.data[t.index]=Array(e),r=0;r<e;r++)s[r]=Xe;return t.index++,s}function On(e,t){return typeof t=="function"?t(e):t}function br(e){var t=tt();return cu(t,Ie,e)}function cu(e,t,s){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=s;var c=e.baseQueue,d=r.pending;if(d!==null){if(c!==null){var p=c.next;c.next=d.next,d.next=p}t.baseQueue=c=d,r.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{t=c.next;var y=p=null,w=null,j=t,k=!1;do{var L=j.lane&-536870913;if(L!==j.lane?(Se&L)===L:(Rn&L)===L){var D=j.revertLane;if(D===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),L===Rs&&(k=!0);else if((Rn&D)===D){j=j.next,D===Rs&&(k=!0);continue}else L={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},w===null?(y=w=L,p=d):w=w.next=L,he.lanes|=D,ui|=D;L=j.action,Xi&&s(d,L),d=j.hasEagerState?j.eagerState:s(d,L)}else D={lane:L,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},w===null?(y=w=D,p=d):w=w.next=D,he.lanes|=L,ui|=L;j=j.next}while(j!==null&&j!==t);if(w===null?p=d:w.next=y,!Ht(d,e.memoizedState)&&(st=!0,k&&(s=Os,s!==null)))throw s;e.memoizedState=d,e.baseState=p,e.baseQueue=w,r.lastRenderedState=d}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function uu(e){var t=tt(),s=t.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=e;var r=s.dispatch,c=s.pending,d=t.memoizedState;if(c!==null){s.pending=null;var p=c=c.next;do d=e(d,p.action),p=p.next;while(p!==c);Ht(d,t.memoizedState)||(st=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),s.lastRenderedState=d}return[d,r]}function Rm(e,t,s){var r=he,c=tt(),d=Ee;if(d){if(s===void 0)throw Error(l(407));s=s()}else s=t();var p=!Ht((Ie||c).memoizedState,s);if(p&&(c.memoizedState=s,st=!0),c=c.queue,hu(km.bind(null,r,c,e),[e]),c.getSnapshot!==t||p||it!==null&&it.memoizedState.tag&1){if(r.flags|=2048,Bs(9,{destroy:void 0},zm.bind(null,r,c,s,t),null),Be===null)throw Error(l(349));d||(Rn&127)!==0||Om(r,t,s)}return s}function Om(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=he.updateQueue,t===null?(t=_r(),he.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function zm(e,t,s,r){t.value=s,t.getSnapshot=r,Im(t)&&Lm(e)}function km(e,t,s){return s(function(){Im(t)&&Lm(e)})}function Im(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Ht(e,s)}catch(r){return!0}}function Lm(e){var t=Ui(e,2);t!==null&&Rt(t,e,2)}function du(e){var t=Et();if(typeof e=="function"){var s=e;if(e=s(),Xi){Kn(!0);try{s()}finally{Kn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:e},t}function Um(e,t,s,r){return e.baseState=s,cu(e,Ie,typeof r=="function"?r:On)}function vx(e,t,s,r,c){if(Er(e))throw Error(l(485));if(e=t.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){d.listeners.push(p)}};O.T!==null?s(!0):d.isTransition=!1,r(d),s=t.pending,s===null?(d.next=t.pending=d,Bm(t,d)):(d.next=s.next,t.pending=s.next=d)}}function Bm(e,t){var s=t.action,r=t.payload,c=e.state;if(t.isTransition){var d=O.T,p={};O.T=p;try{var y=s(c,r),w=O.S;w!==null&&w(p,y),Hm(e,t,y)}catch(j){fu(e,t,j)}finally{d!==null&&p.types!==null&&(d.types=p.types),O.T=d}}else try{d=s(c,r),Hm(e,t,d)}catch(j){fu(e,t,j)}}function Hm(e,t,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(r){qm(e,t,r)},function(r){return fu(e,t,r)}):qm(e,t,s)}function qm(e,t,s){t.status="fulfilled",t.value=s,Vm(t),e.state=s,t=e.pending,t!==null&&(s=t.next,s===t?e.pending=null:(s=s.next,t.next=s,Bm(e,s)))}function fu(e,t,s){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=s,Vm(t),t=t.next;while(t!==r)}e.action=null}function Vm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Gm(e,t){return t}function Ym(e,t){if(Ee){var s=Be.formState;if(s!==null){e:{var r=he;if(Ee){if(Ye){t:{for(var c=Ye,d=tn;c.nodeType!==8;){if(!d){c=null;break t}if(c=sn(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Ye=sn(c.nextSibling),r=c.data==="F!";break e}}ti(r)}r=!1}r&&(t=s[0])}}return s=Et(),s.memoizedState=s.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gm,lastRenderedState:t},s.queue=r,s=cp.bind(null,he,r),r.dispatch=s,r=du(!1),d=yu.bind(null,he,!1,r.queue),r=Et(),c={state:t,dispatch:null,action:e,pending:null},r.queue=c,s=vx.bind(null,he,c,d,s),c.dispatch=s,r.memoizedState=e,[t,s,!1]}function Qm(e){var t=tt();return Fm(t,Ie,e)}function Fm(e,t,s){if(t=cu(e,t,Gm)[0],e=br(On)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Ba(t)}catch(p){throw p===zs?dr:p}else r=t;t=tt();var c=t.queue,d=c.dispatch;return s!==t.memoizedState&&(he.flags|=2048,Bs(9,{destroy:void 0},yx.bind(null,c,s),null)),[r,d,e]}function yx(e,t){e.action=t}function Xm(e){var t=tt(),s=Ie;if(s!==null)return Fm(t,s,e);tt(),t=t.memoizedState,s=tt();var r=s.queue.dispatch;return s.memoizedState=e,[t,r,!1]}function Bs(e,t,s,r){return e={tag:e,create:s,deps:r,inst:t,next:null},t=he.updateQueue,t===null&&(t=_r(),he.updateQueue=t),s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e),e}function Pm(){return tt().memoizedState}function Sr(e,t,s,r){var c=Et();he.flags|=e,c.memoizedState=Bs(1|t,{destroy:void 0},s,r===void 0?null:r)}function wr(e,t,s,r){var c=tt();r=r===void 0?null:r;var d=c.memoizedState.inst;Ie!==null&&r!==null&&iu(r,Ie.memoizedState.deps)?c.memoizedState=Bs(t,d,s,r):(he.flags|=e,c.memoizedState=Bs(1|t,d,s,r))}function $m(e,t){Sr(8390656,8,e,t)}function hu(e,t){wr(2048,8,e,t)}function _x(e){he.flags|=4;var t=he.updateQueue;if(t===null)t=_r(),he.updateQueue=t,t.events=[e];else{var s=t.events;s===null?t.events=[e]:s.push(e)}}function Km(e){var t=tt().memoizedState;return _x({ref:t,nextImpl:e}),function(){if((Ae&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Zm(e,t){return wr(4,2,e,t)}function Jm(e,t){return wr(4,4,e,t)}function Wm(e,t){if(typeof t=="function"){e=e();var s=t(e);return function(){typeof s=="function"?s():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ep(e,t,s){s=s!=null?s.concat([e]):null,wr(4,4,Wm.bind(null,t,e),s)}function mu(){}function tp(e,t){var s=tt();t=t===void 0?null:t;var r=s.memoizedState;return t!==null&&iu(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function np(e,t){var s=tt();t=t===void 0?null:t;var r=s.memoizedState;if(t!==null&&iu(t,r[1]))return r[0];if(r=e(),Xi){Kn(!0);try{e()}finally{Kn(!1)}}return s.memoizedState=[r,t],r}function pu(e,t,s){return s===void 0||(Rn&1073741824)!==0&&(Se&261930)===0?e.memoizedState=t:(e.memoizedState=s,e=ig(),he.lanes|=e,ui|=e,s)}function ip(e,t,s,r){return Ht(s,t)?s:Is.current!==null?(e=pu(e,s,r),Ht(e,t)||(st=!0),e):(Rn&42)===0||(Rn&1073741824)!==0&&(Se&261930)===0?(st=!0,e.memoizedState=s):(e=ig(),he.lanes|=e,ui|=e,t)}function sp(e,t,s,r,c){var d=V.p;V.p=d!==0&&8>d?d:8;var p=O.T,y={};O.T=y,yu(e,!1,t,s);try{var w=c(),j=O.S;if(j!==null&&j(y,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var k=mx(w,r);Ha(e,t,k,Ft(e))}else Ha(e,t,r,Ft(e))}catch(L){Ha(e,t,{then:function(){},status:"rejected",reason:L},Ft())}finally{V.p=d,p!==null&&y.types!==null&&(p.types=y.types),O.T=p}}function xx(){}function gu(e,t,s,r){if(e.tag!==5)throw Error(l(476));var c=ap(e).queue;sp(e,c,t,J,s===null?xx:function(){return lp(e),s(r)})}function ap(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:J},next:null};var s={};return t.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:s},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function lp(e){var t=ap(e);t.next===null&&(t=e.alternate.memoizedState),Ha(e,t.next.queue,{},Ft())}function vu(){return _t(il)}function rp(){return tt().memoizedState}function op(){return tt().memoizedState}function bx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var s=Ft();e=si(s);var r=ai(t,e,s);r!==null&&(Rt(r,t,s),ka(r,t,s)),t={cache:Fc()},e.payload=t;return}t=t.return}}function Sx(e,t,s){var r=Ft();s={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Er(e)?up(t,s):(s=kc(e,t,s,r),s!==null&&(Rt(s,e,r),dp(s,t,r)))}function cp(e,t,s){var r=Ft();Ha(e,t,s,r)}function Ha(e,t,s,r){var c={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Er(e))up(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var p=t.lastRenderedState,y=d(p,s);if(c.hasEagerState=!0,c.eagerState=y,Ht(y,p))return sr(e,t,c,0),Be===null&&ir(),!1}catch(w){}finally{}if(s=kc(e,t,c,r),s!==null)return Rt(s,e,r),dp(s,t,r),!0}return!1}function yu(e,t,s,r){if(r={lane:2,revertLane:Ku(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Er(e)){if(t)throw Error(l(479))}else t=kc(e,s,r,2),t!==null&&Rt(t,e,2)}function Er(e){var t=e.alternate;return e===he||t!==null&&t===he}function up(e,t){Ls=vr=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function dp(e,t,s){if((s&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,gh(e,s)}}var qa={readContext:_t,use:xr,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};qa.useEffectEvent=Ze;var fp={readContext:_t,use:xr,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:_t,useEffect:$m,useImperativeHandle:function(e,t,s){s=s!=null?s.concat([e]):null,Sr(4194308,4,Wm.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Sr(4194308,4,e,t)},useInsertionEffect:function(e,t){Sr(4,2,e,t)},useMemo:function(e,t){var s=Et();t=t===void 0?null:t;var r=e();if(Xi){Kn(!0);try{e()}finally{Kn(!1)}}return s.memoizedState=[r,t],r},useReducer:function(e,t,s){var r=Et();if(s!==void 0){var c=s(t);if(Xi){Kn(!0);try{s(t)}finally{Kn(!1)}}}else c=t;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=Sx.bind(null,he,e),[r.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:function(e){e=du(e);var t=e.queue,s=cp.bind(null,he,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:mu,useDeferredValue:function(e,t){var s=Et();return pu(s,e,t)},useTransition:function(){var e=du(!1);return e=sp.bind(null,he,e.queue,!0,!1),Et().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var r=he,c=Et();if(Ee){if(s===void 0)throw Error(l(407));s=s()}else{if(s=t(),Be===null)throw Error(l(349));(Se&127)!==0||Om(r,t,s)}c.memoizedState=s;var d={value:s,getSnapshot:t};return c.queue=d,$m(km.bind(null,r,d,e),[e]),r.flags|=2048,Bs(9,{destroy:void 0},zm.bind(null,r,d,s,t),null),s},useId:function(){var e=Et(),t=Be.identifierPrefix;if(Ee){var s=yn,r=vn;s=(r&~(1<<32-Bt(r)-1)).toString(32)+s,t="_"+t+"R_"+s,s=yr++,0<s&&(t+="H"+s.toString(32)),t+="_"}else s=px++,t="_"+t+"r_"+s.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:vu,useFormState:Ym,useActionState:Ym,useOptimistic:function(e){var t=Et();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=yu.bind(null,he,!0,s),s.dispatch=t,[e,t]},useMemoCache:ou,useCacheRefresh:function(){return Et().memoizedState=bx.bind(null,he)},useEffectEvent:function(e){var t=Et(),s={impl:e};return t.memoizedState=s,function(){if((Ae&2)!==0)throw Error(l(440));return s.impl.apply(void 0,arguments)}}},_u={readContext:_t,use:xr,useCallback:tp,useContext:_t,useEffect:hu,useImperativeHandle:ep,useInsertionEffect:Zm,useLayoutEffect:Jm,useMemo:np,useReducer:br,useRef:Pm,useState:function(){return br(On)},useDebugValue:mu,useDeferredValue:function(e,t){var s=tt();return ip(s,Ie.memoizedState,e,t)},useTransition:function(){var e=br(On)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:Ba(e),t]},useSyncExternalStore:Rm,useId:rp,useHostTransitionStatus:vu,useFormState:Qm,useActionState:Qm,useOptimistic:function(e,t){var s=tt();return Um(s,Ie,e,t)},useMemoCache:ou,useCacheRefresh:op};_u.useEffectEvent=Km;var hp={readContext:_t,use:xr,useCallback:tp,useContext:_t,useEffect:hu,useImperativeHandle:ep,useInsertionEffect:Zm,useLayoutEffect:Jm,useMemo:np,useReducer:uu,useRef:Pm,useState:function(){return uu(On)},useDebugValue:mu,useDeferredValue:function(e,t){var s=tt();return Ie===null?pu(s,e,t):ip(s,Ie.memoizedState,e,t)},useTransition:function(){var e=uu(On)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:Ba(e),t]},useSyncExternalStore:Rm,useId:rp,useHostTransitionStatus:vu,useFormState:Xm,useActionState:Xm,useOptimistic:function(e,t){var s=tt();return Ie!==null?Um(s,Ie,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:ou,useCacheRefresh:op};hp.useEffectEvent=Km;function xu(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:x({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var bu={enqueueSetState:function(e,t,s){e=e._reactInternals;var r=Ft(),c=si(r);c.payload=t,s!=null&&(c.callback=s),t=ai(e,c,r),t!==null&&(Rt(t,e,r),ka(t,e,r))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=Ft(),c=si(r);c.tag=1,c.payload=t,s!=null&&(c.callback=s),t=ai(e,c,r),t!==null&&(Rt(t,e,r),ka(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Ft(),r=si(s);r.tag=2,t!=null&&(r.callback=t),t=ai(e,r,s),t!==null&&(Rt(t,e,s),ka(t,e,s))}};function mp(e,t,s,r,c,d,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,d,p):t.prototype&&t.prototype.isPureReactComponent?!Ta(s,r)||!Ta(c,d):!0}function pp(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&bu.enqueueReplaceState(t,t.state,null)}function Pi(e,t){var s=t;if("ref"in t){s={};for(var r in t)r!=="ref"&&(s[r]=t[r])}if(e=e.defaultProps){s===t&&(s=x({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function gp(e){nr(e)}function vp(e){console.error(e)}function yp(e){nr(e)}function Nr(e,t){try{var s=e.onUncaughtError;s(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function _p(e,t,s){try{var r=e.onCaughtError;r(s.value,{componentStack:s.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Su(e,t,s){return s=si(s),s.tag=3,s.payload={element:null},s.callback=function(){Nr(e,t)},s}function xp(e){return e=si(e),e.tag=3,e}function bp(e,t,s,r){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var d=r.value;e.payload=function(){return c(d)},e.callback=function(){_p(t,s,r)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){_p(t,s,r),typeof c!="function"&&(di===null?di=new Set([this]):di.add(this));var y=r.stack;this.componentDidCatch(r.value,{componentStack:y!==null?y:""})})}function wx(e,t,s,r,c){if(s.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=s.alternate,t!==null&&Ms(t,s,c,!0),s=Vt.current,s!==null){switch(s.tag){case 31:case 13:return nn===null?Lr():s.alternate===null&&Je===0&&(Je=3),s.flags&=-257,s.flags|=65536,s.lanes=c,r===fr?s.flags|=16384:(t=s.updateQueue,t===null?s.updateQueue=new Set([r]):t.add(r),Xu(e,r,c)),!1;case 22:return s.flags|=65536,r===fr?s.flags|=16384:(t=s.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},s.updateQueue=t):(s=t.retryQueue,s===null?t.retryQueue=new Set([r]):s.add(r)),Xu(e,r,c)),!1}throw Error(l(435,s.tag))}return Xu(e,r,c),Lr(),!1}if(Ee)return t=Vt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,r!==qc&&(e=Error(l(422),{cause:r}),Da(Jt(e,s)))):(r!==qc&&(t=Error(l(423),{cause:r}),Da(Jt(t,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=Jt(r,s),c=Su(e.stateNode,r,c),Jc(e,c),Je!==4&&(Je=2)),!1;var d=Error(l(520),{cause:r});if(d=Jt(d,s),$a===null?$a=[d]:$a.push(d),Je!==4&&(Je=2),t===null)return!0;r=Jt(r,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=Su(s.stateNode,r,e),Jc(s,e),!1;case 1:if(t=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(di===null||!di.has(d))))return s.flags|=65536,c&=-c,s.lanes|=c,c=xp(c),bp(c,e,s,r),Jc(s,c),!1}s=s.return}while(s!==null);return!1}var wu=Error(l(461)),st=!1;function xt(e,t,s,r){t.child=e===null?Nm(t,null,s,r):Fi(t,e.child,s,r)}function Sp(e,t,s,r,c){s=s.render;var d=t.ref;if("ref"in r){var p={};for(var y in r)y!=="ref"&&(p[y]=r[y])}else p=r;return Vi(t),r=su(e,t,s,p,d,c),y=au(),e!==null&&!st?(lu(e,t,c),zn(e,t,c)):(Ee&&y&&Bc(t),t.flags|=1,xt(e,t,r,c),t.child)}function wp(e,t,s,r,c){if(e===null){var d=s.type;return typeof d=="function"&&!Ic(d)&&d.defaultProps===void 0&&s.compare===null?(t.tag=15,t.type=d,Ep(e,t,d,r,c)):(e=lr(s.type,null,r,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!Mu(e,c)){var p=d.memoizedProps;if(s=s.compare,s=s!==null?s:Ta,s(p,r)&&e.ref===t.ref)return zn(e,t,c)}return t.flags|=1,e=An(d,r),e.ref=t.ref,e.return=t,t.child=e}function Ep(e,t,s,r,c){if(e!==null){var d=e.memoizedProps;if(Ta(d,r)&&e.ref===t.ref)if(st=!1,t.pendingProps=r=d,Mu(e,c))(e.flags&131072)!==0&&(st=!0);else return t.lanes=e.lanes,zn(e,t,c)}return Eu(e,t,s,r,c)}function Np(e,t,s,r){var c=r.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,e!==null){for(r=t.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~d}else r=0,t.child=null;return Cp(e,t,d,s,r)}if((s&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ur(t,d!==null?d.cachePool:null),d!==null?Am(t,d):eu(),jm(t);else return r=t.lanes=536870912,Cp(e,t,d!==null?d.baseLanes|s:s,s,r)}else d!==null?(ur(t,d.cachePool),Am(t,d),ri(),t.memoizedState=null):(e!==null&&ur(t,null),eu(),ri());return xt(e,t,c,s),t.child}function Va(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Cp(e,t,s,r,c){var d=Pc();return d=d===null?null:{parent:nt._currentValue,pool:d},t.memoizedState={baseLanes:s,cachePool:d},e!==null&&ur(t,null),eu(),jm(t),e!==null&&Ms(e,t,r,!0),t.childLanes=c,null}function Cr(e,t){return t=Ar({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Tp(e,t,s){return Fi(t,e.child,null,s),e=Cr(t,t.pendingProps),e.flags|=2,Gt(t),t.memoizedState=null,e}function Ex(e,t,s){var r=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ee){if(r.mode==="hidden")return e=Cr(t,r),t.lanes=536870912,Va(null,e);if(nu(t),(e=Ye)?(e=Bg(e,tn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Wn!==null?{id:vn,overflow:yn}:null,retryLane:536870912,hydrationErrors:null},s=um(e),s.return=t,t.child=s,yt=t,Ye=null)):e=null,e===null)throw ti(t);return t.lanes=536870912,null}return Cr(t,r)}var d=e.memoizedState;if(d!==null){var p=d.dehydrated;if(nu(t),c)if(t.flags&256)t.flags&=-257,t=Tp(e,t,s);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(st||Ms(e,t,s,!1),c=(s&e.childLanes)!==0,st||c){if(r=Be,r!==null&&(p=vh(r,s),p!==0&&p!==d.retryLane))throw d.retryLane=p,Ui(e,p),Rt(r,e,p),wu;Lr(),t=Tp(e,t,s)}else e=d.treeContext,Ye=sn(p.nextSibling),yt=t,Ee=!0,ei=null,tn=!1,e!==null&&hm(t,e),t=Cr(t,r),t.flags|=4096;return t}return e=An(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Tr(e,t){var s=t.ref;if(s===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(e===null||e.ref!==s)&&(t.flags|=4194816)}}function Eu(e,t,s,r,c){return Vi(t),s=su(e,t,s,r,void 0,c),r=au(),e!==null&&!st?(lu(e,t,c),zn(e,t,c)):(Ee&&r&&Bc(t),t.flags|=1,xt(e,t,s,c),t.child)}function Ap(e,t,s,r,c,d){return Vi(t),t.updateQueue=null,s=Mm(t,r,s,c),Dm(e),r=au(),e!==null&&!st?(lu(e,t,d),zn(e,t,d)):(Ee&&r&&Bc(t),t.flags|=1,xt(e,t,s,d),t.child)}function jp(e,t,s,r,c){if(Vi(t),t.stateNode===null){var d=Ts,p=s.contextType;typeof p=="object"&&p!==null&&(d=_t(p)),d=new s(r,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=bu,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=r,d.state=t.memoizedState,d.refs={},Kc(t),p=s.contextType,d.context=typeof p=="object"&&p!==null?_t(p):Ts,d.state=t.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(xu(t,s,p,r),d.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(p=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),p!==d.state&&bu.enqueueReplaceState(d,d.state,null),La(t,r,d,c),Ia(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){d=t.stateNode;var y=t.memoizedProps,w=Pi(s,y);d.props=w;var j=d.context,k=s.contextType;p=Ts,typeof k=="object"&&k!==null&&(p=_t(k));var L=s.getDerivedStateFromProps;k=typeof L=="function"||typeof d.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,k||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y||j!==p)&&pp(t,d,r,p),ii=!1;var D=t.memoizedState;d.state=D,La(t,r,d,c),Ia(),j=t.memoizedState,y||D!==j||ii?(typeof L=="function"&&(xu(t,s,L,r),j=t.memoizedState),(w=ii||mp(t,s,w,r,D,j,p))?(k||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=j),d.props=r,d.state=j,d.context=p,r=w):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{d=t.stateNode,Zc(e,t),p=t.memoizedProps,k=Pi(s,p),d.props=k,L=t.pendingProps,D=d.context,j=s.contextType,w=Ts,typeof j=="object"&&j!==null&&(w=_t(j)),y=s.getDerivedStateFromProps,(j=typeof y=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==L||D!==w)&&pp(t,d,r,w),ii=!1,D=t.memoizedState,d.state=D,La(t,r,d,c),Ia();var R=t.memoizedState;p!==L||D!==R||ii||e!==null&&e.dependencies!==null&&or(e.dependencies)?(typeof y=="function"&&(xu(t,s,y,r),R=t.memoizedState),(k=ii||mp(t,s,k,r,D,R,w)||e!==null&&e.dependencies!==null&&or(e.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,R,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,R,w)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=R),d.props=r,d.state=R,d.context=w,r=k):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),r=!1)}return d=r,Tr(e,t),r=(t.flags&128)!==0,d||r?(d=t.stateNode,s=r&&typeof s.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&r?(t.child=Fi(t,e.child,null,c),t.child=Fi(t,null,s,c)):xt(e,t,s,c),t.memoizedState=d.state,e=t.child):e=zn(e,t,c),e}function Dp(e,t,s,r){return Hi(),t.flags|=256,xt(e,t,s,r),t.child}var Nu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cu(e){return{baseLanes:e,cachePool:_m()}}function Tu(e,t,s){return e=e!==null?e.childLanes&~s:0,t&&(e|=Qt),e}function Mp(e,t,s){var r=t.pendingProps,c=!1,d=(t.flags&128)!==0,p;if((p=d)||(p=e!==null&&e.memoizedState===null?!1:(et.current&2)!==0),p&&(c=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ee){if(c?li(t):ri(),(e=Ye)?(e=Bg(e,tn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Wn!==null?{id:vn,overflow:yn}:null,retryLane:536870912,hydrationErrors:null},s=um(e),s.return=t,t.child=s,yt=t,Ye=null)):e=null,e===null)throw ti(t);return cd(e)?t.lanes=32:t.lanes=536870912,null}var y=r.children;return r=r.fallback,c?(ri(),c=t.mode,y=Ar({mode:"hidden",children:y},c),r=Bi(r,c,s,null),y.return=t,r.return=t,y.sibling=r,t.child=y,r=t.child,r.memoizedState=Cu(s),r.childLanes=Tu(e,p,s),t.memoizedState=Nu,Va(null,r)):(li(t),Au(t,y))}var w=e.memoizedState;if(w!==null&&(y=w.dehydrated,y!==null)){if(d)t.flags&256?(li(t),t.flags&=-257,t=ju(e,t,s)):t.memoizedState!==null?(ri(),t.child=e.child,t.flags|=128,t=null):(ri(),y=r.fallback,c=t.mode,r=Ar({mode:"visible",children:r.children},c),y=Bi(y,c,s,null),y.flags|=2,r.return=t,y.return=t,r.sibling=y,t.child=r,Fi(t,e.child,null,s),r=t.child,r.memoizedState=Cu(s),r.childLanes=Tu(e,p,s),t.memoizedState=Nu,t=Va(null,r));else if(li(t),cd(y)){if(p=y.nextSibling&&y.nextSibling.dataset,p)var j=p.dgst;p=j,r=Error(l(419)),r.stack="",r.digest=p,Da({value:r,source:null,stack:null}),t=ju(e,t,s)}else if(st||Ms(e,t,s,!1),p=(s&e.childLanes)!==0,st||p){if(p=Be,p!==null&&(r=vh(p,s),r!==0&&r!==w.retryLane))throw w.retryLane=r,Ui(e,r),Rt(p,e,r),wu;od(y)||Lr(),t=ju(e,t,s)}else od(y)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,Ye=sn(y.nextSibling),yt=t,Ee=!0,ei=null,tn=!1,e!==null&&hm(t,e),t=Au(t,r.children),t.flags|=4096);return t}return c?(ri(),y=r.fallback,c=t.mode,w=e.child,j=w.sibling,r=An(w,{mode:"hidden",children:r.children}),r.subtreeFlags=w.subtreeFlags&65011712,j!==null?y=An(j,y):(y=Bi(y,c,s,null),y.flags|=2),y.return=t,r.return=t,r.sibling=y,t.child=r,Va(null,r),r=t.child,y=e.child.memoizedState,y===null?y=Cu(s):(c=y.cachePool,c!==null?(w=nt._currentValue,c=c.parent!==w?{parent:w,pool:w}:c):c=_m(),y={baseLanes:y.baseLanes|s,cachePool:c}),r.memoizedState=y,r.childLanes=Tu(e,p,s),t.memoizedState=Nu,Va(e.child,r)):(li(t),s=e.child,e=s.sibling,s=An(s,{mode:"visible",children:r.children}),s.return=t,s.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=s,t.memoizedState=null,s)}function Au(e,t){return t=Ar({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ar(e,t){return e=qt(22,e,null,t),e.lanes=0,e}function ju(e,t,s){return Fi(t,e.child,null,s),e=Au(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rp(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Yc(e.return,t,s)}function Du(e,t,s,r,c,d){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:c,treeForkCount:d}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=r,p.tail=s,p.tailMode=c,p.treeForkCount=d)}function Op(e,t,s){var r=t.pendingProps,c=r.revealOrder,d=r.tail;r=r.children;var p=et.current,y=(p&2)!==0;if(y?(p=p&1|2,t.flags|=128):p&=1,q(et,p),xt(e,t,r,s),r=Ee?ja:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rp(e,s,t);else if(e.tag===19)Rp(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=t.child,c=null;s!==null;)e=s.alternate,e!==null&&gr(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=t.child,t.child=null):(c=s.sibling,s.sibling=null),Du(t,!1,c,s,d,r);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&gr(e)===null){t.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}Du(t,!0,s,null,d,r);break;case"together":Du(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function zn(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),ui|=t.lanes,(s&t.childLanes)===0)if(e!==null){if(Ms(e,t,s,!1),(s&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,s=An(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=An(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Mu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&or(e)))}function Nx(e,t,s){switch(t.tag){case 3:lt(t,t.stateNode.containerInfo),ni(t,nt,e.memoizedState.cache),Hi();break;case 27:case 5:Mi(t);break;case 4:lt(t,t.stateNode.containerInfo);break;case 10:ni(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,nu(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(li(t),t.flags|=128,null):(s&t.child.childLanes)!==0?Mp(e,t,s):(li(t),e=zn(e,t,s),e!==null?e.sibling:null);li(t);break;case 19:var c=(e.flags&128)!==0;if(r=(s&t.childLanes)!==0,r||(Ms(e,t,s,!1),r=(s&t.childLanes)!==0),c){if(r)return Op(e,t,s);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),q(et,et.current),r)break;return null;case 22:return t.lanes=0,Np(e,t,s,t.pendingProps);case 24:ni(t,nt,e.memoizedState.cache)}return zn(e,t,s)}function zp(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps)st=!0;else{if(!Mu(e,s)&&(t.flags&128)===0)return st=!1,Nx(e,t,s);st=(e.flags&131072)!==0}else st=!1,Ee&&(t.flags&1048576)!==0&&fm(t,ja,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=Yi(t.elementType),t.type=e,typeof e=="function")Ic(e)?(r=Pi(e,r),t.tag=1,t=jp(null,t,e,r,s)):(t.tag=0,t=Eu(null,t,e,r,s));else{if(e!=null){var c=e.$$typeof;if(c===oe){t.tag=11,t=Sp(null,t,e,r,s);break e}else if(c===X){t.tag=14,t=wp(null,t,e,r,s);break e}}throw t=De(e)||e,Error(l(306,t,""))}}return t;case 0:return Eu(e,t,t.type,t.pendingProps,s);case 1:return r=t.type,c=Pi(r,t.pendingProps),jp(e,t,r,c,s);case 3:e:{if(lt(t,t.stateNode.containerInfo),e===null)throw Error(l(387));r=t.pendingProps;var d=t.memoizedState;c=d.element,Zc(e,t),La(t,r,null,s);var p=t.memoizedState;if(r=p.cache,ni(t,nt,r),r!==d.cache&&Qc(t,[nt],s,!0),Ia(),r=p.element,d.isDehydrated)if(d={element:r,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Dp(e,t,r,s);break e}else if(r!==c){c=Jt(Error(l(424)),t),Da(c),t=Dp(e,t,r,s);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ye=sn(e.firstChild),yt=t,Ee=!0,ei=null,tn=!0,s=Nm(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Hi(),r===c){t=zn(e,t,s);break e}xt(e,t,r,s)}t=t.child}return t;case 26:return Tr(e,t),e===null?(s=Qg(t.type,null,t.pendingProps,null))?t.memoizedState=s:Ee||(s=t.type,e=t.pendingProps,r=Yr(pe.current).createElement(s),r[vt]=t,r[Ct]=e,bt(r,s,e),ut(r),t.stateNode=r):t.memoizedState=Qg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Mi(t),e===null&&Ee&&(r=t.stateNode=Vg(t.type,t.pendingProps,pe.current),yt=t,tn=!0,c=Ye,pi(t.type)?(ud=c,Ye=sn(r.firstChild)):Ye=c),xt(e,t,t.pendingProps.children,s),Tr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ee&&((c=r=Ye)&&(r=tb(r,t.type,t.pendingProps,tn),r!==null?(t.stateNode=r,yt=t,Ye=sn(r.firstChild),tn=!1,c=!0):c=!1),c||ti(t)),Mi(t),c=t.type,d=t.pendingProps,p=e!==null?e.memoizedProps:null,r=d.children,ad(c,d)?r=null:p!==null&&ad(c,p)&&(t.flags|=32),t.memoizedState!==null&&(c=su(e,t,gx,null,null,s),il._currentValue=c),Tr(e,t),xt(e,t,r,s),t.child;case 6:return e===null&&Ee&&((e=s=Ye)&&(s=nb(s,t.pendingProps,tn),s!==null?(t.stateNode=s,yt=t,Ye=null,e=!0):e=!1),e||ti(t)),null;case 13:return Mp(e,t,s);case 4:return lt(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Fi(t,null,r,s):xt(e,t,r,s),t.child;case 11:return Sp(e,t,t.type,t.pendingProps,s);case 7:return xt(e,t,t.pendingProps,s),t.child;case 8:return xt(e,t,t.pendingProps.children,s),t.child;case 12:return xt(e,t,t.pendingProps.children,s),t.child;case 10:return r=t.pendingProps,ni(t,t.type,r.value),xt(e,t,r.children,s),t.child;case 9:return c=t.type._context,r=t.pendingProps.children,Vi(t),c=_t(c),r=r(c),t.flags|=1,xt(e,t,r,s),t.child;case 14:return wp(e,t,t.type,t.pendingProps,s);case 15:return Ep(e,t,t.type,t.pendingProps,s);case 19:return Op(e,t,s);case 31:return Ex(e,t,s);case 22:return Np(e,t,s,t.pendingProps);case 24:return Vi(t),r=_t(nt),e===null?(c=Pc(),c===null&&(c=Be,d=Fc(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=s),c=d),t.memoizedState={parent:r,cache:c},Kc(t),ni(t,nt,c)):((e.lanes&s)!==0&&(Zc(e,t),La(t,null,null,s),Ia()),c=e.memoizedState,d=t.memoizedState,c.parent!==r?(c={parent:r,cache:r},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),ni(t,nt,r)):(r=d.cache,ni(t,nt,r),r!==c.cache&&Qc(t,[nt],s,!0))),xt(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function kn(e){e.flags|=4}function Ru(e,t,s,r,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(rg())e.flags|=8192;else throw Qi=fr,$c}else e.flags&=-16777217}function kp(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Kg(t))if(rg())e.flags|=8192;else throw Qi=fr,$c}function jr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?mh():536870912,e.lanes|=t,Gs|=t)}function Ga(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function Cx(e,t,s){var r=t.pendingProps;switch(Hc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return Qe(t),null;case 3:return s=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Mn(nt),$e(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ds(t)?kn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Vc())),Qe(t),null;case 26:var c=t.type,d=t.memoizedState;return e===null?(kn(t),d!==null?(Qe(t),kp(t,d)):(Qe(t),Ru(t,c,null,r,s))):d?d!==e.memoizedState?(kn(t),Qe(t),kp(t,d)):(Qe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&kn(t),Qe(t),Ru(t,c,e,r,s)),null;case 27:if(Hl(t),s=pe.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&kn(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return Qe(t),null}e=P.current,Ds(t)?mm(t):(e=Vg(c,r,s),t.stateNode=e,kn(t))}return Qe(t),null;case 5:if(Hl(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&kn(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return Qe(t),null}if(d=P.current,Ds(t))mm(t);else{var p=Yr(pe.current);switch(d){case 1:d=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:d=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":d=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":d=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":d=p.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof r.is=="string"?p.createElement("select",{is:r.is}):p.createElement("select"),r.multiple?d.multiple=!0:r.size&&(d.size=r.size);break;default:d=typeof r.is=="string"?p.createElement(c,{is:r.is}):p.createElement(c)}}d[vt]=t,d[Ct]=r;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)d.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=d;e:switch(bt(d,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&kn(t)}}return Qe(t),Ru(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,s),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&kn(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(l(166));if(e=pe.current,Ds(t)){if(e=t.stateNode,s=t.memoizedProps,r=null,c=yt,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[vt]=t,e=!!(e.nodeValue===s||r!==null&&r.suppressHydrationWarning===!0||Mg(e.nodeValue,s)),e||ti(t,!0)}else e=Yr(e).createTextNode(r),e[vt]=t,t.stateNode=e}return Qe(t),null;case 31:if(s=t.memoizedState,e===null||e.memoizedState!==null){if(r=Ds(t),s!==null){if(e===null){if(!r)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[vt]=t}else Hi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),e=!1}else s=Vc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return t.flags&256?(Gt(t),t):(Gt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Qe(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Ds(t),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(l(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[vt]=t}else Hi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),c=!1}else c=Vc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(Gt(t),t):(Gt(t),null)}return Gt(t),(t.flags&128)!==0?(t.lanes=s,t):(s=r!==null,e=e!==null&&e.memoizedState!==null,s&&(r=t.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==c&&(r.flags|=2048)),s!==e&&s&&(t.child.flags|=8192),jr(t,t.updateQueue),Qe(t),null);case 4:return $e(),e===null&&ed(t.stateNode.containerInfo),Qe(t),null;case 10:return Mn(t.type),Qe(t),null;case 19:if(M(et),r=t.memoizedState,r===null)return Qe(t),null;if(c=(t.flags&128)!==0,d=r.rendering,d===null)if(c)Ga(r,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=gr(e),d!==null){for(t.flags|=128,Ga(r,!1),e=d.updateQueue,t.updateQueue=e,jr(t,e),t.subtreeFlags=0,e=s,s=t.child;s!==null;)cm(s,e),s=s.sibling;return q(et,et.current&1|2),Ee&&jn(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Lt()>zr&&(t.flags|=128,c=!0,Ga(r,!1),t.lanes=4194304)}else{if(!c)if(e=gr(d),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,jr(t,e),Ga(r,!0),r.tail===null&&r.tailMode==="hidden"&&!d.alternate&&!Ee)return Qe(t),null}else 2*Lt()-r.renderingStartTime>zr&&s!==536870912&&(t.flags|=128,c=!0,Ga(r,!1),t.lanes=4194304);r.isBackwards?(d.sibling=t.child,t.child=d):(e=r.last,e!==null?e.sibling=d:t.child=d,r.last=d)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Lt(),e.sibling=null,s=et.current,q(et,c?s&1|2:s&1),Ee&&jn(t,r.treeForkCount),e):(Qe(t),null);case 22:case 23:return Gt(t),tu(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(s&536870912)!==0&&(t.flags&128)===0&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),s=t.updateQueue,s!==null&&jr(t,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==s&&(t.flags|=2048),e!==null&&M(Gi),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Mn(nt),Qe(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Tx(e,t){switch(Hc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mn(nt),$e(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Hl(t),null;case 31:if(t.memoizedState!==null){if(Gt(t),t.alternate===null)throw Error(l(340));Hi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Gt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));Hi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return M(et),null;case 4:return $e(),null;case 10:return Mn(t.type),null;case 22:case 23:return Gt(t),tu(),e!==null&&M(Gi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Mn(nt),null;case 25:return null;default:return null}}function Ip(e,t){switch(Hc(t),t.tag){case 3:Mn(nt),$e();break;case 26:case 27:case 5:Hl(t);break;case 4:$e();break;case 31:t.memoizedState!==null&&Gt(t);break;case 13:Gt(t);break;case 19:M(et);break;case 10:Mn(t.type);break;case 22:case 23:Gt(t),tu(),e!==null&&M(Gi);break;case 24:Mn(nt)}}function Ya(e,t){try{var s=t.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var c=r.next;s=c;do{if((s.tag&e)===e){r=void 0;var d=s.create,p=s.inst;r=d(),p.destroy=r}s=s.next}while(s!==c)}}catch(y){Re(t,t.return,y)}}function oi(e,t,s){try{var r=t.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var d=c.next;r=d;do{if((r.tag&e)===e){var p=r.inst,y=p.destroy;if(y!==void 0){p.destroy=void 0,c=t;var w=s,j=y;try{j()}catch(k){Re(c,w,k)}}}r=r.next}while(r!==d)}}catch(k){Re(t,t.return,k)}}function Lp(e){var t=e.updateQueue;if(t!==null){var s=e.stateNode;try{Tm(t,s)}catch(r){Re(e,e.return,r)}}}function Up(e,t,s){s.props=Pi(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(r){Re(e,t,r)}}function Qa(e,t){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof s=="function"?e.refCleanup=s(r):s.current=r}}catch(c){Re(e,t,c)}}function _n(e,t){var s=e.ref,r=e.refCleanup;if(s!==null)if(typeof r=="function")try{r()}catch(c){Re(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Re(e,t,c)}else s.current=null}function Bp(e){var t=e.type,s=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break e;case"img":s.src?r.src=s.src:s.srcSet&&(r.srcset=s.srcSet)}}catch(c){Re(e,e.return,c)}}function Ou(e,t,s){try{var r=e.stateNode;$x(r,e.type,s,t),r[Ct]=t}catch(c){Re(e,e.return,c)}}function Hp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&pi(e.type)||e.tag===4}function zu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&pi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ku(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,t):(t=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.appendChild(e),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Cn));else if(r!==4&&(r===27&&pi(e.type)&&(s=e.stateNode,t=null),e=e.child,e!==null))for(ku(e,t,s),e=e.sibling;e!==null;)ku(e,t,s),e=e.sibling}function Dr(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(r===27&&pi(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Dr(e,t,s),e=e.sibling;e!==null;)Dr(e,t,s),e=e.sibling}function qp(e){var t=e.stateNode,s=e.memoizedProps;try{for(var r=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);bt(t,r,s),t[vt]=e,t[Ct]=s}catch(d){Re(e,e.return,d)}}var In=!1,at=!1,Iu=!1,Vp=typeof WeakSet=="function"?WeakSet:Set,dt=null;function Ax(e,t){if(e=e.containerInfo,id=Zr,e=em(e),jc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var c=r.anchorOffset,d=r.focusNode;r=r.focusOffset;try{s.nodeType,d.nodeType}catch(se){s=null;break e}var p=0,y=-1,w=-1,j=0,k=0,L=e,D=null;t:for(;;){for(var R;L!==s||c!==0&&L.nodeType!==3||(y=p+c),L!==d||r!==0&&L.nodeType!==3||(w=p+r),L.nodeType===3&&(p+=L.nodeValue.length),(R=L.firstChild)!==null;)D=L,L=R;for(;;){if(L===e)break t;if(D===s&&++j===c&&(y=p),D===d&&++k===r&&(w=p),(R=L.nextSibling)!==null)break;L=D,D=L.parentNode}L=R}s=y===-1||w===-1?null:{start:y,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(sd={focusedElem:e,selectionRange:s},Zr=!1,dt=t;dt!==null;)if(t=dt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,dt=e;else for(;dt!==null;){switch(t=dt,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=t,c=d.memoizedProps,d=d.memoizedState,r=s.stateNode;try{var K=Pi(s.type,c);e=r.getSnapshotBeforeUpdate(K,d),r.__reactInternalSnapshotBeforeUpdate=e}catch(se){Re(s,s.return,se)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,s=e.nodeType,s===9)rd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":rd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,dt=e;break}dt=t.return}}function Gp(e,t,s){var r=s.flags;switch(s.tag){case 0:case 11:case 15:Un(e,s),r&4&&Ya(5,s);break;case 1:if(Un(e,s),r&4)if(e=s.stateNode,t===null)try{e.componentDidMount()}catch(p){Re(s,s.return,p)}else{var c=Pi(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Re(s,s.return,p)}}r&64&&Lp(s),r&512&&Qa(s,s.return);break;case 3:if(Un(e,s),r&64&&(e=s.updateQueue,e!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{Tm(e,t)}catch(p){Re(s,s.return,p)}}break;case 27:t===null&&r&4&&qp(s);case 26:case 5:Un(e,s),t===null&&r&4&&Bp(s),r&512&&Qa(s,s.return);break;case 12:Un(e,s);break;case 31:Un(e,s),r&4&&Fp(e,s);break;case 13:Un(e,s),r&4&&Xp(e,s),r&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Lx.bind(null,s),ib(e,s))));break;case 22:if(r=s.memoizedState!==null||In,!r){t=t!==null&&t.memoizedState!==null||at,c=In;var d=at;In=r,(at=t)&&!d?Bn(e,s,(s.subtreeFlags&8772)!==0):Un(e,s),In=c,at=d}break;case 30:break;default:Un(e,s)}}function Yp(e){var t=e.alternate;t!==null&&(e.alternate=null,Yp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&fc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Pe=null,At=!1;function Ln(e,t,s){for(s=s.child;s!==null;)Qp(e,t,s),s=s.sibling}function Qp(e,t,s){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(pa,s)}catch(d){}switch(s.tag){case 26:at||_n(s,t),Ln(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:at||_n(s,t);var r=Pe,c=At;pi(s.type)&&(Pe=s.stateNode,At=!1),Ln(e,t,s),el(s.stateNode),Pe=r,At=c;break;case 5:at||_n(s,t);case 6:if(r=Pe,c=At,Pe=null,Ln(e,t,s),Pe=r,At=c,Pe!==null)if(At)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(s.stateNode)}catch(d){Re(s,t,d)}else try{Pe.removeChild(s.stateNode)}catch(d){Re(s,t,d)}break;case 18:Pe!==null&&(At?(e=Pe,Lg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Zs(e)):Lg(Pe,s.stateNode));break;case 4:r=Pe,c=At,Pe=s.stateNode.containerInfo,At=!0,Ln(e,t,s),Pe=r,At=c;break;case 0:case 11:case 14:case 15:oi(2,s,t),at||oi(4,s,t),Ln(e,t,s);break;case 1:at||(_n(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"&&Up(s,t,r)),Ln(e,t,s);break;case 21:Ln(e,t,s);break;case 22:at=(r=at)||s.memoizedState!==null,Ln(e,t,s),at=r;break;default:Ln(e,t,s)}}function Fp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Zs(e)}catch(s){Re(t,t.return,s)}}}function Xp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Zs(e)}catch(s){Re(t,t.return,s)}}function jx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Vp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Vp),t;default:throw Error(l(435,e.tag))}}function Mr(e,t){var s=jx(e);t.forEach(function(r){if(!s.has(r)){s.add(r);var c=Ux.bind(null,e,r);r.then(c,c)}})}function jt(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var c=s[r],d=e,p=t,y=p;e:for(;y!==null;){switch(y.tag){case 27:if(pi(y.type)){Pe=y.stateNode,At=!1;break e}break;case 5:Pe=y.stateNode,At=!1;break e;case 3:case 4:Pe=y.stateNode.containerInfo,At=!0;break e}y=y.return}if(Pe===null)throw Error(l(160));Qp(d,p,c),Pe=null,At=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Pp(t,e),t=t.sibling}var cn=null;function Pp(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:jt(t,e),Dt(e),r&4&&(oi(3,e,e.return),Ya(3,e),oi(5,e,e.return));break;case 1:jt(t,e),Dt(e),r&512&&(at||s===null||_n(s,s.return)),r&64&&In&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?r:s.concat(r))));break;case 26:var c=cn;if(jt(t,e),Dt(e),r&512&&(at||s===null||_n(s,s.return)),r&4){var d=s!==null?s.memoizedState:null;if(r=e.memoizedState,s===null)if(r===null)if(e.stateNode===null){e:{r=e.type,s=e.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":d=c.getElementsByTagName("title")[0],(!d||d[ya]||d[vt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(r),c.head.insertBefore(d,c.querySelector("head > title"))),bt(d,r,s),d[vt]=e,ut(d),r=d;break e;case"link":var p=Pg("link","href",c).get(r+(s.href||""));if(p){for(var y=0;y<p.length;y++)if(d=p[y],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(y,1);break t}}d=c.createElement(r),bt(d,r,s),c.head.appendChild(d);break;case"meta":if(p=Pg("meta","content",c).get(r+(s.content||""))){for(y=0;y<p.length;y++)if(d=p[y],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(y,1);break t}}d=c.createElement(r),bt(d,r,s),c.head.appendChild(d);break;default:throw Error(l(468,r))}d[vt]=e,ut(d),r=d}e.stateNode=r}else $g(c,e.type,e.stateNode);else e.stateNode=Xg(c,r,e.memoizedProps);else d!==r?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,r===null?$g(c,e.type,e.stateNode):Xg(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Ou(e,e.memoizedProps,s.memoizedProps)}break;case 27:jt(t,e),Dt(e),r&512&&(at||s===null||_n(s,s.return)),s!==null&&r&4&&Ou(e,e.memoizedProps,s.memoizedProps);break;case 5:if(jt(t,e),Dt(e),r&512&&(at||s===null||_n(s,s.return)),e.flags&32){c=e.stateNode;try{xs(c,"")}catch(K){Re(e,e.return,K)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,Ou(e,c,s!==null?s.memoizedProps:c)),r&1024&&(Iu=!0);break;case 6:if(jt(t,e),Dt(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,s=e.stateNode;try{s.nodeValue=r}catch(K){Re(e,e.return,K)}}break;case 3:if(Xr=null,c=cn,cn=Qr(t.containerInfo),jt(t,e),cn=c,Dt(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{Zs(t.containerInfo)}catch(K){Re(e,e.return,K)}Iu&&(Iu=!1,$p(e));break;case 4:r=cn,cn=Qr(e.stateNode.containerInfo),jt(t,e),Dt(e),cn=r;break;case 12:jt(t,e),Dt(e);break;case 31:jt(t,e),Dt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Mr(e,r)));break;case 13:jt(t,e),Dt(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Or=Lt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Mr(e,r)));break;case 22:c=e.memoizedState!==null;var w=s!==null&&s.memoizedState!==null,j=In,k=at;if(In=j||c,at=k||w,jt(t,e),at=k,In=j,Dt(e),r&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(s===null||w||In||at||$i(e)),s=null,t=e;;){if(t.tag===5||t.tag===26){if(s===null){w=s=t;try{if(d=w.stateNode,c)p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{y=w.stateNode;var L=w.memoizedProps.style,D=L!=null&&L.hasOwnProperty("display")?L.display:null;y.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(K){Re(w,w.return,K)}}}else if(t.tag===6){if(s===null){w=t;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(K){Re(w,w.return,K)}}}else if(t.tag===18){if(s===null){w=t;try{var R=w.stateNode;c?Ug(R,!0):Ug(w.stateNode,!1)}catch(K){Re(w,w.return,K)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(s=r.retryQueue,s!==null&&(r.retryQueue=null,Mr(e,s))));break;case 19:jt(t,e),Dt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Mr(e,r)));break;case 30:break;case 21:break;default:jt(t,e),Dt(e)}}function Dt(e){var t=e.flags;if(t&2){try{for(var s,r=e.return;r!==null;){if(Hp(r)){s=r;break}r=r.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var c=s.stateNode,d=zu(e);Dr(e,d,c);break;case 5:var p=s.stateNode;s.flags&32&&(xs(p,""),s.flags&=-33);var y=zu(e);Dr(e,y,p);break;case 3:case 4:var w=s.stateNode.containerInfo,j=zu(e);ku(e,j,w);break;default:throw Error(l(161))}}catch(k){Re(e,e.return,k)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $p(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;$p(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Un(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Gp(e,t.alternate,t),t=t.sibling}function $i(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:oi(4,t,t.return),$i(t);break;case 1:_n(t,t.return);var s=t.stateNode;typeof s.componentWillUnmount=="function"&&Up(t,t.return,s),$i(t);break;case 27:el(t.stateNode);case 26:case 5:_n(t,t.return),$i(t);break;case 22:t.memoizedState===null&&$i(t);break;case 30:$i(t);break;default:$i(t)}e=e.sibling}}function Bn(e,t,s){for(s=s&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,c=e,d=t,p=d.flags;switch(d.tag){case 0:case 11:case 15:Bn(c,d,s),Ya(4,d);break;case 1:if(Bn(c,d,s),r=d,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(j){Re(r,r.return,j)}if(r=d,c=r.updateQueue,c!==null){var y=r.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Cm(w[c],y)}catch(j){Re(r,r.return,j)}}s&&p&64&&Lp(d),Qa(d,d.return);break;case 27:qp(d);case 26:case 5:Bn(c,d,s),s&&r===null&&p&4&&Bp(d),Qa(d,d.return);break;case 12:Bn(c,d,s);break;case 31:Bn(c,d,s),s&&p&4&&Fp(c,d);break;case 13:Bn(c,d,s),s&&p&4&&Xp(c,d);break;case 22:d.memoizedState===null&&Bn(c,d,s),Qa(d,d.return);break;case 30:break;default:Bn(c,d,s)}t=t.sibling}}function Lu(e,t){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ma(s))}function Uu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ma(e))}function un(e,t,s,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Kp(e,t,s,r),t=t.sibling}function Kp(e,t,s,r){var c=t.flags;switch(t.tag){case 0:case 11:case 15:un(e,t,s,r),c&2048&&Ya(9,t);break;case 1:un(e,t,s,r);break;case 3:un(e,t,s,r),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ma(e)));break;case 12:if(c&2048){un(e,t,s,r),e=t.stateNode;try{var d=t.memoizedProps,p=d.id,y=d.onPostCommit;typeof y=="function"&&y(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Re(t,t.return,w)}}else un(e,t,s,r);break;case 31:un(e,t,s,r);break;case 13:un(e,t,s,r);break;case 23:break;case 22:d=t.stateNode,p=t.alternate,t.memoizedState!==null?d._visibility&2?un(e,t,s,r):Fa(e,t):d._visibility&2?un(e,t,s,r):(d._visibility|=2,Hs(e,t,s,r,(t.subtreeFlags&10256)!==0||!1)),c&2048&&Lu(p,t);break;case 24:un(e,t,s,r),c&2048&&Uu(t.alternate,t);break;default:un(e,t,s,r)}}function Hs(e,t,s,r,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,p=t,y=s,w=r,j=p.flags;switch(p.tag){case 0:case 11:case 15:Hs(d,p,y,w,c),Ya(8,p);break;case 23:break;case 22:var k=p.stateNode;p.memoizedState!==null?k._visibility&2?Hs(d,p,y,w,c):Fa(d,p):(k._visibility|=2,Hs(d,p,y,w,c)),c&&j&2048&&Lu(p.alternate,p);break;case 24:Hs(d,p,y,w,c),c&&j&2048&&Uu(p.alternate,p);break;default:Hs(d,p,y,w,c)}t=t.sibling}}function Fa(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var s=e,r=t,c=r.flags;switch(r.tag){case 22:Fa(s,r),c&2048&&Lu(r.alternate,r);break;case 24:Fa(s,r),c&2048&&Uu(r.alternate,r);break;default:Fa(s,r)}t=t.sibling}}var Xa=8192;function qs(e,t,s){if(e.subtreeFlags&Xa)for(e=e.child;e!==null;)Zp(e,t,s),e=e.sibling}function Zp(e,t,s){switch(e.tag){case 26:qs(e,t,s),e.flags&Xa&&e.memoizedState!==null&&pb(s,cn,e.memoizedState,e.memoizedProps);break;case 5:qs(e,t,s);break;case 3:case 4:var r=cn;cn=Qr(e.stateNode.containerInfo),qs(e,t,s),cn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Xa,Xa=16777216,qs(e,t,s),Xa=r):qs(e,t,s));break;default:qs(e,t,s)}}function Jp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Pa(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var r=t[s];dt=r,eg(r,e)}Jp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wp(e),e=e.sibling}function Wp(e){switch(e.tag){case 0:case 11:case 15:Pa(e),e.flags&2048&&oi(9,e,e.return);break;case 3:Pa(e);break;case 12:Pa(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Rr(e)):Pa(e);break;default:Pa(e)}}function Rr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var r=t[s];dt=r,eg(r,e)}Jp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:oi(8,t,t.return),Rr(t);break;case 22:s=t.stateNode,s._visibility&2&&(s._visibility&=-3,Rr(t));break;default:Rr(t)}e=e.sibling}}function eg(e,t){for(;dt!==null;){var s=dt;switch(s.tag){case 0:case 11:case 15:oi(8,s,t);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var r=s.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Ma(s.memoizedState.cache)}if(r=s.child,r!==null)r.return=s,dt=r;else e:for(s=e;dt!==null;){r=dt;var c=r.sibling,d=r.return;if(Yp(r),r===s){dt=null;break e}if(c!==null){c.return=d,dt=c;break e}dt=d}}}var Dx={getCacheForType:function(e){var t=_t(nt),s=t.data.get(e);return s===void 0&&(s=e(),t.data.set(e,s)),s},cacheSignal:function(){return _t(nt).controller.signal}},Mx=typeof WeakMap=="function"?WeakMap:Map,Ae=0,Be=null,ye=null,Se=0,Me=0,Yt=null,ci=!1,Vs=!1,Bu=!1,Hn=0,Je=0,ui=0,Ki=0,Hu=0,Qt=0,Gs=0,$a=null,Mt=null,qu=!1,Or=0,tg=0,zr=1/0,kr=null,di=null,rt=0,fi=null,Ys=null,qn=0,Vu=0,Gu=null,ng=null,Ka=0,Yu=null;function Ft(){return(Ae&2)!==0&&Se!==0?Se&-Se:O.T!==null?Ku():yh()}function ig(){if(Qt===0)if((Se&536870912)===0||Ee){var e=Gl;Gl<<=1,(Gl&3932160)===0&&(Gl=262144),Qt=e}else Qt=536870912;return e=Vt.current,e!==null&&(e.flags|=32),Qt}function Rt(e,t,s){(e===Be&&(Me===2||Me===9)||e.cancelPendingCommit!==null)&&(Qs(e,0),hi(e,Se,Qt,!1)),va(e,s),((Ae&2)===0||e!==Be)&&(e===Be&&((Ae&2)===0&&(Ki|=s),Je===4&&hi(e,Se,Qt,!1)),xn(e))}function sg(e,t,s){if((Ae&6)!==0)throw Error(l(327));var r=!s&&(t&127)===0&&(t&e.expiredLanes)===0||ga(e,t),c=r?zx(e,t):Fu(e,t,!0),d=r;do{if(c===0){Vs&&!r&&hi(e,t,0,!1);break}else{if(s=e.current.alternate,d&&!Rx(s)){c=Fu(e,t,!1),d=!1;continue}if(c===2){if(d=t,e.errorRecoveryDisabledLanes&d)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var y=e;c=$a;var w=y.current.memoizedState.isDehydrated;if(w&&(Qs(y,p).flags|=256),p=Fu(y,p,!1),p!==2){if(Bu&&!w){y.errorRecoveryDisabledLanes|=d,Ki|=d,c=4;break e}d=Mt,Mt=c,d!==null&&(Mt===null?Mt=d:Mt.push.apply(Mt,d))}c=p}if(d=!1,c!==2)continue}}if(c===1){Qs(e,0),hi(e,t,0,!0);break}e:{switch(r=e,d=c,d){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:hi(r,t,Qt,!ci);break e;case 2:Mt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(c=Or+300-Lt(),10<c)){if(hi(r,t,Qt,!ci),Ql(r,0,!0)!==0)break e;qn=t,r.timeoutHandle=kg(ag.bind(null,r,s,Mt,kr,qu,t,Qt,Ki,Gs,ci,d,"Throttled",-0,0),c);break e}ag(r,s,Mt,kr,qu,t,Qt,Ki,Gs,ci,d,null,-0,0)}}break}while(!0);xn(e)}function ag(e,t,s,r,c,d,p,y,w,j,k,L,D,R){if(e.timeoutHandle=-1,L=t.subtreeFlags,L&8192||(L&16785408)===16785408){L={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cn},Zp(t,d,L);var K=(d&62914560)===d?Or-Lt():(d&4194048)===d?tg-Lt():0;if(K=gb(L,K),K!==null){qn=d,e.cancelPendingCommit=K(hg.bind(null,e,t,d,s,r,c,p,y,w,k,L,null,D,R)),hi(e,d,p,!j);return}}hg(e,t,d,s,r,c,p,y,w)}function Rx(e){for(var t=e;;){var s=t.tag;if((s===0||s===11||s===15)&&t.flags&16384&&(s=t.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var r=0;r<s.length;r++){var c=s[r],d=c.getSnapshot;c=c.value;try{if(!Ht(d(),c))return!1}catch(p){return!1}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hi(e,t,s,r){t&=~Hu,t&=~Ki,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var c=t;0<c;){var d=31-Bt(c),p=1<<d;r[d]=-1,c&=~p}s!==0&&ph(e,s,t)}function Ir(){return(Ae&6)===0?(Za(0),!1):!0}function Qu(){if(ye!==null){if(Me===0)var e=ye.return;else e=ye,Dn=qi=null,ru(e),ks=null,Oa=0,e=ye;for(;e!==null;)Ip(e.alternate,e),e=e.return;ye=null}}function Qs(e,t){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Jx(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),qn=0,Qu(),Be=e,ye=s=An(e.current,null),Se=t,Me=0,Yt=null,ci=!1,Vs=ga(e,t),Bu=!1,Gs=Qt=Hu=Ki=ui=Je=0,Mt=$a=null,qu=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var c=31-Bt(r),d=1<<c;t|=e[c],r&=~d}return Hn=t,ir(),s}function lg(e,t){he=null,O.H=qa,t===zs||t===dr?(t=Sm(),Me=3):t===$c?(t=Sm(),Me=4):Me=t===wu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Yt=t,ye===null&&(Je=1,Nr(e,Jt(t,e.current)))}function rg(){var e=Vt.current;return e===null?!0:(Se&4194048)===Se?nn===null:(Se&62914560)===Se||(Se&536870912)!==0?e===nn:!1}function og(){var e=O.H;return O.H=qa,e===null?qa:e}function cg(){var e=O.A;return O.A=Dx,e}function Lr(){Je=4,ci||(Se&4194048)!==Se&&Vt.current!==null||(Vs=!0),(ui&134217727)===0&&(Ki&134217727)===0||Be===null||hi(Be,Se,Qt,!1)}function Fu(e,t,s){var r=Ae;Ae|=2;var c=og(),d=cg();(Be!==e||Se!==t)&&(kr=null,Qs(e,t)),t=!1;var p=Je;e:do try{if(Me!==0&&ye!==null){var y=ye,w=Yt;switch(Me){case 8:Qu(),p=6;break e;case 3:case 2:case 9:case 6:Vt.current===null&&(t=!0);var j=Me;if(Me=0,Yt=null,Fs(e,y,w,j),s&&Vs){p=0;break e}break;default:j=Me,Me=0,Yt=null,Fs(e,y,w,j)}}Ox(),p=Je;break}catch(k){lg(e,k)}while(!0);return t&&e.shellSuspendCounter++,Dn=qi=null,Ae=r,O.H=c,O.A=d,ye===null&&(Be=null,Se=0,ir()),p}function Ox(){for(;ye!==null;)ug(ye)}function zx(e,t){var s=Ae;Ae|=2;var r=og(),c=cg();Be!==e||Se!==t?(kr=null,zr=Lt()+500,Qs(e,t)):Vs=ga(e,t);e:do try{if(Me!==0&&ye!==null){t=ye;var d=Yt;t:switch(Me){case 1:Me=0,Yt=null,Fs(e,t,d,1);break;case 2:case 9:if(xm(d)){Me=0,Yt=null,dg(t);break}t=function(){Me!==2&&Me!==9||Be!==e||(Me=7),xn(e)},d.then(t,t);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:xm(d)?(Me=0,Yt=null,dg(t)):(Me=0,Yt=null,Fs(e,t,d,7));break;case 5:var p=null;switch(ye.tag){case 26:p=ye.memoizedState;case 5:case 27:var y=ye;if(p?Kg(p):y.stateNode.complete){Me=0,Yt=null;var w=y.sibling;if(w!==null)ye=w;else{var j=y.return;j!==null?(ye=j,Ur(j)):ye=null}break t}}Me=0,Yt=null,Fs(e,t,d,5);break;case 6:Me=0,Yt=null,Fs(e,t,d,6);break;case 8:Qu(),Je=6;break e;default:throw Error(l(462))}}kx();break}catch(k){lg(e,k)}while(!0);return Dn=qi=null,O.H=r,O.A=c,Ae=s,ye!==null?0:(Be=null,Se=0,ir(),Je)}function kx(){for(;ye!==null&&!s1();)ug(ye)}function ug(e){var t=zp(e.alternate,e,Hn);e.memoizedProps=e.pendingProps,t===null?Ur(e):ye=t}function dg(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=Ap(s,t,t.pendingProps,t.type,void 0,Se);break;case 11:t=Ap(s,t,t.pendingProps,t.type.render,t.ref,Se);break;case 5:ru(t);default:Ip(s,t),t=ye=cm(t,Hn),t=zp(s,t,Hn)}e.memoizedProps=e.pendingProps,t===null?Ur(e):ye=t}function Fs(e,t,s,r){Dn=qi=null,ru(t),ks=null,Oa=0;var c=t.return;try{if(wx(e,c,t,s,Se)){Je=1,Nr(e,Jt(s,e.current)),ye=null;return}}catch(d){if(c!==null)throw ye=c,d;Je=1,Nr(e,Jt(s,e.current)),ye=null;return}t.flags&32768?(Ee||r===1?e=!0:Vs||(Se&536870912)!==0?e=!1:(ci=e=!0,(r===2||r===9||r===3||r===6)&&(r=Vt.current,r!==null&&r.tag===13&&(r.flags|=16384))),fg(t,e)):Ur(t)}function Ur(e){var t=e;do{if((t.flags&32768)!==0){fg(t,ci);return}e=t.return;var s=Cx(t.alternate,t,Hn);if(s!==null){ye=s;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);Je===0&&(Je=5)}function fg(e,t){do{var s=Tx(e.alternate,e);if(s!==null){s.flags&=32767,ye=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&(e=e.sibling,e!==null)){ye=e;return}ye=e=s}while(e!==null);Je=6,ye=null}function hg(e,t,s,r,c,d,p,y,w){e.cancelPendingCommit=null;do Br();while(rt!==0);if((Ae&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(d=t.lanes|t.childLanes,d|=zc,m1(e,s,d,p,y,w),e===Be&&(ye=Be=null,Se=0),Ys=t,fi=e,qn=s,Vu=d,Gu=c,ng=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Bx(ql,function(){return yg(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=O.T,O.T=null,c=V.p,V.p=2,p=Ae,Ae|=4;try{Ax(e,t,s)}finally{Ae=p,V.p=c,O.T=r}}rt=1,mg(),pg(),gg()}}function mg(){if(rt===1){rt=0;var e=fi,t=Ys,s=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||s){s=O.T,O.T=null;var r=V.p;V.p=2;var c=Ae;Ae|=4;try{Pp(t,e);var d=sd,p=em(e.containerInfo),y=d.focusedElem,w=d.selectionRange;if(p!==y&&y&&y.ownerDocument&&Wh(y.ownerDocument.documentElement,y)){if(w!==null&&jc(y)){var j=w.start,k=w.end;if(k===void 0&&(k=j),"selectionStart"in y)y.selectionStart=j,y.selectionEnd=Math.min(k,y.value.length);else{var L=y.ownerDocument||document,D=L&&L.defaultView||window;if(D.getSelection){var R=D.getSelection(),K=y.textContent.length,se=Math.min(w.start,K),Ue=w.end===void 0?se:Math.min(w.end,K);!R.extend&&se>Ue&&(p=Ue,Ue=se,se=p);var T=Jh(y,se),E=Jh(y,Ue);if(T&&E&&(R.rangeCount!==1||R.anchorNode!==T.node||R.anchorOffset!==T.offset||R.focusNode!==E.node||R.focusOffset!==E.offset)){var A=L.createRange();A.setStart(T.node,T.offset),R.removeAllRanges(),se>Ue?(R.addRange(A),R.extend(E.node,E.offset)):(A.setEnd(E.node,E.offset),R.addRange(A))}}}}for(L=[],R=y;R=R.parentNode;)R.nodeType===1&&L.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<L.length;y++){var I=L[y];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}Zr=!!id,sd=id=null}finally{Ae=c,V.p=r,O.T=s}}e.current=t,rt=2}}function pg(){if(rt===2){rt=0;var e=fi,t=Ys,s=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||s){s=O.T,O.T=null;var r=V.p;V.p=2;var c=Ae;Ae|=4;try{Gp(e,t.alternate,t)}finally{Ae=c,V.p=r,O.T=s}}rt=3}}function gg(){if(rt===4||rt===3){rt=0,a1();var e=fi,t=Ys,s=qn,r=ng;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?rt=5:(rt=0,Ys=fi=null,vg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(di=null),uc(s),t=t.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(pa,t,void 0,(t.current.flags&128)===128)}catch(w){}if(r!==null){t=O.T,c=V.p,V.p=2,O.T=null;try{for(var d=e.onRecoverableError,p=0;p<r.length;p++){var y=r[p];d(y.value,{componentStack:y.stack})}}finally{O.T=t,V.p=c}}(qn&3)!==0&&Br(),xn(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===Yu?Ka++:(Ka=0,Yu=e):Ka=0,Za(0)}}function vg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ma(t)))}function Br(){return mg(),pg(),gg(),yg()}function yg(){if(rt!==5)return!1;var e=fi,t=Vu;Vu=0;var s=uc(qn),r=O.T,c=V.p;try{V.p=32>s?32:s,O.T=null,s=Gu,Gu=null;var d=fi,p=qn;if(rt=0,Ys=fi=null,qn=0,(Ae&6)!==0)throw Error(l(331));var y=Ae;if(Ae|=4,Wp(d.current),Kp(d,d.current,p,s),Ae=y,Za(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(pa,d)}catch(w){}return!0}finally{V.p=c,O.T=r,vg(e,t)}}function _g(e,t,s){t=Jt(s,t),t=Su(e.stateNode,t,2),e=ai(e,t,2),e!==null&&(va(e,2),xn(e))}function Re(e,t,s){if(e.tag===3)_g(e,e,s);else for(;t!==null;){if(t.tag===3){_g(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(di===null||!di.has(r))){e=Jt(s,e),s=xp(2),r=ai(t,s,2),r!==null&&(bp(s,r,t,e),va(r,2),xn(r));break}}t=t.return}}function Xu(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new Mx;var c=new Set;r.set(t,c)}else c=r.get(t),c===void 0&&(c=new Set,r.set(t,c));c.has(s)||(Bu=!0,c.add(s),e=Ix.bind(null,e,t,s),t.then(e,e))}function Ix(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Be===e&&(Se&s)===s&&(Je===4||Je===3&&(Se&62914560)===Se&&300>Lt()-Or?(Ae&2)===0&&Qs(e,0):Hu|=s,Gs===Se&&(Gs=0)),xn(e)}function xg(e,t){t===0&&(t=mh()),e=Ui(e,t),e!==null&&(va(e,t),xn(e))}function Lx(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),xg(e,s)}function Ux(e,t){var s=0;switch(e.tag){case 31:case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(t),xg(e,s)}function Bx(e,t){return lc(e,t)}var Hr=null,Xs=null,Pu=!1,qr=!1,$u=!1,mi=0;function xn(e){e!==Xs&&e.next===null&&(Xs===null?Hr=Xs=e:Xs=Xs.next=e),qr=!0,Pu||(Pu=!0,qx())}function Za(e,t){if(!$u&&qr){$u=!0;do for(var s=!1,r=Hr;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var d=0;else{var p=r.suspendedLanes,y=r.pingedLanes;d=(1<<31-Bt(42|e)+1)-1,d&=c&~(p&~y),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Eg(r,d))}else d=Se,d=Ql(r,r===Be?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(d&3)===0||ga(r,d)||(s=!0,Eg(r,d));r=r.next}while(s);$u=!1}}function Hx(){bg()}function bg(){qr=Pu=!1;var e=0;mi!==0&&Zx()&&(e=mi);for(var t=Lt(),s=null,r=Hr;r!==null;){var c=r.next,d=Sg(r,t);d===0?(r.next=null,s===null?Hr=c:s.next=c,c===null&&(Xs=s)):(s=r,(e!==0||(d&3)!==0)&&(qr=!0)),r=c}rt!==0&&rt!==5||Za(e),mi!==0&&(mi=0)}function Sg(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var p=31-Bt(d),y=1<<p,w=c[p];w===-1?((y&s)===0||(y&r)!==0)&&(c[p]=h1(y,t)):w<=t&&(e.expiredLanes|=y),d&=~y}if(t=Be,s=Se,s=Ql(e,e===t?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,s===0||e===t&&(Me===2||Me===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&rc(r),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||ga(e,s)){if(t=s&-s,t===e.callbackPriority)return t;switch(r!==null&&rc(r),uc(s)){case 2:case 8:s=fh;break;case 32:s=ql;break;case 268435456:s=hh;break;default:s=ql}return r=wg.bind(null,e),s=lc(s,r),e.callbackPriority=t,e.callbackNode=s,t}return r!==null&&r!==null&&rc(r),e.callbackPriority=2,e.callbackNode=null,2}function wg(e,t){if(rt!==0&&rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Br()&&e.callbackNode!==s)return null;var r=Se;return r=Ql(e,e===Be?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(sg(e,r,t),Sg(e,Lt()),e.callbackNode!=null&&e.callbackNode===s?wg.bind(null,e):null)}function Eg(e,t){if(Br())return null;sg(e,t,!0)}function qx(){Wx(function(){(Ae&6)!==0?lc(dh,Hx):bg()})}function Ku(){if(mi===0){var e=Rs;e===0&&(e=Vl,Vl<<=1,(Vl&261888)===0&&(Vl=256)),mi=e}return mi}function Ng(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:$l(""+e)}function Cg(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}function Vx(e,t,s,r,c){if(t==="submit"&&s&&s.stateNode===c){var d=Ng((c[Ct]||null).action),p=r.submitter;p&&(t=(t=p[Ct]||null)?Ng(t.formAction):p.getAttribute("formAction"),t!==null&&(d=t,p=null));var y=new Wl("action","action",null,r,c);e.push({event:y,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(mi!==0){var w=p?Cg(c,p):new FormData(c);gu(s,{pending:!0,data:w,method:c.method,action:d},null,w)}}else typeof d=="function"&&(y.preventDefault(),w=p?Cg(c,p):new FormData(c),gu(s,{pending:!0,data:w,method:c.method,action:d},d,w))},currentTarget:c}]})}}for(var Zu=0;Zu<Oc.length;Zu++){var Ju=Oc[Zu],Gx=Ju.toLowerCase(),Yx=Ju[0].toUpperCase()+Ju.slice(1);on(Gx,"on"+Yx)}on(im,"onAnimationEnd"),on(sm,"onAnimationIteration"),on(am,"onAnimationStart"),on("dblclick","onDoubleClick"),on("focusin","onFocus"),on("focusout","onBlur"),on(lx,"onTransitionRun"),on(rx,"onTransitionStart"),on(ox,"onTransitionCancel"),on(lm,"onTransitionEnd"),ys("onMouseEnter",["mouseout","mouseover"]),ys("onMouseLeave",["mouseout","mouseover"]),ys("onPointerEnter",["pointerout","pointerover"]),ys("onPointerLeave",["pointerout","pointerover"]),zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ja));function Tg(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],c=r.event;r=r.listeners;e:{var d=void 0;if(t)for(var p=r.length-1;0<=p;p--){var y=r[p],w=y.instance,j=y.currentTarget;if(y=y.listener,w!==d&&c.isPropagationStopped())break e;d=y,c.currentTarget=j;try{d(c)}catch(k){nr(k)}c.currentTarget=null,d=w}else for(p=0;p<r.length;p++){if(y=r[p],w=y.instance,j=y.currentTarget,y=y.listener,w!==d&&c.isPropagationStopped())break e;d=y,c.currentTarget=j;try{d(c)}catch(k){nr(k)}c.currentTarget=null,d=w}}}}function _e(e,t){var s=t[dc];s===void 0&&(s=t[dc]=new Set);var r=e+"__bubble";s.has(r)||(Ag(t,e,2,!1),s.add(r))}function Wu(e,t,s){var r=0;t&&(r|=4),Ag(s,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function ed(e){if(!e[Vr]){e[Vr]=!0,bh.forEach(function(s){s!=="selectionchange"&&(Qx.has(s)||Wu(s,!1,e),Wu(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vr]||(t[Vr]=!0,Wu("selectionchange",!1,t))}}function Ag(e,t,s,r){switch(i0(t)){case 2:var c=_b;break;case 8:c=xb;break;default:c=pd}s=c.bind(null,t,s,e),c=void 0,!xc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(t,s,{capture:!0,passive:c}):e.addEventListener(t,s,!0):c!==void 0?e.addEventListener(t,s,{passive:c}):e.addEventListener(t,s,!1)}function td(e,t,s,r,c){var d=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var p=r.tag;if(p===3||p===4){var y=r.stateNode.containerInfo;if(y===c)break;if(p===4)for(p=r.return;p!==null;){var w=p.tag;if((w===3||w===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;y!==null;){if(p=ps(y),p===null)return;if(w=p.tag,w===5||w===6||w===26||w===27){r=d=p;continue e}y=y.parentNode}}r=r.return}Oh(function(){var j=d,k=yc(s),L=[];e:{var D=rm.get(e);if(D!==void 0){var R=Wl,K=e;switch(e){case"keypress":if(Zl(s)===0)break e;case"keydown":case"keyup":R=U1;break;case"focusin":K="focus",R=Ec;break;case"focusout":K="blur",R=Ec;break;case"beforeblur":case"afterblur":R=Ec;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=Ih;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=C1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=q1;break;case im:case sm:case am:R=j1;break;case lm:R=G1;break;case"scroll":case"scrollend":R=E1;break;case"wheel":R=Q1;break;case"copy":case"cut":case"paste":R=M1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Uh;break;case"toggle":case"beforetoggle":R=X1}var se=(t&4)!==0,Ue=!se&&(e==="scroll"||e==="scrollend"),T=se?D!==null?D+"Capture":null:D;se=[];for(var E=j,A;E!==null;){var I=E;if(A=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||A===null||T===null||(I=xa(E,T),I!=null&&se.push(Wa(E,I,A))),Ue)break;E=E.return}0<se.length&&(D=new R(D,K,null,s,k),L.push({event:D,listeners:se}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",D&&s!==vc&&(K=s.relatedTarget||s.fromElement)&&(ps(K)||K[ms]))break e;if((R||D)&&(D=k.window===k?k:(D=k.ownerDocument)?D.defaultView||D.parentWindow:window,R?(K=s.relatedTarget||s.toElement,R=j,K=K?ps(K):null,K!==null&&(Ue=u(K),se=K.tag,K!==Ue||se!==5&&se!==27&&se!==6)&&(K=null)):(R=null,K=j),R!==K)){if(se=Ih,I="onMouseLeave",T="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(se=Uh,I="onPointerLeave",T="onPointerEnter",E="pointer"),Ue=R==null?D:_a(R),A=K==null?D:_a(K),D=new se(I,E+"leave",R,s,k),D.target=Ue,D.relatedTarget=A,I=null,ps(k)===j&&(se=new se(T,E+"enter",K,s,k),se.target=A,se.relatedTarget=Ue,I=se),Ue=I,R&&K)t:{for(se=Fx,T=R,E=K,A=0,I=T;I;I=se(I))A++;I=0;for(var ne=E;ne;ne=se(ne))I++;for(;0<A-I;)T=se(T),A--;for(;0<I-A;)E=se(E),I--;for(;A--;){if(T===E||E!==null&&T===E.alternate){se=T;break t}T=se(T),E=se(E)}se=null}else se=null;R!==null&&jg(L,D,R,se,!1),K!==null&&Ue!==null&&jg(L,Ue,K,se,!0)}}e:{if(D=j?_a(j):window,R=D.nodeName&&D.nodeName.toLowerCase(),R==="select"||R==="input"&&D.type==="file")var Ce=Fh;else if(Yh(D))if(Xh)Ce=ix;else{Ce=tx;var W=ex}else R=D.nodeName,!R||R.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?j&&gc(j.elementType)&&(Ce=Fh):Ce=nx;if(Ce&&(Ce=Ce(e,j))){Qh(L,Ce,s,k);break e}W&&W(e,D,j),e==="focusout"&&j&&D.type==="number"&&j.memoizedProps.value!=null&&pc(D,"number",D.value)}switch(W=j?_a(j):window,e){case"focusin":(Yh(W)||W.contentEditable==="true")&&(Es=W,Dc=j,Aa=null);break;case"focusout":Aa=Dc=Es=null;break;case"mousedown":Mc=!0;break;case"contextmenu":case"mouseup":case"dragend":Mc=!1,tm(L,s,k);break;case"selectionchange":if(ax)break;case"keydown":case"keyup":tm(L,s,k)}var me;if(Cc)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else ws?Vh(e,s)&&(we="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(we="onCompositionStart");we&&(Bh&&s.locale!=="ko"&&(ws||we!=="onCompositionStart"?we==="onCompositionEnd"&&ws&&(me=zh()):(Jn=k,bc="value"in Jn?Jn.value:Jn.textContent,ws=!0)),W=Gr(j,we),0<W.length&&(we=new Lh(we,e,null,s,k),L.push({event:we,listeners:W}),me?we.data=me:(me=Gh(s),me!==null&&(we.data=me)))),(me=$1?K1(e,s):Z1(e,s))&&(we=Gr(j,"onBeforeInput"),0<we.length&&(W=new Lh("onBeforeInput","beforeinput",null,s,k),L.push({event:W,listeners:we}),W.data=me)),Vx(L,e,j,s,k)}Tg(L,t)})}function Wa(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Gr(e,t){for(var s=t+"Capture",r=[];e!==null;){var c=e,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=xa(e,s),c!=null&&r.unshift(Wa(e,c,d)),c=xa(e,t),c!=null&&r.push(Wa(e,c,d))),e.tag===3)return r;e=e.return}return[]}function Fx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function jg(e,t,s,r,c){for(var d=t._reactName,p=[];s!==null&&s!==r;){var y=s,w=y.alternate,j=y.stateNode;if(y=y.tag,w!==null&&w===r)break;y!==5&&y!==26&&y!==27||j===null||(w=j,c?(j=xa(s,d),j!=null&&p.unshift(Wa(s,j,w))):c||(j=xa(s,d),j!=null&&p.push(Wa(s,j,w)))),s=s.return}p.length!==0&&e.push({event:t,listeners:p})}var Xx=/\r\n?/g,Px=/\u0000|\uFFFD/g;function Dg(e){return(typeof e=="string"?e:""+e).replace(Xx,`
`).replace(Px,"")}function Mg(e,t){return t=Dg(t),Dg(e)===t}function Le(e,t,s,r,c,d){switch(s){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||xs(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&xs(e,""+r);break;case"className":Xl(e,"class",r);break;case"tabIndex":Xl(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Xl(e,s,r);break;case"style":Mh(e,r,d);break;case"data":if(t!=="object"){Xl(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||s!=="href")){e.removeAttribute(s);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=$l(""+r),e.setAttribute(s,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(t!=="input"&&Le(e,t,"name",c.name,c,null),Le(e,t,"formEncType",c.formEncType,c,null),Le(e,t,"formMethod",c.formMethod,c,null),Le(e,t,"formTarget",c.formTarget,c,null)):(Le(e,t,"encType",c.encType,c,null),Le(e,t,"method",c.method,c,null),Le(e,t,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=$l(""+r),e.setAttribute(s,r);break;case"onClick":r!=null&&(e.onclick=Cn);break;case"onScroll":r!=null&&_e("scroll",e);break;case"onScrollEnd":r!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}s=$l(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""+r):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":r===!0?e.setAttribute(s,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,r):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(s,r):e.removeAttribute(s);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(s):e.setAttribute(s,r);break;case"popover":_e("beforetoggle",e),_e("toggle",e),Fl(e,"popover",r);break;case"xlinkActuate":Nn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Nn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Nn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Nn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Nn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Nn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Nn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Nn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Nn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Fl(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=S1.get(s)||s,Fl(e,s,r))}}function nd(e,t,s,r,c,d){switch(s){case"style":Mh(e,r,d);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"children":typeof r=="string"?xs(e,r):(typeof r=="number"||typeof r=="bigint")&&xs(e,""+r);break;case"onScroll":r!=null&&_e("scroll",e);break;case"onScrollEnd":r!=null&&_e("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sh.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),t=s.slice(2,c?s.length-7:void 0),d=e[Ct]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(t,d,c),typeof r=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,r,c);break e}s in e?e[s]=r:r===!0?e.setAttribute(s,""):Fl(e,s,r)}}}function bt(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var r=!1,c=!1,d;for(d in s)if(s.hasOwnProperty(d)){var p=s[d];if(p!=null)switch(d){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Le(e,t,d,p,s,null)}}c&&Le(e,t,"srcSet",s.srcSet,s,null),r&&Le(e,t,"src",s.src,s,null);return;case"input":_e("invalid",e);var y=d=p=c=null,w=null,j=null;for(r in s)if(s.hasOwnProperty(r)){var k=s[r];if(k!=null)switch(r){case"name":c=k;break;case"type":p=k;break;case"checked":w=k;break;case"defaultChecked":j=k;break;case"value":d=k;break;case"defaultValue":y=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(l(137,t));break;default:Le(e,t,r,k,s,null)}}Th(e,d,y,w,j,p,c,!1);return;case"select":_e("invalid",e),r=p=d=null;for(c in s)if(s.hasOwnProperty(c)&&(y=s[c],y!=null))switch(c){case"value":d=y;break;case"defaultValue":p=y;break;case"multiple":r=y;default:Le(e,t,c,y,s,null)}t=d,s=p,e.multiple=!!r,t!=null?_s(e,!!r,t,!1):s!=null&&_s(e,!!r,s,!0);return;case"textarea":_e("invalid",e),d=c=r=null;for(p in s)if(s.hasOwnProperty(p)&&(y=s[p],y!=null))switch(p){case"value":r=y;break;case"defaultValue":c=y;break;case"children":d=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(l(91));break;default:Le(e,t,p,y,s,null)}jh(e,r,c,d);return;case"option":for(w in s)if(s.hasOwnProperty(w)&&(r=s[w],r!=null))switch(w){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Le(e,t,w,r,s,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(r=0;r<Ja.length;r++)_e(Ja[r],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(r=s[j],r!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Le(e,t,j,r,s,null)}return;default:if(gc(t)){for(k in s)s.hasOwnProperty(k)&&(r=s[k],r!==void 0&&nd(e,t,k,r,s,void 0));return}}for(y in s)s.hasOwnProperty(y)&&(r=s[y],r!=null&&Le(e,t,y,r,s,null))}function $x(e,t,s,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,p=null,y=null,w=null,j=null,k=null;for(R in s){var L=s[R];if(s.hasOwnProperty(R)&&L!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":w=L;default:r.hasOwnProperty(R)||Le(e,t,R,null,r,L)}}for(var D in r){var R=r[D];if(L=s[D],r.hasOwnProperty(D)&&(R!=null||L!=null))switch(D){case"type":d=R;break;case"name":c=R;break;case"checked":j=R;break;case"defaultChecked":k=R;break;case"value":p=R;break;case"defaultValue":y=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(l(137,t));break;default:R!==L&&Le(e,t,D,R,r,L)}}mc(e,p,y,w,j,k,d,c);return;case"select":R=p=y=D=null;for(d in s)if(w=s[d],s.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":R=w;default:r.hasOwnProperty(d)||Le(e,t,d,null,r,w)}for(c in r)if(d=r[c],w=s[c],r.hasOwnProperty(c)&&(d!=null||w!=null))switch(c){case"value":D=d;break;case"defaultValue":y=d;break;case"multiple":p=d;default:d!==w&&Le(e,t,c,d,r,w)}t=y,s=p,r=R,D!=null?_s(e,!!s,D,!1):!!r!=!!s&&(t!=null?_s(e,!!s,t,!0):_s(e,!!s,s?[]:"",!1));return;case"textarea":R=D=null;for(y in s)if(c=s[y],s.hasOwnProperty(y)&&c!=null&&!r.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Le(e,t,y,null,r,c)}for(p in r)if(c=r[p],d=s[p],r.hasOwnProperty(p)&&(c!=null||d!=null))switch(p){case"value":D=c;break;case"defaultValue":R=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==d&&Le(e,t,p,c,r,d)}Ah(e,D,R);return;case"option":for(var K in s)if(D=s[K],s.hasOwnProperty(K)&&D!=null&&!r.hasOwnProperty(K))switch(K){case"selected":e.selected=!1;break;default:Le(e,t,K,null,r,D)}for(w in r)if(D=r[w],R=s[w],r.hasOwnProperty(w)&&D!==R&&(D!=null||R!=null))switch(w){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Le(e,t,w,D,r,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in s)D=s[se],s.hasOwnProperty(se)&&D!=null&&!r.hasOwnProperty(se)&&Le(e,t,se,null,r,D);for(j in r)if(D=r[j],R=s[j],r.hasOwnProperty(j)&&D!==R&&(D!=null||R!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(137,t));break;default:Le(e,t,j,D,r,R)}return;default:if(gc(t)){for(var Ue in s)D=s[Ue],s.hasOwnProperty(Ue)&&D!==void 0&&!r.hasOwnProperty(Ue)&&nd(e,t,Ue,void 0,r,D);for(k in r)D=r[k],R=s[k],!r.hasOwnProperty(k)||D===R||D===void 0&&R===void 0||nd(e,t,k,D,r,R);return}}for(var T in s)D=s[T],s.hasOwnProperty(T)&&D!=null&&!r.hasOwnProperty(T)&&Le(e,t,T,null,r,D);for(L in r)D=r[L],R=s[L],!r.hasOwnProperty(L)||D===R||D==null&&R==null||Le(e,t,L,D,r,R)}function Rg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Kx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,s=performance.getEntriesByType("resource"),r=0;r<s.length;r++){var c=s[r],d=c.transferSize,p=c.initiatorType,y=c.duration;if(d&&y&&Rg(p)){for(p=0,y=c.responseEnd,r+=1;r<s.length;r++){var w=s[r],j=w.startTime;if(j>y)break;var k=w.transferSize,L=w.initiatorType;k&&Rg(L)&&(w=w.responseEnd,p+=k*(w<y?1:(y-j)/(w-j)))}if(--r,t+=8*(d+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var id=null,sd=null;function Yr(e){return e.nodeType===9?e:e.ownerDocument}function Og(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ad(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ld=null;function Zx(){var e=window.event;return e&&e.type==="popstate"?e===ld?!1:(ld=e,!0):(ld=null,!1)}var kg=typeof setTimeout=="function"?setTimeout:void 0,Jx=typeof clearTimeout=="function"?clearTimeout:void 0,Ig=typeof Promise=="function"?Promise:void 0,Wx=typeof queueMicrotask=="function"?queueMicrotask:typeof Ig!="undefined"?function(e){return Ig.resolve(null).then(e).catch(eb)}:kg;function eb(e){setTimeout(function(){throw e})}function pi(e){return e==="head"}function Lg(e,t){var s=t,r=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(r===0){e.removeChild(c),Zs(t);return}r--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")r++;else if(s==="html")el(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,el(s);for(var d=s.firstChild;d;){var p=d.nextSibling,y=d.nodeName;d[ya]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=p}}else s==="body"&&el(e.ownerDocument.body);s=c}while(s);Zs(t)}function Ug(e,t){var s=e;e=0;do{var r=s.nextSibling;if(s.nodeType===1?t?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(t?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),r&&r.nodeType===8)if(s=r.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=r}while(s)}function rd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":rd(s),fc(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function tb(e,t,s,r){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[ya])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=sn(e.nextSibling),e===null)break}return null}function nb(e,t,s){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=sn(e.nextSibling),e===null))return null;return e}function Bg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=sn(e.nextSibling),e===null))return null;return e}function od(e){return e.data==="$?"||e.data==="$~"}function cd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ib(e,t){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||s.readyState!=="loading")t();else{var r=function(){t(),s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function sn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ud=null;function Hg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(t===0)return sn(e.nextSibling);t--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||t++}e=e.nextSibling}return null}function qg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(t===0)return e;t--}else s!=="/$"&&s!=="/&"||t++}e=e.previousSibling}return null}function Vg(e,t,s){switch(t=Yr(s),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function el(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);fc(e)}var an=new Map,Gg=new Set;function Qr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Vn=V.d;V.d={f:sb,r:ab,D:lb,C:rb,L:ob,m:cb,X:db,S:ub,M:fb};function sb(){var e=Vn.f(),t=Ir();return e||t}function ab(e){var t=gs(e);t!==null&&t.tag===5&&t.type==="form"?lp(t):Vn.r(e)}var Ps=typeof document=="undefined"?null:document;function Yg(e,t,s){var r=Ps;if(r&&typeof t=="string"&&t){var c=Kt(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Gg.has(c)||(Gg.add(c),e={rel:e,crossOrigin:s,href:t},r.querySelector(c)===null&&(t=r.createElement("link"),bt(t,"link",e),ut(t),r.head.appendChild(t)))}}function lb(e){Vn.D(e),Yg("dns-prefetch",e,null)}function rb(e,t){Vn.C(e,t),Yg("preconnect",e,t)}function ob(e,t,s){Vn.L(e,t,s);var r=Ps;if(r&&e&&t){var c='link[rel="preload"][as="'+Kt(t)+'"]';t==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+Kt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+Kt(s.imageSizes)+'"]')):c+='[href="'+Kt(e)+'"]';var d=c;switch(t){case"style":d=$s(e);break;case"script":d=Ks(e)}an.has(d)||(e=x({rel:"preload",href:t==="image"&&s&&s.imageSrcSet?void 0:e,as:t},s),an.set(d,e),r.querySelector(c)!==null||t==="style"&&r.querySelector(tl(d))||t==="script"&&r.querySelector(nl(d))||(t=r.createElement("link"),bt(t,"link",e),ut(t),r.head.appendChild(t)))}}function cb(e,t){Vn.m(e,t);var s=Ps;if(s&&e){var r=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Kt(r)+'"][href="'+Kt(e)+'"]',d=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ks(e)}if(!an.has(d)&&(e=x({rel:"modulepreload",href:e},t),an.set(d,e),s.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(nl(d)))return}r=s.createElement("link"),bt(r,"link",e),ut(r),s.head.appendChild(r)}}}function ub(e,t,s){Vn.S(e,t,s);var r=Ps;if(r&&e){var c=vs(r).hoistableStyles,d=$s(e);t=t||"default";var p=c.get(d);if(!p){var y={loading:0,preload:null};if(p=r.querySelector(tl(d)))y.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},s),(s=an.get(d))&&dd(e,s);var w=p=r.createElement("link");ut(w),bt(w,"link",e),w._p=new Promise(function(j,k){w.onload=j,w.onerror=k}),w.addEventListener("load",function(){y.loading|=1}),w.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Fr(p,t,r)}p={type:"stylesheet",instance:p,count:1,state:y},c.set(d,p)}}}function db(e,t){Vn.X(e,t);var s=Ps;if(s&&e){var r=vs(s).hoistableScripts,c=Ks(e),d=r.get(c);d||(d=s.querySelector(nl(c)),d||(e=x({src:e,async:!0},t),(t=an.get(c))&&fd(e,t),d=s.createElement("script"),ut(d),bt(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(c,d))}}function fb(e,t){Vn.M(e,t);var s=Ps;if(s&&e){var r=vs(s).hoistableScripts,c=Ks(e),d=r.get(c);d||(d=s.querySelector(nl(c)),d||(e=x({src:e,async:!0,type:"module"},t),(t=an.get(c))&&fd(e,t),d=s.createElement("script"),ut(d),bt(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(c,d))}}function Qg(e,t,s,r){var c=(c=pe.current)?Qr(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(t=$s(s.href),s=vs(c).hoistableStyles,r=s.get(t),r||(r={type:"style",instance:null,count:0,state:null},s.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=$s(s.href);var d=vs(c).hoistableStyles,p=d.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,p),(d=c.querySelector(tl(e)))&&!d._p&&(p.instance=d,p.state.loading=5),an.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},an.set(e,s),d||hb(c,e,s,p.state))),t&&r===null)throw Error(l(528,""));return p}if(t&&r!==null)throw Error(l(529,""));return null;case"script":return t=s.async,s=s.src,typeof s=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ks(s),s=vs(c).hoistableScripts,r=s.get(t),r||(r={type:"script",instance:null,count:0,state:null},s.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function $s(e){return'href="'+Kt(e)+'"'}function tl(e){return'link[rel="stylesheet"]['+e+"]"}function Fg(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function hb(e,t,s,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),bt(t,"link",s),ut(t),e.head.appendChild(t))}function Ks(e){return'[src="'+Kt(e)+'"]'}function nl(e){return"script[async]"+e}function Xg(e,t,s){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Kt(s.href)+'"]');if(r)return t.instance=r,ut(r),r;var c=x({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),ut(r),bt(r,"style",c),Fr(r,s.precedence,e),t.instance=r;case"stylesheet":c=$s(s.href);var d=e.querySelector(tl(c));if(d)return t.state.loading|=4,t.instance=d,ut(d),d;r=Fg(s),(c=an.get(c))&&dd(r,c),d=(e.ownerDocument||e).createElement("link"),ut(d);var p=d;return p._p=new Promise(function(y,w){p.onload=y,p.onerror=w}),bt(d,"link",r),t.state.loading|=4,Fr(d,s.precedence,e),t.instance=d;case"script":return d=Ks(s.src),(c=e.querySelector(nl(d)))?(t.instance=c,ut(c),c):(r=s,(c=an.get(d))&&(r=x({},s),fd(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),ut(c),bt(c,"link",r),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Fr(r,s.precedence,e));return t.instance}function Fr(e,t,s){for(var r=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,d=c,p=0;p<r.length;p++){var y=r[p];if(y.dataset.precedence===t)d=y;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=s.nodeType===9?s.head:s,t.insertBefore(e,t.firstChild))}function dd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function fd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Xr=null;function Pg(e,t,s){if(Xr===null){var r=new Map,c=Xr=new Map;c.set(s,r)}else c=Xr,r=c.get(s),r||(r=new Map,c.set(s,r));if(r.has(e))return r;for(r.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var d=s[c];if(!(d[ya]||d[vt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var p=d.getAttribute(t)||"";p=e+p;var y=r.get(p);y?y.push(d):r.set(p,[d])}}return r}function $g(e,t,s){e=e.ownerDocument||e,e.head.insertBefore(s,t==="title"?e.querySelector("head > title"):null)}function mb(e,t,s){if(s===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Kg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function pb(e,t,s,r){if(s.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=$s(r.href),d=t.querySelector(tl(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Pr.bind(e),t.then(e,e)),s.state.loading|=4,s.instance=d,ut(d);return}d=t.ownerDocument||t,r=Fg(r),(c=an.get(c))&&dd(r,c),d=d.createElement("link"),ut(d);var p=d;p._p=new Promise(function(y,w){p.onload=y,p.onerror=w}),bt(d,"link",r),s.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Pr.bind(e),t.addEventListener("load",s),t.addEventListener("error",s))}}var hd=0;function gb(e,t){return e.stylesheets&&e.count===0&&Kr(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var r=setTimeout(function(){if(e.stylesheets&&Kr(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&hd===0&&(hd=62500*Kx());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Kr(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>hd?50:800)+t);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function Pr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var $r=null;function Kr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,$r=new Map,t.forEach(vb,e),$r=null,Pr.call(e))}function vb(e,t){if(!(t.state.loading&4)){var s=$r.get(e);if(s)var r=s.get(null);else{s=new Map,$r.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var p=c[d];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),r=p)}r&&s.set(null,r)}c=t.instance,p=c.getAttribute("data-precedence"),d=s.get(p)||r,d===r&&s.set(null,c),s.set(p,c),this.count++,r=Pr.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var il={$$typeof:F,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function yb(e,t,s,r,c,d,p,y,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oc(0),this.hiddenUpdates=oc(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Zg(e,t,s,r,c,d,p,y,w,j,k,L){return e=new yb(e,t,s,p,w,j,k,L,y),t=1,d===!0&&(t|=24),d=qt(3,null,null,t),e.current=d,d.stateNode=e,t=Fc(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:r,isDehydrated:s,cache:t},Kc(d),e}function Jg(e){return e?(e=Ts,e):Ts}function Wg(e,t,s,r,c,d){c=Jg(c),r.context===null?r.context=c:r.pendingContext=c,r=si(t),r.payload={element:s},d=d===void 0?null:d,d!==null&&(r.callback=d),s=ai(e,r,t),s!==null&&(Rt(s,e,t),ka(s,e,t))}function e0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function md(e,t){e0(e,t),(e=e.alternate)&&e0(e,t)}function t0(e){if(e.tag===13||e.tag===31){var t=Ui(e,67108864);t!==null&&Rt(t,e,67108864),md(e,67108864)}}function n0(e){if(e.tag===13||e.tag===31){var t=Ft();t=cc(t);var s=Ui(e,t);s!==null&&Rt(s,e,t),md(e,t)}}var Zr=!0;function _b(e,t,s,r){var c=O.T;O.T=null;var d=V.p;try{V.p=2,pd(e,t,s,r)}finally{V.p=d,O.T=c}}function xb(e,t,s,r){var c=O.T;O.T=null;var d=V.p;try{V.p=8,pd(e,t,s,r)}finally{V.p=d,O.T=c}}function pd(e,t,s,r){if(Zr){var c=gd(r);if(c===null)td(e,t,r,Jr,s),s0(e,r);else if(Sb(c,e,t,s,r))r.stopPropagation();else if(s0(e,r),t&4&&-1<bb.indexOf(e)){for(;c!==null;){var d=gs(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var p=Oi(d.pendingLanes);if(p!==0){var y=d;for(y.pendingLanes|=2,y.entangledLanes|=2;p;){var w=1<<31-Bt(p);y.entanglements[1]|=w,p&=~w}xn(d),(Ae&6)===0&&(zr=Lt()+500,Za(0))}}break;case 31:case 13:y=Ui(d,2),y!==null&&Rt(y,d,2),Ir(),md(d,2)}if(d=gd(r),d===null&&td(e,t,r,Jr,s),d===c)break;c=d}c!==null&&r.stopPropagation()}else td(e,t,r,null,s)}}function gd(e){return e=yc(e),vd(e)}var Jr=null;function vd(e){if(Jr=null,e=ps(e),e!==null){var t=u(e);if(t===null)e=null;else{var s=t.tag;if(s===13){if(e=f(t),e!==null)return e;e=null}else if(s===31){if(e=m(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Jr=e,null}function i0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(l1()){case dh:return 2;case fh:return 8;case ql:case r1:return 32;case hh:return 268435456;default:return 32}default:return 32}}var yd=!1,gi=null,vi=null,yi=null,sl=new Map,al=new Map,_i=[],bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function s0(e,t){switch(e){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":sl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(t.pointerId)}}function ll(e,t,s,r,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:d,targetContainers:[c]},t!==null&&(t=gs(t),t!==null&&t0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Sb(e,t,s,r,c){switch(t){case"focusin":return gi=ll(gi,e,t,s,r,c),!0;case"dragenter":return vi=ll(vi,e,t,s,r,c),!0;case"mouseover":return yi=ll(yi,e,t,s,r,c),!0;case"pointerover":var d=c.pointerId;return sl.set(d,ll(sl.get(d)||null,e,t,s,r,c)),!0;case"gotpointercapture":return d=c.pointerId,al.set(d,ll(al.get(d)||null,e,t,s,r,c)),!0}return!1}function a0(e){var t=ps(e.target);if(t!==null){var s=u(t);if(s!==null){if(t=s.tag,t===13){if(t=f(s),t!==null){e.blockedOn=t,_h(e.priority,function(){n0(s)});return}}else if(t===31){if(t=m(s),t!==null){e.blockedOn=t,_h(e.priority,function(){n0(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=gd(e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);vc=r,s.target.dispatchEvent(r),vc=null}else return t=gs(s),t!==null&&t0(t),e.blockedOn=s,!1;t.shift()}return!0}function l0(e,t,s){Wr(e)&&s.delete(t)}function wb(){yd=!1,gi!==null&&Wr(gi)&&(gi=null),vi!==null&&Wr(vi)&&(vi=null),yi!==null&&Wr(yi)&&(yi=null),sl.forEach(l0),al.forEach(l0)}function eo(e,t){e.blockedOn===t&&(e.blockedOn=null,yd||(yd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,wb)))}var to=null;function r0(e){to!==e&&(to=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){to===e&&(to=null);for(var t=0;t<e.length;t+=3){var s=e[t],r=e[t+1],c=e[t+2];if(typeof r!="function"){if(vd(r||s)===null)continue;break}var d=gs(s);d!==null&&(e.splice(t,3),t-=3,gu(d,{pending:!0,data:c,method:s.method,action:r},r,c))}}))}function Zs(e){function t(w){return eo(w,e)}gi!==null&&eo(gi,e),vi!==null&&eo(vi,e),yi!==null&&eo(yi,e),sl.forEach(t),al.forEach(t);for(var s=0;s<_i.length;s++){var r=_i[s];r.blockedOn===e&&(r.blockedOn=null)}for(;0<_i.length&&(s=_i[0],s.blockedOn===null);)a0(s),s.blockedOn===null&&_i.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(r=0;r<s.length;r+=3){var c=s[r],d=s[r+1],p=c[Ct]||null;if(typeof d=="function")p||r0(s);else if(p){var y=null;if(d&&d.hasAttribute("formAction")){if(c=d,p=d[Ct]||null)y=p.formAction;else if(vd(c)!==null)continue}else y=p.action;typeof y=="function"?s[r+1]=y:(s.splice(r,3),r-=3),r0(s)}}}function o0(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),r||setTimeout(s,20)}function s(){if(!r&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(s,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function _d(e){this._internalRoot=e}no.prototype.render=_d.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var s=t.current,r=Ft();Wg(s,r,e,t,null,null)},no.prototype.unmount=_d.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wg(e.current,2,null,e,null,null),Ir(),t[ms]=null}};function no(e){this._internalRoot=e}no.prototype.unstable_scheduleHydration=function(e){if(e){var t=yh();e={blockedOn:null,target:e,priority:t};for(var s=0;s<_i.length&&t!==0&&t<_i[s].priority;s++);_i.splice(s,0,e),s===0&&a0(e)}};var c0=n.version;if(c0!=="19.2.3")throw Error(l(527,c0,"19.2.3"));V.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=g(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Eb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!io.isDisabled&&io.supportsFiber)try{pa=io.inject(Eb),Ut=io}catch(e){}}return ol.createRoot=function(e,t){if(!o(e))throw Error(l(299));var s=!1,r="",c=gp,d=vp,p=yp;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=Zg(e,1,!1,null,null,s,r,null,c,d,p,o0),e[ms]=t.current,ed(e),new _d(t)},ol.hydrateRoot=function(e,t,s){if(!o(e))throw Error(l(299));var r=!1,c="",d=gp,p=vp,y=yp,w=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(y=s.onRecoverableError),s.formState!==void 0&&(w=s.formState)),t=Zg(e,1,!0,t,s!=null?s:null,r,c,w,d,p,y,o0),t.context=Jg(null),s=t.current,r=Ft(),r=cc(r),c=si(r),c.callback=null,ai(s,c,r),s=r,t.current.lanes=s,va(t,s),xn(t),e[ms]=t.current,ed(e),new no(t)},ol.version="19.2.3",ol}var S0;function Ub(){if(S0)return Sd.exports;S0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Sd.exports=Lb(),Sd.exports}var Bb=Ub();/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qb=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,a,l)=>l?l.toUpperCase():a.toLowerCase()),w0=i=>{const n=qb(i);return n.charAt(0).toUpperCase()+n.slice(1)},Vv=(...i)=>i.filter((n,a,l)=>!!n&&n.trim()!==""&&l.indexOf(n)===a).join(" ").trim(),Vb=i=>{for(const n in i)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=H.forwardRef((g,v)=>{var b=g,{color:i="currentColor",size:n=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:o="",children:u,iconNode:f}=b,m=ao(b,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return H.createElement("svg",Ne(Ne(ot(Ne({ref:v},Gb),{width:n,height:n,stroke:i,strokeWidth:l?Number(a)*24/Number(n):a,className:Vv("lucide",o)}),!u&&!Vb(m)&&{"aria-hidden":"true"}),m),[...f.map(([x,_])=>H.createElement(x,_)),...Array.isArray(u)?u:[u]])});/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(i,n)=>{const a=H.forwardRef((f,u)=>{var m=f,{className:l}=m,o=ao(m,["className"]);return H.createElement(Yb,Ne({ref:u,iconNode:n,className:Vv(`lucide-${Hb(w0(i))}`,`lucide-${i}`,l)},o))});return a.displayName=w0(i),a};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Fb=re("activity",Qb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Gv=re("arrow-left",Xb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],$b=re("arrow-right",Pb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Zb=re("banknote",Kb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Yv=re("book-open",Jb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],eS=re("bookmark",Wb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],nS=re("brain",tS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],sS=re("briefcase",iS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],pf=re("calendar",aS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],rS=re("check",lS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],cS=re("chevron-down",oS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],E0=re("circle-check-big",uS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Qv=re("circle-check",dS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],la=re("clock",fS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],mS=re("cloud-off",hS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],ho=re("coffee",pS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],vS=re("download",gS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],_S=re("headphones",yS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Ti=re("heart",xS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],SS=re("house",bS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Fv=re("info",wS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]],NS=re("laptop",ES);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],TS=re("layers",CS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],N0=re("lock",AS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Rl=re("message-square",jS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]],MS=re("mic-vocal",DS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],OS=re("moon",RS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Xv=re("palette",zS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],C0=re("pause",kS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ra=re("play",IS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],US=re("scroll-text",LS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],gf=re("search",BS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Pv=re("send",HS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],hl=re("share-2",qS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],GS=re("shield",VS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],QS=re("skip-back",YS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],T0=re("skip-forward",FS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],PS=re("smartphone",XS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],is=re("sparkles",$S);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],$v=re("sun",KS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],JS=re("target",ZS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],zo=re("thumbs-up",WS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Kv=re("user",e2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],n2=re("wifi-off",t2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sn=re("x",i2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Yd=re("zap",s2);var ln=(i=>(i[i.STOPPED=0]="STOPPED",i[i.PLAYING=1]="PLAYING",i[i.PAUSED=2]="PAUSED",i[i.BUFFERING=3]="BUFFERING",i))(ln||{});const oa=u=>{var f=u,{children:i,className:n="",variant:a="primary",size:l="md"}=f,o=ao(f,["children","className","variant","size"]);const m="rounded-full font-medium transition-colors focus:outline-none flex items-center justify-center gap-2",v={primary:"bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50",secondary:"bg-slate-700 text-slate-100 hover:bg-slate-600",ghost:"bg-transparent text-slate-400 hover:text-white hover:bg-slate-800/50",icon:"p-2 bg-transparent text-slate-200 hover:bg-slate-800 rounded-full"},g={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},b=v[a],x=a==="icon"?"":g[l];return h.jsx("button",ot(Ne({className:`${m} ${b} ${x} ${n}`},o),{children:i}))},a2=()=>{};var A0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=function(i,n){if(!i)throw fa(n)},fa=function(i){return new Error("Firebase Database ("+Zv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=function(i){const n=[];let a=0;for(let l=0;l<i.length;l++){let o=i.charCodeAt(l);o<128?n[a++]=o:o<2048?(n[a++]=o>>6|192,n[a++]=o&63|128):(o&64512)===55296&&l+1<i.length&&(i.charCodeAt(l+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++l)&1023),n[a++]=o>>18|240,n[a++]=o>>12&63|128,n[a++]=o>>6&63|128,n[a++]=o&63|128):(n[a++]=o>>12|224,n[a++]=o>>6&63|128,n[a++]=o&63|128)}return n},l2=function(i){const n=[];let a=0,l=0;for(;a<i.length;){const o=i[a++];if(o<128)n[l++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[a++];n[l++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[a++],f=i[a++],m=i[a++],v=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;n[l++]=String.fromCharCode(55296+(v>>10)),n[l++]=String.fromCharCode(56320+(v&1023))}else{const u=i[a++],f=i[a++];n[l++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return n.join("")},vf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,n){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,v=o+2<i.length,g=v?i[o+2]:0,b=u>>2,x=(u&3)<<4|m>>4;let _=(m&15)<<2|g>>6,N=g&63;v||(N=64,f||(_=64)),l.push(a[b],a[x],a[_],a[N])}return l.join("")},encodeString(i,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(i):this.encodeByteArray(Jv(i),n)},decodeString(i,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(i):l2(this.decodeStringToByteArray(i,n))},decodeStringToByteArray(i,n){this.init_();const a=n?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let o=0;o<i.length;){const u=a[i.charAt(o++)],m=o<i.length?a[i.charAt(o)]:0;++o;const g=o<i.length?a[i.charAt(o)]:64;++o;const x=o<i.length?a[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||x==null)throw new r2;const _=u<<2|m>>4;if(l.push(_),g!==64){const N=m<<4&240|g>>2;if(l.push(N),x!==64){const C=g<<6&192|x;l.push(C)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class r2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Wv=function(i){const n=Jv(i);return vf.encodeByteArray(n,!0)},mo=function(i){return Wv(i).replace(/\./g,"")},Qd=function(i){try{return vf.decodeString(i,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(i){return ey(void 0,i)}function ey(i,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const a=n;return new Date(a.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return n}for(const a in n)!n.hasOwnProperty(a)||!c2(a)||(i[a]=ey(i[a],n[a]));return i}function c2(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=()=>u2().__FIREBASE_DEFAULTS__,f2=()=>{if(typeof process=="undefined"||typeof A0=="undefined")return;const i=A0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},h2=()=>{if(typeof document=="undefined")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(a){return}const n=i&&Qd(i[1]);return n&&JSON.parse(n)},ty=()=>{try{return a2()||d2()||f2()||h2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},m2=i=>{var n,a;return(a=(n=ty())==null?void 0:n.emulatorHosts)==null?void 0:a[i]},p2=i=>{const n=m2(i);if(!n)return;const a=n.lastIndexOf(":");if(a<=0||a+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const l=parseInt(n.substring(a+1),10);return n[0]==="["?[n.substring(1,a-1),l]:[n.substring(0,a),l]},ny=()=>{var i;return(i=ty())==null?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}wrapCallback(n){return(a,l)=>{a?this.reject(a):this.resolve(l),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(a):n(a,l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch(n){return!1}}function g2(i){return ie(this,null,function*(){return(yield fetch(i,{credentials:"include"})).ok})}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(i,n){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},l=n||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Ne({iss:`https://securetoken.google.com/${l}`,aud:l,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[mo(JSON.stringify(a)),mo(JSON.stringify(f)),""].join(".")}const ml={};function y2(){const i={prod:[],emulator:[]};for(const n of Object.keys(ml))ml[n]?i.emulator.push(n):i.prod.push(n);return i}function _2(i){let n=document.getElementById(i),a=!1;return n||(n=document.createElement("div"),n.setAttribute("id",i),a=!0),{created:a,element:n}}let j0=!1;function x2(i,n){if(typeof window=="undefined"||typeof document=="undefined"||!yf(window.location.host)||ml[i]===n||ml[i]||j0)return;ml[i]=n;function a(_){return`__firebase__banner__${_}`}const l="__firebase__banner",u=y2().prod.length>0;function f(){const _=document.getElementById(l);_&&_.remove()}function m(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function v(_,N){_.setAttribute("width","24"),_.setAttribute("id",N),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function g(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{j0=!0,f()},_}function b(_,N){_.setAttribute("id",N),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function x(){const _=_2(l),N=a("text"),C=document.getElementById(N)||document.createElement("span"),z=a("learnmore"),U=document.getElementById(z)||document.createElement("a"),Y=a("preprendIcon"),$=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const F=_.element;m(F),b(U,z);const oe=g();v($,Y),F.append($,C,U,oe),document.body.appendChild(F)}u?(C.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iy(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(b2())}function S2(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function w2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function E2(){return Zv.NODE_ADMIN===!0}function sy(){try{return typeof indexedDB=="object"}catch(i){return!1}}function ay(){return new Promise((i,n)=>{try{let a=!0;const l="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(l);o.onsuccess=()=>{o.result.close(),a||self.indexedDB.deleteDatabase(l),i(!0)},o.onupgradeneeded=()=>{a=!1},o.onerror=()=>{var u;n(((u=o.error)==null?void 0:u.message)||"")}}catch(a){n(a)}})}function N2(){return!(typeof navigator=="undefined"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="FirebaseError";class ds extends Error{constructor(n,a,l){super(a),this.code=n,this.customData=l,this.name=C2,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ko.prototype.create)}}class ko{constructor(n,a,l){this.service=n,this.serviceName=a,this.errors=l}create(n,...a){const l=a[0]||{},o=`${this.service}/${n}`,u=this.errors[n],f=u?T2(u,l):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ds(o,m,l)}}function T2(i,n){return i.replace(A2,(a,l)=>{const o=n[l];return o!=null?String(o):`<${l}?>`})}const A2=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(i){return JSON.parse(i)}function gt(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=function(i){let n={},a={},l={},o="";try{const u=i.split(".");n=xl(Qd(u[0])||""),a=xl(Qd(u[1])||""),o=u[2],l=a.d||{},delete a.d}catch(u){}return{header:n,claims:a,data:l,signature:o}},j2=function(i){const n=ly(i),a=n.claims;return!!a&&typeof a=="object"&&a.hasOwnProperty("iat")},D2=function(i){const n=ly(i).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(i,n){return Object.prototype.hasOwnProperty.call(i,n)}function ss(i,n){if(Object.prototype.hasOwnProperty.call(i,n))return i[n]}function D0(i){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n))return!1;return!0}function po(i,n,a){const l={};for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&(l[o]=n.call(a,i[o],o,i));return l}function bl(i,n){if(i===n)return!0;const a=Object.keys(i),l=Object.keys(n);for(const o of a){if(!l.includes(o))return!1;const u=i[o],f=n[o];if(M0(u)&&M0(f)){if(!bl(u,f))return!1}else if(u!==f)return!1}for(const o of l)if(!a.includes(o))return!1;return!0}function M0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(i){const n=[];for(const[a,l]of Object.entries(i))Array.isArray(l)?l.forEach(o=>{n.push(encodeURIComponent(a)+"="+encodeURIComponent(o))}):n.push(encodeURIComponent(a)+"="+encodeURIComponent(l));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,a){a||(a=0);const l=this.W_;if(typeof n=="string")for(let x=0;x<16;x++)l[x]=n.charCodeAt(a)<<24|n.charCodeAt(a+1)<<16|n.charCodeAt(a+2)<<8|n.charCodeAt(a+3),a+=4;else for(let x=0;x<16;x++)l[x]=n[a]<<24|n[a+1]<<16|n[a+2]<<8|n[a+3],a+=4;for(let x=16;x<80;x++){const _=l[x-3]^l[x-8]^l[x-14]^l[x-16];l[x]=(_<<1|_>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],f=this.chain_[2],m=this.chain_[3],v=this.chain_[4],g,b;for(let x=0;x<80;x++){x<40?x<20?(g=m^u&(f^m),b=1518500249):(g=u^f^m,b=1859775393):x<60?(g=u&f|m&(u|f),b=2400959708):(g=u^f^m,b=3395469782);const _=(o<<5|o>>>27)+g+v+b+l[x]&4294967295;v=m,m=f,f=(u<<30|u>>>2)&4294967295,u=o,o=_}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+v&4294967295}update(n,a){if(n==null)return;a===void 0&&(a=n.length);const l=a-this.blockSize;let o=0;const u=this.buf_;let f=this.inbuf_;for(;o<a;){if(f===0)for(;o<=l;)this.compress_(n,o),o+=this.blockSize;if(typeof n=="string"){for(;o<a;)if(u[f]=n.charCodeAt(o),++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}else for(;o<a;)if(u[f]=n[o],++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=a}digest(){const n=[];let a=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=a&255,a/=256;this.compress_(this.buf_);let l=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)n[l]=this.chain_[o]>>u&255,++l;return n}}function _f(i,n){return`${i} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=function(i){const n=[];let a=0;for(let l=0;l<i.length;l++){let o=i.charCodeAt(l);if(o>=55296&&o<=56319){const u=o-55296;l++,G(l<i.length,"Surrogate pair missing trail surrogate.");const f=i.charCodeAt(l)-56320;o=65536+(u<<10)+f}o<128?n[a++]=o:o<2048?(n[a++]=o>>6|192,n[a++]=o&63|128):o<65536?(n[a++]=o>>12|224,n[a++]=o>>6&63|128,n[a++]=o&63|128):(n[a++]=o>>18|240,n[a++]=o>>12&63|128,n[a++]=o>>6&63|128,n[a++]=o&63|128)}return n},Io=function(i){let n=0;for(let a=0;a<i.length;a++){const l=i.charCodeAt(a);l<128?n++:l<2048?n+=2:l>=55296&&l<=56319?(n+=4,a++):n+=3}return n};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=1e3,k2=2,I2=14400*1e3,L2=.5;function R0(i,n=z2,a=k2){const l=n*Math.pow(a,i),o=Math.round(L2*l*(Math.random()-.5)*2);return Math.min(I2,l+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(i){return i&&i._delegate?i._delegate:i}class Fn{constructor(n,a,l){this.name=n,this.instanceFactory=a,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(n,a){this.name=n,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const a=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(a)){const l=new Ol;if(this.instancesDeferred.set(a,l),this.isInitialized(a)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:a});o&&l.resolve(o)}catch(o){}}return this.instancesDeferred.get(a).promise}getImmediate(n){var o;const a=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),l=(o=n==null?void 0:n.optional)!=null?o:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(H2(n))try{this.getOrInitializeService({instanceIdentifier:Zi})}catch(a){}for(const[a,l]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);try{const u=this.getOrInitializeService({instanceIdentifier:o});l.resolve(u)}catch(u){}}}}clearInstance(n=Zi){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}delete(){return ie(this,null,function*(){const n=Array.from(this.instances.values());yield Promise.all([...n.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...n.filter(a=>"_delete"in a).map(a=>a._delete())])})}isComponentSet(){return this.component!=null}isInitialized(n=Zi){return this.instances.has(n)}getOptions(n=Zi){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:a={}}=n,l=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:l,options:a});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);l===m&&f.resolve(o)}return o}onInit(n,a){var f;const l=this.normalizeInstanceIdentifier(a),o=(f=this.onInitCallbacks.get(l))!=null?f:new Set;o.add(n),this.onInitCallbacks.set(l,o);const u=this.instances.get(l);return u&&n(u,l),()=>{o.delete(n)}}invokeOnInitCallbacks(n,a){const l=this.onInitCallbacks.get(a);if(l)for(const o of l)try{o(n,a)}catch(u){}}getOrInitializeService({instanceIdentifier:n,options:a={}}){let l=this.instances.get(n);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:B2(n),options:a}),this.instances.set(n,l),this.instancesOptions.set(n,a),this.invokeOnInitCallbacks(l,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,l)}catch(o){}return l||null}normalizeInstanceIdentifier(n=Zi){return this.component?this.component.multipleInstances?n:Zi:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B2(i){return i===Zi?void 0:i}function H2(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const a=this.getProvider(n.name);if(a.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);a.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const a=new U2(n,this);return this.providers.set(n,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const V2={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},G2=Ve.INFO,Y2={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},Q2=(i,n,...a)=>{if(n<i.logLevel)return;const l=new Date().toISOString(),o=Y2[n];if(o)console[o](`[${l}]  ${i.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class xf{constructor(n){this.name=n,this._logLevel=G2,this._logHandler=Q2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Ve))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?V2[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...n),this._logHandler(this,Ve.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...n),this._logHandler(this,Ve.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...n),this._logHandler(this,Ve.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...n),this._logHandler(this,Ve.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...n),this._logHandler(this,Ve.ERROR,...n)}}const F2=(i,n)=>n.some(a=>i instanceof a);let O0,z0;function X2(){return O0||(O0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P2(){return z0||(z0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ry=new WeakMap,Fd=new WeakMap,oy=new WeakMap,Cd=new WeakMap,bf=new WeakMap;function $2(i){const n=new Promise((a,l)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{a(Si(i.result)),o()},f=()=>{l(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return n.then(a=>{a instanceof IDBCursor&&ry.set(a,i)}).catch(()=>{}),bf.set(n,i),n}function K2(i){if(Fd.has(i))return;const n=new Promise((a,l)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{a(),o()},f=()=>{l(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Fd.set(i,n)}let Xd={get(i,n,a){if(i instanceof IDBTransaction){if(n==="done")return Fd.get(i);if(n==="objectStoreNames")return i.objectStoreNames||oy.get(i);if(n==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return Si(i[n])},set(i,n,a){return i[n]=a,!0},has(i,n){return i instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in i}};function Z2(i){Xd=i(Xd)}function J2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...a){const l=i.call(Td(this),n,...a);return oy.set(l,n.sort?n.sort():[n]),Si(l)}:P2().includes(i)?function(...n){return i.apply(Td(this),n),Si(ry.get(this))}:function(...n){return Si(i.apply(Td(this),n))}}function W2(i){return typeof i=="function"?J2(i):(i instanceof IDBTransaction&&K2(i),F2(i,X2())?new Proxy(i,Xd):i)}function Si(i){if(i instanceof IDBRequest)return $2(i);if(Cd.has(i))return Cd.get(i);const n=W2(i);return n!==i&&(Cd.set(i,n),bf.set(n,i)),n}const Td=i=>bf.get(i);function cy(i,n,{blocked:a,upgrade:l,blocking:o,terminated:u}={}){const f=indexedDB.open(i,n),m=Si(f);return l&&f.addEventListener("upgradeneeded",v=>{l(Si(f.result),v.oldVersion,v.newVersion,Si(f.transaction),v)}),a&&f.addEventListener("blocked",v=>a(v.oldVersion,v.newVersion,v)),m.then(v=>{u&&v.addEventListener("close",()=>u()),o&&v.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const ew=["get","getKey","getAll","getAllKeys","count"],tw=["put","add","delete","clear"],Ad=new Map;function k0(i,n){if(!(i instanceof IDBDatabase&&!(n in i)&&typeof n=="string"))return;if(Ad.get(n))return Ad.get(n);const a=n.replace(/FromIndex$/,""),l=n!==a,o=tw.includes(a);if(!(a in(l?IDBIndex:IDBObjectStore).prototype)||!(o||ew.includes(a)))return;const u=function(f,...m){return ie(this,null,function*(){const v=this.transaction(f,o?"readwrite":"readonly");let g=v.store;return l&&(g=g.index(m.shift())),(yield Promise.all([g[a](...m),o&&v.done]))[0]})};return Ad.set(n,u),u}Z2(i=>ot(Ne({},i),{get:(n,a,l)=>k0(n,a)||i.get(n,a,l),has:(n,a)=>!!k0(n,a)||i.has(n,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(iw(a)){const l=a.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(a=>a).join(" ")}}function iw(i){const n=i.getComponent();return(n==null?void 0:n.type)==="VERSION"}const Pd="@firebase/app",I0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn=new xf("@firebase/app"),sw="@firebase/app-compat",aw="@firebase/analytics-compat",lw="@firebase/analytics",rw="@firebase/app-check-compat",ow="@firebase/app-check",cw="@firebase/auth",uw="@firebase/auth-compat",dw="@firebase/database",fw="@firebase/data-connect",hw="@firebase/database-compat",mw="@firebase/functions",pw="@firebase/functions-compat",gw="@firebase/installations",vw="@firebase/installations-compat",yw="@firebase/messaging",_w="@firebase/messaging-compat",xw="@firebase/performance",bw="@firebase/performance-compat",Sw="@firebase/remote-config",ww="@firebase/remote-config-compat",Ew="@firebase/storage",Nw="@firebase/storage-compat",Cw="@firebase/firestore",Tw="@firebase/ai",Aw="@firebase/firestore-compat",jw="firebase",Dw="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="[DEFAULT]",Mw={[Pd]:"fire-core",[sw]:"fire-core-compat",[lw]:"fire-analytics",[aw]:"fire-analytics-compat",[ow]:"fire-app-check",[rw]:"fire-app-check-compat",[cw]:"fire-auth",[uw]:"fire-auth-compat",[dw]:"fire-rtdb",[fw]:"fire-data-connect",[hw]:"fire-rtdb-compat",[mw]:"fire-fn",[pw]:"fire-fn-compat",[gw]:"fire-iid",[vw]:"fire-iid-compat",[yw]:"fire-fcm",[_w]:"fire-fcm-compat",[xw]:"fire-perf",[bw]:"fire-perf-compat",[Sw]:"fire-rc",[ww]:"fire-rc-compat",[Ew]:"fire-gcs",[Nw]:"fire-gcs-compat",[Cw]:"fire-fst",[Aw]:"fire-fst-compat",[Tw]:"fire-vertex","fire-js":"fire-js",[jw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=new Map,Rw=new Map,Kd=new Map;function L0(i,n){try{i.container.addComponent(n)}catch(a){Xn.debug(`Component ${n.name} failed to register with FirebaseApp ${i.name}`,a)}}function Ai(i){const n=i.name;if(Kd.has(n))return Xn.debug(`There were multiple attempts to register component ${n}.`),!1;Kd.set(n,i);for(const a of go.values())L0(a,i);for(const a of Rw.values())L0(a,i);return!0}function zl(i,n){const a=i.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),i.container.getProvider(n)}function Ow(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wi=new ko("app","Firebase",zw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(n,a,l){this._isDeleted=!1,this._options=Ne({},n),this._config=Ne({},a),this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new Fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=Dw;function uy(i,n={}){let a=i;typeof n!="object"&&(n={name:n});const l=Ne({name:$d,automaticDataCollectionEnabled:!0},n),o=l.name;if(typeof o!="string"||!o)throw wi.create("bad-app-name",{appName:String(o)});if(a||(a=ny()),!a)throw wi.create("no-options");const u=go.get(o);if(u){if(bl(a,u.options)&&bl(l,u.config))return u;throw wi.create("duplicate-app",{appName:o})}const f=new q2(o);for(const v of Kd.values())f.addComponent(v);const m=new kw(a,l,f);return go.set(o,m),m}function dy(i=$d){const n=go.get(i);if(!n&&i===$d&&ny())return uy();if(!n)throw wi.create("no-app",{appName:i});return n}function bn(i,n,a){var f;let l=(f=Mw[i])!=null?f:i;a&&(l+=`-${a}`);const o=l.match(/\s|\//),u=n.match(/\s|\//);if(o||u){const m=[`Unable to register library "${l}" with version "${n}":`];o&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),o&&u&&m.push("and"),u&&m.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Xn.warn(m.join(" "));return}Ai(new Fn(`${l}-version`,()=>({library:l,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="firebase-heartbeat-database",Uw=1,Sl="firebase-heartbeat-store";let jd=null;function fy(){return jd||(jd=cy(Lw,Uw,{upgrade:(i,n)=>{switch(n){case 0:try{i.createObjectStore(Sl)}catch(a){console.warn(a)}}}}).catch(i=>{throw wi.create("idb-open",{originalErrorMessage:i.message})})),jd}function Bw(i){return ie(this,null,function*(){try{const a=(yield fy()).transaction(Sl),l=yield a.objectStore(Sl).get(hy(i));return yield a.done,l}catch(n){if(n instanceof ds)Xn.warn(n.message);else{const a=wi.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});Xn.warn(a.message)}}})}function U0(i,n){return ie(this,null,function*(){try{const l=(yield fy()).transaction(Sl,"readwrite");yield l.objectStore(Sl).put(n,hy(i)),yield l.done}catch(a){if(a instanceof ds)Xn.warn(a.message);else{const l=wi.create("idb-set",{originalErrorMessage:a==null?void 0:a.message});Xn.warn(l.message)}}})}function hy(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=1024,qw=30;class Vw{constructor(n){this.container=n,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new Yw(a),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}triggerHeartbeat(){return ie(this,null,function*(){var n,a;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=B0();if(((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((a=this._heartbeatsCache)==null?void 0:a.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>qw){const f=Qw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(l){Xn.warn(l)}})}getHeartbeatsHeader(){return ie(this,null,function*(){var n;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const a=B0(),{heartbeatsToSend:l,unsentEntries:o}=Gw(this._heartbeatsCache.heartbeats),u=mo(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=a,o.length>0?(this._heartbeatsCache.heartbeats=o,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(a){return Xn.warn(a),""}})}}function B0(){return new Date().toISOString().substring(0,10)}function Gw(i,n=Hw){const a=[];let l=i.slice();for(const o of i){const u=a.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),H0(a)>n){u.dates.pop();break}}else if(a.push({agent:o.agent,dates:[o.date]}),H0(a)>n){a.pop();break}l=l.slice(1)}return{heartbeatsToSend:a,unsentEntries:l}}class Yw{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return ie(this,null,function*(){return sy()?ay().then(()=>!0).catch(()=>!1):!1})}read(){return ie(this,null,function*(){if(yield this._canUseIndexedDBPromise){const a=yield Bw(this.app);return a!=null&&a.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(n){return ie(this,null,function*(){var l;if(yield this._canUseIndexedDBPromise){const o=yield this.read();return U0(this.app,{lastSentHeartbeatDate:(l=n.lastSentHeartbeatDate)!=null?l:o.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return})}add(n){return ie(this,null,function*(){var l;if(yield this._canUseIndexedDBPromise){const o=yield this.read();return U0(this.app,{lastSentHeartbeatDate:(l=n.lastSentHeartbeatDate)!=null?l:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...n.heartbeats]})}else return})}}function H0(i){return mo(JSON.stringify({version:2,heartbeats:i})).length}function Qw(i){if(i.length===0)return-1;let n=0,a=i[0].date;for(let l=1;l<i.length;l++)i[l].date<a&&(a=i[l].date,n=l);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(i){Ai(new Fn("platform-logger",n=>new nw(n),"PRIVATE")),Ai(new Fn("heartbeat",n=>new Vw(n),"PRIVATE")),bn(Pd,I0,i),bn(Pd,I0,"esm2020"),bn("fire-js","")}Fw("");var q0={};const V0="@firebase/database",G0="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let my="";function Xw(i){my=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,a){a==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),gt(a))}get(n){const a=this.domStorage_.getItem(this.prefixedName_(n));return a==null?null:xl(a)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,a){a==null?delete this.cache_[n]:this.cache_[n]=a}get(n){return gn(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py=function(i){try{if(typeof window!="undefined"&&typeof window[i]!="undefined"){const n=window[i];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new Pw(n)}}catch(n){}return new $w},Wi=py("localStorage"),Kw=py("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new xf("@firebase/database"),gy=(function(){let i=1;return function(){return i++}})(),vy=function(i){const n=O2(i),a=new R2;a.update(n);const l=a.digest();return vf.encodeByteArray(l)},kl=function(...i){let n="";for(let a=0;a<i.length;a++){const l=i[a];Array.isArray(l)||l&&typeof l=="object"&&typeof l.length=="number"?n+=kl.apply(null,l):typeof l=="object"?n+=gt(l):n+=l,n+=" "}return n};let pl=null,Y0=!0;const Zw=function(i,n){G(!0,"Can't turn on custom loggers persistently."),ea.logLevel=Ve.VERBOSE,pl=ea.log.bind(ea)},wt=function(...i){if(Y0===!0&&(Y0=!1,pl===null&&Kw.get("logging_enabled")===!0&&Zw()),pl){const n=kl.apply(null,i);pl(n)}},Il=function(i){return function(...n){wt(i,...n)}},Zd=function(...i){const n="FIREBASE INTERNAL ERROR: "+kl(...i);ea.error(n)},Pn=function(...i){const n=`FIREBASE FATAL ERROR: ${kl(...i)}`;throw ea.error(n),new Error(n)},kt=function(...i){const n="FIREBASE WARNING: "+kl(...i);ea.warn(n)},Jw=function(){typeof window!="undefined"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&kt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Sf=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},Ww=function(i){if(document.readyState==="complete")i();else{let n=!1;const a=function(){if(!document.body){setTimeout(a,Math.floor(10));return}n||(n=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&a()}),window.attachEvent("onload",a))}},ca="[MIN_NAME]",as="[MAX_NAME]",ha=function(i,n){if(i===n)return 0;if(i===ca||n===as)return-1;if(n===ca||i===as)return 1;{const a=Q0(i),l=Q0(n);return a!==null?l!==null?a-l===0?i.length-n.length:a-l:-1:l!==null?1:i<n?-1:1}},eE=function(i,n){return i===n?0:i<n?-1:1},cl=function(i,n){if(n&&i in n)return n[i];throw new Error("Missing required key ("+i+") in object: "+gt(n))},wf=function(i){if(typeof i!="object"||i===null)return gt(i);const n=[];for(const l in i)n.push(l);n.sort();let a="{";for(let l=0;l<n.length;l++)l!==0&&(a+=","),a+=gt(n[l]),a+=":",a+=wf(i[n[l]]);return a+="}",a},yy=function(i,n){const a=i.length;if(a<=n)return[i];const l=[];for(let o=0;o<a;o+=n)o+n>a?l.push(i.substring(o,a)):l.push(i.substring(o,o+n));return l};function It(i,n){for(const a in i)i.hasOwnProperty(a)&&n(a,i[a])}const _y=function(i){G(!Sf(i),"Invalid JSON number");const n=11,a=52,l=(1<<n-1)-1;let o,u,f,m,v;i===0?(u=0,f=0,o=1/i===-1/0?1:0):(o=i<0,i=Math.abs(i),i>=Math.pow(2,1-l)?(m=Math.min(Math.floor(Math.log(i)/Math.LN2),l),u=m+l,f=Math.round(i*Math.pow(2,a-m)-Math.pow(2,a))):(u=0,f=Math.round(i/Math.pow(2,1-l-a))));const g=[];for(v=a;v;v-=1)g.push(f%2?1:0),f=Math.floor(f/2);for(v=n;v;v-=1)g.push(u%2?1:0),u=Math.floor(u/2);g.push(o?1:0),g.reverse();const b=g.join("");let x="";for(v=0;v<64;v+=8){let _=parseInt(b.substr(v,8),2).toString(16);_.length===1&&(_="0"+_),x=x+_}return x.toLowerCase()},tE=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},nE=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function iE(i,n){let a="Unknown Error";i==="too_big"?a="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?a="Client doesn't have permission to access the desired data.":i==="unavailable"&&(a="The service is unavailable");const l=new Error(i+" at "+n._path.toString()+": "+a);return l.code=i.toUpperCase(),l}const sE=new RegExp("^-?(0*)\\d{1,10}$"),aE=-2147483648,lE=2147483647,Q0=function(i){if(sE.test(i)){const n=Number(i);if(n>=aE&&n<=lE)return n}return null},ma=function(i){try{i()}catch(n){setTimeout(()=>{const a=n.stack||"";throw kt("Exception was thrown by user callback.",a),n},Math.floor(0))}},rE=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},gl=function(i,n){const a=setTimeout(i,n);return typeof a=="number"&&typeof Deno!="undefined"&&Deno.unrefTimer?Deno.unrefTimer(a):typeof a=="object"&&a.unref&&a.unref(),a};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(n,a){this.appCheckProvider=a,this.appName=n.name,Ow(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=a==null?void 0:a.getImmediate({optional:!0}),this.appCheck||a==null||a.get().then(l=>this.appCheck=l)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((a,l)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(a,l):a(null)},0)})}addTokenChangeListener(n){var a;(a=this.appCheckProvider)==null||a.get().then(l=>l.addTokenListener(n))}notifyForInvalidToken(){kt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(n,a,l){this.appName_=n,this.firebaseOptions_=a,this.authProvider_=l,this.auth_=null,this.auth_=l.getImmediate({optional:!0}),this.auth_||l.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(a=>a&&a.code==="auth/token-not-initialized"?(wt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)):new Promise((a,l)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(a,l):a(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(a=>a.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(a=>a.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',kt(n)}}class fo{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}fo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="5",xy="v",by="s",Sy="r",wy="f",Ey=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ny="ls",Cy="p",Jd="ac",Ty="websocket",Ay="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(n,a,l,o,u=!1,f="",m=!1,v=!1,g=null){this.secure=a,this.namespace=l,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=v,this.emulatorOptions=g,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Wi.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Wi.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",a=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${a}`}}function uE(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function Dy(i,n,a){G(typeof n=="string","typeof type must == string"),G(typeof a=="object","typeof params must == object");let l;if(n===Ty)l=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(n===Ay)l=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);uE(i)&&(a.ns=i.namespace);const o=[];return It(a,(u,f)=>{o.push(u+"="+f)}),l+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.counters_={}}incrementCounter(n,a=1){gn(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=a}get(){return o2(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd={},Md={};function Nf(i){const n=i.toString();return Dd[n]||(Dd[n]=new dE),Dd[n]}function fE(i,n){const a=i.toString();return Md[a]||(Md[a]=n()),Md[a]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,a){this.closeAfterResponse=n,this.onClose=a,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,a){for(this.pendingResponses[n]=a;this.pendingResponses[this.currentResponseNum];){const l=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<l.length;++o)l[o]&&ma(()=>{this.onMessage_(l[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="start",mE="close",pE="pLPCommand",gE="pRTLPCB",My="id",Ry="pw",Oy="ser",vE="cb",yE="seg",_E="ts",xE="d",bE="dframe",zy=1870,ky=30,SE=zy-ky,wE=25e3,EE=3e4;class Ws{constructor(n,a,l,o,u,f,m){this.connId=n,this.repoInfo=a,this.applicationId=l,this.appCheckToken=o,this.authToken=u,this.transportSessionId=f,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Il(n),this.stats_=Nf(a),this.urlFn=v=>(this.appCheckToken&&(v[Jd]=this.appCheckToken),Dy(a,Ay,v))}open(n,a){this.curSegmentNum=0,this.onDisconnect_=a,this.myPacketOrderer=new hE(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(EE)),Ww(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Cf((...u)=>{const[f,m,v,g,b]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===F0)this.id=m,this.password=v;else if(f===mE)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,m]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,m)},()=>{this.onClosed_()},this.urlFn);const l={};l[F0]="t",l[Oy]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(l[vE]=this.scriptTagHolder.uniqueCallbackIdentifier),l[xy]=Ef,this.transportSessionId&&(l[by]=this.transportSessionId),this.lastSessionId&&(l[Ny]=this.lastSessionId),this.applicationId&&(l[Cy]=this.applicationId),this.appCheckToken&&(l[Jd]=this.appCheckToken),typeof location!="undefined"&&location.hostname&&Ey.test(location.hostname)&&(l[Sy]=wy);const o=this.urlFn(l);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ws.forceAllow_=!0}static forceDisallow(){Ws.forceDisallow_=!0}static isAvailable(){return Ws.forceAllow_?!0:!Ws.forceDisallow_&&typeof document!="undefined"&&document.createElement!=null&&!tE()&&!nE()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const a=gt(n);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const l=Wv(a),o=yy(l,SE);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(n,a){this.myDisconnFrame=document.createElement("iframe");const l={};l[bE]="t",l[My]=n,l[Ry]=a,this.myDisconnFrame.src=this.urlFn(l),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const a=gt(n).length;this.bytesReceived+=a,this.stats_.incrementCounter("bytes_received",a)}}class Cf{constructor(n,a,l,o){this.onDisconnect=l,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=gy(),window[pE+this.uniqueCallbackIdentifier]=n,window[gE+this.uniqueCallbackIdentifier]=a,this.myIFrame=Cf.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(m){wt("frame writing exception"),m.stack&&wt(m.stack),wt(m)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||wt("No IE domain setting required")}catch(a){const l=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+l+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,a){for(this.myID=n,this.myPW=a,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[My]=this.myID,n[Ry]=this.myPW,n[Oy]=this.currentSerial;let a=this.urlFn(n),l="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ky+l.length<=zy;){const f=this.pendingSegs.shift();l=l+"&"+yE+o+"="+f.seg+"&"+_E+o+"="+f.ts+"&"+xE+o+"="+f.d,o++}return a=a+l,this.addLongPollTag_(a,this.currentSerial),!0}else return!1}enqueueSegment(n,a,l){this.pendingSegs.push({seg:n,ts:a,d:l}),this.alive&&this.newRequest_()}addLongPollTag_(n,a){this.outstandingRequests.add(a);const l=()=>{this.outstandingRequests.delete(a),this.newRequest_()},o=setTimeout(l,Math.floor(wE)),u=()=>{clearTimeout(o),l()};this.addTag(n,u)}addTag(n,a){setTimeout(()=>{try{if(!this.sendNewPolls)return;const l=this.myIFrame.doc.createElement("script");l.type="text/javascript",l.async=!0,l.src=n,l.onload=l.onreadystatechange=function(){const o=l.readyState;(!o||o==="loaded"||o==="complete")&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),a())},l.onerror=()=>{wt("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(l)}catch(l){}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=16384,CE=45e3;let vo=null;typeof MozWebSocket!="undefined"?vo=MozWebSocket:typeof WebSocket!="undefined"&&(vo=WebSocket);class dn{constructor(n,a,l,o,u,f,m){this.connId=n,this.applicationId=l,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Il(this.connId),this.stats_=Nf(a),this.connURL=dn.connectionURL_(a,f,m,o,l),this.nodeAdmin=a.nodeAdmin}static connectionURL_(n,a,l,o,u){const f={};return f[xy]=Ef,typeof location!="undefined"&&location.hostname&&Ey.test(location.hostname)&&(f[Sy]=wy),a&&(f[by]=a),l&&(f[Ny]=l),o&&(f[Jd]=o),u&&(f[Cy]=u),Dy(n,Ty,f)}open(n,a){this.onDisconnect=a,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Wi.set("previous_websocket_failure",!0);try{let l;E2(),this.mySock=new vo(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){dn.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator!="undefined"&&navigator.userAgent){const a=/Android ([0-9]{0,}\.[0-9]{0,})/,l=navigator.userAgent.match(a);l&&l.length>1&&parseFloat(l[1])<4.4&&(n=!0)}return!n&&vo!==null&&!dn.forceDisallow_}static previouslyFailed(){return Wi.isInMemoryStorage||Wi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Wi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const a=this.frames.join("");this.frames=null;const l=xl(a);this.onMessage(l)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(G(this.frames===null,"We already have a frame buffer"),n.length<=6){const a=Number(n);if(!isNaN(a))return this.handleNewFrameCount_(a),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const a=n.data;if(this.bytesReceived+=a.length,this.stats_.incrementCounter("bytes_received",a.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(a);else{const l=this.extractFrameCount_(a);l!==null&&this.appendFrame_(l)}}send(n){this.resetKeepAlive();const a=gt(n);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const l=yy(a,NE);l.length>1&&this.sendString_(String(l.length));for(let o=0;o<l.length;o++)this.sendString_(l[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(CE))}sendString_(n){try{this.mySock.send(n)}catch(a){this.log_("Exception thrown from WebSocket.send():",a.message||a.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}dn.responsesRequiredToBeHealthy=2;dn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{static get ALL_TRANSPORTS(){return[Ws,dn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const a=dn&&dn.isAvailable();let l=a&&!dn.previouslyFailed();if(n.webSocketOnly&&(a||kt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[dn];else{const o=this.transports_=[];for(const u of wl.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);wl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}wl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=6e4,AE=5e3,jE=10*1024,DE=100*1024,Rd="t",X0="d",ME="s",P0="r",RE="e",$0="o",K0="a",Z0="n",J0="p",OE="h";class zE{constructor(n,a,l,o,u,f,m,v,g,b){this.id=n,this.repoInfo_=a,this.applicationId_=l,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=f,this.onReady_=m,this.onDisconnect_=v,this.onKill_=g,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Il("c:"+this.id+":"),this.transportManager_=new wl(a),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.conn_),l=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(a,l)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=gl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>DE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>jE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return a=>{n===this.conn_?this.onConnectionLost_(a):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return a=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(a):n===this.secondaryConn_?this.onSecondaryMessageReceived_(a):this.log_("message on old connection"))}}sendRequest(n){const a={t:"d",d:n};this.sendData_(a)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Rd in n){const a=n[Rd];a===K0?this.upgradeIfSecondaryHealthy_():a===P0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):a===$0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const a=cl("t",n),l=cl("d",n);if(a==="c")this.onSecondaryControl_(l);else if(a==="d")this.pendingDataMessages.push(l);else throw new Error("Unknown protocol layer: "+a)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:J0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:K0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Z0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const a=cl("t",n),l=cl("d",n);a==="c"?this.onControl_(l):a==="d"&&this.onDataMessage_(l)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const a=cl(Rd,n);if(X0 in n){const l=n[X0];if(a===OE){const o=Ne({},l);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(a===Z0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else a===ME?this.onConnectionShutdown_(l):a===P0?this.onReset_(l):a===RE?Zd("Server Error: "+l):a===$0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Zd("Unknown control packet command: "+a)}}onHandshake_(n){const a=n.ts,l=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,a),Ef!==l&&kt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.secondaryConn_),l=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(a,l),gl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(TE))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,a){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(a,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(AE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:J0,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Wi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{put(n,a,l,o){}merge(n,a,l,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,a,l){}onDisconnectMerge(n,a,l){}onDisconnectCancel(n,a){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(n){this.allowedEvents_=n,this.listeners_={},G(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...a){if(Array.isArray(this.listeners_[n])){const l=[...this.listeners_[n]];for(let o=0;o<l.length;o++)l[o].callback.apply(l[o].context,a)}}on(n,a,l){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:a,context:l});const o=this.getInitialEvent(n);o&&a.apply(l,o)}off(n,a,l){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let u=0;u<o.length;u++)if(o[u].callback===a&&(!l||l===o[u].context)){o.splice(u,1);return}}validateEventType_(n){G(this.allowedEvents_.find(a=>a===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends Ly{static getInstance(){return new yo}constructor(){super(["online"]),this.online_=!0,typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&!iy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return G(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=32,ev=768;class He{constructor(n,a){if(a===void 0){this.pieces_=n.split("/");let l=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[l]=this.pieces_[o],l++);this.pieces_.length=l,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=a}toString(){let n="";for(let a=this.pieceNum_;a<this.pieces_.length;a++)this.pieces_[a]!==""&&(n+="/"+this.pieces_[a]);return n||"/"}}function je(){return new He("")}function ge(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function ji(i){return i.pieces_.length-i.pieceNum_}function Ge(i){let n=i.pieceNum_;return n<i.pieces_.length&&n++,new He(i.pieces_,n)}function Uy(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function kE(i){let n="";for(let a=i.pieceNum_;a<i.pieces_.length;a++)i.pieces_[a]!==""&&(n+="/"+encodeURIComponent(String(i.pieces_[a])));return n||"/"}function By(i,n=0){return i.pieces_.slice(i.pieceNum_+n)}function Hy(i){if(i.pieceNum_>=i.pieces_.length)return null;const n=[];for(let a=i.pieceNum_;a<i.pieces_.length-1;a++)n.push(i.pieces_[a]);return new He(n,0)}function ct(i,n){const a=[];for(let l=i.pieceNum_;l<i.pieces_.length;l++)a.push(i.pieces_[l]);if(n instanceof He)for(let l=n.pieceNum_;l<n.pieces_.length;l++)a.push(n.pieces_[l]);else{const l=n.split("/");for(let o=0;o<l.length;o++)l[o].length>0&&a.push(l[o])}return new He(a,0)}function xe(i){return i.pieceNum_>=i.pieces_.length}function Ot(i,n){const a=ge(i),l=ge(n);if(a===null)return n;if(a===l)return Ot(Ge(i),Ge(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+i+")")}function Tf(i,n){if(ji(i)!==ji(n))return!1;for(let a=i.pieceNum_,l=n.pieceNum_;a<=i.pieces_.length;a++,l++)if(i.pieces_[a]!==n.pieces_[l])return!1;return!0}function hn(i,n){let a=i.pieceNum_,l=n.pieceNum_;if(ji(i)>ji(n))return!1;for(;a<i.pieces_.length;){if(i.pieces_[a]!==n.pieces_[l])return!1;++a,++l}return!0}class IE{constructor(n,a){this.errorPrefix_=a,this.parts_=By(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let l=0;l<this.parts_.length;l++)this.byteLength_+=Io(this.parts_[l]);qy(this)}}function LE(i,n){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(n),i.byteLength_+=Io(n),qy(i)}function UE(i){const n=i.parts_.pop();i.byteLength_-=Io(n),i.parts_.length>0&&(i.byteLength_-=1)}function qy(i){if(i.byteLength_>ev)throw new Error(i.errorPrefix_+"has a key path longer than "+ev+" bytes ("+i.byteLength_+").");if(i.parts_.length>W0)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+W0+") or object contains a cycle "+Ji(i))}function Ji(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af extends Ly{static getInstance(){return new Af}constructor(){super(["visible"]);let n,a;typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(a="visibilitychange",n="hidden"):typeof document.mozHidden!="undefined"?(a="mozvisibilitychange",n="mozHidden"):typeof document.msHidden!="undefined"?(a="msvisibilitychange",n="msHidden"):typeof document.webkitHidden!="undefined"&&(a="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,a&&document.addEventListener(a,()=>{const l=!document[n];l!==this.visible_&&(this.visible_=l,this.trigger("visible",l))},!1)}getInitialEvent(n){return G(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=1e3,BE=300*1e3,tv=30*1e3,HE=1.3,qE=3e4,VE="server_kill",nv=3;class Qn extends Iy{constructor(n,a,l,o,u,f,m,v){if(super(),this.repoInfo_=n,this.applicationId_=a,this.onDataUpdate_=l,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=m,this.authOverride_=v,this.id=Qn.nextPersistentConnectionId_++,this.log_=Il("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ul,this.maxReconnectDelay_=BE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Af.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&yo.getInstance().on("online",this.onOnline_,this)}sendRequest(n,a,l){const o=++this.requestNumber_,u={r:o,a:n,b:a};this.log_(gt(u)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),l&&(this.requestCBHash_[o]=l)}get(n){this.initConnection_();const a=new Ol,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:f=>{const m=f.d;f.s==="ok"?a.resolve(m):a.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),a.promise}listen(n,a,l,o){this.initConnection_();const u=n._queryIdentifier,f=n._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),G(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:a,query:n,tag:l};this.listens.get(f).set(u,m),this.connected_&&this.sendListen_(m)}sendGet_(n){const a=this.outstandingGets_[n];this.sendRequest("g",a.request,l=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),a.onComplete&&a.onComplete(l)})}sendListen_(n){const a=n.query,l=a._path.toString(),o=a._queryIdentifier;this.log_("Listen on "+l+" for "+o);const u={p:l},f="q";n.tag&&(u.q=a._queryObject,u.t=n.tag),u.h=n.hashFn(),this.sendRequest(f,u,m=>{const v=m.d,g=m.s;Qn.warnOnListenWarnings_(v,a),(this.listens.get(l)&&this.listens.get(l).get(o))===n&&(this.log_("listen response",m),g!=="ok"&&this.removeListen_(l,o),n.onComplete&&n.onComplete(g,v))})}static warnOnListenWarnings_(n,a){if(n&&typeof n=="object"&&gn(n,"w")){const l=ss(n,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const o='".indexOn": "'+a._queryParams.getIndex().toString()+'"',u=a._path.toString();kt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||D2(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=tv)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,a=j2(n)?"auth":"gauth",l={cred:n};this.authOverride_===null?l.noauth=!0:typeof this.authOverride_=="object"&&(l.authvar=this.authOverride_),this.sendRequest(a,l,o=>{const u=o.s,f=o.d||"error";this.authToken_===n&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const a=n.s,l=n.d||"error";a==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(a,l)})}unlisten(n,a){const l=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+l+" "+o),G(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,o)&&this.connected_&&this.sendUnlisten_(l,o,n._queryObject,a)}sendUnlisten_(n,a,l,o){this.log_("Unlisten on "+n+" for "+a);const u={p:n},f="n";o&&(u.q=l,u.t=o),this.sendRequest(f,u)}onDisconnectPut(n,a,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,a,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:a,onComplete:l})}onDisconnectMerge(n,a,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,a,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:a,onComplete:l})}onDisconnectCancel(n,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,a):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:a})}sendOnDisconnect_(n,a,l,o){const u={p:a,d:l};this.log_("onDisconnect "+n,u),this.sendRequest(n,u,f=>{o&&setTimeout(()=>{o(f.s,f.d)},Math.floor(0))})}put(n,a,l,o){this.putInternal("p",n,a,l,o)}merge(n,a,l,o){this.putInternal("m",n,a,l,o)}putInternal(n,a,l,o,u){this.initConnection_();const f={p:a,d:l};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:n,request:f,onComplete:o}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+a)}sendPut_(n){const a=this.outstandingPuts_[n].action,l=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(a,l,u=>{this.log_(a+" response",u),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(n){if(this.connected_){const a={c:n};this.log_("reportStats",a),this.sendRequest("s",a,l=>{if(l.s!=="ok"){const u=l.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+gt(n));const a=n.r,l=this.requestCBHash_[a];l&&(delete this.requestCBHash_[a],l(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,a){this.log_("handleServerMessage",n,a),n==="d"?this.onDataUpdate_(a.p,a.d,!1,a.t):n==="m"?this.onDataUpdate_(a.p,a.d,!0,a.t):n==="c"?this.onListenRevoked_(a.p,a.q):n==="ac"?this.onAuthRevoked_(a.s,a.d):n==="apc"?this.onAppCheckRevoked_(a.s,a.d):n==="sd"?this.onSecurityDebugPacket_(a):Zd("Unrecognized action received from server: "+gt(n)+`
Are you using the latest client?`)}onReady_(n,a){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=a,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ul,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ul,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>qE&&(this.reconnectDelay_=ul),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let a=Math.max(0,this.reconnectDelay_-n);a=Math.random()*a,this.log_("Trying to reconnect in "+a+"ms"),this.scheduleConnect_(a),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*HE)}this.onConnectStatus_(!1)}establishConnection_(){return ie(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),a=this.onReady_.bind(this),l=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Qn.nextConnectionId_++,u=this.lastSessionId;let f=!1,m=null;const v=function(){m?m.close():(f=!0,l())},g=function(x){G(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(x)};this.realtime_={close:v,sendRequest:g};const b=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[x,_]=yield Promise.all([this.authTokenProvider_.getToken(b),this.appCheckTokenProvider_.getToken(b)]);f?wt("getToken() completed but was canceled"):(wt("getToken() completed. Creating connection."),this.authToken_=x&&x.accessToken,this.appCheckToken_=_&&_.token,m=new zE(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,a,l,N=>{kt(N+" ("+this.repoInfo_.toString()+")"),this.interrupt(VE)},u))}catch(x){this.log_("Failed to get token: "+x),f||(this.repoInfo_.nodeAdmin&&kt(x),v())}}})}interrupt(n){wt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){wt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],D0(this.interruptReasons_)&&(this.reconnectDelay_=ul,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const a=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:a})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const a=this.outstandingPuts_[n];a&&"h"in a.request&&a.queued&&(a.onComplete&&a.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,a){let l;a?l=a.map(u=>wf(u)).join("$"):l="default";const o=this.removeListen_(n,l);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,a){const l=new He(n).toString();let o;if(this.listens.has(l)){const u=this.listens.get(l);o=u.get(a),u.delete(a),u.size===0&&this.listens.delete(l)}else o=void 0;return o}onAuthRevoked_(n,a){wt("Auth token revoked: "+n+"/"+a),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=nv&&(this.reconnectDelay_=tv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,a){wt("App check token revoked: "+n+"/"+a),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=nv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const a of n.values())this.sendListen_(a);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let a="js";n["sdk."+a+"."+my.replace(/\./g,"-")]=1,iy()?n["framework.cordova"]=1:w2()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=yo.getInstance().currentlyOnline();return D0(this.interruptReasons_)&&n}}Qn.nextPersistentConnectionId_=0;Qn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(n,a){this.name=n,this.node=a}static Wrap(n,a){return new ve(n,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,a){const l=new ve(ca,n),o=new ve(ca,a);return this.compare(l,o)!==0}minPost(){return ve.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo;class Vy extends Lo{static get __EMPTY_NODE(){return lo}static set __EMPTY_NODE(n){lo=n}compare(n,a){return ha(n.name,a.name)}isDefinedOn(n){throw fa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,a){return!1}minPost(){return ve.MIN}maxPost(){return new ve(as,lo)}makePost(n,a){return G(typeof n=="string","KeyIndex indexValue must always be a string."),new ve(n,lo)}toString(){return".key"}}const ta=new Vy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(n,a,l,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!n.isEmpty();)if(n=n,f=a?l(n.key,a):1,o&&(f*=-1),f<0)this.isReverse_?n=n.left:n=n.right;else if(f===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),a;if(this.resultGenerator_?a=this.resultGenerator_(n.key,n.value):a={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return a}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class mt{constructor(n,a,l,o,u){this.key=n,this.value=a,this.color=l!=null?l:mt.RED,this.left=o!=null?o:zt.EMPTY_NODE,this.right=u!=null?u:zt.EMPTY_NODE}copy(n,a,l,o,u){return new mt(n!=null?n:this.key,a!=null?a:this.value,l!=null?l:this.color,o!=null?o:this.left,u!=null?u:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,a,l){let o=this;const u=l(n,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(n,a,l),null):u===0?o=o.copy(null,a,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,a,l)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return zt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,a){let l,o;if(l=this,a(n,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(n,a),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),a(n,l.key)===0){if(l.right.isEmpty())return zt.EMPTY_NODE;o=l.right.min_(),l=l.copy(o.key,o.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(n,a))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,a)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}mt.RED=!0;mt.BLACK=!1;class GE{copy(n,a,l,o,u){return this}insert(n,a,l){return new mt(n,a,null)}remove(n,a){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class zt{constructor(n,a=zt.EMPTY_NODE){this.comparator_=n,this.root_=a}insert(n,a){return new zt(this.comparator_,this.root_.insert(n,a,this.comparator_).copy(null,null,mt.BLACK,null,null))}remove(n){return new zt(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,mt.BLACK,null,null))}get(n){let a,l=this.root_;for(;!l.isEmpty();){if(a=this.comparator_(n,l.key),a===0)return l.value;a<0?l=l.left:a>0&&(l=l.right)}return null}getPredecessorKey(n){let a,l=this.root_,o=null;for(;!l.isEmpty();)if(a=this.comparator_(n,l.key),a===0){if(l.left.isEmpty())return o?o.key:null;for(l=l.left;!l.right.isEmpty();)l=l.right;return l.key}else a<0?l=l.left:a>0&&(o=l,l=l.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new ro(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,a){return new ro(this.root_,n,this.comparator_,!1,a)}getReverseIteratorFrom(n,a){return new ro(this.root_,n,this.comparator_,!0,a)}getReverseIterator(n){return new ro(this.root_,null,this.comparator_,!0,n)}}zt.EMPTY_NODE=new GE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(i,n){return ha(i.name,n.name)}function jf(i,n){return ha(i,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wd;function QE(i){Wd=i}const Gy=function(i){return typeof i=="number"?"number:"+_y(i):"string:"+i},Yy=function(i){if(i.isLeafNode()){const n=i.val();G(typeof n=="string"||typeof n=="number"||typeof n=="object"&&gn(n,".sv"),"Priority must be a string or number.")}else G(i===Wd||i.isEmpty(),"priority of unexpected type.");G(i===Wd||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iv;class ft{static set __childrenNodeConstructor(n){iv=n}static get __childrenNodeConstructor(){return iv}constructor(n,a=ft.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=a,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Yy(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new ft(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:ft.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return xe(n)?this:ge(n)===".priority"?this.priorityNode_:ft.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,a){return null}updateImmediateChild(n,a){return n===".priority"?this.updatePriority(a):a.isEmpty()&&n!==".priority"?this:ft.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,a).updatePriority(this.priorityNode_)}updateChild(n,a){const l=ge(n);return l===null?a:a.isEmpty()&&l!==".priority"?this:(G(l!==".priority"||ji(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(l,ft.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ge(n),a)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,a){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Gy(this.priorityNode_.val())+":");const a=typeof this.value_;n+=a+":",a==="number"?n+=_y(this.value_):n+=this.value_,this.lazyHash_=vy(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===ft.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof ft.__childrenNodeConstructor?-1:(G(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const a=typeof n.value_,l=typeof this.value_,o=ft.VALUE_TYPE_ORDER.indexOf(a),u=ft.VALUE_TYPE_ORDER.indexOf(l);return G(o>=0,"Unknown leaf type: "+a),G(u>=0,"Unknown leaf type: "+l),o===u?l==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const a=n;return this.value_===a.value_&&this.priorityNode_.equals(a.priorityNode_)}else return!1}}ft.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qy,Fy;function FE(i){Qy=i}function XE(i){Fy=i}class PE extends Lo{compare(n,a){const l=n.node.getPriority(),o=a.node.getPriority(),u=l.compareTo(o);return u===0?ha(n.name,a.name):u}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,a){return!n.getPriority().equals(a.getPriority())}minPost(){return ve.MIN}maxPost(){return new ve(as,new ft("[PRIORITY-POST]",Fy))}makePost(n,a){const l=Qy(n);return new ve(a,new ft("[PRIORITY-POST]",l))}toString(){return".priority"}}const Ke=new PE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=Math.log(2);class KE{constructor(n){const a=u=>parseInt(Math.log(u)/$E,10),l=u=>parseInt(Array(u+1).join("1"),2);this.count=a(n+1),this.current_=this.count-1;const o=l(this.count);this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const _o=function(i,n,a,l){i.sort(n);const o=function(v,g){const b=g-v;let x,_;if(b===0)return null;if(b===1)return x=i[v],_=a?a(x):x,new mt(_,x.node,mt.BLACK,null,null);{const N=parseInt(b/2,10)+v,C=o(v,N),z=o(N+1,g);return x=i[N],_=a?a(x):x,new mt(_,x.node,mt.BLACK,C,z)}},u=function(v){let g=null,b=null,x=i.length;const _=function(C,z){const U=x-C,Y=x;x-=C;const $=o(U+1,Y),F=i[U],oe=a?a(F):F;N(new mt(oe,F.node,z,null,$))},N=function(C){g?(g.left=C,g=C):(b=C,g=C)};for(let C=0;C<v.count;++C){const z=v.nextBitIsOne(),U=Math.pow(2,v.count-(C+1));z?_(U,mt.BLACK):(_(U,mt.BLACK),_(U,mt.RED))}return b},f=new KE(i.length),m=u(f);return new zt(l||n,m)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od;const Js={};class Yn{static get Default(){return G(Js&&Ke,"ChildrenNode.ts has not been loaded"),Od=Od||new Yn({".priority":Js},{".priority":Ke}),Od}constructor(n,a){this.indexes_=n,this.indexSet_=a}get(n){const a=ss(this.indexes_,n);if(!a)throw new Error("No index defined for "+n);return a instanceof zt?a:null}hasIndex(n){return gn(this.indexSet_,n.toString())}addIndex(n,a){G(n!==ta,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const l=[];let o=!1;const u=a.getIterator(ve.Wrap);let f=u.getNext();for(;f;)o=o||n.isDefinedOn(f.node),l.push(f),f=u.getNext();let m;o?m=_o(l,n.getCompare()):m=Js;const v=n.toString(),g=Ne({},this.indexSet_);g[v]=n;const b=Ne({},this.indexes_);return b[v]=m,new Yn(b,g)}addToIndexes(n,a){const l=po(this.indexes_,(o,u)=>{const f=ss(this.indexSet_,u);if(G(f,"Missing index implementation for "+u),o===Js)if(f.isDefinedOn(n.node)){const m=[],v=a.getIterator(ve.Wrap);let g=v.getNext();for(;g;)g.name!==n.name&&m.push(g),g=v.getNext();return m.push(n),_o(m,f.getCompare())}else return Js;else{const m=a.get(n.name);let v=o;return m&&(v=v.remove(new ve(n.name,m))),v.insert(n,n.node)}});return new Yn(l,this.indexSet_)}removeFromIndexes(n,a){const l=po(this.indexes_,o=>{if(o===Js)return o;{const u=a.get(n.name);return u?o.remove(new ve(n.name,u)):o}});return new Yn(l,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl;class le{static get EMPTY_NODE(){return dl||(dl=new le(new zt(jf),null,Yn.Default))}constructor(n,a,l){this.children_=n,this.priorityNode_=a,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&Yy(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||dl}updatePriority(n){return this.children_.isEmpty()?this:new le(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const a=this.children_.get(n);return a===null?dl:a}}getChild(n){const a=ge(n);return a===null?this:this.getImmediateChild(a).getChild(Ge(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,a){if(G(a,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(a);{const l=new ve(n,a);let o,u;a.isEmpty()?(o=this.children_.remove(n),u=this.indexMap_.removeFromIndexes(l,this.children_)):(o=this.children_.insert(n,a),u=this.indexMap_.addToIndexes(l,this.children_));const f=o.isEmpty()?dl:this.priorityNode_;return new le(o,f,u)}}updateChild(n,a){const l=ge(n);if(l===null)return a;{G(ge(n)!==".priority"||ji(n)===1,".priority must be the last token in a path");const o=this.getImmediateChild(l).updateChild(Ge(n),a);return this.updateImmediateChild(l,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const a={};let l=0,o=0,u=!0;if(this.forEachChild(Ke,(f,m)=>{a[f]=m.val(n),l++,u&&le.INTEGER_REGEXP_.test(f)?o=Math.max(o,Number(f)):u=!1}),!n&&u&&o<2*l){const f=[];for(const m in a)f[m]=a[m];return f}else return n&&!this.getPriority().isEmpty()&&(a[".priority"]=this.getPriority().val()),a}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+Gy(this.getPriority().val())+":"),this.forEachChild(Ke,(a,l)=>{const o=l.hash();o!==""&&(n+=":"+a+":"+o)}),this.lazyHash_=n===""?"":vy(n)}return this.lazyHash_}getPredecessorChildName(n,a,l){const o=this.resolveIndex_(l);if(o){const u=o.getPredecessorKey(new ve(n,a));return u?u.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const a=this.resolveIndex_(n);if(a){const l=a.minKey();return l&&l.name}else return this.children_.minKey()}getFirstChild(n){const a=this.getFirstChildName(n);return a?new ve(a,this.children_.get(a)):null}getLastChildName(n){const a=this.resolveIndex_(n);if(a){const l=a.maxKey();return l&&l.name}else return this.children_.maxKey()}getLastChild(n){const a=this.getLastChildName(n);return a?new ve(a,this.children_.get(a)):null}forEachChild(n,a){const l=this.resolveIndex_(n);return l?l.inorderTraversal(o=>a(o.name,o.node)):this.children_.inorderTraversal(a)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,a){const l=this.resolveIndex_(a);if(l)return l.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,ve.Wrap);let u=o.peek();for(;u!=null&&a.compare(u,n)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,a){const l=this.resolveIndex_(a);if(l)return l.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,ve.Wrap);let u=o.peek();for(;u!=null&&a.compare(u,n)>0;)o.getNext(),u=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Ll?-1:0}withIndex(n){if(n===ta||this.indexMap_.hasIndex(n))return this;{const a=this.indexMap_.addIndex(n,this.children_);return new le(this.children_,this.priorityNode_,a)}}isIndexed(n){return n===ta||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const a=n;if(this.getPriority().equals(a.getPriority()))if(this.children_.count()===a.children_.count()){const l=this.getIterator(Ke),o=a.getIterator(Ke);let u=l.getNext(),f=o.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=l.getNext(),f=o.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(n){return n===ta?null:this.indexMap_.get(n.toString())}}le.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class ZE extends le{constructor(){super(new zt(jf),le.EMPTY_NODE,Yn.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return le.EMPTY_NODE}isEmpty(){return!1}}const Ll=new ZE;Object.defineProperties(ve,{MIN:{value:new ve(ca,le.EMPTY_NODE)},MAX:{value:new ve(as,Ll)}});Vy.__EMPTY_NODE=le.EMPTY_NODE;ft.__childrenNodeConstructor=le;QE(Ll);XE(Ll);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=!0;function pt(i,n=null){if(i===null)return le.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(n=i[".priority"]),G(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const a=i;return new ft(a,pt(n))}if(!(i instanceof Array)&&JE){const a=[];let l=!1;if(It(i,(f,m)=>{if(f.substring(0,1)!=="."){const v=pt(m);v.isEmpty()||(l=l||!v.getPriority().isEmpty(),a.push(new ve(f,v)))}}),a.length===0)return le.EMPTY_NODE;const u=_o(a,YE,f=>f.name,jf);if(l){const f=_o(a,Ke.getCompare());return new le(u,pt(n),new Yn({".priority":f},{".priority":Ke}))}else return new le(u,pt(n),Yn.Default)}else{let a=le.EMPTY_NODE;return It(i,(l,o)=>{if(gn(i,l)&&l.substring(0,1)!=="."){const u=pt(o);(u.isLeafNode()||!u.isEmpty())&&(a=a.updateImmediateChild(l,u))}}),a.updatePriority(pt(n))}}FE(pt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE extends Lo{constructor(n){super(),this.indexPath_=n,G(!xe(n)&&ge(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,a){const l=this.extractChild(n.node),o=this.extractChild(a.node),u=l.compareTo(o);return u===0?ha(n.name,a.name):u}makePost(n,a){const l=pt(n),o=le.EMPTY_NODE.updateChild(this.indexPath_,l);return new ve(a,o)}maxPost(){const n=le.EMPTY_NODE.updateChild(this.indexPath_,Ll);return new ve(as,n)}toString(){return By(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN extends Lo{compare(n,a){const l=n.node.compareTo(a.node);return l===0?ha(n.name,a.name):l}isDefinedOn(n){return!0}indexedValueChanged(n,a){return!n.equals(a)}minPost(){return ve.MIN}maxPost(){return ve.MAX}makePost(n,a){const l=pt(n);return new ve(a,l)}toString(){return".value"}}const tN=new eN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(i){return{type:"value",snapshotNode:i}}function ua(i,n){return{type:"child_added",snapshotNode:n,childName:i}}function El(i,n){return{type:"child_removed",snapshotNode:n,childName:i}}function Nl(i,n,a){return{type:"child_changed",snapshotNode:n,childName:i,oldSnap:a}}function nN(i,n){return{type:"child_moved",snapshotNode:n,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(n){this.index_=n}updateChild(n,a,l,o,u,f){G(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=n.getImmediateChild(a);return m.getChild(o).equals(l.getChild(o))&&m.isEmpty()===l.isEmpty()||(f!=null&&(l.isEmpty()?n.hasChild(a)?f.trackChildChange(El(a,m)):G(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?f.trackChildChange(ua(a,l)):f.trackChildChange(Nl(a,l,m))),n.isLeafNode()&&l.isEmpty())?n:n.updateImmediateChild(a,l).withIndex(this.index_)}updateFullNode(n,a,l){return l!=null&&(n.isLeafNode()||n.forEachChild(Ke,(o,u)=>{a.hasChild(o)||l.trackChildChange(El(o,u))}),a.isLeafNode()||a.forEachChild(Ke,(o,u)=>{if(n.hasChild(o)){const f=n.getImmediateChild(o);f.equals(u)||l.trackChildChange(Nl(o,u,f))}else l.trackChildChange(ua(o,u))})),a.withIndex(this.index_)}updatePriority(n,a){return n.isEmpty()?le.EMPTY_NODE:n.updatePriority(a)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(n){this.indexedFilter_=new Df(n.getIndex()),this.index_=n.getIndex(),this.startPost_=Cl.getStartPost_(n),this.endPost_=Cl.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const a=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,l=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return a&&l}updateChild(n,a,l,o,u,f){return this.matches(new ve(a,l))||(l=le.EMPTY_NODE),this.indexedFilter_.updateChild(n,a,l,o,u,f)}updateFullNode(n,a,l){a.isLeafNode()&&(a=le.EMPTY_NODE);let o=a.withIndex(this.index_);o=o.updatePriority(le.EMPTY_NODE);const u=this;return a.forEachChild(Ke,(f,m)=>{u.matches(new ve(f,m))||(o=o.updateImmediateChild(f,le.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,l)}updatePriority(n,a){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const a=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),a)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const a=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),a)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(n){this.withinDirectionalStart=a=>this.reverse_?this.withinEndPost(a):this.withinStartPost(a),this.withinDirectionalEnd=a=>this.reverse_?this.withinStartPost(a):this.withinEndPost(a),this.withinStartPost=a=>{const l=this.index_.compare(this.rangedFilter_.getStartPost(),a);return this.startIsInclusive_?l<=0:l<0},this.withinEndPost=a=>{const l=this.index_.compare(a,this.rangedFilter_.getEndPost());return this.endIsInclusive_?l<=0:l<0},this.rangedFilter_=new Cl(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,a,l,o,u,f){return this.rangedFilter_.matches(new ve(a,l))||(l=le.EMPTY_NODE),n.getImmediateChild(a).equals(l)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,a,l,o,u,f):this.fullLimitUpdateChild_(n,a,l,u,f)}updateFullNode(n,a,l){let o;if(a.isLeafNode()||a.isEmpty())o=le.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<a.numChildren()&&a.isIndexed(this.index_)){o=le.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=a.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=a.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const m=u.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))o=o.updateImmediateChild(m.name,m.node),f++;else break;else continue}}else{o=a.withIndex(this.index_),o=o.updatePriority(le.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let f=0;for(;u.hasNext();){const m=u.getNext();f<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?f++:o=o.updateImmediateChild(m.name,le.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,l)}updatePriority(n,a){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,a,l,o,u){let f;if(this.reverse_){const x=this.index_.getCompare();f=(_,N)=>x(N,_)}else f=this.index_.getCompare();const m=n;G(m.numChildren()===this.limit_,"");const v=new ve(a,l),g=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),b=this.rangedFilter_.matches(v);if(m.hasChild(a)){const x=m.getImmediateChild(a);let _=o.getChildAfterChild(this.index_,g,this.reverse_);for(;_!=null&&(_.name===a||m.hasChild(_.name));)_=o.getChildAfterChild(this.index_,_,this.reverse_);const N=_==null?1:f(_,v);if(b&&!l.isEmpty()&&N>=0)return u!=null&&u.trackChildChange(Nl(a,l,x)),m.updateImmediateChild(a,l);{u!=null&&u.trackChildChange(El(a,x));const z=m.updateImmediateChild(a,le.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(u!=null&&u.trackChildChange(ua(_.name,_.node)),z.updateImmediateChild(_.name,_.node)):z}}else return l.isEmpty()?n:b&&f(g,v)>=0?(u!=null&&(u.trackChildChange(El(g.name,g.node)),u.trackChildChange(ua(a,l))),m.updateImmediateChild(a,l).updateImmediateChild(g.name,le.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ke}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ca}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:as}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ke}copy(){const n=new Mf;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function sN(i){return i.loadsAllData()?new Df(i.getIndex()):i.hasLimit()?new iN(i):new Cl(i)}function sv(i){const n={};if(i.isDefault())return n;let a;if(i.index_===Ke?a="$priority":i.index_===tN?a="$value":i.index_===ta?a="$key":(G(i.index_ instanceof WE,"Unrecognized index type!"),a=i.index_.toString()),n.orderBy=gt(a),i.startSet_){const l=i.startAfterSet_?"startAfter":"startAt";n[l]=gt(i.indexStartValue_),i.startNameSet_&&(n[l]+=","+gt(i.indexStartName_))}if(i.endSet_){const l=i.endBeforeSet_?"endBefore":"endAt";n[l]=gt(i.indexEndValue_),i.endNameSet_&&(n[l]+=","+gt(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?n.limitToFirst=i.limit_:n.limitToLast=i.limit_),n}function av(i){const n={};if(i.startSet_&&(n.sp=i.indexStartValue_,i.startNameSet_&&(n.sn=i.indexStartName_),n.sin=!i.startAfterSet_),i.endSet_&&(n.ep=i.indexEndValue_,i.endNameSet_&&(n.en=i.indexEndName_),n.ein=!i.endBeforeSet_),i.limitSet_){n.l=i.limit_;let a=i.viewFrom_;a===""&&(i.isViewFromLeft()?a="l":a="r"),n.vf=a}return i.index_!==Ke&&(n.i=i.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends Iy{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,a){return a!==void 0?"tag$"+a:(G(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,a,l,o){super(),this.repoInfo_=n,this.onDataUpdate_=a,this.authTokenProvider_=l,this.appCheckTokenProvider_=o,this.log_=Il("p:rest:"),this.listens_={}}listen(n,a,l,o){const u=n._path.toString();this.log_("Listen called for "+u+" "+n._queryIdentifier);const f=xo.getListenId_(n,l),m={};this.listens_[f]=m;const v=sv(n._queryParams);this.restRequest_(u+".json",v,(g,b)=>{let x=b;if(g===404&&(x=null,g=null),g===null&&this.onDataUpdate_(u,x,!1,l),ss(this.listens_,f)===m){let _;g?g===401?_="permission_denied":_="rest_error:"+g:_="ok",o(_,null)}})}unlisten(n,a){const l=xo.getListenId_(n,a);delete this.listens_[l]}get(n){const a=sv(n._queryParams),l=n._path.toString(),o=new Ol;return this.restRequest_(l+".json",a,(u,f)=>{let m=f;u===404&&(m=null,u=null),u===null?(this.onDataUpdate_(l,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(n){}restRequest_(n,a={},l){return a.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(a.auth=o.accessToken),u&&u.token&&(a.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+M2(a);this.log_("Sending REST request for "+f);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(l&&m.readyState===4){this.log_("REST Response for "+f+" received. status:",m.status,"response:",m.responseText);let v=null;if(m.status>=200&&m.status<300){try{v=xl(m.responseText)}catch(g){kt("Failed to parse JSON response for "+f+": "+m.responseText)}l(null,v)}else m.status!==401&&m.status!==404&&kt("Got unsuccessful REST response for "+f+" Status: "+m.status),l(m.status);l=null}},m.open("GET",f,!0),m.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(){this.rootNode_=le.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,a){this.rootNode_=this.rootNode_.updateChild(n,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(){return{value:null,children:new Map}}function Py(i,n,a){if(xe(n))i.value=a,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(n,a);else{const l=ge(n);i.children.has(l)||i.children.set(l,bo());const o=i.children.get(l);n=Ge(n),Py(o,n,a)}}function ef(i,n,a){i.value!==null?a(n,i.value):lN(i,(l,o)=>{const u=new He(n.toString()+"/"+l);ef(o,u,a)})}function lN(i,n){i.children.forEach((a,l)=>{n(l,a)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),a=Ne({},n);return this.last_&&It(this.last_,(l,o)=>{a[l]=a[l]-o}),this.last_=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=10*1e3,oN=30*1e3,cN=300*1e3;class uN{constructor(n,a){this.server_=a,this.statsToReport_={},this.statsListener_=new rN(n);const l=lv+(oN-lv)*Math.random();gl(this.reportStats_.bind(this),Math.floor(l))}reportStats_(){const n=this.statsListener_.get(),a={};let l=!1;It(n,(o,u)=>{u>0&&gn(this.statsToReport_,o)&&(a[o]=u,l=!0)}),l&&this.server_.reportStats(a),gl(this.reportStats_.bind(this),Math.floor(Math.random()*2*cN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(mn||(mn={}));function $y(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Rf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Of(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(n,a,l){this.path=n,this.affectedTree=a,this.revert=l,this.type=mn.ACK_USER_WRITE,this.source=$y()}operationForChild(n){if(xe(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const a=this.affectedTree.subtree(new He(n));return new So(je(),a,this.revert)}}else return G(ge(this.path)===n,"operationForChild called for unrelated child."),new So(Ge(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(n,a){this.source=n,this.path=a,this.type=mn.LISTEN_COMPLETE}operationForChild(n){return xe(this.path)?new Tl(this.source,je()):new Tl(this.source,Ge(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(n,a,l){this.source=n,this.path=a,this.snap=l,this.type=mn.OVERWRITE}operationForChild(n){return xe(this.path)?new ls(this.source,je(),this.snap.getImmediateChild(n)):new ls(this.source,Ge(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(n,a,l){this.source=n,this.path=a,this.children=l,this.type=mn.MERGE}operationForChild(n){if(xe(this.path)){const a=this.children.subtree(new He(n));return a.isEmpty()?null:a.value?new ls(this.source,je(),a.value):new Al(this.source,je(),a)}else return G(ge(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Al(this.source,Ge(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(n,a,l){this.node_=n,this.fullyInitialized_=a,this.filtered_=l}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(xe(n))return this.isFullyInitialized()&&!this.filtered_;const a=ge(n);return this.isCompleteForChild(a)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function fN(i,n,a,l){const o=[],u=[];return n.forEach(f=>{f.type==="child_changed"&&i.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(nN(f.childName,f.snapshotNode))}),fl(i,o,"child_removed",n,l,a),fl(i,o,"child_added",n,l,a),fl(i,o,"child_moved",u,l,a),fl(i,o,"child_changed",n,l,a),fl(i,o,"value",n,l,a),o}function fl(i,n,a,l,o,u){const f=l.filter(m=>m.type===a);f.sort((m,v)=>mN(i,m,v)),f.forEach(m=>{const v=hN(i,m,u);o.forEach(g=>{g.respondsTo(m.type)&&n.push(g.createEvent(v,i.query_))})})}function hN(i,n,a){return n.type==="value"||n.type==="child_removed"||(n.prevName=a.getPredecessorChildName(n.childName,n.snapshotNode,i.index_)),n}function mN(i,n,a){if(n.childName==null||a.childName==null)throw fa("Should only compare child_ events.");const l=new ve(n.childName,n.snapshotNode),o=new ve(a.childName,a.snapshotNode);return i.index_.compare(l,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(i,n){return{eventCache:i,serverCache:n}}function vl(i,n,a,l){return Uo(new rs(n,a,l),i.serverCache)}function Ky(i,n,a,l){return Uo(i.eventCache,new rs(n,a,l))}function tf(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function os(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd;const pN=()=>(zd||(zd=new zt(eE)),zd);class Fe{static fromObject(n){let a=new Fe(null);return It(n,(l,o)=>{a=a.set(new He(l),o)}),a}constructor(n,a=pN()){this.value=n,this.children=a}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,a){if(this.value!=null&&a(this.value))return{path:je(),value:this.value};if(xe(n))return null;{const l=ge(n),o=this.children.get(l);if(o!==null){const u=o.findRootMostMatchingPathAndValue(Ge(n),a);return u!=null?{path:ct(new He(l),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(xe(n))return this;{const a=ge(n),l=this.children.get(a);return l!==null?l.subtree(Ge(n)):new Fe(null)}}set(n,a){if(xe(n))return new Fe(a,this.children);{const l=ge(n),u=(this.children.get(l)||new Fe(null)).set(Ge(n),a),f=this.children.insert(l,u);return new Fe(this.value,f)}}remove(n){if(xe(n))return this.children.isEmpty()?new Fe(null):new Fe(null,this.children);{const a=ge(n),l=this.children.get(a);if(l){const o=l.remove(Ge(n));let u;return o.isEmpty()?u=this.children.remove(a):u=this.children.insert(a,o),this.value===null&&u.isEmpty()?new Fe(null):new Fe(this.value,u)}else return this}}get(n){if(xe(n))return this.value;{const a=ge(n),l=this.children.get(a);return l?l.get(Ge(n)):null}}setTree(n,a){if(xe(n))return a;{const l=ge(n),u=(this.children.get(l)||new Fe(null)).setTree(Ge(n),a);let f;return u.isEmpty()?f=this.children.remove(l):f=this.children.insert(l,u),new Fe(this.value,f)}}fold(n){return this.fold_(je(),n)}fold_(n,a){const l={};return this.children.inorderTraversal((o,u)=>{l[o]=u.fold_(ct(n,o),a)}),a(n,this.value,l)}findOnPath(n,a){return this.findOnPath_(n,je(),a)}findOnPath_(n,a,l){const o=this.value?l(a,this.value):!1;if(o)return o;if(xe(n))return null;{const u=ge(n),f=this.children.get(u);return f?f.findOnPath_(Ge(n),ct(a,u),l):null}}foreachOnPath(n,a){return this.foreachOnPath_(n,je(),a)}foreachOnPath_(n,a,l){if(xe(n))return this;{this.value&&l(a,this.value);const o=ge(n),u=this.children.get(o);return u?u.foreachOnPath_(Ge(n),ct(a,o),l):new Fe(null)}}foreach(n){this.foreach_(je(),n)}foreach_(n,a){this.children.inorderTraversal((l,o)=>{o.foreach_(ct(n,l),a)}),this.value&&a(n,this.value)}foreachChild(n){this.children.inorderTraversal((a,l)=>{l.value&&n(a,l.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(n){this.writeTree_=n}static empty(){return new pn(new Fe(null))}}function yl(i,n,a){if(xe(n))return new pn(new Fe(a));{const l=i.writeTree_.findRootMostValueAndPath(n);if(l!=null){const o=l.path;let u=l.value;const f=Ot(o,n);return u=u.updateChild(f,a),new pn(i.writeTree_.set(o,u))}else{const o=new Fe(a),u=i.writeTree_.setTree(n,o);return new pn(u)}}}function rv(i,n,a){let l=i;return It(a,(o,u)=>{l=yl(l,ct(n,o),u)}),l}function ov(i,n){if(xe(n))return pn.empty();{const a=i.writeTree_.setTree(n,new Fe(null));return new pn(a)}}function nf(i,n){return fs(i,n)!=null}function fs(i,n){const a=i.writeTree_.findRootMostValueAndPath(n);return a!=null?i.writeTree_.get(a.path).getChild(Ot(a.path,n)):null}function cv(i){const n=[],a=i.writeTree_.value;return a!=null?a.isLeafNode()||a.forEachChild(Ke,(l,o)=>{n.push(new ve(l,o))}):i.writeTree_.children.inorderTraversal((l,o)=>{o.value!=null&&n.push(new ve(l,o.value))}),n}function Ei(i,n){if(xe(n))return i;{const a=fs(i,n);return a!=null?new pn(new Fe(a)):new pn(i.writeTree_.subtree(n))}}function sf(i){return i.writeTree_.isEmpty()}function da(i,n){return Zy(je(),i.writeTree_,n)}function Zy(i,n,a){if(n.value!=null)return a.updateChild(i,n.value);{let l=null;return n.children.inorderTraversal((o,u)=>{o===".priority"?(G(u.value!==null,"Priority writes must always be leaf nodes"),l=u.value):a=Zy(ct(i,o),u,a)}),!a.getChild(i).isEmpty()&&l!==null&&(a=a.updateChild(ct(i,".priority"),l)),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(i,n){return t_(n,i)}function gN(i,n,a,l,o){G(l>i.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),i.allWrites.push({path:n,snap:a,writeId:l,visible:o}),o&&(i.visibleWrites=yl(i.visibleWrites,n,a)),i.lastWriteId=l}function vN(i,n){for(let a=0;a<i.allWrites.length;a++){const l=i.allWrites[a];if(l.writeId===n)return l}return null}function yN(i,n){const a=i.allWrites.findIndex(m=>m.writeId===n);G(a>=0,"removeWrite called with nonexistent writeId.");const l=i.allWrites[a];i.allWrites.splice(a,1);let o=l.visible,u=!1,f=i.allWrites.length-1;for(;o&&f>=0;){const m=i.allWrites[f];m.visible&&(f>=a&&_N(m,l.path)?o=!1:hn(l.path,m.path)&&(u=!0)),f--}if(o){if(u)return xN(i),!0;if(l.snap)i.visibleWrites=ov(i.visibleWrites,l.path);else{const m=l.children;It(m,v=>{i.visibleWrites=ov(i.visibleWrites,ct(l.path,v))})}return!0}else return!1}function _N(i,n){if(i.snap)return hn(i.path,n);for(const a in i.children)if(i.children.hasOwnProperty(a)&&hn(ct(i.path,a),n))return!0;return!1}function xN(i){i.visibleWrites=Jy(i.allWrites,bN,je()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function bN(i){return i.visible}function Jy(i,n,a){let l=pn.empty();for(let o=0;o<i.length;++o){const u=i[o];if(n(u)){const f=u.path;let m;if(u.snap)hn(a,f)?(m=Ot(a,f),l=yl(l,m,u.snap)):hn(f,a)&&(m=Ot(f,a),l=yl(l,je(),u.snap.getChild(m)));else if(u.children){if(hn(a,f))m=Ot(a,f),l=rv(l,m,u.children);else if(hn(f,a))if(m=Ot(f,a),xe(m))l=rv(l,je(),u.children);else{const v=ss(u.children,ge(m));if(v){const g=v.getChild(Ge(m));l=yl(l,je(),g)}}}else throw fa("WriteRecord should have .snap or .children")}}return l}function Wy(i,n,a,l,o){if(!l&&!o){const u=fs(i.visibleWrites,n);if(u!=null)return u;{const f=Ei(i.visibleWrites,n);if(sf(f))return a;if(a==null&&!nf(f,je()))return null;{const m=a||le.EMPTY_NODE;return da(f,m)}}}else{const u=Ei(i.visibleWrites,n);if(!o&&sf(u))return a;if(!o&&a==null&&!nf(u,je()))return null;{const f=function(g){return(g.visible||o)&&(!l||!~l.indexOf(g.writeId))&&(hn(g.path,n)||hn(n,g.path))},m=Jy(i.allWrites,f,n),v=a||le.EMPTY_NODE;return da(m,v)}}}function SN(i,n,a){let l=le.EMPTY_NODE;const o=fs(i.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(Ke,(u,f)=>{l=l.updateImmediateChild(u,f)}),l;if(a){const u=Ei(i.visibleWrites,n);return a.forEachChild(Ke,(f,m)=>{const v=da(Ei(u,new He(f)),m);l=l.updateImmediateChild(f,v)}),cv(u).forEach(f=>{l=l.updateImmediateChild(f.name,f.node)}),l}else{const u=Ei(i.visibleWrites,n);return cv(u).forEach(f=>{l=l.updateImmediateChild(f.name,f.node)}),l}}function wN(i,n,a,l,o){G(l||o,"Either existingEventSnap or existingServerSnap must exist");const u=ct(n,a);if(nf(i.visibleWrites,u))return null;{const f=Ei(i.visibleWrites,u);return sf(f)?o.getChild(a):da(f,o.getChild(a))}}function EN(i,n,a,l){const o=ct(n,a),u=fs(i.visibleWrites,o);if(u!=null)return u;if(l.isCompleteForChild(a)){const f=Ei(i.visibleWrites,o);return da(f,l.getNode().getImmediateChild(a))}else return null}function NN(i,n){return fs(i.visibleWrites,n)}function CN(i,n,a,l,o,u,f){let m;const v=Ei(i.visibleWrites,n),g=fs(v,je());if(g!=null)m=g;else if(a!=null)m=da(v,a);else return[];if(m=m.withIndex(f),!m.isEmpty()&&!m.isLeafNode()){const b=[],x=f.getCompare(),_=u?m.getReverseIteratorFrom(l,f):m.getIteratorFrom(l,f);let N=_.getNext();for(;N&&b.length<o;)x(N,l)!==0&&b.push(N),N=_.getNext();return b}else return[]}function TN(){return{visibleWrites:pn.empty(),allWrites:[],lastWriteId:-1}}function wo(i,n,a,l){return Wy(i.writeTree,i.treePath,n,a,l)}function kf(i,n){return SN(i.writeTree,i.treePath,n)}function uv(i,n,a,l){return wN(i.writeTree,i.treePath,n,a,l)}function Eo(i,n){return NN(i.writeTree,ct(i.treePath,n))}function AN(i,n,a,l,o,u){return CN(i.writeTree,i.treePath,n,a,l,o,u)}function If(i,n,a){return EN(i.writeTree,i.treePath,n,a)}function e_(i,n){return t_(ct(i.treePath,n),i.writeTree)}function t_(i,n){return{treePath:i,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this.changeMap=new Map}trackChildChange(n){const a=n.type,l=n.childName;G(a==="child_added"||a==="child_changed"||a==="child_removed","Only child changes supported for tracking"),G(l!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(l);if(o){const u=o.type;if(a==="child_added"&&u==="child_removed")this.changeMap.set(l,Nl(l,n.snapshotNode,o.snapshotNode));else if(a==="child_removed"&&u==="child_added")this.changeMap.delete(l);else if(a==="child_removed"&&u==="child_changed")this.changeMap.set(l,El(l,o.oldSnap));else if(a==="child_changed"&&u==="child_added")this.changeMap.set(l,ua(l,n.snapshotNode));else if(a==="child_changed"&&u==="child_changed")this.changeMap.set(l,Nl(l,n.snapshotNode,o.oldSnap));else throw fa("Illegal combination of changes: "+n+" occurred after "+o)}else this.changeMap.set(l,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{getCompleteChild(n){return null}getChildAfterChild(n,a,l){return null}}const n_=new DN;class Lf{constructor(n,a,l=null){this.writes_=n,this.viewCache_=a,this.optCompleteServerCache_=l}getCompleteChild(n){const a=this.viewCache_.eventCache;if(a.isCompleteForChild(n))return a.getNode().getImmediateChild(n);{const l=this.optCompleteServerCache_!=null?new rs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return If(this.writes_,n,l)}}getChildAfterChild(n,a,l){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:os(this.viewCache_),u=AN(this.writes_,o,a,1,l,n);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(i){return{filter:i}}function RN(i,n){G(n.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),G(n.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function ON(i,n,a,l,o){const u=new jN;let f,m;if(a.type===mn.OVERWRITE){const g=a;g.source.fromUser?f=af(i,n,g.path,g.snap,l,o,u):(G(g.source.fromServer,"Unknown source."),m=g.source.tagged||n.serverCache.isFiltered()&&!xe(g.path),f=No(i,n,g.path,g.snap,l,o,m,u))}else if(a.type===mn.MERGE){const g=a;g.source.fromUser?f=kN(i,n,g.path,g.children,l,o,u):(G(g.source.fromServer,"Unknown source."),m=g.source.tagged||n.serverCache.isFiltered(),f=lf(i,n,g.path,g.children,l,o,m,u))}else if(a.type===mn.ACK_USER_WRITE){const g=a;g.revert?f=UN(i,n,g.path,l,o,u):f=IN(i,n,g.path,g.affectedTree,l,o,u)}else if(a.type===mn.LISTEN_COMPLETE)f=LN(i,n,a.path,l,u);else throw fa("Unknown operation type: "+a.type);const v=u.getChanges();return zN(n,f,v),{viewCache:f,changes:v}}function zN(i,n,a){const l=n.eventCache;if(l.isFullyInitialized()){const o=l.getNode().isLeafNode()||l.getNode().isEmpty(),u=tf(i);(a.length>0||!i.eventCache.isFullyInitialized()||o&&!l.getNode().equals(u)||!l.getNode().getPriority().equals(u.getPriority()))&&a.push(Xy(tf(n)))}}function i_(i,n,a,l,o,u){const f=n.eventCache;if(Eo(l,a)!=null)return n;{let m,v;if(xe(a))if(G(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const g=os(n),b=g instanceof le?g:le.EMPTY_NODE,x=kf(l,b);m=i.filter.updateFullNode(n.eventCache.getNode(),x,u)}else{const g=wo(l,os(n));m=i.filter.updateFullNode(n.eventCache.getNode(),g,u)}else{const g=ge(a);if(g===".priority"){G(ji(a)===1,"Can't have a priority with additional path components");const b=f.getNode();v=n.serverCache.getNode();const x=uv(l,a,b,v);x!=null?m=i.filter.updatePriority(b,x):m=f.getNode()}else{const b=Ge(a);let x;if(f.isCompleteForChild(g)){v=n.serverCache.getNode();const _=uv(l,a,f.getNode(),v);_!=null?x=f.getNode().getImmediateChild(g).updateChild(b,_):x=f.getNode().getImmediateChild(g)}else x=If(l,g,n.serverCache);x!=null?m=i.filter.updateChild(f.getNode(),g,x,b,o,u):m=f.getNode()}}return vl(n,m,f.isFullyInitialized()||xe(a),i.filter.filtersNodes())}}function No(i,n,a,l,o,u,f,m){const v=n.serverCache;let g;const b=f?i.filter:i.filter.getIndexedFilter();if(xe(a))g=b.updateFullNode(v.getNode(),l,null);else if(b.filtersNodes()&&!v.isFiltered()){const N=v.getNode().updateChild(a,l);g=b.updateFullNode(v.getNode(),N,null)}else{const N=ge(a);if(!v.isCompleteForPath(a)&&ji(a)>1)return n;const C=Ge(a),U=v.getNode().getImmediateChild(N).updateChild(C,l);N===".priority"?g=b.updatePriority(v.getNode(),U):g=b.updateChild(v.getNode(),N,U,C,n_,null)}const x=Ky(n,g,v.isFullyInitialized()||xe(a),b.filtersNodes()),_=new Lf(o,x,u);return i_(i,x,a,o,_,m)}function af(i,n,a,l,o,u,f){const m=n.eventCache;let v,g;const b=new Lf(o,n,u);if(xe(a))g=i.filter.updateFullNode(n.eventCache.getNode(),l,f),v=vl(n,g,!0,i.filter.filtersNodes());else{const x=ge(a);if(x===".priority")g=i.filter.updatePriority(n.eventCache.getNode(),l),v=vl(n,g,m.isFullyInitialized(),m.isFiltered());else{const _=Ge(a),N=m.getNode().getImmediateChild(x);let C;if(xe(_))C=l;else{const z=b.getCompleteChild(x);z!=null?Uy(_)===".priority"&&z.getChild(Hy(_)).isEmpty()?C=z:C=z.updateChild(_,l):C=le.EMPTY_NODE}if(N.equals(C))v=n;else{const z=i.filter.updateChild(m.getNode(),x,C,_,b,f);v=vl(n,z,m.isFullyInitialized(),i.filter.filtersNodes())}}}return v}function dv(i,n){return i.eventCache.isCompleteForChild(n)}function kN(i,n,a,l,o,u,f){let m=n;return l.foreach((v,g)=>{const b=ct(a,v);dv(n,ge(b))&&(m=af(i,m,b,g,o,u,f))}),l.foreach((v,g)=>{const b=ct(a,v);dv(n,ge(b))||(m=af(i,m,b,g,o,u,f))}),m}function fv(i,n,a){return a.foreach((l,o)=>{n=n.updateChild(l,o)}),n}function lf(i,n,a,l,o,u,f,m){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let v=n,g;xe(a)?g=l:g=new Fe(null).setTree(a,l);const b=n.serverCache.getNode();return g.children.inorderTraversal((x,_)=>{if(b.hasChild(x)){const N=n.serverCache.getNode().getImmediateChild(x),C=fv(i,N,_);v=No(i,v,new He(x),C,o,u,f,m)}}),g.children.inorderTraversal((x,_)=>{const N=!n.serverCache.isCompleteForChild(x)&&_.value===null;if(!b.hasChild(x)&&!N){const C=n.serverCache.getNode().getImmediateChild(x),z=fv(i,C,_);v=No(i,v,new He(x),z,o,u,f,m)}}),v}function IN(i,n,a,l,o,u,f){if(Eo(o,a)!=null)return n;const m=n.serverCache.isFiltered(),v=n.serverCache;if(l.value!=null){if(xe(a)&&v.isFullyInitialized()||v.isCompleteForPath(a))return No(i,n,a,v.getNode().getChild(a),o,u,m,f);if(xe(a)){let g=new Fe(null);return v.getNode().forEachChild(ta,(b,x)=>{g=g.set(new He(b),x)}),lf(i,n,a,g,o,u,m,f)}else return n}else{let g=new Fe(null);return l.foreach((b,x)=>{const _=ct(a,b);v.isCompleteForPath(_)&&(g=g.set(b,v.getNode().getChild(_)))}),lf(i,n,a,g,o,u,m,f)}}function LN(i,n,a,l,o){const u=n.serverCache,f=Ky(n,u.getNode(),u.isFullyInitialized()||xe(a),u.isFiltered());return i_(i,f,a,l,n_,o)}function UN(i,n,a,l,o,u){let f;if(Eo(l,a)!=null)return n;{const m=new Lf(l,n,o),v=n.eventCache.getNode();let g;if(xe(a)||ge(a)===".priority"){let b;if(n.serverCache.isFullyInitialized())b=wo(l,os(n));else{const x=n.serverCache.getNode();G(x instanceof le,"serverChildren would be complete if leaf node"),b=kf(l,x)}b=b,g=i.filter.updateFullNode(v,b,u)}else{const b=ge(a);let x=If(l,b,n.serverCache);x==null&&n.serverCache.isCompleteForChild(b)&&(x=v.getImmediateChild(b)),x!=null?g=i.filter.updateChild(v,b,x,Ge(a),m,u):n.eventCache.getNode().hasChild(b)?g=i.filter.updateChild(v,b,le.EMPTY_NODE,Ge(a),m,u):g=v,g.isEmpty()&&n.serverCache.isFullyInitialized()&&(f=wo(l,os(n)),f.isLeafNode()&&(g=i.filter.updateFullNode(g,f,u)))}return f=n.serverCache.isFullyInitialized()||Eo(l,je())!=null,vl(n,g,f,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(n,a){this.query_=n,this.eventRegistrations_=[];const l=this.query_._queryParams,o=new Df(l.getIndex()),u=sN(l);this.processor_=MN(u);const f=a.serverCache,m=a.eventCache,v=o.updateFullNode(le.EMPTY_NODE,f.getNode(),null),g=u.updateFullNode(le.EMPTY_NODE,m.getNode(),null),b=new rs(v,f.isFullyInitialized(),o.filtersNodes()),x=new rs(g,m.isFullyInitialized(),u.filtersNodes());this.viewCache_=Uo(x,b),this.eventGenerator_=new dN(this.query_)}get query(){return this.query_}}function HN(i){return i.viewCache_.serverCache.getNode()}function qN(i,n){const a=os(i.viewCache_);return a&&(i.query._queryParams.loadsAllData()||!xe(n)&&!a.getImmediateChild(ge(n)).isEmpty())?a.getChild(n):null}function hv(i){return i.eventRegistrations_.length===0}function VN(i,n){i.eventRegistrations_.push(n)}function mv(i,n,a){const l=[];if(a){G(n==null,"A cancel should cancel all event registrations.");const o=i.query._path;i.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(a,o);f&&l.push(f)})}if(n){let o=[];for(let u=0;u<i.eventRegistrations_.length;++u){const f=i.eventRegistrations_[u];if(!f.matches(n))o.push(f);else if(n.hasAnyCallback()){o=o.concat(i.eventRegistrations_.slice(u+1));break}}i.eventRegistrations_=o}else i.eventRegistrations_=[];return l}function pv(i,n,a,l){n.type===mn.MERGE&&n.source.queryId!==null&&(G(os(i.viewCache_),"We should always have a full cache before handling merges"),G(tf(i.viewCache_),"Missing event cache, even though we have a server cache"));const o=i.viewCache_,u=ON(i.processor_,o,n,a,l);return RN(i.processor_,u.viewCache),G(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=u.viewCache,s_(i,u.changes,u.viewCache.eventCache.getNode(),null)}function GN(i,n){const a=i.viewCache_.eventCache,l=[];return a.getNode().isLeafNode()||a.getNode().forEachChild(Ke,(u,f)=>{l.push(ua(u,f))}),a.isFullyInitialized()&&l.push(Xy(a.getNode())),s_(i,l,a.getNode(),n)}function s_(i,n,a,l){const o=l?[l]:i.eventRegistrations_;return fN(i.eventGenerator_,n,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co;class YN{constructor(){this.views=new Map}}function QN(i){G(!Co,"__referenceConstructor has already been defined"),Co=i}function FN(){return G(Co,"Reference.ts has not been loaded"),Co}function XN(i){return i.views.size===0}function Uf(i,n,a,l){const o=n.source.queryId;if(o!==null){const u=i.views.get(o);return G(u!=null,"SyncTree gave us an op for an invalid query."),pv(u,n,a,l)}else{let u=[];for(const f of i.views.values())u=u.concat(pv(f,n,a,l));return u}}function PN(i,n,a,l,o){const u=n._queryIdentifier,f=i.views.get(u);if(!f){let m=wo(a,o?l:null),v=!1;m?v=!0:l instanceof le?(m=kf(a,l),v=!1):(m=le.EMPTY_NODE,v=!1);const g=Uo(new rs(m,v,!1),new rs(l,o,!1));return new BN(n,g)}return f}function $N(i,n,a,l,o,u){const f=PN(i,n,l,o,u);return i.views.has(n._queryIdentifier)||i.views.set(n._queryIdentifier,f),VN(f,a),GN(f,a)}function KN(i,n,a,l){const o=n._queryIdentifier,u=[];let f=[];const m=Di(i);if(o==="default")for(const[v,g]of i.views.entries())f=f.concat(mv(g,a,l)),hv(g)&&(i.views.delete(v),g.query._queryParams.loadsAllData()||u.push(g.query));else{const v=i.views.get(o);v&&(f=f.concat(mv(v,a,l)),hv(v)&&(i.views.delete(o),v.query._queryParams.loadsAllData()||u.push(v.query)))}return m&&!Di(i)&&u.push(new(FN())(n._repo,n._path)),{removed:u,events:f}}function a_(i){const n=[];for(const a of i.views.values())a.query._queryParams.loadsAllData()||n.push(a);return n}function na(i,n){let a=null;for(const l of i.views.values())a=a||qN(l,n);return a}function l_(i,n){if(n._queryParams.loadsAllData())return Bo(i);{const l=n._queryIdentifier;return i.views.get(l)}}function r_(i,n){return l_(i,n)!=null}function Di(i){return Bo(i)!=null}function Bo(i){for(const n of i.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To;function ZN(i){G(!To,"__referenceConstructor has already been defined"),To=i}function JN(){return G(To,"Reference.ts has not been loaded"),To}let WN=1;class gv{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Fe(null),this.pendingWriteTree_=TN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Bf(i,n,a,l,o){return gN(i.pendingWriteTree_,n,a,l,o),o?Ul(i,new ls($y(),n,a)):[]}function es(i,n,a=!1){const l=vN(i.pendingWriteTree_,n);if(yN(i.pendingWriteTree_,n)){let u=new Fe(null);return l.snap!=null?u=u.set(je(),!0):It(l.children,f=>{u=u.set(new He(f),!0)}),Ul(i,new So(l.path,u,a))}else return[]}function Ho(i,n,a){return Ul(i,new ls(Rf(),n,a))}function eC(i,n,a){const l=Fe.fromObject(a);return Ul(i,new Al(Rf(),n,l))}function tC(i,n){return Ul(i,new Tl(Rf(),n))}function nC(i,n,a){const l=Hf(i,a);if(l){const o=qf(l),u=o.path,f=o.queryId,m=Ot(u,n),v=new Tl(Of(f),m);return Vf(i,u,v)}else return[]}function rf(i,n,a,l,o=!1){const u=n._path,f=i.syncPointTree_.get(u);let m=[];if(f&&(n._queryIdentifier==="default"||r_(f,n))){const v=KN(f,n,a,l);XN(f)&&(i.syncPointTree_=i.syncPointTree_.remove(u));const g=v.removed;if(m=v.events,!o){const b=g.findIndex(_=>_._queryParams.loadsAllData())!==-1,x=i.syncPointTree_.findOnPath(u,(_,N)=>Di(N));if(b&&!x){const _=i.syncPointTree_.subtree(u);if(!_.isEmpty()){const N=aC(_);for(let C=0;C<N.length;++C){const z=N[C],U=z.query,Y=u_(i,z);i.listenProvider_.startListening(_l(U),Ao(i,U),Y.hashFn,Y.onComplete)}}}!x&&g.length>0&&!l&&(b?i.listenProvider_.stopListening(_l(n),null):g.forEach(_=>{const N=i.queryToTagMap.get(Vo(_));i.listenProvider_.stopListening(_l(_),N)}))}lC(i,g)}return m}function iC(i,n,a,l){const o=Hf(i,l);if(o!=null){const u=qf(o),f=u.path,m=u.queryId,v=Ot(f,n),g=new ls(Of(m),v,a);return Vf(i,f,g)}else return[]}function sC(i,n,a,l){const o=Hf(i,l);if(o){const u=qf(o),f=u.path,m=u.queryId,v=Ot(f,n),g=Fe.fromObject(a),b=new Al(Of(m),v,g);return Vf(i,f,b)}else return[]}function vv(i,n,a,l=!1){const o=n._path;let u=null,f=!1;i.syncPointTree_.foreachOnPath(o,(_,N)=>{const C=Ot(_,o);u=u||na(N,C),f=f||Di(N)});let m=i.syncPointTree_.get(o);m?(f=f||Di(m),u=u||na(m,je())):(m=new YN,i.syncPointTree_=i.syncPointTree_.set(o,m));let v;u!=null?v=!0:(v=!1,u=le.EMPTY_NODE,i.syncPointTree_.subtree(o).foreachChild((N,C)=>{const z=na(C,je());z&&(u=u.updateImmediateChild(N,z))}));const g=r_(m,n);if(!g&&!n._queryParams.loadsAllData()){const _=Vo(n);G(!i.queryToTagMap.has(_),"View does not exist, but we have a tag");const N=rC();i.queryToTagMap.set(_,N),i.tagToQueryMap.set(N,_)}const b=zf(i.pendingWriteTree_,o);let x=$N(m,n,a,b,u,v);if(!g&&!f&&!l){const _=l_(m,n);x=x.concat(oC(i,n,_))}return x}function qo(i,n,a){const o=i.pendingWriteTree_,u=i.syncPointTree_.findOnPath(n,(f,m)=>{const v=Ot(f,n),g=na(m,v);if(g)return g});return Wy(o,n,u,a,!0)}function Ul(i,n){return o_(n,i.syncPointTree_,null,zf(i.pendingWriteTree_,je()))}function o_(i,n,a,l){if(xe(i.path))return c_(i,n,a,l);{const o=n.get(je());a==null&&o!=null&&(a=na(o,je()));let u=[];const f=ge(i.path),m=i.operationForChild(f),v=n.children.get(f);if(v&&m){const g=a?a.getImmediateChild(f):null,b=e_(l,f);u=u.concat(o_(m,v,g,b))}return o&&(u=u.concat(Uf(o,i,l,a))),u}}function c_(i,n,a,l){const o=n.get(je());a==null&&o!=null&&(a=na(o,je()));let u=[];return n.children.inorderTraversal((f,m)=>{const v=a?a.getImmediateChild(f):null,g=e_(l,f),b=i.operationForChild(f);b&&(u=u.concat(c_(b,m,v,g)))}),o&&(u=u.concat(Uf(o,i,l,a))),u}function u_(i,n){const a=n.query,l=Ao(i,a);return{hashFn:()=>(HN(n)||le.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return l?nC(i,a._path,l):tC(i,a._path);{const u=iE(o,a);return rf(i,a,null,u)}}}}function Ao(i,n){const a=Vo(n);return i.queryToTagMap.get(a)}function Vo(i){return i._path.toString()+"$"+i._queryIdentifier}function Hf(i,n){return i.tagToQueryMap.get(n)}function qf(i){const n=i.indexOf("$");return G(n!==-1&&n<i.length-1,"Bad queryKey."),{queryId:i.substr(n+1),path:new He(i.substr(0,n))}}function Vf(i,n,a){const l=i.syncPointTree_.get(n);G(l,"Missing sync point for query tag that we're tracking");const o=zf(i.pendingWriteTree_,n);return Uf(l,a,o,null)}function aC(i){return i.fold((n,a,l)=>{if(a&&Di(a))return[Bo(a)];{let o=[];return a&&(o=a_(a)),It(l,(u,f)=>{o=o.concat(f)}),o}})}function _l(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(JN())(i._repo,i._path):i}function lC(i,n){for(let a=0;a<n.length;++a){const l=n[a];if(!l._queryParams.loadsAllData()){const o=Vo(l),u=i.queryToTagMap.get(o);i.queryToTagMap.delete(o),i.tagToQueryMap.delete(u)}}}function rC(){return WN++}function oC(i,n,a){const l=n._path,o=Ao(i,n),u=u_(i,a),f=i.listenProvider_.startListening(_l(n),o,u.hashFn,u.onComplete),m=i.syncPointTree_.subtree(l);if(o)G(!Di(m.value),"If we're adding a query, it shouldn't be shadowed");else{const v=m.fold((g,b,x)=>{if(!xe(g)&&b&&Di(b))return[Bo(b).query];{let _=[];return b&&(_=_.concat(a_(b).map(N=>N.query))),It(x,(N,C)=>{_=_.concat(C)}),_}});for(let g=0;g<v.length;++g){const b=v[g];i.listenProvider_.stopListening(_l(b),Ao(i,b))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(n){this.node_=n}getImmediateChild(n){const a=this.node_.getImmediateChild(n);return new Gf(a)}node(){return this.node_}}class Yf{constructor(n,a){this.syncTree_=n,this.path_=a}getImmediateChild(n){const a=ct(this.path_,n);return new Yf(this.syncTree_,a)}node(){return qo(this.syncTree_,this.path_)}}const cC=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},yv=function(i,n,a){if(!i||typeof i!="object")return i;if(G(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return uC(i[".sv"],n,a);if(typeof i[".sv"]=="object")return dC(i[".sv"],n);G(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},uC=function(i,n,a){switch(i){case"timestamp":return a.timestamp;default:G(!1,"Unexpected server value: "+i)}},dC=function(i,n,a){i.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const l=i.increment;typeof l!="number"&&G(!1,"Unexpected increment value: "+l);const o=n.node();if(G(o!==null&&typeof o!="undefined","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return l;const f=o.getValue();return typeof f!="number"?l:f+l},fC=function(i,n,a,l){return Ff(n,new Yf(a,i),l)},Qf=function(i,n,a){return Ff(i,new Gf(n),a)};function Ff(i,n,a){const l=i.getPriority().val(),o=yv(l,n.getImmediateChild(".priority"),a);let u;if(i.isLeafNode()){const f=i,m=yv(f.getValue(),n,a);return m!==f.getValue()||o!==f.getPriority().val()?new ft(m,pt(o)):i}else{const f=i;return u=f,o!==f.getPriority().val()&&(u=u.updatePriority(new ft(o))),f.forEachChild(Ke,(m,v)=>{const g=Ff(v,n.getImmediateChild(m),a);g!==v&&(u=u.updateImmediateChild(m,g))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(n="",a=null,l={children:{},childCount:0}){this.name=n,this.parent=a,this.node=l}}function Go(i,n){let a=n instanceof He?n:new He(n),l=i,o=ge(a);for(;o!==null;){const u=ss(l.node.children,o)||{children:{},childCount:0};l=new Xf(o,l,u),a=Ge(a),o=ge(a)}return l}function hs(i){return i.node.value}function Pf(i,n){i.node.value=n,of(i)}function d_(i){return i.node.childCount>0}function hC(i){return hs(i)===void 0&&!d_(i)}function Yo(i,n){It(i.node.children,(a,l)=>{n(new Xf(a,i,l))})}function f_(i,n,a,l){a&&n(i),Yo(i,o=>{f_(o,n,!0)})}function mC(i,n,a){let l=i.parent;for(;l!==null;){if(n(l))return!0;l=l.parent}return!1}function Bl(i){return new He(i.parent===null?i.name:Bl(i.parent)+"/"+i.name)}function of(i){i.parent!==null&&pC(i.parent,i.name,i)}function pC(i,n,a){const l=hC(a),o=gn(i.node.children,n);l&&o?(delete i.node.children[n],i.node.childCount--,of(i)):!l&&!o&&(i.node.children[n]=a.node,i.node.childCount++,of(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=/[\[\].#$\/\u0000-\u001F\u007F]/,vC=/[\[\].#$\u0000-\u001F\u007F]/,kd=10*1024*1024,h_=function(i){return typeof i=="string"&&i.length!==0&&!gC.test(i)},m_=function(i){return typeof i=="string"&&i.length!==0&&!vC.test(i)},yC=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),m_(i)},_C=function(i){return i===null||typeof i=="string"||typeof i=="number"&&!Sf(i)||i&&typeof i=="object"&&gn(i,".sv")},p_=function(i,n,a,l){l&&n===void 0||Qo(_f(i,"value"),n,a)},Qo=function(i,n,a){const l=a instanceof He?new IE(a,i):a;if(n===void 0)throw new Error(i+"contains undefined "+Ji(l));if(typeof n=="function")throw new Error(i+"contains a function "+Ji(l)+" with contents = "+n.toString());if(Sf(n))throw new Error(i+"contains "+n.toString()+" "+Ji(l));if(typeof n=="string"&&n.length>kd/3&&Io(n)>kd)throw new Error(i+"contains a string greater than "+kd+" utf8 bytes "+Ji(l)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let o=!1,u=!1;if(It(n,(f,m)=>{if(f===".value")o=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!h_(f)))throw new Error(i+" contains an invalid key ("+f+") "+Ji(l)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);LE(l,f),Qo(i,m,l),UE(l)}),o&&u)throw new Error(i+' contains ".value" child '+Ji(l)+" in addition to actual children.")}},g_=function(i,n,a,l){if(!m_(a))throw new Error(_f(i,n)+'was an invalid path = "'+a+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},xC=function(i,n,a,l){a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),g_(i,n,a)},$f=function(i,n){if(ge(n)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},bC=function(i,n){const a=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!h_(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||a.length!==0&&!yC(a))throw new Error(_f(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Kf(i,n){let a=null;for(let l=0;l<n.length;l++){const o=n[l],u=o.getPath();a!==null&&!Tf(u,a.path)&&(i.eventLists_.push(a),a=null),a===null&&(a={events:[],path:u}),a.events.push(o)}a&&i.eventLists_.push(a)}function v_(i,n,a){Kf(i,a),y_(i,l=>Tf(l,n))}function wn(i,n,a){Kf(i,a),y_(i,l=>hn(l,n)||hn(n,l))}function y_(i,n){i.recursionDepth_++;let a=!0;for(let l=0;l<i.eventLists_.length;l++){const o=i.eventLists_[l];if(o){const u=o.path;n(u)?(wC(i.eventLists_[l]),i.eventLists_[l]=null):a=!1}}a&&(i.eventLists_=[]),i.recursionDepth_--}function wC(i){for(let n=0;n<i.events.length;n++){const a=i.events[n];if(a!==null){i.events[n]=null;const l=a.getEventRunner();pl&&wt("event: "+a.toString()),ma(l)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="repo_interrupt",NC=25;class CC{constructor(n,a,l,o){this.repoInfo_=n,this.forceRestClient_=a,this.authTokenProvider_=l,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new SC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bo(),this.transactionQueueTree_=new Xf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function TC(i,n,a){if(i.stats_=Nf(i.repoInfo_),i.forceRestClient_||rE())i.server_=new xo(i.repoInfo_,(l,o,u,f)=>{_v(i,l,o,u,f)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>xv(i,!0),0);else{if(typeof a!="undefined"&&a!==null){if(typeof a!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{gt(a)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}i.persistentConnection_=new Qn(i.repoInfo_,n,(l,o,u,f)=>{_v(i,l,o,u,f)},l=>{xv(i,l)},l=>{AC(i,l)},i.authTokenProvider_,i.appCheckProvider_,a),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(l=>{i.server_.refreshAuthToken(l)}),i.appCheckProvider_.addTokenChangeListener(l=>{i.server_.refreshAppCheckToken(l.token)}),i.statsReporter_=fE(i.repoInfo_,()=>new uN(i.stats_,i.server_)),i.infoData_=new aN,i.infoSyncTree_=new gv({startListening:(l,o,u,f)=>{let m=[];const v=i.infoData_.getNode(l._path);return v.isEmpty()||(m=Ho(i.infoSyncTree_,l._path,v),setTimeout(()=>{f("ok")},0)),m},stopListening:()=>{}}),Zf(i,"connected",!1),i.serverSyncTree_=new gv({startListening:(l,o,u,f)=>(i.server_.listen(l,u,o,(m,v)=>{const g=f(m,v);wn(i.eventQueue_,l._path,g)}),[]),stopListening:(l,o)=>{i.server_.unlisten(l,o)}})}function __(i){const a=i.infoData_.getNode(new He(".info/serverTimeOffset")).val()||0;return new Date().getTime()+a}function Fo(i){return cC({timestamp:__(i)})}function _v(i,n,a,l,o){i.dataUpdateCount++;const u=new He(n);a=i.interceptServerDataCallback_?i.interceptServerDataCallback_(n,a):a;let f=[];if(o)if(l){const v=po(a,g=>pt(g));f=sC(i.serverSyncTree_,u,v,o)}else{const v=pt(a);f=iC(i.serverSyncTree_,u,v,o)}else if(l){const v=po(a,g=>pt(g));f=eC(i.serverSyncTree_,u,v)}else{const v=pt(a);f=Ho(i.serverSyncTree_,u,v)}let m=u;f.length>0&&(m=$o(i,u)),wn(i.eventQueue_,m,f)}function xv(i,n){Zf(i,"connected",n),n===!1&&DC(i)}function AC(i,n){It(n,(a,l)=>{Zf(i,a,l)})}function Zf(i,n,a){const l=new He("/.info/"+n),o=pt(a);i.infoData_.updateSnapshot(l,o);const u=Ho(i.infoSyncTree_,l,o);wn(i.eventQueue_,l,u)}function Jf(i){return i.nextWriteId_++}function jC(i,n,a,l,o){Xo(i,"set",{path:n.toString(),value:a,priority:l});const u=Fo(i),f=pt(a,l),m=qo(i.serverSyncTree_,n),v=Qf(f,m,u),g=Jf(i),b=Bf(i.serverSyncTree_,n,v,g,!0);Kf(i.eventQueue_,b),i.server_.put(n.toString(),f.val(!0),(_,N)=>{const C=_==="ok";C||kt("set at "+n+" failed: "+_);const z=es(i.serverSyncTree_,g,!C);wn(i.eventQueue_,n,z),zC(i,o,_,N)});const x=w_(i,n);$o(i,x),wn(i.eventQueue_,x,[])}function DC(i){Xo(i,"onDisconnectEvents");const n=Fo(i),a=bo();ef(i.onDisconnect_,je(),(o,u)=>{const f=fC(o,u,i.serverSyncTree_,n);Py(a,o,f)});let l=[];ef(a,je(),(o,u)=>{l=l.concat(Ho(i.serverSyncTree_,o,u));const f=w_(i,o);$o(i,f)}),i.onDisconnect_=bo(),wn(i.eventQueue_,je(),l)}function MC(i,n,a){let l;ge(n._path)===".info"?l=vv(i.infoSyncTree_,n,a):l=vv(i.serverSyncTree_,n,a),v_(i.eventQueue_,n._path,l)}function RC(i,n,a){let l;ge(n._path)===".info"?l=rf(i.infoSyncTree_,n,a):l=rf(i.serverSyncTree_,n,a),v_(i.eventQueue_,n._path,l)}function OC(i){i.persistentConnection_&&i.persistentConnection_.interrupt(EC)}function Xo(i,...n){let a="";i.persistentConnection_&&(a=i.persistentConnection_.id+":"),wt(a,...n)}function zC(i,n,a,l){n&&ma(()=>{if(a==="ok")n(null);else{const o=(a||"error").toUpperCase();let u=o;l&&(u+=": "+l);const f=new Error(u);f.code=o,n(f)}})}function kC(i,n,a,l,o,u){Xo(i,"transaction on "+n);const f={path:n,update:a,onComplete:l,status:null,order:gy(),applyLocally:u,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},m=Wf(i,n,void 0);f.currentInputSnapshot=m;const v=f.update(m.val());if(v===void 0)f.unwatcher(),f.currentOutputSnapshotRaw=null,f.currentOutputSnapshotResolved=null,f.onComplete&&f.onComplete(null,!1,f.currentInputSnapshot);else{Qo("transaction failed: Data returned ",v,f.path),f.status=0;const g=Go(i.transactionQueueTree_,n),b=hs(g)||[];b.push(f),Pf(g,b);let x;typeof v=="object"&&v!==null&&gn(v,".priority")?(x=ss(v,".priority"),G(_C(x),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):x=(qo(i.serverSyncTree_,n)||le.EMPTY_NODE).getPriority().val();const _=Fo(i),N=pt(v,x),C=Qf(N,m,_);f.currentOutputSnapshotRaw=N,f.currentOutputSnapshotResolved=C,f.currentWriteId=Jf(i);const z=Bf(i.serverSyncTree_,n,C,f.currentWriteId,f.applyLocally);wn(i.eventQueue_,n,z),Po(i,i.transactionQueueTree_)}}function Wf(i,n,a){return qo(i.serverSyncTree_,n,a)||le.EMPTY_NODE}function Po(i,n=i.transactionQueueTree_){if(n||Ko(i,n),hs(n)){const a=b_(i,n);G(a.length>0,"Sending zero length transaction queue"),a.every(o=>o.status===0)&&IC(i,Bl(n),a)}else d_(n)&&Yo(n,a=>{Po(i,a)})}function IC(i,n,a){const l=a.map(g=>g.currentWriteId),o=Wf(i,n,l);let u=o;const f=o.hash();for(let g=0;g<a.length;g++){const b=a[g];G(b.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const x=Ot(n,b.path);u=u.updateChild(x,b.currentOutputSnapshotRaw)}const m=u.val(!0),v=n;i.server_.put(v.toString(),m,g=>{Xo(i,"transaction put response",{path:v.toString(),status:g});let b=[];if(g==="ok"){const x=[];for(let _=0;_<a.length;_++)a[_].status=2,b=b.concat(es(i.serverSyncTree_,a[_].currentWriteId)),a[_].onComplete&&x.push(()=>a[_].onComplete(null,!0,a[_].currentOutputSnapshotResolved)),a[_].unwatcher();Ko(i,Go(i.transactionQueueTree_,n)),Po(i,i.transactionQueueTree_),wn(i.eventQueue_,n,b);for(let _=0;_<x.length;_++)ma(x[_])}else{if(g==="datastale")for(let x=0;x<a.length;x++)a[x].status===3?a[x].status=4:a[x].status=0;else{kt("transaction at "+v.toString()+" failed: "+g);for(let x=0;x<a.length;x++)a[x].status=4,a[x].abortReason=g}$o(i,n)}},f)}function $o(i,n){const a=x_(i,n),l=Bl(a),o=b_(i,a);return LC(i,o,l),l}function LC(i,n,a){if(n.length===0)return;const l=[];let o=[];const f=n.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<n.length;m++){const v=n[m],g=Ot(a,v.path);let b=!1,x;if(G(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),v.status===4)b=!0,x=v.abortReason,o=o.concat(es(i.serverSyncTree_,v.currentWriteId,!0));else if(v.status===0)if(v.retryCount>=NC)b=!0,x="maxretry",o=o.concat(es(i.serverSyncTree_,v.currentWriteId,!0));else{const _=Wf(i,v.path,f);v.currentInputSnapshot=_;const N=n[m].update(_.val());if(N!==void 0){Qo("transaction failed: Data returned ",N,v.path);let C=pt(N);typeof N=="object"&&N!=null&&gn(N,".priority")||(C=C.updatePriority(_.getPriority()));const U=v.currentWriteId,Y=Fo(i),$=Qf(C,_,Y);v.currentOutputSnapshotRaw=C,v.currentOutputSnapshotResolved=$,v.currentWriteId=Jf(i),f.splice(f.indexOf(U),1),o=o.concat(Bf(i.serverSyncTree_,v.path,$,v.currentWriteId,v.applyLocally)),o=o.concat(es(i.serverSyncTree_,U,!0))}else b=!0,x="nodata",o=o.concat(es(i.serverSyncTree_,v.currentWriteId,!0))}wn(i.eventQueue_,a,o),o=[],b&&(n[m].status=2,(function(_){setTimeout(_,Math.floor(0))})(n[m].unwatcher),n[m].onComplete&&(x==="nodata"?l.push(()=>n[m].onComplete(null,!1,n[m].currentInputSnapshot)):l.push(()=>n[m].onComplete(new Error(x),!1,null))))}Ko(i,i.transactionQueueTree_);for(let m=0;m<l.length;m++)ma(l[m]);Po(i,i.transactionQueueTree_)}function x_(i,n){let a,l=i.transactionQueueTree_;for(a=ge(n);a!==null&&hs(l)===void 0;)l=Go(l,a),n=Ge(n),a=ge(n);return l}function b_(i,n){const a=[];return S_(i,n,a),a.sort((l,o)=>l.order-o.order),a}function S_(i,n,a){const l=hs(n);if(l)for(let o=0;o<l.length;o++)a.push(l[o]);Yo(n,o=>{S_(i,o,a)})}function Ko(i,n){const a=hs(n);if(a){let l=0;for(let o=0;o<a.length;o++)a[o].status!==2&&(a[l]=a[o],l++);a.length=l,Pf(n,a.length>0?a:void 0)}Yo(n,l=>{Ko(i,l)})}function w_(i,n){const a=Bl(x_(i,n)),l=Go(i.transactionQueueTree_,n);return mC(l,o=>{Id(i,o)}),Id(i,l),f_(l,o=>{Id(i,o)}),a}function Id(i,n){const a=hs(n);if(a){const l=[];let o=[],u=-1;for(let f=0;f<a.length;f++)a[f].status===3||(a[f].status===1?(G(u===f-1,"All SENT items should be at beginning of queue."),u=f,a[f].status=3,a[f].abortReason="set"):(G(a[f].status===0,"Unexpected transaction status in abort"),a[f].unwatcher(),o=o.concat(es(i.serverSyncTree_,a[f].currentWriteId,!0)),a[f].onComplete&&l.push(a[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?Pf(n,void 0):a.length=u+1,wn(i.eventQueue_,Bl(n),o);for(let f=0;f<l.length;f++)ma(l[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(i){let n="";const a=i.split("/");for(let l=0;l<a.length;l++)if(a[l].length>0){let o=a[l];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch(u){}n+="/"+o}return n}function BC(i){const n={};i.charAt(0)==="?"&&(i=i.substring(1));for(const a of i.split("&")){if(a.length===0)continue;const l=a.split("=");l.length===2?n[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):kt(`Invalid query segment '${a}' in query '${i}'`)}return n}const bv=function(i,n){const a=HC(i),l=a.namespace;a.domain==="firebase.com"&&Pn(a.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!l||l==="undefined")&&a.domain!=="localhost"&&Pn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),a.secure||Jw();const o=a.scheme==="ws"||a.scheme==="wss";return{repoInfo:new jy(a.host,a.secure,l,o,n,"",l!==a.subdomain),path:new He(a.pathString)}},HC=function(i){let n="",a="",l="",o="",u="",f=!0,m="https",v=443;if(typeof i=="string"){let g=i.indexOf("//");g>=0&&(m=i.substring(0,g-1),i=i.substring(g+2));let b=i.indexOf("/");b===-1&&(b=i.length);let x=i.indexOf("?");x===-1&&(x=i.length),n=i.substring(0,Math.min(b,x)),b<x&&(o=UC(i.substring(b,x)));const _=BC(i.substring(Math.min(i.length,x)));g=n.indexOf(":"),g>=0?(f=m==="https"||m==="wss",v=parseInt(n.substring(g+1),10)):g=n.length;const N=n.slice(0,g);if(N.toLowerCase()==="localhost")a="localhost";else if(N.split(".").length<=2)a=N;else{const C=n.indexOf(".");l=n.substring(0,C).toLowerCase(),a=n.substring(C+1),u=l}"ns"in _&&(u=_.ns)}return{host:n,port:v,domain:a,subdomain:l,secure:f,scheme:m,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",qC=(function(){let i=0;const n=[];return function(a){const l=a===i;i=a;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=Sv.charAt(a%64),a=Math.floor(a/64);G(a===0,"Cannot push at time == 0");let f=u.join("");if(l){for(o=11;o>=0&&n[o]===63;o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)f+=Sv.charAt(n[o]);return G(f.length===20,"nextPushId: Length should be 20."),f}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(n,a,l,o){this.eventType=n,this.eventRegistration=a,this.snapshot=l,this.prevName=o}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+gt(this.snapshot.exportVal())}}class GC{constructor(n,a,l){this.eventRegistration=n,this.error=a,this.path=l}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(n,a){this.snapshotCallback=n,this.cancelCallback=a}onValue(n,a){this.snapshotCallback.call(null,n,a)}onCancel(n){return G(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(n,a,l,o){this._repo=n,this._path=a,this._queryParams=l,this._orderByCalled=o}get key(){return xe(this._path)?null:Uy(this._path)}get ref(){return new $n(this._repo,this._path)}get _queryIdentifier(){const n=av(this._queryParams),a=wf(n);return a==="{}"?"default":a}get _queryObject(){return av(this._queryParams)}isEqual(n){if(n=En(n),!(n instanceof eh))return!1;const a=this._repo===n._repo,l=Tf(this._path,n._path),o=this._queryIdentifier===n._queryIdentifier;return a&&l&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+kE(this._path)}}class $n extends eh{constructor(n,a){super(n,a,new Mf,!1)}get parent(){const n=Hy(this._path);return n===null?null:new $n(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class jl{constructor(n,a,l){this._node=n,this.ref=a,this._index=l}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const a=new He(n),l=Dl(this.ref,n);return new jl(this._node.getChild(a),l,Ke)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(l,o)=>n(new jl(o,Dl(this.ref,l),Ke)))}hasChild(n){const a=new He(n);return!this._node.getChild(a).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ia(i,n){return i=En(i),i._checkNotDeleted("ref"),n!==void 0?Dl(i._root,n):i._root}function Dl(i,n){return i=En(i),ge(i._path)===null?xC("child","path",n):g_("child","path",n),new $n(i._repo,ct(i._path,n))}function cf(i,n){i=En(i),$f("push",i._path),p_("push",n,i._path,!0);const a=__(i._repo),l=qC(a),o=Dl(i,l),u=Dl(i,l);let f;return f=Promise.resolve(u),o.then=f.then.bind(f),o.catch=f.then.bind(f,void 0),o}function uf(i,n){i=En(i),$f("set",i._path),p_("set",n,i._path,!1);const a=new Ol;return jC(i._repo,i._path,n,null,a.wrapCallback(()=>{})),a.promise}class th{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,a){const l=a._queryParams.getIndex();return new VC("value",this,new jl(n.snapshotNode,new $n(a._repo,a._path),l))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,a){return this.callbackContext.hasCancelCallback?new GC(this,n,a):null}matches(n){return n instanceof th?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function QC(i,n,a,l,o){const u=new YC(a,void 0),f=new th(u);return MC(i._repo,i,f),()=>RC(i._repo,i,f)}function nh(i,n,a,l){return QC(i,"value",n)}QN($n);ZN($n);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="FIREBASE_DATABASE_EMULATOR_HOST",df={};let XC=!1;function PC(i,n,a,l){const o=n.lastIndexOf(":"),u=n.substring(0,o),f=yf(u);i.repoInfo_=new jy(n,f,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0,a),l&&(i.authTokenProvider_=l)}function $C(i,n,a,l,o){let u=l||i.options.databaseURL;u===void 0&&(i.options.projectId||Pn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),wt("Using default host for project ",i.options.projectId),u=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f=bv(u,o),m=f.repoInfo,v;typeof process!="undefined"&&q0&&(v=q0[FC]),v?(u=`http://${v}?ns=${m.namespace}`,f=bv(u,o),m=f.repoInfo):f.repoInfo.secure;const g=new cE(i.name,i.options,n);bC("Invalid Firebase Database URL",f),xe(f.path)||Pn("Database URL must point to the root of a Firebase Database (not including a child path).");const b=ZC(m,i,g,new oE(i,a));return new JC(b,i)}function KC(i,n){const a=df[n];(!a||a[i.key]!==i)&&Pn(`Database ${n}(${i.repoInfo_}) has already been deleted.`),OC(i),delete a[i.key]}function ZC(i,n,a,l){let o=df[n.name];o||(o={},df[n.name]=o);let u=o[i.toURLString()];return u&&Pn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new CC(i,XC,a,l),o[i.toURLString()]=u,u}class JC{constructor(n,a){this._repoInternal=n,this.app=a,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(TC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new $n(this._repo,je())),this._rootInternal}_delete(){return this._rootInternal!==null&&(KC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Pn("Cannot call "+n+" on a deleted database.")}}function WC(i=dy(),n){const a=zl(i,"database").getImmediate({identifier:n});if(!a._instanceStarted){const l=p2("database");l&&eT(a,...l)}return a}function eT(i,n,a,l={}){i=En(i),i._checkNotDeleted("useEmulator");const o=`${n}:${a}`,u=i._repoInternal;if(i._instanceStarted){if(o===i._repoInternal.repoInfo_.host&&bl(l,u.repoInfo_.emulatorOptions))return;Pn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(u.repoInfo_.nodeAdmin)l.mockUserToken&&Pn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new fo(fo.OWNER);else if(l.mockUserToken){const m=typeof l.mockUserToken=="string"?l.mockUserToken:v2(l.mockUserToken,i.app.options.projectId);f=new fo(m)}yf(n)&&(g2(n),x2("Database",!0)),PC(u,o,l,f)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(i){Xw(Iw),Ai(new Fn("database",(n,{instanceIdentifier:a})=>{const l=n.getProvider("app").getImmediate(),o=n.getProvider("auth-internal"),u=n.getProvider("app-check-internal");return $C(l,o,u,a)},"PUBLIC").setMultipleInstances(!0)),bn(V0,G0,i),bn(V0,G0,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT={".sv":"timestamp"};function iT(){return nT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(n,a){this.committed=n,this.snapshot=a}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function aT(i,n,a){if(i=En(i),$f("Reference.transaction",i._path),i.key===".length"||i.key===".keys")throw"Reference.transaction failed: "+i.key+" is a read-only object.";const l=!0,o=new Ol,u=(m,v,g)=>{let b=null;m?o.reject(m):(b=new jl(g,new $n(i._repo,i._path),Ke),o.resolve(new sT(v,b)))},f=nh(i,()=>{});return kC(i._repo,i._path,n,u,f,l),o.promise}Qn.prototype.simpleListen=function(i,n){this.sendRequest("q",{p:i},n)};Qn.prototype.echo=function(i,n){this.sendRequest("echo",{d:i},n)};tT();var lT="firebase",rT="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn(lT,rT,"app");const E_="@firebase/installations",ih="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=1e4,C_=`w:${ih}`,T_="FIS_v2",oT="https://firebaseinstallations.googleapis.com/v1",cT=3600*1e3,uT="installations",dT="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},cs=new ko(uT,dT,fT);function A_(i){return i instanceof ds&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_({projectId:i}){return`${oT}/projects/${i}/installations`}function D_(i){return{token:i.token,requestStatus:2,expiresIn:mT(i.expiresIn),creationTime:Date.now()}}function M_(i,n){return ie(this,null,function*(){const l=(yield n.json()).error;return cs.create("request-failed",{requestName:i,serverCode:l.code,serverMessage:l.message,serverStatus:l.status})})}function R_({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function hT(i,{refreshToken:n}){const a=R_(i);return a.append("Authorization",pT(n)),a}function O_(i){return ie(this,null,function*(){const n=yield i();return n.status>=500&&n.status<600?i():n})}function mT(i){return Number(i.replace("s","000"))}function pT(i){return`${T_} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(l,o){return ie(this,arguments,function*({appConfig:i,heartbeatServiceProvider:n},{fid:a}){const u=j_(i),f=R_(i),m=n.getImmediate({optional:!0});if(m){const x=yield m.getHeartbeatsHeader();x&&f.append("x-firebase-client",x)}const v={fid:a,authVersion:T_,appId:i.appId,sdkVersion:C_},g={method:"POST",headers:f,body:JSON.stringify(v)},b=yield O_(()=>fetch(u,g));if(b.ok){const x=yield b.json();return{fid:x.fid||a,registrationStatus:2,refreshToken:x.refreshToken,authToken:D_(x.authToken)}}else throw yield M_("Create Installation",b)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(i){return new Promise(n=>{setTimeout(n,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=/^[cdef][\w-]{21}$/,ff="";function _T(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const a=xT(i);return yT.test(a)?a:ff}catch(i){return ff}}function xT(i){return vT(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=new Map;function I_(i,n){const a=Zo(i);L_(a,n),bT(a,n)}function L_(i,n){const a=k_.get(i);if(a)for(const l of a)l(n)}function bT(i,n){const a=ST();a&&a.postMessage({key:i,fid:n}),wT()}let ts=null;function ST(){return!ts&&"BroadcastChannel"in self&&(ts=new BroadcastChannel("[Firebase] FID Change"),ts.onmessage=i=>{L_(i.data.key,i.data.fid)}),ts}function wT(){k_.size===0&&ts&&(ts.close(),ts=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="firebase-installations-database",NT=1,us="firebase-installations-store";let Ld=null;function sh(){return Ld||(Ld=cy(ET,NT,{upgrade:(i,n)=>{switch(n){case 0:i.createObjectStore(us)}}})),Ld}function jo(i,n){return ie(this,null,function*(){const a=Zo(i),o=(yield sh()).transaction(us,"readwrite"),u=o.objectStore(us),f=yield u.get(a);return yield u.put(n,a),yield o.done,(!f||f.fid!==n.fid)&&I_(i,n.fid),n})}function U_(i){return ie(this,null,function*(){const n=Zo(i),l=(yield sh()).transaction(us,"readwrite");yield l.objectStore(us).delete(n),yield l.done})}function Jo(i,n){return ie(this,null,function*(){const a=Zo(i),o=(yield sh()).transaction(us,"readwrite"),u=o.objectStore(us),f=yield u.get(a),m=n(f);return m===void 0?yield u.delete(a):yield u.put(m,a),yield o.done,m&&(!f||f.fid!==m.fid)&&I_(i,m.fid),m})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(i){return ie(this,null,function*(){let n;const a=yield Jo(i.appConfig,l=>{const o=CT(l),u=TT(i,o);return n=u.registrationPromise,u.installationEntry});return a.fid===ff?{installationEntry:yield n}:{installationEntry:a,registrationPromise:n}})}function CT(i){const n=i||{fid:_T(),registrationStatus:0};return B_(n)}function TT(i,n){if(n.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(cs.create("app-offline"));return{installationEntry:n,registrationPromise:o}}const a={fid:n.fid,registrationStatus:1,registrationTime:Date.now()},l=AT(i,a);return{installationEntry:a,registrationPromise:l}}else return n.registrationStatus===1?{installationEntry:n,registrationPromise:jT(i)}:{installationEntry:n}}function AT(i,n){return ie(this,null,function*(){try{const a=yield gT(i,n);return jo(i.appConfig,a)}catch(a){throw A_(a)&&a.customData.serverCode===409?yield U_(i.appConfig):yield jo(i.appConfig,{fid:n.fid,registrationStatus:0}),a}})}function jT(i){return ie(this,null,function*(){let n=yield wv(i.appConfig);for(;n.registrationStatus===1;)yield z_(100),n=yield wv(i.appConfig);if(n.registrationStatus===0){const{installationEntry:a,registrationPromise:l}=yield ah(i);return l||a}return n})}function wv(i){return Jo(i,n=>{if(!n)throw cs.create("installation-not-found");return B_(n)})}function B_(i){return DT(i)?{fid:i.fid,registrationStatus:0}:i}function DT(i){return i.registrationStatus===1&&i.registrationTime+N_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(l,o){return ie(this,arguments,function*({appConfig:i,heartbeatServiceProvider:n},a){const u=RT(i,a),f=hT(i,a),m=n.getImmediate({optional:!0});if(m){const x=yield m.getHeartbeatsHeader();x&&f.append("x-firebase-client",x)}const v={installation:{sdkVersion:C_,appId:i.appId}},g={method:"POST",headers:f,body:JSON.stringify(v)},b=yield O_(()=>fetch(u,g));if(b.ok){const x=yield b.json();return D_(x)}else throw yield M_("Generate Auth Token",b)})}function RT(i,{fid:n}){return`${j_(i)}/${n}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(i,n=!1){return ie(this,null,function*(){let a;const l=yield Jo(i.appConfig,u=>{if(!H_(u))throw cs.create("not-registered");const f=u.authToken;if(!n&&kT(f))return u;if(f.requestStatus===1)return a=OT(i,n),u;{if(!navigator.onLine)throw cs.create("app-offline");const m=LT(u);return a=zT(i,m),m}});return a?yield a:l.authToken})}function OT(i,n){return ie(this,null,function*(){let a=yield Ev(i.appConfig);for(;a.authToken.requestStatus===1;)yield z_(100),a=yield Ev(i.appConfig);const l=a.authToken;return l.requestStatus===0?lh(i,n):l})}function Ev(i){return Jo(i,n=>{if(!H_(n))throw cs.create("not-registered");const a=n.authToken;return UT(a)?ot(Ne({},n),{authToken:{requestStatus:0}}):n})}function zT(i,n){return ie(this,null,function*(){try{const a=yield MT(i,n),l=ot(Ne({},n),{authToken:a});return yield jo(i.appConfig,l),a}catch(a){if(A_(a)&&(a.customData.serverCode===401||a.customData.serverCode===404))yield U_(i.appConfig);else{const l=ot(Ne({},n),{authToken:{requestStatus:0}});yield jo(i.appConfig,l)}throw a}})}function H_(i){return i!==void 0&&i.registrationStatus===2}function kT(i){return i.requestStatus===2&&!IT(i)}function IT(i){const n=Date.now();return n<i.creationTime||i.creationTime+i.expiresIn<n+cT}function LT(i){const n={requestStatus:1,requestTime:Date.now()};return ot(Ne({},i),{authToken:n})}function UT(i){return i.requestStatus===1&&i.requestTime+N_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(i){return ie(this,null,function*(){const n=i,{installationEntry:a,registrationPromise:l}=yield ah(n);return l?l.catch(console.error):lh(n).catch(console.error),a.fid})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(i,n=!1){return ie(this,null,function*(){const a=i;return yield qT(a),(yield lh(a,n)).token})}function qT(i){return ie(this,null,function*(){const{registrationPromise:n}=yield ah(i);n&&(yield n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(i){if(!i||!i.options)throw Ud("App Configuration");if(!i.name)throw Ud("App Name");const n=["projectId","apiKey","appId"];for(const a of n)if(!i.options[a])throw Ud(a);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Ud(i){return cs.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="installations",GT="installations-internal",YT=i=>{const n=i.getProvider("app").getImmediate(),a=VT(n),l=zl(n,"heartbeat");return{app:n,appConfig:a,heartbeatServiceProvider:l,_delete:()=>Promise.resolve()}},QT=i=>{const n=i.getProvider("app").getImmediate(),a=zl(n,q_).getImmediate();return{getId:()=>BT(a),getToken:o=>HT(a,o)}};function FT(){Ai(new Fn(q_,YT,"PUBLIC")),Ai(new Fn(GT,QT,"PRIVATE"))}FT();bn(E_,ih);bn(E_,ih,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="analytics",XT="firebase_id",PT="origin",$T=60*1e3,KT="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rh="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nt=new xf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Pt=new ko("analytics","Analytics",ZT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(i){if(!i.startsWith(rh)){const n=Pt.create("invalid-gtag-resource",{gtagURL:i});return Nt.warn(n.message),""}return i}function V_(i){return Promise.all(i.map(n=>n.catch(a=>a)))}function WT(i,n){let a;return window.trustedTypes&&(a=window.trustedTypes.createPolicy(i,n)),a}function eA(i,n){const a=WT("firebase-js-sdk-policy",{createScriptURL:JT}),l=document.createElement("script"),o=`${rh}?l=${i}&id=${n}`;l.src=a?a==null?void 0:a.createScriptURL(o):o,l.async=!0,document.head.appendChild(l)}function tA(i){let n=[];return Array.isArray(window[i])?n=window[i]:window[i]=n,n}function nA(i,n,a,l,o,u){return ie(this,null,function*(){const f=l[o];try{if(f)yield n[f];else{const v=(yield V_(a)).find(g=>g.measurementId===o);v&&(yield n[v.appId])}}catch(m){Nt.error(m)}i("config",o,u)})}function iA(i,n,a,l,o){return ie(this,null,function*(){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=yield V_(a);for(const v of f){const g=m.find(x=>x.measurementId===v),b=g&&n[g.appId];if(b)u.push(b);else{u=[];break}}}u.length===0&&(u=Object.values(n)),yield Promise.all(u),i("event",l,o||{})}catch(u){Nt.error(u)}})}function sA(i,n,a,l){function o(u,...f){return ie(this,null,function*(){try{if(u==="event"){const[m,v]=f;yield iA(i,n,a,m,v)}else if(u==="config"){const[m,v]=f;yield nA(i,n,a,l,m,v)}else if(u==="consent"){const[m,v]=f;i("consent",m,v)}else if(u==="get"){const[m,v,g]=f;i("get",m,v,g)}else if(u==="set"){const[m]=f;i("set",m)}else i(u,...f)}catch(m){Nt.error(m)}})}return o}function aA(i,n,a,l,o){let u=function(...f){window[l].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=sA(u,i,n,a),{gtagCore:u,wrappedGtag:window[o]}}function lA(i){const n=window.document.getElementsByTagName("script");for(const a of Object.values(n))if(a.src&&a.src.includes(rh)&&a.src.includes(i))return a;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=30,oA=1e3;class cA{constructor(n={},a=oA){this.throttleMetadata=n,this.intervalMillis=a}getThrottleMetadata(n){return this.throttleMetadata[n]}setThrottleMetadata(n,a){this.throttleMetadata[n]=a}deleteThrottleMetadata(n){delete this.throttleMetadata[n]}}const G_=new cA;function uA(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}function dA(i){return ie(this,null,function*(){var f;const{appId:n,apiKey:a}=i,l={method:"GET",headers:uA(a)},o=KT.replace("{app-id}",n),u=yield fetch(o,l);if(u.status!==200&&u.status!==304){let m="";try{const v=yield u.json();(f=v.error)!=null&&f.message&&(m=v.error.message)}catch(v){}throw Pt.create("config-fetch-failed",{httpStatus:u.status,responseMessage:m})}return u.json()})}function fA(l){return ie(this,arguments,function*(i,n=G_,a){const{appId:o,apiKey:u,measurementId:f}=i.options;if(!o)throw Pt.create("no-app-id");if(!u){if(f)return{measurementId:f,appId:o};throw Pt.create("no-api-key")}const m=n.getThrottleMetadata(o)||{backoffCount:0,throttleEndTimeMillis:Date.now()},v=new pA;return setTimeout(()=>ie(null,null,function*(){v.abort()}),$T),Y_({appId:o,apiKey:u,measurementId:f},m,v,n)})}function Y_(u,f,m){return ie(this,arguments,function*(i,{throttleEndTimeMillis:n,backoffCount:a},l,o=G_){var b;const{appId:v,measurementId:g}=i;try{yield hA(l,n)}catch(x){if(g)return Nt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${x==null?void 0:x.message}]`),{appId:v,measurementId:g};throw x}try{const x=yield dA(i);return o.deleteThrottleMetadata(v),x}catch(x){const _=x;if(!mA(_)){if(o.deleteThrottleMetadata(v),g)return Nt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:v,measurementId:g};throw x}const N=Number((b=_==null?void 0:_.customData)==null?void 0:b.httpStatus)===503?R0(a,o.intervalMillis,rA):R0(a,o.intervalMillis),C={throttleEndTimeMillis:Date.now()+N,backoffCount:a+1};return o.setThrottleMetadata(v,C),Nt.debug(`Calling attemptFetch again in ${N} millis`),Y_(i,C,l,o)}})}function hA(i,n){return new Promise((a,l)=>{const o=Math.max(n-Date.now(),0),u=setTimeout(a,o);i.addEventListener(()=>{clearTimeout(u),l(Pt.create("fetch-throttle",{throttleEndTimeMillis:n}))})})}function mA(i){if(!(i instanceof ds)||!i.customData)return!1;const n=Number(i.customData.httpStatus);return n===429||n===500||n===503||n===504}class pA{constructor(){this.listeners=[]}addEventListener(n){this.listeners.push(n)}abort(){this.listeners.forEach(n=>n())}}function gA(i,n,a,l,o){return ie(this,null,function*(){if(o&&o.global){i("event",a,l);return}else{const u=yield n,f=ot(Ne({},l),{send_to:u});i("event",a,f)}})}function vA(i,n,a,l){return ie(this,null,function*(){if(l&&l.global){const o={};for(const u of Object.keys(a))o[`user_properties.${u}`]=a[u];return i("set",o),Promise.resolve()}else{const o=yield n;i("config",o,{update:!0,user_properties:a})}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(){return ie(this,null,function*(){if(sy())try{yield ay()}catch(i){return Nt.warn(Pt.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return Nt.warn(Pt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function _A(i,n,a,l,o,u,f){return ie(this,null,function*(){var _;const m=fA(i);m.then(N=>{a[N.measurementId]=N.appId,i.options.measurementId&&N.measurementId!==i.options.measurementId&&Nt.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${N.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(N=>Nt.error(N)),n.push(m);const v=yA().then(N=>{if(N)return l.getId()}),[g,b]=yield Promise.all([m,v]);lA(u)||eA(u,g.measurementId),o("js",new Date);const x=(_=f==null?void 0:f.config)!=null?_:{};return x[PT]="firebase",x.update=!0,b!=null&&(x[XT]=b),o("config",g.measurementId,x),g.measurementId})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(n){this.app=n}_delete(){return delete sa[this.app.options.appId],Promise.resolve()}}let sa={},Nv=[];const Cv={};let Bd="dataLayer",bA="gtag",Tv,oh,Av=!1;function SA(){const i=[];if(S2()&&i.push("This is a browser extension environment."),N2()||i.push("Cookies are not available."),i.length>0){const n=i.map((l,o)=>`(${o+1}) ${l}`).join(" "),a=Pt.create("invalid-analytics-context",{errorInfo:n});Nt.warn(a.message)}}function wA(i,n,a){SA();const l=i.options.appId;if(!l)throw Pt.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)Nt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Pt.create("no-api-key");if(sa[l]!=null)throw Pt.create("already-exists",{id:l});if(!Av){tA(Bd);const{wrappedGtag:u,gtagCore:f}=aA(sa,Nv,Cv,Bd,bA);oh=u,Tv=f,Av=!0}return sa[l]=_A(i,Nv,Cv,n,Tv,Bd,a),new xA(i)}function EA(i=dy()){i=En(i);const n=zl(i,Do);return n.isInitialized()?n.getImmediate():NA(i)}function NA(i,n={}){const a=zl(i,Do);if(a.isInitialized()){const o=a.getImmediate();if(bl(n,a.getOptions()))return o;throw Pt.create("already-initialized")}return a.initialize({options:n})}function CA(i,n,a){i=En(i),vA(oh,sa[i.app.options.appId],n,a).catch(l=>Nt.error(l))}function TA(i,n,a,l){i=En(i),gA(oh,sa[i.app.options.appId],n,a,l).catch(o=>Nt.error(o))}const jv="@firebase/analytics",Dv="0.10.19";function AA(){Ai(new Fn(Do,(n,{options:a})=>{const l=n.getProvider("app").getImmediate(),o=n.getProvider("installations-internal").getImmediate();return wA(l,o,a)},"PUBLIC")),Ai(new Fn("analytics-internal",i,"PRIVATE")),bn(jv,Dv),bn(jv,Dv,"esm2020");function i(n){try{const a=n.getProvider(Do).getImmediate();return{logEvent:(l,o,u)=>TA(a,l,o,u),setUserProperties:(l,o)=>CA(a,l,o)}}catch(a){throw Pt.create("interop-component-reg-failed",{reason:a})}}}AA();const jA={apiKey:"AIzaSyBu9odaD8zX6q0tS9GKIEfm_iVJnWceGOg",authDomain:"teovoz-app.firebaseapp.com",projectId:"teovoz-app",storageBucket:"teovoz-app.firebasestorage.app",messagingSenderId:"265111539880",appId:"1:265111539880:web:c01733932b5728b11db29d",measurementId:"G-MX523LY3B4"},Q_=uy(jA),aa=WC(Q_);let DA=null;try{DA=EA(Q_)}catch(i){console.warn("Firebase Analytics no pudo inicializarse:",i)}console.log("Firebase Analytics inicializado.");function Wo(i){const[n,a]=H.useState(0),[l,o]=H.useState(()=>{const f=localStorage.getItem("teovoz_liked_episodes");return f?new Set(JSON.parse(f)).has(i):!1});return H.useEffect(()=>{const f=i.replace(/[.#$[\]]/g,"_"),m=ia(aa,`likes/${f}`),v=nh(m,g=>{const b=g.val();a(b!==null?b:0)});return()=>v()},[i]),{likes:n,isLiked:l,toggleLike:f=>ie(null,null,function*(){const m=i.replace(/[.#$[\]]/g,"_"),v=ia(aa,`likes/${m}`),g=!l;o(g);const b=new Set(JSON.parse(localStorage.getItem("teovoz_liked_episodes")||"[]"));if(g){if(b.add(i),f)try{const x=cf(ia(aa,"public_notifications"));uf(x,{type:"like",title:f,guid:i,timestamp:Date.now()})}catch(x){console.error("Error pushing notification:",x)}}else b.delete(i);localStorage.setItem("teovoz_liked_episodes",JSON.stringify(Array.from(b)));try{yield aT(v,x=>(x||0)+(g?1:-1))}catch(x){console.error("Error updating likes:",x),o(!g),g?b.delete(i):b.add(i),localStorage.setItem("teovoz_liked_episodes",JSON.stringify(Array.from(b)))}})}}function ec(i){const[n,a]=H.useState([]),[l,o]=H.useState(!0);H.useEffect(()=>{const m=i.replace(/[.#$[\]]/g,"_"),v=ia(aa,`comments/${m}`),g=nh(v,b=>{const x=b.val();if(x){const _=Object.entries(x).map(([N,C])=>({id:N,text:C.text,author:C.author||"Annimo",timestamp:C.timestamp||Date.now()}));_.sort((N,C)=>C.timestamp-N.timestamp),a(_)}else a([]);o(!1)});return()=>g()},[i]);const u=m=>{const v=["puta","puto","mierda","verga","pendejo","pendeja","estupido","estupida","idiota","cabron","cabrona","marico","marica","joder","coo","mamaguevo","malparido","perra","zorra","culo","tonto","tonta","imbecil","carajo","cagada","chingar","pinche","bastardo","retrasado","mongolico","prostituta"];let g=m;return v.forEach(b=>{const x=new RegExp(`\\b${b}\\b`,"gi");g=g.replace(x," TeoVoz")}),g};return{comments:n,loading:l,addComment:(m,v)=>ie(null,null,function*(){const g=i.replace(/[.#$[\]]/g,"_"),b=ia(aa,`comments/${g}`),x=cf(b),_=u(m);if(yield uf(x,{text:_,author:"Annimo",timestamp:iT()}),v)try{const N=cf(ia(aa,"public_notifications"));uf(N,{type:"comment",title:v,guid:i,text:_.substring(0,50)+(_.length>50?"...":""),timestamp:Date.now()})}catch(N){console.error("Error pushing notification:",N)}})}}const MA=({currentEpisode:i,onClose:n,onEpisodeComplete:a,onEpisodeStart:l,onEpisodeClick:o})=>{const u=H.useRef(null),f=H.useRef(null),[m,v]=H.useState(ln.STOPPED),[g,b]=H.useState(0),[x,_]=H.useState(0),[N,C]=H.useState(!1),[z,U]=H.useState(!1),[Y,$]=H.useState(!1),[F,oe]=H.useState(0),{likes:ue}=Wo((i==null?void 0:i.guid)||""),{comments:te}=ec((i==null?void 0:i.guid)||""),X=H.useRef(null),de=H.useRef(null),qe=H.useRef(null);H.useEffect(()=>()=>{X.current&&X.current.close().catch(console.error)},[]);const Xe=()=>{var Q;if(!X.current){const S=window.AudioContext||window.webkitAudioContext;S&&(X.current=new S,de.current=X.current.createGain(),de.current.connect(X.current.destination))}if(f.current&&X.current&&de.current&&!qe.current)try{qe.current=X.current.createMediaElementSource(f.current),qe.current.connect(de.current)}catch(S){console.warn("MediaElementSource creation error:",S)}((Q=X.current)==null?void 0:Q.state)==="suspended"&&X.current.resume().catch(console.error)},Oe=(Q,S)=>{if(!(!X.current||!de.current))try{const M=de.current,q=X.current.currentTime;M.gain.cancelScheduledValues(q),M.gain.setValueAtTime(M.gain.value,q),M.gain.linearRampToValueAtTime(Q,q+S/1e3)}catch(M){console.error("Error fading volume:",M)}};H.useEffect(()=>{i?(Xe(),f.current&&(f.current.src="/Fondo.mp3",f.current.volume=1,de.current&&X.current&&(de.current.gain.cancelScheduledValues(X.current.currentTime),de.current.gain.value=1),f.current.currentTime=0,f.current.loop=!0,f.current.play().catch(Q=>console.warn("BG Play failed",Q))),u.current&&(u.current.src=i.enclosure.url,u.current.volume=1),U(!0),v(ln.PLAYING),l&&l(i.guid),document.title=` ${i.title} | TEOVOZ`):(f.current&&(f.current.pause(),f.current.currentTime=0),u.current&&u.current.pause(),v(ln.STOPPED),document.title="TEOVOZ Podcast IA")},[i]);const be=Q=>{var S;Q==null||Q.stopPropagation(),((S=X.current)==null?void 0:S.state)==="suspended"&&X.current.resume().catch(console.error),m===ln.PLAYING?(u.current&&u.current.pause(),f.current&&f.current.pause(),v(ln.PAUSED)):(f.current&&f.current.play().catch(console.error),u.current&&!z&&u.current.play().catch(console.error),v(ln.PLAYING))},ze=()=>{z&&f.current&&f.current.currentTime>=3&&(U(!1),Oe(.1,1e3),u.current&&u.current.play().catch(Q=>console.error("Main play error",Q)))},De=()=>{f.current&&Oe(1,1e3),setTimeout(()=>{f.current&&f.current.pause(),v(ln.STOPPED),i&&a&&a(i.guid)},3e3)},ke=()=>{$(!0),oe(g)},O=Q=>{oe(parseFloat(Q.target.value))},V=Q=>{u.current&&($(!1),u.current.currentTime=F,b(F))};H.useEffect(()=>!("mediaSession"in navigator)||!u.current||!i?void 0:((()=>{const S=i.image?[{src:i.image,sizes:"96x96",type:"image/jpeg"},{src:i.image,sizes:"128x128",type:"image/jpeg"},{src:i.image,sizes:"256x256",type:"image/jpeg"},{src:i.image,sizes:"512x512",type:"image/jpeg"}]:[];navigator.mediaSession.metadata=new MediaMetadata({title:i.title,artist:"TEOVOZ - Podcast IA",album:"TEOVOZ",artwork:S})})(),navigator.mediaSession.setActionHandler("play",()=>be()),navigator.mediaSession.setActionHandler("pause",()=>be()),navigator.mediaSession.setActionHandler("stop",()=>n()),()=>{navigator.mediaSession.setActionHandler("play",null),navigator.mediaSession.setActionHandler("pause",null),navigator.mediaSession.setActionHandler("stop",null)}),[i,m]);const J=Q=>{if(isNaN(Q))return"00:00";const S=Math.floor(Q/60),M=Math.floor(Q%60);return`${S}:${M.toString().padStart(2,"0")}`},B=Q=>{const S=Q.replace(/\*\*/g,"").replace(/__/g,"");return S.length>100?S.substring(0,100)+"...":S};return i?h.jsxs(h.Fragment,{children:[h.jsx("audio",{ref:f,crossOrigin:"anonymous",preload:"auto",loop:!0,onTimeUpdate:ze}),N?h.jsxs("div",{className:"fixed inset-0 bg-app z-[200] flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between p-6 pt-safe",children:[h.jsx(oa,{variant:"icon",onClick:()=>C(!1),className:"bg-surface border border-app",children:h.jsx(cS,{size:24,className:"text-muted"})}),h.jsx("div",{className:"flex flex-col items-center",children:h.jsx("span",{className:"text-[10px] font-black tracking-[0.2em] text-muted uppercase",children:"TeoVoz Player"})}),h.jsx(oa,{variant:"icon",onClick:n,className:"bg-surface border border-app",children:h.jsx(Sn,{size:24,className:"text-muted"})})]}),h.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center space-y-8 overflow-y-auto no-scrollbar pb-12",children:[h.jsxs("div",{className:"w-full max-w-[280px] aspect-square rounded-[40px] overflow-hidden shadow-2xl border-white/5 border relative group mt-4",children:[h.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover"}),h.jsx("div",{className:"absolute inset-0 bg-indigo-600/10 mix-blend-overlay"})]}),h.jsxs("div",{className:"space-y-4 w-full max-w-md",children:[h.jsx("h2",{className:"text-2xl font-black text-primary leading-tight px-4 tracking-tighter line-clamp-2",children:i.title}),h.jsx("p",{className:"text-xs text-muted/60 px-6 font-medium leading-relaxed font-sans",children:B(i.description)}),h.jsxs("div",{className:"flex items-center justify-center gap-4",children:[h.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-surface border border-app rounded-lg text-[10px] font-bold text-muted",children:[h.jsx(zo,{size:12})," ",ue," Likes"]}),h.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-surface border border-app rounded-lg text-[10px] font-bold text-muted",children:[h.jsx(Rl,{size:12})," ",te.length," Comentarios"]})]})]}),h.jsxs("div",{className:"w-full max-w-md space-y-6 pt-2",children:[h.jsxs("div",{className:"px-6",children:[h.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-muted mb-4 uppercase tracking-widest",children:[h.jsx("span",{children:J(Y?F:g)}),h.jsx("span",{children:J(x)})]}),h.jsxs("div",{className:"relative group h-6 flex items-center touch-none",children:[h.jsx("input",{type:"range",min:"0",max:x||100,step:"0.01",value:Y?F:g,onMouseDown:ke,onTouchStart:ke,onChange:O,onMouseUp:V,onTouchEnd:V,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20"}),h.jsx("div",{className:"w-full h-1.5 bg-surface rounded-full overflow-hidden relative z-10 pointer-events-none",children:h.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-75 ease-out",style:{width:`${(Y?F:g)/(x||1)*100}%`}})}),h.jsx("div",{className:"absolute w-4 h-4 bg-white rounded-full shadow-lg border border-indigo-100 transition-transform duration-75 pointer-events-none z-10",style:{left:`${(Y?F:g)/(x||1)*100}%`,transform:"translateX(-50%)"}})]})]}),h.jsxs("div",{className:"flex items-center justify-around px-8",children:[h.jsx("button",{className:"text-muted active:scale-90 hover:text-primary transition-colors p-2",onClick:()=>{u.current&&(u.current.currentTime-=15)},children:h.jsx(QS,{size:32})}),h.jsx("button",{className:"w-20 h-20 bg-indigo-600 text-white rounded-[28px] flex items-center justify-center shadow-2xl shadow-indigo-600/30 active:scale-95 transition-all",onClick:be,children:m===ln.PLAYING?h.jsx(C0,{size:36,fill:"currentColor"}):h.jsx(ra,{size:36,fill:"currentColor",className:"ml-1.5"})}),h.jsx("button",{className:"text-muted active:scale-90 hover:text-primary transition-colors p-2",onClick:()=>{u.current&&(u.current.currentTime+=15)},children:h.jsx(T0,{size:32})})]})]})]})]}):h.jsxs("div",{onClick:()=>{o&&i?o(i):C(!0)},className:"relative w-full bg-surface border-t border-app cursor-pointer pb-safe",children:[h.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-surface/50",children:h.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-300 linear",style:{width:`${g/(x||1)*100}%`}})}),h.jsxs("div",{className:"flex items-center justify-between px-4 py-2 gap-3 h-16",children:[h.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[h.jsx("div",{className:"relative flex-shrink-0",children:h.jsx("img",{src:i.image,alt:"Art",className:"w-10 h-10 rounded-lg bg-app object-cover shadow-sm border border-white/10"})}),h.jsxs("div",{className:"flex flex-col min-w-0 justify-center",children:[h.jsx("h4",{className:"text-xs font-bold text-primary truncate leading-tight",children:i.title}),h.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-muted uppercase tracking-wider mt-0.5",children:[h.jsx("span",{className:"text-indigo-400",children:J(g)}),h.jsx("span",{className:"text-white/20",children:"/"}),h.jsx("span",{children:J(x)})]})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:Q=>{Q.stopPropagation(),u.current&&(u.current.currentTime+=15)},className:"w-8 h-8 flex items-center justify-center rounded-full text-muted hover:text-primary active:scale-90 transition-transform",children:h.jsx(T0,{size:20})}),h.jsx("button",{onClick:be,className:"w-9 h-9 flex items-center justify-center rounded-full bg-primary text-app active:scale-95 transition-transform shadow-lg",children:m===ln.PLAYING?h.jsx(C0,{size:16,fill:"currentColor"}):h.jsx(ra,{size:16,fill:"currentColor",className:"ml-0.5"})}),h.jsx("button",{onClick:Q=>{Q.stopPropagation(),n()},className:"w-8 h-8 flex items-center justify-center rounded-full text-muted hover:text-primary active:scale-90 transition-transform",children:h.jsx(Sn,{size:18})})]})]})]}),h.jsx("audio",{ref:u,playsInline:!0,preload:"auto",title:i.title,onPlay:()=>v(ln.PLAYING),onPause:()=>v(ln.PAUSED),onTimeUpdate:()=>{!Y&&u.current&&(b(u.current.currentTime),_(u.current.duration||0))},onEnded:De})]}):null},RA=({activeTab:i,onTabChange:n,hasPlayer:a,notifCount:l=0})=>h.jsxs("div",{className:`border-t border-app px-4 py-3 flex items-center justify-between relative z-50 ${a?"pb-3":"pb-6"}`,children:[h.jsxs("a",{href:"index.html",className:`flex flex-col items-center gap-1 transition-colors ${i==="home"?"text-indigo-500":"text-muted hover:text-primary"}`,children:[h.jsx("div",{className:`p-1 rounded-xl transition-all ${i==="home"?"bg-indigo-500/10":"bg-transparent"}`,children:h.jsx(SS,{size:18,strokeWidth:2.5})}),h.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:"Inicio"})]}),h.jsxs("a",{id:"tour-nav-search",href:"search.html",className:`flex flex-col items-center gap-1 transition-colors ${i==="search"?"text-indigo-500":"text-muted hover:text-primary"}`,children:[h.jsx("div",{className:`p-1 rounded-xl transition-all ${i==="search"?"bg-indigo-500/10":"bg-transparent"}`,children:h.jsx(gf,{size:18,strokeWidth:2.5})}),h.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:"Buscar"})]}),h.jsxs("a",{id:"tour-nav-favorites",href:"favorites.html",className:`flex flex-col items-center gap-1 transition-colors ${i==="favorites"?"text-indigo-500":"text-muted hover:text-primary"}`,children:[h.jsx("div",{className:`p-1 rounded-xl transition-all ${i==="favorites"?"bg-indigo-500/10":"bg-transparent"}`,children:h.jsx(Ti,{size:18,strokeWidth:2.5})}),h.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:"Favoritos"})]}),h.jsxs("button",{id:"tour-nav-daily",onClick:()=>n("daily"),className:"flex flex-col items-center gap-1 transition-colors text-muted hover:text-primary",children:[h.jsx("div",{className:"p-1 rounded-xl transition-all bg-transparent",children:h.jsx(is,{size:18,strokeWidth:2.5})}),h.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:"Lo Nuevo"})]}),h.jsxs("button",{id:"tour-nav-share",onClick:()=>n("share"),className:"flex flex-col items-center gap-1 transition-colors text-muted hover:text-primary",children:[h.jsx("div",{className:"p-1 rounded-xl transition-all bg-transparent",children:h.jsx(hl,{size:18,strokeWidth:2.5})}),h.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:"Compartir"})]})]}),OA=({onClose:i,currentTheme:n,onThemeChange:a})=>{const l=[{id:"deep",name:"TeoVoz Deep",description:"Estilo clsico e ndigo",icon:h.jsx(PS,{size:18}),preview:"bg-[#1e293b] border-[#6366f1]"},{id:"dark-pure",name:"Oscuro Puro",description:"Negro real para AMOLED",icon:h.jsx(OS,{size:18}),preview:"bg-black border-[#262626]"},{id:"light",name:"Claro Puro",description:"Blanco limpio y minimalista",icon:h.jsx($v,{size:18}),preview:"bg-white border-[#e2e8f0]"}];return h.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-black/70 animate-in fade-in duration-200",children:h.jsxs("div",{className:"bg-surface border-app border rounded-[32px] w-full max-w-sm p-6 shadow-2xl relative",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-indigo-500/10 rounded-lg text-indigo-500",children:h.jsx(Xv,{size:16})}),h.jsx("h2",{className:"text-xs font-black text-muted uppercase tracking-[0.2em]",children:"Personalizar"})]}),h.jsx(oa,{variant:"icon",onClick:i,className:"text-muted",children:h.jsx(Sn,{size:20})})]}),h.jsx("div",{className:"space-y-2",children:l.map(o=>h.jsxs("button",{onClick:()=>a(o.id),className:`w-full flex items-center gap-4 p-4 rounded-2xl border transition-all text-left ${n===o.id?"border-indigo-500 bg-indigo-500/5":"border-transparent bg-app/50"}`,children:[h.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center border ${o.preview}`,children:h.jsx("span",{className:o.id==="light"?"text-slate-900":"text-white",children:o.icon})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"font-bold text-sm text-primary",children:o.name}),h.jsx("p",{className:"text-[9px] text-muted uppercase font-black tracking-wider leading-none mt-1",children:o.description})]}),n===o.id&&h.jsx(Qv,{size:18,className:"text-indigo-500"})]},o.id))})]})})},zA=({onClose:i})=>{const[n,a]=H.useState({bookName:"",author:"",userName:"",userEmail:""}),l=o=>{o.preventDefault();const u="teovoz.app@gmail.com",f=n.bookName.toUpperCase(),v=encodeURIComponent(`SOLICITUD DE NUEVO LIBRO: ${f}`),g=encodeURIComponent(`Hola TEOVOZ,

Se ha recibido una nueva solicitud de resumen desde la aplicacin:

 LIBRO: ${n.bookName}
 AUTOR: ${n.author}

DATOS DEL SOLICITANTE:
 NOMBRE: ${n.userName}
 CORREO: ${n.userEmail}

Este es un mensaje generado automticamente para el equipo de TEOVOZ.`);window.location.href=`mailto:${u}?subject=${v}&body=${g}`,i()};return h.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/70 animate-in fade-in duration-200",children:h.jsx("div",{className:"bg-surface border-app border rounded-[32px] w-full max-w-sm p-8 shadow-2xl relative overflow-hidden",children:h.jsxs("div",{className:"relative z-10 animate-in zoom-in-95 duration-300",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"p-2 bg-indigo-500/10 rounded-lg text-indigo-400",children:h.jsx(Yv,{size:18})}),h.jsx("h2",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.2em]",children:"Solicitar Resumen"})]}),h.jsx(oa,{variant:"icon",onClick:i,className:"text-muted",children:h.jsx(Sn,{size:20})})]}),h.jsxs("form",{onSubmit:l,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 ml-1",children:"Nombre del Libro"}),h.jsxs("div",{className:"relative",children:[h.jsx(eS,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:16}),h.jsx("input",{required:!0,className:"w-full bg-app border border-app rounded-xl py-3 pl-10 pr-4 text-sm text-primary focus:outline-none focus:border-indigo-500 transition-all",placeholder:"Ej: El Alquimista",value:n.bookName,onChange:o=>a(ot(Ne({},n),{bookName:o.target.value}))})]})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 ml-1",children:"Autor"}),h.jsxs("div",{className:"relative",children:[h.jsx(Kv,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:16}),h.jsx("input",{required:!0,className:"w-full bg-app border border-app rounded-xl py-3 pl-10 pr-4 text-sm text-primary focus:outline-none focus:border-indigo-500 transition-all",placeholder:"Ej: Paulo Coelho",value:n.author,onChange:o=>a(ot(Ne({},n),{author:o.target.value}))})]})]}),h.jsx("div",{className:"pt-4",children:h.jsxs(oa,{type:"submit",variant:"primary",className:"w-full py-4 rounded-2xl shadow-xl shadow-indigo-500/20",children:[h.jsx(Pv,{size:18}),"Enviar Solicitud"]})}),h.jsx("p",{className:"text-center text-[9px] text-slate-500 uppercase tracking-tighter mt-2",children:"Se enviar va email a teovoz.app@gmail.com"})]})]})})})},kA=({onClose:i})=>{const[n,a]=Oo.useState(()=>localStorage.getItem("teovoz_audio_mono")==="true"),l=()=>{const o=!n;a(o),localStorage.setItem("teovoz_audio_mono",String(o)),window.dispatchEvent(new CustomEvent("audio-settings-changed",{detail:{mono:o}}))};return h.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-black/80 animate-in fade-in duration-200",children:h.jsxs("div",{className:"bg-surface border-app border rounded-[32px] w-full max-w-lg max-h-[85vh] flex flex-col shadow-2xl relative overflow-hidden",children:[h.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-app",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-indigo-500/10 rounded-lg text-indigo-400",children:h.jsx(Fv,{size:18})}),h.jsx("h2",{className:"text-xs font-black text-muted uppercase tracking-[0.2em]",children:"Acerca de TeoVoz"})]}),h.jsx(oa,{variant:"icon",onClick:i,className:"text-muted",children:h.jsx(Sn,{size:20})})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar p-6 space-y-10",children:[h.jsxs("div",{className:"text-center py-4",children:[h.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center shadow-xl mb-6 mx-auto transform rotate-3 overflow-hidden",children:h.jsx("img",{src:"/logo.svg",alt:"TeoVoz Logo",className:"w-full h-full object-cover"})}),h.jsxs("h1",{className:"text-3xl font-black text-primary mb-1 tracking-tighter uppercase",children:["TEO",h.jsx("span",{className:"text-indigo-500",children:"VOZ"})]}),h.jsx("p",{className:"text-[8px] text-muted font-black uppercase tracking-[0.3em]",children:"Versin 1.1.0 Premium"})]}),h.jsxs("section",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-2 text-indigo-500",children:[h.jsx(JS,{size:16}),h.jsx("h3",{className:"font-black uppercase text-[10px] tracking-widest",children:"Nuestra Visin"})]}),h.jsxs("div",{className:"text-muted text-sm leading-relaxed space-y-3 font-medium bg-app/50 p-5 rounded-2xl border border-app",children:[h.jsx("p",{children:"TeoVoz es el puente entre las ideas ms grandes y tu apretada agenda."}),h.jsxs("p",{children:["Transformamos libros influyentes en audios de ",h.jsx("span",{className:"text-primary font-bold",children:"15 minutos"}),"."]})]})]}),h.jsxs("section",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-2 text-indigo-500",children:[h.jsx("div",{className:"p-1 bg-indigo-500/10 rounded",children:h.jsx(MS,{size:14})}),h.jsx("h3",{className:"font-black uppercase text-[10px] tracking-widest",children:"Configuracin de Audio"})]}),h.jsxs("div",{className:"bg-surface border border-app p-4 rounded-xl flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-bold text-primary",children:"Audio Mono"}),h.jsx("p",{className:"text-[10px] text-muted",children:"Mezcla los canales para escuchar con un solo audfono."})]}),h.jsx("button",{onClick:l,className:`w-12 h-7 rounded-full transition-colors relative ${n?"bg-indigo-600":"bg-surface border border-muted"}`,children:h.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-1 transition-all ${n?"left-6":"left-1"}`})})]})]}),h.jsxs("section",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-2 text-indigo-500",children:[h.jsx(TS,{size:16}),h.jsx("h3",{className:"font-black uppercase text-[10px] tracking-widest",children:"Los Pilares"})]}),h.jsx("div",{className:"grid grid-cols-2 gap-2",children:["xito","Finanzas","Mente","Relaciones","Salud","Negocios"].map((o,u)=>h.jsxs("div",{className:"text-[9px] font-bold text-muted bg-app/30 px-3 py-2 rounded-xl border border-app flex items-center gap-2",children:[h.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"}),o]},u))})]}),h.jsxs("section",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-2 text-indigo-500",children:[h.jsx(Kv,{size:16}),h.jsx("h3",{className:"font-black uppercase text-[10px] tracking-widest",children:"Desarrollo"})]}),h.jsx("div",{className:"bg-indigo-600/10 border border-indigo-500/20 p-5 rounded-2xl",children:h.jsxs("p",{className:"text-muted text-xs leading-relaxed",children:["Creado por ",h.jsx("span",{className:"text-indigo-400 font-black",children:"MigoCreativo"}),". Elevando el potencial humano a travs de la tecnologa."]})})]}),h.jsx("div",{className:"text-center pt-4 pb-6",children:h.jsxs("div",{className:"flex items-center justify-center gap-1.5 text-indigo-500 font-black bg-indigo-500/10 px-6 py-2.5 rounded-full border border-indigo-500/20 w-fit mx-auto mb-3",children:[h.jsx(Ti,{size:14,fill:"currentColor"}),"Escucha. Aprende. Crece."]})})]})]})})},IA=({onClose:i})=>{const[n,a]=H.useState(0);H.useEffect(()=>{fetch("https://api.exchangerate-api.com/v4/latest/COP").then(f=>f.json()).then(f=>{f&&f.rates&&f.rates.USD&&a(f.rates.USD)}).catch(f=>console.error("Error fetching exchange rate:",f))},[]);const l=[{amount:5e3,color:"bg-emerald-500 hover:bg-emerald-600",url:"https://checkout.bold.co/payment/LNK_4FWLWFR3BH"},{amount:1e4,color:"bg-blue-500 hover:bg-blue-600",url:"https://checkout.bold.co/payment/LNK_UTIK7CCGWM"},{amount:15e3,color:"bg-purple-500 hover:bg-purple-600",url:"https://checkout.bold.co/payment/LNK_59BD7NZF5Y"},{amount:2e4,color:"bg-amber-500 hover:bg-amber-600",url:"https://checkout.bold.co/payment/LNK_I1U01M6IQ1"}],o=f=>n?`~$${(f*n).toFixed(2)} USD`:"Calculando...",u=f=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",maximumFractionDigits:0}).format(f);return h.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 animate-in fade-in duration-300",children:[h.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:i}),h.jsxs("div",{className:"relative w-full max-w-sm bg-surface border border-indigo-500/30 rounded-[32px] p-6 shadow-2xl shadow-indigo-500/20 animate-in zoom-in-95 duration-300 overflow-hidden transition-all ease-in-out",children:[h.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500/10 rounded-full blur-2xl -mr-10 -mt-10 pointer-events-none"}),h.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-amber-500/10 rounded-full blur-2xl -ml-10 -mb-10 pointer-events-none"}),h.jsx("button",{onClick:i,className:"absolute top-4 right-4 z-50 p-2 text-muted hover:text-primary transition-colors bg-black/20 rounded-full hover:bg-black/40",children:h.jsx(Sn,{size:20})}),h.jsxs("div",{className:"flex flex-col items-center text-center relative z-10",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg shadow-indigo-500/30 mb-4 rotate-3 transform hover:rotate-6 transition-transform duration-500",children:h.jsx(ho,{size:32,className:"text-white"})}),h.jsx("h2",{className:"text-xl font-black text-primary mb-2 tracking-tight uppercase",children:"Apyame con un caf"}),h.jsxs("p",{className:"text-xs text-muted mb-6 leading-relaxed font-medium px-2",children:["Tu aporte me ayuda a seguir creando contenido de calidad.",h.jsx("br",{}),h.jsx("span",{className:"text-[10px] opacity-70",children:"(Precios en COP y aprox. en USD)"})]}),h.jsx("div",{className:"w-full space-y-3",children:l.map((f,m)=>h.jsxs("a",{href:f.url,target:"_blank",rel:"noopener noreferrer",className:`w-full group ${f.color} text-white p-3.5 rounded-xl flex items-center justify-between transition-all duration-300 shadow-lg hover:shadow-xl active:scale-95 border border-white/10`,children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"bg-white/20 p-1.5 rounded-lg",children:h.jsx(ho,{size:16,fill:"currentColor",className:"text-white"})}),h.jsxs("div",{className:"flex flex-col items-start leading-none",children:[h.jsx("span",{className:"font-bold text-sm tracking-tight",children:u(f.amount)}),h.jsx("span",{className:"text-[10px] font-medium opacity-90",children:o(f.amount)})]})]}),h.jsx($b,{size:16,className:"opacity-80 group-hover:translate-x-1 transition-transform"})]},m))}),h.jsxs("div",{className:"mt-6 flex items-center gap-2 text-[10px] font-bold text-muted uppercase tracking-widest opacity-60",children:[h.jsx(Ti,{size:10,className:"text-red-500 animate-pulse",fill:"currentColor"}),h.jsx("span",{children:"Gracias por tu apoyo"}),h.jsx(Ti,{size:10,className:"text-red-500 animate-pulse",fill:"currentColor"})]})]})]})]})};function LA(){const[i,n]=H.useState(null),[a,l]=H.useState(!1),[o,u]=H.useState(!1);return H.useEffect(()=>{const m=x=>{x.preventDefault(),n(x),l(!0)};window.addEventListener("beforeinstallprompt",m);const v=window.navigator.userAgent.toLowerCase(),g=/iphone|ipad|ipod/.test(v)&&!window.MSStream,b=window.matchMedia("(display-mode: standalone)").matches||navigator.standalone;return g&&!b&&u(!0),()=>window.removeEventListener("beforeinstallprompt",m)},[]),{isInstallable:a,install:()=>ie(null,null,function*(){if(!i)return;i.prompt();const{outcome:m}=yield i.userChoice;m==="accepted"&&(l(!1),n(null))}),isIOS:o}}const UA=({children:i,activeTab:n,currentEpisode:a,onEpisodeChange:l,notifCount:o=0,onEpisodeComplete:u,onEpisodeStart:f,onEpisodeClick:m,onOpenDailyModal:v,onOpenDonation:g,showDonationModal:b=!1,onCloseDonation:x})=>{const[_,N]=H.useState(null),C=a!==void 0?a:_,z=l||N,[U,Y]=H.useState(()=>localStorage.getItem("teovoz_theme")||"deep"),[$,F]=H.useState(!1),[oe,ue]=H.useState(!1),[te,X]=H.useState(!1),[de,qe]=H.useState(navigator.onLine),{isInstallable:Xe,install:Oe}=LA();return H.useEffect(()=>{const be=()=>qe(navigator.onLine);window.addEventListener("online",be),window.addEventListener("offline",be);const ze=De=>{const ke=De.target.closest("a");if(!(!ke||ke.tagName!=="A")&&ke.href.startsWith(window.location.origin)){const O=new URL(ke.href),V=O.pathname.endsWith(".html"),J=O.pathname==="/"||O.pathname==="";(V||J||O.pathname===window.location.pathname)&&(De.preventDefault(),window.history.pushState({},"",ke.href),window.dispatchEvent(new PopStateEvent("popstate")))}};return document.addEventListener("click",ze),()=>{window.removeEventListener("online",be),window.removeEventListener("offline",be),document.removeEventListener("click",ze)}},[]),H.useEffect(()=>{document.documentElement.setAttribute("data-theme",U),localStorage.setItem("teovoz_theme",U)},[U]),h.jsxs("div",{className:"min-h-screen bg-app text-primary transition-colors duration-300 pb-safe pt-[72px]",children:[h.jsx("header",{className:"fixed top-0 left-0 right-0 z-[100] bg-surface border-b border-app h-[72px]",children:h.jsxs("div",{className:"max-w-2xl mx-auto px-4 h-full flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[(n!=="home"||window.location.pathname.includes("episode.html"))&&h.jsx("button",{onClick:()=>{window.history.length>1?window.history.back():window.location.href="index.html"},className:"p-2.5 rounded-xl bg-app border border-app text-muted active:scale-90 transition-transform",children:h.jsx(Gv,{size:16})}),h.jsxs("a",{href:"index.html",className:"flex items-center gap-2 cursor-pointer",children:[h.jsx("img",{src:"/logo.svg",alt:"TeoVoz Logo",className:"w-8 h-8 rounded-lg shadow-lg shadow-indigo-600/20"}),h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("h1",{className:"text-base font-black tracking-tighter uppercase leading-none text-primary",children:["TEO",h.jsx("span",{className:"text-indigo-500",children:"VOZ"})]}),h.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[h.jsx("div",{className:`w-1 h-1 rounded-full ${de?"bg-emerald-500 animate-pulse":"bg-amber-500"}`}),h.jsx("span",{className:`text-[7px] font-black uppercase tracking-widest ${de?"text-emerald-500/80":"text-amber-500/80"}`,children:de?"En Lnea":"Modo Offline"})]})]})]})]}),h.jsxs("div",{className:"flex items-center gap-1.5",children:[Xe&&h.jsxs("button",{onClick:Oe,className:"flex flex-col items-center gap-0.5 px-2.5 py-2 rounded-xl bg-indigo-600 text-white active:scale-95 transition-all shadow-lg shadow-indigo-600/10",children:[h.jsx(vS,{size:14}),h.jsx("span",{className:"text-[7px] font-black uppercase tracking-[0.1em]",children:"APP"})]}),h.jsxs("button",{id:"tour-header-donate",onClick:g,className:"flex flex-col items-center gap-0.5 px-3 py-2 rounded-xl bg-orange-500 text-white active:scale-95 transition-all shadow-lg shadow-orange-500/20 flex-shrink-0",children:[h.jsx(ho,{size:16,fill:"currentColor"}),h.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"DONAR"})]}),h.jsxs("button",{id:"tour-header-request",onClick:()=>ue(!0),className:"flex flex-col items-center gap-0.5 px-2.5 py-2 rounded-xl bg-indigo-600 text-white active:scale-95 transition-all shadow-lg shadow-indigo-600/10",children:[h.jsx(Yv,{size:14}),h.jsx("span",{className:"text-[7px] font-black uppercase tracking-[0.1em]",children:"PEDIR"})]}),h.jsxs("button",{id:"tour-header-themes",onClick:()=>F(!0),className:"flex flex-col items-center gap-0.5 px-2.5 py-2 rounded-xl bg-app border border-app text-muted hover:text-primary active:scale-95 transition-all",children:[h.jsx(Xv,{size:14}),h.jsx("span",{className:"text-[7px] font-black uppercase tracking-[0.1em]",children:"TEMAS"})]}),h.jsxs("button",{id:"tour-header-info",onClick:()=>X(!0),className:"flex flex-col items-center gap-0.5 px-2.5 py-2 rounded-xl bg-app border border-app text-muted hover:text-primary active:scale-95 transition-all",children:[h.jsx(Fv,{size:14}),h.jsx("span",{className:"text-[7px] font-black uppercase tracking-[0.1em]",children:"INFO"})]})]})]})}),!de&&h.jsxs("div",{className:"fixed top-[72px] left-0 right-0 z-[90] bg-amber-500 text-white py-2 px-4 flex items-center justify-center gap-2",children:[h.jsx(mS,{size:14}),h.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Modo Offline - Usando biblioteca local"})]}),h.jsx("main",{className:`max-w-2xl mx-auto px-0 pb-44 ${de?"":"mt-8"}`,children:!de&&n!=="favorites"&&n!=="home"?h.jsxs("div",{className:"flex flex-col items-center justify-center py-32 px-10 text-center animate-in fade-in duration-500",children:[h.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-3xl flex items-center justify-center text-red-500 mb-6",children:h.jsx(n2,{size:40})}),h.jsx("h2",{className:"text-xl font-black mb-2 text-primary tracking-tighter uppercase",children:"Sin Conexin"}),h.jsx("p",{className:"text-muted text-sm mb-8 font-medium",children:"Esta seccin requiere internet para actualizarse."}),h.jsx("button",{onClick:()=>window.location.reload(),className:"bg-surface border border-app px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] text-primary active:scale-95 transition-transform",children:"Reintentar"})]}):i}),h.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-[150] pb-safe flex flex-col bg-surface",children:[h.jsx(MA,{currentEpisode:C,onClose:()=>z(null),onEpisodeComplete:u,onEpisodeStart:f,onEpisodeClick:m}),h.jsx(RA,{activeTab:n,onTabChange:be=>{if(be==="daily")v==null||v();else if(be==="share")if(navigator.share)navigator.share({title:"TeoVoz",text:"Escucha resmenes de libros de 15 minutos en TeoVoz.",url:window.location.origin}).catch(console.error);else{const ze=encodeURIComponent("Escucha resmenes de libros de 15 minutos en TeoVoz: "+window.location.origin);window.open(`https://api.whatsapp.com/send?text=${ze}`,"_blank")}},hasPlayer:!!C,notifCount:o})]}),$&&h.jsx(OA,{currentTheme:U,onThemeChange:Y,onClose:()=>F(!1)}),oe&&h.jsx(zA,{onClose:()=>ue(!1)}),te&&h.jsx(kA,{onClose:()=>X(!1)}),b&&x&&h.jsx(IA,{onClose:x})]})},BA={zap:Yd,banknote:Zb,brain:nS,heart:Ti,activity:Fb,briefcase:sS,"scroll-text":US,sun:$v,sparkles:is},HA=H.memo(({categories:i,onSelect:n,counts:a={}})=>{const l=o=>`${o}.html`;return h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 p-4 pt-0",children:i.map((o,u)=>{const f=BA[o.icon]||NS,m=!o.rss,v=a[o.id]||0,g=o.id==="requests";return h.jsxs("a",{id:o.id==="requests"?"tour-category-requests":void 0,href:m?"#":l(o.id),onClick:b=>{m||(b.preventDefault(),n(o))},"aria-disabled":m,className:`
              ${m?"bg-slate-900/50 border-slate-800 opacity-60 grayscale pointer-events-none":o.color+" border-white/10 cursor-pointer"} 
              group relative h-40 rounded-[32px] p-5 
              flex flex-col justify-between items-start text-white 
              shadow-lg shadow-black/20
              overflow-hidden border
              block
              ${g?"col-span-2":""}
            `,children:[h.jsx("div",{className:"absolute -right-3 -bottom-3 opacity-10 z-0",children:m?h.jsx(N0,{size:100}):h.jsx(f,{size:100})}),h.jsx("div",{className:`
              ${m?"bg-slate-800":"bg-black/40"} 
              p-2.5 rounded-2xl z-10 border border-white/10
            `,children:m?h.jsx(N0,{size:18,className:"text-slate-600"}):h.jsx(f,{size:18})}),h.jsxs("div",{className:"z-10 text-left w-full mt-2 relative",children:[h.jsx("span",{className:"font-black text-[16px] uppercase leading-[1.1] block tracking-tighter drop-shadow-md",children:o.name}),!m&&h.jsxs("span",{className:"text-[8px] uppercase tracking-[0.25em] text-white/50 font-black mt-2 block",children:[v," Episodios"]}),m&&h.jsx("span",{className:"text-[8px] uppercase tracking-[0.2em] text-slate-500 font-black mt-2 block",children:"Prximamente"})]})]},o.id)})})}),qA="https://anchor.fm/s/10d2e95c4/podcast/rss",Gn={requests:"https://anchor.fm/s/10d4601dc/podcast/rss",productivity:qA,money:"https://anchor.fm/s/10d44d898/podcast/rss",mind:"https://anchor.fm/s/10d450d54/podcast/rss",love:"https://anchor.fm/s/10d4528ac/podcast/rss",health:"https://anchor.fm/s/10d2ecf30/podcast/rss",business:"https://anchor.fm/s/10d2edc14/podcast/rss",history:"https://anchor.fm/s/10d457280/podcast/rss",spirituality:"https://anchor.fm/s/10d457474/podcast/rss"},bi=(i,n)=>{if(!i)return"";const a=Array.isArray(n)?n:[n];for(const l of a){let o=i.getElementsByTagName(l);if((o==null?void 0:o.length)>0&&o[0].textContent)return o[0].textContent.trim();const u=l.includes(":")?l.split(":")[1]:l;if(o=i.getElementsByTagName(u),(o==null?void 0:o.length)>0&&o[0].textContent)return o[0].textContent.trim()}return""},VA=i=>{if(!i||i.includes(":"))return i||"";const n=parseInt(i,10);if(isNaN(n))return i;const a=Math.floor(n/3600),l=Math.floor(n%3600/60),o=n%60;return a>0?`${a}:${l.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`:`${l}:${o.toString().padStart(2,"0")}`},GA=i=>{var f;const n=new DOMParser().parseFromString(i.replace(/^\uFEFF/,"").trim(),"text/xml");if(n.querySelector("parsererror"))throw new Error("Formato incompatible.");const a=n.querySelector("channel")||n.getElementsByTagName("channel")[0];if(!a)throw new Error("Contenido no vlido.");const o=((f=a.getElementsByTagName("itunes:image")[0])==null?void 0:f.getAttribute("href"))||"",u=Array.from(a.querySelectorAll("item")).map(m=>{var x,_,N,C,z;const v=((x=m.querySelector("enclosure"))==null?void 0:x.getAttribute("url"))||((_=m.getElementsByTagName("media:content")[0])==null?void 0:_.getAttribute("url"))||"",g=((N=m.getElementsByTagName("itunes:image")[0])==null?void 0:N.getAttribute("href"))||o,b=bi(m,["itunes:summary","content:encoded","description","itunes:subtitle"]);return{guid:bi(m,["guid","link"])||Math.random().toString(36).substring(7),title:bi(m,["title","itunes:title"]).replace(/^(Anlisis|Analisis) Profundo:\s*/i,"").trim(),description:b.replace(/<[^>]*>?/gm,"").substring(0,1500),contentSnippet:b,pubDate:bi(m,"pubDate"),image:g,duration:VA(bi(m,["itunes:duration","duration"])),enclosure:{url:v,length:((C=m.querySelector("enclosure"))==null?void 0:C.getAttribute("length"))||"0",type:((z=m.querySelector("enclosure"))==null?void 0:z.getAttribute("type"))||"audio/mpeg"}}}).filter(m=>m.enclosure.url&&m.title);return{title:bi(a,["title","itunes:title"]),description:bi(a,["description","itunes:summary"]),image:o,author:bi(a,["itunes:author","author"])||"TEOVOZ",episodes:u}},Mv="teovoz_rss_cache_",YA=5*1e3,Ni=i=>ie(null,null,function*(){const n=`${Mv}${btoa(i)}`;let a=null;try{a=localStorage.getItem(n)}catch(o){console.warn("Storage access restricted:",o)}if(a)try{const{timestamp:o,data:u}=JSON.parse(a);if(Date.now()-o<YA)return u}catch(o){console.warn("Error leyendo cach RSS:",o);try{localStorage.removeItem(n)}catch(u){}}const l=[o=>`https://corsproxy.io/?${encodeURIComponent(o)}`,o=>`https://api.allorigins.win/raw?url=${encodeURIComponent(o)}`,o=>`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(o)}`];for(const o of l)try{const u=yield fetch(o(`${i}${i.includes("?")?"&":"?"}t=${Date.now()}`));if(!u.ok)continue;const f=yield u.text();if(!f||f.trim()==="Not Found"||!f.includes("<channel>"))continue;const m=GA(f);try{localStorage.setItem(n,JSON.stringify({timestamp:Date.now(),data:m}))}catch(v){if(v instanceof DOMException&&v.name==="QuotaExceededError"){console.log("Limpiando cach de RSS antigua...");try{for(let g=0;g<localStorage.length;g++){const b=localStorage.key(g);b&&b.startsWith(Mv)&&localStorage.removeItem(b)}}catch(g){}}}return m}catch(u){continue}if(a)try{const{data:o}=JSON.parse(a);return o}catch(o){}throw new Error("Error al obtener el podcast.")}),Ci=[{id:"requests",name:"LO NUEVO - Pedido por Usuarios",icon:"sparkles",color:"bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500",rss:Gn.requests},{id:"productivity",name:"Productividad y xito",icon:"zap",color:"bg-gradient-to-br from-indigo-600 to-blue-700",rss:Gn.productivity},{id:"money",name:"Dinero y Libertad Financiera",icon:"banknote",color:"bg-gradient-to-br from-emerald-500 to-green-700",rss:Gn.money},{id:"mind",name:"Mente y Psicologa",icon:"brain",color:"bg-gradient-to-br from-purple-600 to-indigo-800",rss:Gn.mind},{id:"love",name:"Amor, Sexo y Relaciones",icon:"heart",color:"bg-gradient-to-br from-rose-500 to-red-700",rss:Gn.love},{id:"health",name:"Salud y Bienestar",icon:"activity",color:"bg-gradient-to-br from-teal-500 to-emerald-600",rss:Gn.health},{id:"business",name:"Liderazgo y Negocios",icon:"briefcase",color:"bg-gradient-to-br from-slate-700 to-slate-900",rss:Gn.business},{id:"history",name:"Historia y Cultura",icon:"scroll-text",color:"bg-gradient-to-br from-amber-600 to-orange-800",rss:Gn.history},{id:"spirituality",name:"Espiritualidad y Filosofa",icon:"sun",color:"bg-gradient-to-br from-violet-500 to-purple-700",rss:Gn.spirituality}],fn=({className:i=""})=>h.jsx("div",{className:`animate-pulse bg-surface-hover rounded-2xl ${i}`}),F_=()=>h.jsxs("div",{className:"bg-surface border border-app rounded-2xl p-4 flex gap-4 items-center",children:[h.jsx(fn,{className:"w-20 h-20 flex-shrink-0"}),h.jsxs("div",{className:"flex-1 space-y-3",children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsx(fn,{className:"h-2 w-12"}),h.jsx(fn,{className:"h-2 w-16"})]}),h.jsx(fn,{className:"h-4 w-full"}),h.jsx(fn,{className:"h-3 w-2/3"})]})]}),QA=()=>h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[1,2,3,4,5,6,7,8].map(i=>h.jsx(fn,{className:"h-40 rounded-[32px]"},i))});var FA=qv();const Rv=({title:i,episodes:n,onClose:a,onSelect:l,emptyMessage:o="No hay episodios aqu.",type:u})=>FA.createPortal(h.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[h.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:a}),h.jsxs("div",{className:"relative w-full max-w-lg bg-surface border border-app rounded-[32px] shadow-2xl overflow-hidden max-h-[80vh] flex flex-col",children:[h.jsxs("div",{className:"p-5 border-b border-app flex items-center justify-between bg-surface sticky top-0 z-10",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center ${u==="history"?"bg-amber-500/10 text-amber-500":"bg-emerald-500/10 text-emerald-500"}`,children:u==="history"?h.jsx(la,{size:20}):h.jsx(E0,{size:20})}),h.jsx("h2",{className:"text-lg font-black text-primary tracking-tight",children:i})]}),h.jsx("button",{onClick:a,className:"p-2 rounded-xl hover:bg-white/5 active:scale-90 transition-all text-muted",children:h.jsx(Sn,{size:20})})]}),h.jsx("div",{className:"overflow-y-auto p-4 space-y-3",children:n.length===0?h.jsxs("div",{className:"py-12 text-center text-muted flex flex-col items-center gap-4",children:[h.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 flex items-center justify-center grayscale opacity-50",children:u==="history"?h.jsx(la,{size:32}):h.jsx(E0,{size:32})}),h.jsx("p",{children:o})]}):n.map(f=>h.jsxs("button",{onClick:()=>l(f),className:"w-full flex items-center gap-4 p-3 rounded-2xl bg-app border border-app hover:border-indigo-500/30 transition-all active:scale-[0.98] group text-left",children:[h.jsxs("div",{className:"relative w-16 h-16 rounded-xl overflow-hidden flex-shrink-0 bg-surface",children:[h.jsx("img",{src:f.image,alt:f.title,className:"w-full h-full object-cover"}),h.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/40 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100",children:h.jsx(ra,{size:20,className:"text-white fill-current"})})]}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h3",{className:"font-bold text-primary text-sm line-clamp-2 leading-tight mb-1",children:f.title}),h.jsx("p",{className:"text-[10px] text-muted font-medium line-clamp-1",children:u==="history"?"Continuar escuchando":"Completado"})]})]},f.guid))})]})]}),document.body),XA=({episode:i,onPlay:n,onClick:a})=>{const{likes:l}=Wo(i.guid),{comments:o}=ec(i.guid);return h.jsx("div",{id:"tour-suggestion",className:"w-full relative h-48 rounded-[40px] shadow-2xl transition-transform active:scale-[0.99] group",children:h.jsxs("button",{onClick:a,className:"w-full h-full relative overflow-hidden rounded-[40px] text-left border border-app",children:[h.jsx("img",{src:i.image,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-105",alt:i.title}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent z-10"}),h.jsxs("div",{className:"relative z-20 h-full p-6 flex flex-col justify-end",children:[h.jsx("div",{className:"flex items-start justify-between mb-auto",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"bg-indigo-600 p-1.5 rounded-lg shadow-lg",children:h.jsx(is,{size:10,className:"text-white"})}),h.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.3em] text-white/90",children:"Sugerencia TEOVOZ"})]})}),h.jsxs("div",{className:"flex items-end justify-between gap-4 mt-2",children:[h.jsxs("div",{className:"flex flex-col gap-2 max-w-[70%]",children:[h.jsx("h3",{className:"text-xl font-black text-white leading-tight line-clamp-2 drop-shadow-md",children:i.title}),h.jsxs("div",{className:"flex items-center gap-3 text-white/80",children:[h.jsxs("div",{className:"flex items-center gap-1 bg-white/10 px-2 py-1 rounded-md backdrop-blur-sm",children:[h.jsx(zo,{size:10,className:"text-white"}),h.jsx("span",{className:"text-[10px] font-bold",children:l})]}),h.jsxs("div",{className:"flex items-center gap-1 bg-white/10 px-2 py-1 rounded-md backdrop-blur-sm",children:[h.jsx(Rl,{size:10,className:"text-white"}),h.jsx("span",{className:"text-[10px] font-bold",children:o.length})]})]})]}),h.jsx("div",{onClick:u=>{u.stopPropagation(),n(u)},className:"bg-white text-indigo-600 p-3.5 rounded-2xl shadow-xl hover:bg-indigo-50 active:scale-95 transition-all flex items-center justify-center cursor-pointer z-30",children:h.jsx(ra,{size:24,fill:"currentColor",className:"ml-0.5"})})]})]})]})})};let oo=[],Ov=null,zv={},Hd=!1;const PA=({onCategorySelect:i,onEpisodeSelect:n,onPlay:a,listenedCount:l,lastPlayed:o,listenedGuids:u,historyGuids:f})=>{const[m,v]=H.useState(Ov),[g,b]=H.useState(zv),[x,_]=H.useState(!1),[N,C]=H.useState(!1),[z,U]=H.useState(()=>{const F=localStorage.getItem("teovoz_total_episodes");return F?parseInt(F,10):0}),[Y,$]=H.useState(!Hd);return H.useEffect(()=>{ie(null,null,function*(){const oe=Ci.filter(te=>te.rss),ue=oe[Math.floor(Math.random()*oe.length)];try{const te=Ci.filter(B=>B.rss);if(te.length===0){$(!1);return}const[X,de]=yield Promise.all([Ni(te[0].rss),Ni(ue.rss||te[0].rss)]);oo=X.episodes;const qe=localStorage.getItem("teovoz_suggestion");let Xe=null;const Oe=Date.now(),be=1440*60*1e3;if(qe){const B=JSON.parse(qe);Oe-B.timestamp<be&&(Xe=B.episode)}if(!Xe&&de.episodes.length>0){const B=de.episodes[Math.floor(Math.random()*de.episodes.length)];B.categoryId=ue.id,Xe=B,localStorage.setItem("teovoz_suggestion",JSON.stringify({episode:B,timestamp:Oe}))}Xe&&(v(Xe),Ov=Xe);const ze={},De=yield Promise.all(oe.map(B=>ie(null,null,function*(){try{const Q=yield Ni(B.rss);return{id:B.id,count:Q.episodes.length,episodes:Q.episodes}}catch(Q){return{id:B.id,count:0,episodes:[]}}})));let ke=0;const O=te[0].id;let V=X.episodes.map(B=>ot(Ne({},B),{categoryId:O}));De.forEach(B=>{ze[B.id]=B.count,ke+=B.count;const Q=B.episodes.map(S=>ot(Ne({},S),{categoryId:B.id}));B.id!==te[0].id&&(V=V.concat(Q))});const J=new Set;oo=V.filter(B=>J.has(B.guid)?!1:(J.add(B.guid),!0)),b(ze),zv=ze,U(ke),localStorage.setItem("teovoz_total_episodes",ke.toString()),Hd=!0}catch(te){console.error("Error loading home data:",te)}finally{$(!1)}})},[]),Y&&!Hd?h.jsxs("div",{className:"py-6 px-6 space-y-8",children:[h.jsx(fn,{className:"w-full h-24 rounded-[28px]"}),h.jsx(QA,{})]}):h.jsxs("div",{className:"py-6",children:[m&&h.jsx("div",{className:"px-6 mb-10",children:h.jsx(XA,{episode:m,onPlay:F=>{F.stopPropagation(),a(m)},onClick:()=>n(m)})}),N&&h.jsx(Rv,{title:"Mi Progreso",type:"progress",episodes:oo.filter(F=>u.has(F.guid)),onClose:()=>C(!1),onSelect:F=>{C(!1),n(F)},emptyMessage:"An no has completado ningn episodio."}),x&&h.jsx(Rv,{title:"Historial",type:"history",episodes:oo.filter(F=>f.has(F.guid)),onClose:()=>_(!1),onSelect:F=>{_(!1),n(F)},emptyMessage:"No tienes episodios pendientes."}),h.jsx("div",{className:"px-6 mb-10",children:h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("button",{id:"tour-progress",onClick:()=>C(!0),className:"bg-surface border-app border rounded-[28px] p-5 flex flex-col gap-3 text-left group",children:[h.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center text-white",children:h.jsx(_S,{size:20})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.2em] text-muted mb-1 leading-none",children:"Mi Progreso"}),h.jsxs("div",{className:"flex items-baseline gap-1",children:[h.jsx("span",{className:"text-2xl font-black text-primary tracking-tighter",children:l}),h.jsx("span",{className:"text-[9px] font-bold text-muted uppercase",children:"Temas"})]})]})]}),h.jsxs("button",{id:"tour-history",onClick:()=>_(!0),className:"bg-surface border-app border rounded-[28px] p-5 flex flex-col gap-3 text-left group",children:[h.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${f.size>0?"bg-amber-500 text-white":"bg-amber-500/10 text-amber-500"}`,children:h.jsx(la,{size:20})}),h.jsxs("div",{className:"truncate w-full",children:[h.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.2em] text-muted mb-1 leading-none",children:"Historial"}),h.jsx("p",{className:"text-[10px] font-bold text-primary truncate tracking-tight",children:f.size>0?`${f.size} Pendientes`:"Ver historial"})]})]})]})}),h.jsx("div",{className:"px-6 mb-5",children:h.jsxs("div",{id:"tour-total",className:"w-full px-4 py-3 bg-indigo-600/10 border border-indigo-600/20 rounded-2xl flex items-center justify-center gap-3 shadow-lg shadow-indigo-600/5",children:[h.jsx("div",{className:"w-2.5 h-2.5 bg-indigo-500 rounded-full animate-pulse shadow-[0_0_10px_rgba(99,102,241,0.6)]"}),h.jsxs("span",{className:"text-xl font-black text-indigo-500 tracking-tighter",children:[z," LIBROS"]})]})}),h.jsx("div",{id:"tour-categories-grid",children:h.jsx(HA,{categories:Ci,onSelect:i,counts:g})})]})},$A=H.memo(({episode:i,onPlay:n,onToggleFavorite:a,isFavorite:l,isListened:o,isActive:u,podcastImage:f,showPodcastTitle:m})=>{const{likes:v}=Wo(i.guid),{comments:g}=ec(i.guid);return h.jsxs("div",{onClick:()=>n(i),className:`group relative bg-surface border border-app hover:border-indigo-500/30 rounded-3xl overflow-hidden transition-all active:scale-[0.98] cursor-pointer flex flex-col h-full shadow-lg shadow-black/20 ${u?"border-indigo-500/50 ring-1 ring-indigo-500/20":""}`,children:[h.jsxs("div",{className:"relative aspect-square w-full overflow-hidden bg-app",children:[h.jsx("img",{src:i.image||f||"",alt:i.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",loading:"lazy"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-black/30 opacity-60 group-hover:opacity-40 transition-opacity"}),h.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1 items-start",children:[o&&h.jsxs("span",{className:"flex items-center gap-1 text-[8px] font-black bg-emerald-500 text-white px-2 py-1 rounded-lg shadow-sm backdrop-blur-sm",children:[h.jsx(Qv,{size:10}),"VISTO"]}),m&&h.jsx("span",{className:"text-[8px] font-black bg-indigo-500/90 text-white px-2 py-1 rounded-lg backdrop-blur-md shadow-sm",children:"PODCAST"}),h.jsxs("div",{className:"flex items-center gap-1",children:[v>0&&h.jsxs("span",{className:"flex items-center gap-0.5 text-[8px] font-black bg-black text-white px-2 py-1 rounded-lg shadow-sm border border-white/10",children:[h.jsx(zo,{size:10,fill:"currentColor"}),v]}),g.length>0&&h.jsxs("span",{className:"flex items-center gap-0.5 text-[8px] font-black bg-black text-white px-2 py-1 rounded-lg shadow-sm border border-white/10",children:[h.jsx(Rl,{size:10,fill:"currentColor"}),g.length]})]})]}),a&&h.jsx("button",{onClick:b=>{b.stopPropagation(),a(i)},className:`absolute top-2 right-2 p-2 rounded-full backdrop-blur-md transition-all ${l?"bg-white text-red-500":"bg-black/30 text-white hover:bg-white/20"}`,children:h.jsx(Ti,{size:14,fill:l?"currentColor":"none"})}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:h.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-3 rounded-full border border-white/30 text-white shadow-xl transform scale-0 group-hover:scale-100 transition-transform",children:h.jsx(ra,{size:24,fill:"currentColor"})})})]}),h.jsxs("div",{className:"p-3 flex-1 flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between text-[9px] text-muted font-bold uppercase tracking-wider mb-2",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(pf,{size:10}),new Date(i.pubDate).toLocaleDateString(void 0,{day:"numeric",month:"short"})]}),i.duration&&h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(la,{size:10}),i.duration]})]}),h.jsx("h3",{className:`font-black text-[11px] uppercase tracking-tight leading-tight mb-1.5 line-clamp-2 ${u?"text-indigo-400":"text-primary"}`,children:i.title}),h.jsx("p",{className:"text-[10px] text-muted/80 leading-relaxed line-clamp-2 mt-auto",children:i.description.replace(/\*\*/g,"")})]})]})}),tc=H.memo(({episodes:i,onPlay:n,onToggleFavorite:a,favorites:l=new Set,listened:o=new Set,currentEpisodeId:u,emptyMessage:f="No hay episodios disponibles.",podcastImage:m,showPodcastTitle:v=!1})=>i.length===0?h.jsx("div",{className:"text-center py-12 text-muted font-medium text-sm",children:h.jsx("p",{children:f})}):h.jsx("div",{className:"grid grid-cols-2 gap-3 pb-32 animate-in fade-in duration-500",children:i.map(g=>h.jsx($A,{episode:g,onPlay:n,onToggleFavorite:a,isFavorite:l.has(g.guid),isListened:o.has(g.guid),isActive:u===g.guid,podcastImage:m,showPodcastTitle:v},g.guid))})),kv=i=>(i||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim(),qd=(i,n)=>{const a=kv(i),l=kv(n);if(a.includes(l))return!0;if(l.length<4)return!1;let o=0,u=0;for(let m=0;m<l.length&&u<a.length;m++)l[m]!==a[u]&&(o++,l[m]===a[u+1]&&u++),u++;const f=l.length>6?2:1;return o<=f},KA=({onEpisodeSelect:i,favorites:n,listened:a})=>{const[l,o]=H.useState(""),[u,f]=H.useState([]),[m,v]=H.useState(!1),[g,b]=H.useState(()=>{const C=localStorage.getItem("teovoz_recent_searches");return C?JSON.parse(C):[]});H.useEffect(()=>{ie(null,null,function*(){v(!0);try{const z=Ci.filter($=>$.rss),Y=(yield Promise.all(z.map($=>Ni($.rss)))).flatMap(($,F)=>$.episodes.map(oe=>ot(Ne({},oe),{contentSnippet:`${oe.contentSnippet||""}|||${$.title}`,categoryId:z[F].id})));f(Y.sort(($,F)=>new Date(F.pubDate).getTime()-new Date($.pubDate).getTime()))}catch(z){console.error(z)}finally{v(!1)}})},[]);const x=C=>{if(o(C),C.length>2&&!g.includes(C)){const z=[C,...g].slice(0,8);b(z),localStorage.setItem("teovoz_recent_searches",JSON.stringify(z))}},_=C=>{const z=g.filter(U=>U!==C);b(z),localStorage.setItem("teovoz_recent_searches",JSON.stringify(z))},N=H.useMemo(()=>!l||l.length<2?u.slice(0,15):u.filter(C=>{const z=qd(C.title,l),U=C.description&&qd(C.description.substring(0,200),l),Y=C.contentSnippet&&qd(C.contentSnippet,l);return z||U||Y}),[l,u]);return h.jsxs("div",{className:"animate-in fade-in duration-300 px-6",children:[h.jsx("div",{className:"sticky top-0 bg-app z-30 py-4 mb-2",children:h.jsxs("div",{className:"relative group",children:[h.jsx(gf,{className:`absolute left-4 top-1/2 -translate-y-1/2 transition-colors ${l?"text-indigo-500":"text-muted"}`,size:20}),h.jsx("input",{type:"text",placeholder:"Libros, autores o temas...",value:l,onChange:C=>o(C.target.value),onBlur:()=>l.length>2&&x(l),onKeyDown:C=>C.key==="Enter"&&x(l),className:"w-full bg-surface border-app border rounded-2xl py-4 pl-12 pr-4 text-primary focus:outline-none focus:border-indigo-500 transition-all shadow-lg shadow-black/10 text-base"}),l&&h.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-2",children:h.jsx("span",{className:"text-[8px] font-black text-indigo-500 uppercase tracking-widest bg-indigo-500/10 px-2 py-1 rounded-md animate-pulse",children:"Bsqueda Inteligente"})})]})}),!l&&g.length>0&&h.jsxs("div",{className:"mb-8 animate-in slide-in-from-top-4 duration-500",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4 px-2",children:[h.jsxs("h3",{className:"text-xs font-black text-muted uppercase tracking-widest flex items-center gap-2",children:[h.jsx(la,{size:12})," Recientes"]}),h.jsx("button",{onClick:()=>{b([]),localStorage.removeItem("teovoz_recent_searches")},className:"text-[10px] text-indigo-400 font-bold hover:text-indigo-300",children:"Borrar todo"})]}),h.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(C=>h.jsxs("button",{onClick:()=>o(C),className:"group flex items-center gap-2 px-3 py-2 bg-surface border border-app rounded-xl text-primary text-sm font-medium hover:bg-app transition-colors",children:[h.jsx("span",{children:C}),h.jsx("div",{onClick:z=>{z.stopPropagation(),_(C)},className:"p-0.5 rounded-full hover:bg-white/10 text-muted",children:h.jsx(Sn,{size:12})})]},C))})]}),m&&u.length===0?h.jsx("div",{className:"space-y-4",children:[1,2,3,4,5,6].map(C=>h.jsx(F_,{},C))}):h.jsxs("div",{className:"relative",children:[l&&N.length>0&&h.jsxs("div",{className:"flex items-center gap-2 mb-4 px-2",children:[h.jsx(is,{size:12,className:"text-indigo-500"}),h.jsxs("p",{className:"text-[10px] font-black text-muted uppercase tracking-widest",children:["Resultados encontrados (",N.length,")"]})]}),h.jsx(tc,{episodes:N,onPlay:i,favorites:n,listened:a,showPodcastTitle:!0,emptyMessage:l?`No encontramos nada parecido a "${l}". Prueba con otra palabra.`:"Cargando biblioteca..."})]})]})},ZA=({episodes:i,onEpisodeSelect:n,favorites:a,listened:l})=>h.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500 px-6",children:[h.jsxs("div",{className:"mb-10 mt-2",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx(Ti,{className:"text-red-500 fill-red-500",size:24}),h.jsx("h2",{className:"text-3xl font-black text-primary uppercase tracking-tighter",children:"Tus Favoritos"})]}),h.jsxs("p",{className:"text-xs text-muted font-bold uppercase tracking-widest",children:[i.length," episodios guardados en tu biblioteca"]})]}),h.jsx(tc,{episodes:i,onPlay:n,favorites:a,listened:l,emptyMessage:"An no tienes episodios favoritos. Explora las categoras para aadir contenido."})]}),Vd=i=>(i||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim(),JA=({category:i,onEpisodeSelect:n,favorites:a,listened:l,currentEpisodeId:o})=>{const[u,f]=H.useState(null),[m,v]=H.useState(!0),[g,b]=H.useState("");H.useEffect(()=>{const _=()=>ie(null,null,function*(){v(!0);try{const N=yield Ni(i.rss);f(N)}catch(N){console.error(N)}finally{v(!1)}});i.rss&&_(),window.scrollTo(0,0)},[i]);const x=H.useMemo(()=>{if(!(u!=null&&u.episodes))return[];if(!g)return u.episodes;const _=Vd(g);return u.episodes.filter(N=>Vd(N.title).includes(_)||Vd(N.description).includes(_))},[u==null?void 0:u.episodes,g]);return h.jsxs("div",{className:"px-6",children:[h.jsxs("div",{className:"mb-6 mt-2",children:[h.jsx("h2",{className:"text-3xl font-black text-primary uppercase tracking-tighter mb-2",children:i.name}),h.jsxs("p",{className:"text-xs text-muted font-bold uppercase tracking-widest",children:[(u==null?void 0:u.episodes.length)||0," Episodios disponibles"]})]}),h.jsxs("div",{className:"relative mb-6",children:[h.jsx(gf,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted",size:18}),h.jsx("input",{type:"text",placeholder:`Buscar en ${i.name}...`,value:g,onChange:_=>b(_.target.value),className:"w-full bg-surface border border-app rounded-2xl py-3 pl-12 pr-4 text-sm text-primary focus:outline-none focus:border-indigo-500 transition-colors"})]}),m?h.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(_=>h.jsx(F_,{},_))}):h.jsx(tc,{episodes:x,onPlay:n,favorites:a,listened:l,currentEpisodeId:o,podcastImage:u==null?void 0:u.image,emptyMessage:g?"No se encontraron resultados.":"No hay episodios disponibles."})]})},WA=({episodeGuid:i,episodeTitle:n})=>{const{comments:a,loading:l,addComment:o}=ec(i),[u,f]=H.useState(""),[m,v]=H.useState(!1),g=x=>ie(null,null,function*(){if(x.preventDefault(),!!u.trim()){v(!0);try{yield o(u.trim(),n),f("")}catch(_){console.error("Error sending comment:",_)}finally{v(!1)}}}),b=x=>new Date(x).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return h.jsxs("div",{className:"w-full max-w-2xl mx-auto mt-12 px-6",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-6 text-primary",children:[h.jsx(Rl,{size:20,className:"text-indigo-500"}),h.jsx("h3",{className:"text-xl font-bold",children:"Comentarios"}),h.jsx("span",{className:"text-sm font-medium text-muted bg-surface px-2 py-0.5 rounded-full border border-app",children:a.length})]}),h.jsxs("form",{onSubmit:g,className:"mb-8 relative",children:[h.jsx("input",{type:"text",value:u,onChange:x=>f(x.target.value),placeholder:"Escribe un comentario annimo...",className:"w-full bg-surface border-app border rounded-2xl py-4 pl-4 pr-12 text-primary focus:outline-none focus:border-indigo-500 transition-all shadow-sm",disabled:m}),h.jsx("button",{type:"submit",disabled:!u.trim()||m,className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-indigo-600 text-white rounded-xl disabled:opacity-50 disabled:bg-surface disabled:text-muted transition-all active:scale-95",children:h.jsx(Pv,{size:16})})]}),h.jsx("div",{className:"space-y-4",children:l?h.jsx("div",{className:"text-center py-8 text-muted text-sm",children:"Cargando comentarios..."}):a.length===0?h.jsx("div",{className:"text-center py-8 text-muted bg-surface/50 rounded-2xl border border-dashed border-app",children:h.jsx("p",{className:"text-sm",children:"S el primero en comentar."})}):a.map(x=>h.jsxs("div",{className:"bg-surface border border-app rounded-2xl p-4 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[h.jsx("p",{className:"text-primary text-sm mb-2 font-medium leading-relaxed",children:x.text}),h.jsxs("div",{className:"flex items-center justify-between text-[10px] text-muted uppercase tracking-wider font-bold",children:[h.jsx("span",{children:x.author}),h.jsx("span",{children:b(x.timestamp)})]})]},x.id))})]})},e3=({episode:i,currentEpisode:n,onPlay:a,favorites:l,onToggleFavorite:o,onOpenDonation:u})=>{const{likes:f,isLiked:m,toggleLike:v}=Wo(i.guid),g=H.useRef(null),b=()=>{var z;(z=g.current)==null||z.scrollIntoView({behavior:"smooth"})};H.useEffect(()=>{window.scrollTo(0,0)},[i]);const x=(n==null?void 0:n.guid)===i.guid,_=l.has(i.guid),N=()=>{const z=i.description.replace(/\*\*/g,""),U=z.length>180?z.substring(0,180)+"...":z,Y="https://teovoz.com/",$={title:`TEOVOZ: ${i.title}`,text:`${i.title}

${U}

Escucha este resumen en TeoVoz:`,url:Y};if(navigator.share)navigator.share($).catch(console.error);else{const F=encodeURIComponent(` ${$.title}

 ${U}

 Escchalo aqu:
${Y}`);window.open(`https://api.whatsapp.com/send?text=${F}`,"_blank")}},C=z=>z.split("**").map((U,Y)=>Y%2===1?h.jsx("strong",{className:"text-indigo-400 font-bold",children:U},Y):U);return h.jsxs("div",{className:"pb-32 relative",children:[h.jsxs("div",{className:"relative w-full h-[400px] sm:h-[480px] overflow-hidden mb-8",children:[h.jsx("img",{src:i.image,className:"w-full h-full object-fill",alt:i.title}),h.jsx("div",{className:"absolute inset-0 z-20 bg-gradient-to-t from-app via-transparent to-transparent opacity-90"}),h.jsx("div",{className:"absolute inset-0 z-20 bg-gradient-to-b from-black/30 via-transparent to-transparent"}),h.jsx("div",{className:"absolute inset-0 z-30 flex items-center justify-center",children:h.jsx("button",{onClick:()=>a(i),className:`w-28 h-28 rounded-full border border-white/20 flex items-center justify-center text-white shadow-[0_0_60px_rgba(0,0,0,0.5)] transition-all ${x?"bg-indigo-600 ring-4 ring-indigo-600/20":"bg-black/40 opacity-95"}`,children:h.jsx(ra,{size:44,fill:"currentColor",className:"ml-1.5 drop-shadow-[0_4px_12px_rgba(0,0,0,0.5)]"})})})]}),h.jsxs("div",{className:"px-6 flex flex-col items-center",children:[h.jsxs("div",{className:"flex items-center justify-center gap-3 mb-8 relative z-30 w-full flex-wrap sm:flex-nowrap",children:[h.jsxs("button",{onClick:()=>v(i.title),className:`flex flex-col items-center gap-1 p-3 rounded-xl min-w-[72px] transition-all active:scale-95 ${m?"bg-indigo-600 text-white shadow-lg shadow-indigo-600/20":"bg-surface border border-app text-muted hover:text-primary"}`,children:[h.jsxs("div",{className:"relative",children:[h.jsx(zo,{size:20,fill:m?"currentColor":"none"}),f>0&&h.jsx("span",{className:"absolute -top-2 -right-3 bg-app text-[8px] px-1.5 py-0.5 rounded-full border border-surface",children:f})]}),h.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest mt-1",children:m?"GUSTADO":"ME GUSTA"})]}),h.jsxs("button",{onClick:u,className:"flex flex-col items-center gap-1 p-3 rounded-xl min-w-[72px] bg-orange-500 text-white shadow-lg shadow-orange-500/20 active:scale-95 transition-all",children:[h.jsx(ho,{size:20,fill:"currentColor"}),h.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest mt-1",children:"DONAR"})]}),h.jsxs("button",{onClick:()=>o(i),className:`flex flex-col items-center gap-1 p-3 rounded-xl min-w-[72px] transition-all active:scale-95 ${_?"bg-red-500 text-white shadow-lg shadow-red-500/20":"bg-surface border border-app text-muted hover:text-primary"}`,children:[h.jsx(Ti,{size:20,fill:_?"currentColor":"none"}),h.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest mt-1",children:_?"GUARDADO":"GUARDAR"})]}),h.jsxs("button",{onClick:N,className:"flex flex-col items-center gap-1 p-3 rounded-xl min-w-[72px] bg-surface border border-app text-muted hover:text-primary active:scale-95 transition-all",children:[h.jsx(hl,{size:20}),h.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest mt-1",children:"SHARE"})]})]}),h.jsxs("button",{onClick:b,className:"w-full mb-8 py-3.5 rounded-2xl bg-surface border border-app text-primary font-black text-[10px] uppercase tracking-widest shadow-lg active:scale-[0.98] transition-all flex items-center justify-center gap-2 hover:bg-app",children:[h.jsx(Rl,{size:16,className:"text-indigo-500"}),"Agregar Comentario"]}),h.jsxs("div",{className:"w-full max-w-2xl text-center relative z-20",children:[h.jsx("h2",{className:"text-4xl font-black text-primary mb-8 leading-tight tracking-tighter drop-shadow-sm",children:i.title}),h.jsx("div",{className:"text-left bg-surface p-8 rounded-[40px] border border-app text-muted text-base leading-relaxed whitespace-pre-line font-medium shadow-inner",children:C(i.description)})]}),h.jsx("div",{ref:g,className:"w-full scroll-mt-24",children:h.jsx(WA,{episodeGuid:i.guid,episodeTitle:i.title})})]})]})},t3=()=>(H.useEffect(()=>{window.scrollTo(0,0)},[window.location.pathname]),null),n3=()=>h.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500 px-6 pb-20 py-6 max-w-2xl mx-auto",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[h.jsx("button",{onClick:()=>window.history.back(),className:"w-10 h-10 bg-surface rounded-full flex items-center justify-center border border-app text-primary hover:bg-surface-hover transition-colors",children:h.jsx(Gv,{size:20})}),h.jsx("h1",{className:"text-2xl font-black text-primary tracking-tight",children:"Poltica de Privacidad"})]}),h.jsxs("div",{className:"bg-surface rounded-[32px] border border-app p-8 shadow-xl space-y-8",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center gap-2 text-indigo-500 mb-2",children:[h.jsx(GS,{size:20}),h.jsx("span",{className:"font-black uppercase text-[10px] tracking-widest",children:"Proteccin de Datos"})]}),h.jsx("p",{className:"text-muted text-xs font-bold uppercase tracking-wider",children:"ltima actualizacin: 25 de diciembre de 2025"})]}),h.jsxs("section",{className:"space-y-4",children:[h.jsx("h2",{className:"text-lg font-bold text-primary",children:"1. Introduccin"}),h.jsx("p",{className:"text-muted text-sm leading-relaxed",children:"Bienvenido a TeoVoz. En MigoCreativo, nos comprometemos a proteger su privacidad. Esta Poltica de Privacidad explica cmo recopilamos, usamos, divulgamos y salvaguardamos su informacin cuando visita nuestra aplicacin mvil TeoVoz."}),h.jsx("p",{className:"text-muted text-sm leading-relaxed italic",children:"Por favor, lea esta poltica de privacidad cuidadosamente. Si no est de acuerdo con los trminos de esta poltica de privacidad, no acceda a la aplicacin."})]}),h.jsxs("section",{className:"space-y-4",children:[h.jsx("h2",{className:"text-lg font-bold text-primary",children:"2. Recopilacin de su Informacin"}),h.jsx("p",{className:"text-muted text-sm leading-relaxed",children:"Podemos recopilar informacin sobre usted de varias maneras. La informacin que podemos recopilar a travs de la Aplicacin depende del contenido y los materiales que utilice, e incluye:"}),h.jsxs("div",{className:"space-y-4 mt-4",children:[h.jsxs("div",{className:"bg-app/50 p-4 rounded-2xl border border-app",children:[h.jsx("h3",{className:"text-primary font-bold text-sm mb-2",children:"A. Datos Personales"}),h.jsx("p",{className:"text-muted text-xs leading-relaxed",children:'Informacin de identificacin personal, como su nombre, direccin de correo electrnico y contrasea, que nos proporciona voluntariamente cuando se registra en la Aplicacin para crear una cuenta. Esta informacin es necesaria para guardar su progreso de lectura, sus listas de favoritos ("Mi Biblioteca") y sus preferencias personales.'})]}),h.jsxs("div",{className:"bg-app/50 p-4 rounded-2xl border border-app",children:[h.jsx("h3",{className:"text-primary font-bold text-sm mb-2",children:"B. Datos Derivados"}),h.jsx("p",{className:"text-muted text-xs leading-relaxed",children:"La informacin que nuestros servidores recopilan automticamente cuando accede a la Aplicacin, como su tipo de dispositivo, su sistema operativo, su direccin IP y tiempos de acceso."})]}),h.jsxs("div",{className:"bg-app/50 p-4 rounded-2xl border border-app",children:[h.jsx("h3",{className:"text-primary font-bold text-sm mb-2",children:"C. Datos de la Aplicacin Mvil"}),h.jsxs("p",{className:"text-muted text-xs leading-relaxed",children:["Informacin sobre el uso de la aplicacin, incluyendo:",h.jsxs("ul",{className:"list-disc ml-4 mt-2 space-y-1",children:[h.jsx("li",{children:"Historial de Reproduccin: Qu libros ha escuchado y su progreso."}),h.jsx("li",{children:'Interacciones: Libros guardados, valoraciones y "Retos TeoVoz" completados.'})]})]})]})]})]}),h.jsxs("section",{className:"space-y-4",children:[h.jsx("h2",{className:"text-lg font-bold text-primary",children:"3. Uso de su Informacin"}),h.jsx("p",{className:"text-muted text-sm leading-relaxed",children:"Tener informacin precisa sobre usted nos permite ofrecerle una experiencia fluida, eficiente y personalizada. Especficamente, podemos utilizar la informacin recopilada sobre usted a travs de la Aplicacin para:"}),h.jsxs("ul",{className:"list-disc ml-6 text-muted text-sm space-y-2",children:[h.jsx("li",{children:"Crear y administrar su cuenta."}),h.jsx("li",{children:"Personalizar su experiencia y recomendar libros basados en sus intereses (ej. Productividad, Espiritualidad)."}),h.jsx("li",{children:"Enviarle notificaciones sobre actualizaciones de la aplicacin o nuevos resmenes aadidos."}),h.jsx("li",{children:"Monitorizar y analizar el uso y las tendencias para mejorar su experiencia con la Aplicacin."}),h.jsx("li",{children:"Prevenir transacciones fraudulentas y monitorear contra el robo y proteger contra actividades delictivas."})]})]}),h.jsxs("section",{className:"space-y-4",children:[h.jsx("h2",{className:"text-lg font-bold text-primary",children:"4. Divulgacin de su Informacin"}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-muted text-sm leading-relaxed",children:"Podemos compartir informacin que hemos recopilado sobre usted en ciertas situaciones:"}),h.jsxs("div",{className:"grid gap-3",children:[h.jsxs("div",{className:"border border-app p-4 rounded-2xl",children:[h.jsx("p",{className:"text-primary font-bold text-xs mb-1",children:"Por Ley o para Proteger Derechos"}),h.jsx("p",{className:"text-muted text-xs",children:"Si creemos que la divulgacin es necesaria para responder a un proceso legal o para investigar violaciones de nuestras polticas."})]}),h.jsxs("div",{className:"border border-app p-4 rounded-2xl",children:[h.jsx("p",{className:"text-primary font-bold text-xs mb-1",children:"Proveedores de Servicios Externos"}),h.jsx("p",{className:"text-muted text-xs",children:"Podemos compartir su informacin con terceros que realizan servicios como anlisis de datos (Google Analytics/Firebase) y alojamiento."})]})]})]})]}),h.jsxs("section",{className:"space-y-4",children:[h.jsx("h2",{className:"text-lg font-bold text-primary",children:"5. Seguridad de su Informacin"}),h.jsx("p",{className:"text-muted text-sm leading-relaxed",children:"Utilizamos medidas de seguridad administrativas, tcnicas y fsicas para ayudar a proteger su informacin personal. Aunque hemos tomado medidas razonables, ninguna medida de seguridad es impenetrable y ninguna transmisin de datos puede garantizarse contra intercepcin."})]}),h.jsxs("section",{className:"space-y-4",children:[h.jsx("h2",{className:"text-lg font-bold text-primary",children:"6. Poltica para Nios"}),h.jsx("p",{className:"text-muted text-sm leading-relaxed",children:"No solicitamos informacin a menores de 13 aos a sabiendas ni comercializamos con ellos. Si tiene conocimiento de que hemos recopilado datos de un menor de 13 aos, pngase en contacto con nosotros."})]}),h.jsxs("section",{className:"space-y-4",children:[h.jsx("h2",{className:"text-lg font-bold text-primary",children:"7. Opciones sobre su Informacin"}),h.jsx("p",{className:"text-muted text-sm leading-relaxed font-bold",children:"Informacin de la Cuenta"}),h.jsx("p",{className:"text-muted text-sm leading-relaxed",children:"En cualquier momento puede revisar o cambiar la informacin en su cuenta o cancelar su cuenta contactndonos usando la informacin de contacto proporcionada."})]}),h.jsxs("section",{className:"space-y-4 border-t border-app pt-8",children:[h.jsx("h2",{className:"text-lg font-bold text-primary",children:"8. Contacto"}),h.jsxs("div",{className:"bg-indigo-500/5 border border-indigo-500/20 p-6 rounded-3xl",children:[h.jsx("p",{className:"text-indigo-500 font-black text-sm mb-1",children:"MigoCreativo"}),h.jsx("p",{className:"text-muted text-sm",children:"Desarrollador"}),h.jsx("a",{href:"mailto:Migocreativo.com@gmail.com",className:"text-primary font-bold text-sm block mt-4 hover:text-indigo-500 transition-colors",children:"Migocreativo.com@gmail.com"})]})]})]}),h.jsx("div",{className:"text-center pt-10",children:h.jsx("p",{className:"text-[10px] text-muted font-black uppercase tracking-[0.2em]",children:" 2025 TeoVoz por MigoCreativo"})})]}),i3=({onComplete:i})=>{const[n,a]=H.useState(null),[l,o]=H.useState(!1),[u,f]=H.useState(!1);H.useEffect(()=>{const g=window.navigator.userAgent.toLowerCase();o(/iphone|ipad|ipod/.test(g));const b=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone;f(b);const x=_=>{_.preventDefault(),a(_)};return window.addEventListener("beforeinstallprompt",x),()=>window.removeEventListener("beforeinstallprompt",x)},[]);const m=()=>ie(null,null,function*(){if(!n)return;n.prompt();const{outcome:g}=yield n.userChoice;g==="accepted"&&a(null)}),v=()=>ie(null,null,function*(){const g={title:"TeoVoz",text:"Descubre TeoVoz: Resmenes de libros en 15 minutos.",url:window.location.origin};if(navigator.share)try{yield navigator.share(g)}catch(b){console.log("Share canceled")}else navigator.clipboard.writeText(`${g.text} ${g.url}`),alert("Enlace copiado al portapapeles")});return h.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:h.jsxs("div",{className:"bg-surface border border-app rounded-[32px] w-full max-w-sm flex flex-col shadow-2xl relative overflow-hidden",children:[h.jsxs("div",{className:"relative h-40 bg-gradient-to-br from-indigo-900 to-purple-900 flex flex-col items-center justify-center text-center p-6",children:[h.jsx("div",{className:"absolute inset-0 bg-[url('/Logo%20PNG.png')] bg-center bg-cover opacity-10 blur-sm"}),h.jsx("div",{className:"relative z-10 p-3 bg-surface/20 backdrop-blur-md rounded-2xl mb-3 shadow-xl border border-white/10",children:h.jsx(Yd,{size:32,className:"text-yellow-400 fill-yellow-400"})}),h.jsx("h2",{className:"relative z-10 text-2xl font-black text-white tracking-tight leading-none",children:"TeoVoz"}),h.jsx("p",{className:"relative z-10 text-[10px] text-white/70 uppercase tracking-widest font-bold mt-1",children:"Conocimiento en Audio"})]}),h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsx("div",{className:"text-center space-y-2",children:h.jsx("p",{className:"text-sm text-muted font-medium leading-relaxed",children:"Accede a cientos de resmenes de libros. Aprende, crece y mejora tu vida en minutos."})}),!u&&h.jsx("div",{className:"bg-surface/50 border border-app rounded-xl p-4",children:l?h.jsxs("div",{className:"space-y-3",children:[h.jsxs("h3",{className:"text-xs font-bold text-primary flex items-center gap-2",children:[h.jsx("div",{className:"p-1 bg-white/10 rounded-md",children:h.jsx(hl,{size:12})}),"Instalar en iPhone/iPad"]}),h.jsxs("div",{className:"text-[11px] text-muted leading-snug space-y-1",children:[h.jsxs("p",{children:["1. Toca el botn ",h.jsx("strong",{children:"Compartir"})," ",h.jsx("span",{className:"inline-block align-middle",children:h.jsx(hl,{size:10})})," abajo en safari."]}),h.jsxs("p",{children:["2. Selecciona ",h.jsx("strong",{children:'"Agregar al Inicio"'})," ",h.jsx("span",{className:"inline-block align-middle border border-white/20 rounded-[2px] w-3 h-3 text-[8px] leading-3 text-center",children:"+"})]})]})]}):n?h.jsxs("button",{onClick:m,className:"w-full py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl font-bold text-sm shadow-lg shadow-emerald-900/20 active:scale-95 transition-all flex items-center justify-center gap-2",children:[h.jsx(Yd,{size:16,fill:"currentColor"})," Instalar Aplicacin"]}):h.jsx("p",{className:"text-[10px] text-center text-muted",children:"Aade TeoVoz a tu pantalla de inicio para la mejor experiencia."})}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("button",{onClick:v,className:"flex flex-col items-center justify-center gap-2 p-3 rounded-2xl bg-surface border border-app hover:bg-white/5 transition-colors group",children:[h.jsx(hl,{size:20,className:"text-indigo-400 group-hover:scale-110 transition-transform"}),h.jsx("span",{className:"text-xs font-bold text-muted",children:"Compartir"})]}),h.jsxs("button",{onClick:i,className:"flex flex-col items-center justify-center gap-2 p-3 rounded-2xl bg-indigo-600 text-white hover:bg-indigo-700 shadow-lg shadow-indigo-600/20 transition-all active:scale-95",children:[h.jsx(rS,{size:20,className:"stroke-[3]"}),h.jsx("span",{className:"text-xs font-bold",children:"Comenzar"})]})]})]})]})})},s3=({newEpisodes:i,onClose:n,onView:a})=>{if(i.length===0)return null;const l=i.length,o=i[0],u=o.pubDate?new Date(o.pubDate).toLocaleDateString("es-ES",{day:"numeric",month:"short"}):null;return h.jsx("div",{className:"fixed top-20 left-4 right-4 z-[200] animate-in slide-in-from-top-4 duration-500",children:h.jsxs("div",{className:"bg-zinc-900 border border-indigo-500/30 shadow-2xl shadow-indigo-500/20 rounded-2xl p-3 flex items-start gap-4",children:[h.jsx("div",{className:"shrink-0",children:o.image?h.jsxs("div",{className:"relative",children:[h.jsx("img",{src:o.image,alt:o.title,className:"w-16 h-16 rounded-xl object-cover shadow-md border border-white/10"}),h.jsx("div",{className:"absolute -bottom-1 -right-1 bg-indigo-500 rounded-full p-1 shadow-sm border border-zinc-900",children:h.jsx(is,{size:10,className:"text-white"})})]}):h.jsx("div",{className:"w-16 h-16 bg-indigo-500 rounded-xl flex items-center justify-center shadow-lg shadow-indigo-500/40 animate-pulse",children:h.jsx(is,{size:24,className:"text-white"})})}),h.jsxs("div",{className:"flex-1 min-w-0 py-0.5",children:[h.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-indigo-400 mb-1",children:l===1?"Nuevo Episodio Disponible!":`${l} Nuevos Episodios!`}),h.jsx("h3",{className:"text-sm font-bold text-white leading-tight line-clamp-2 mb-2",children:l===1?o.title:"Hay nuevos episodios esperando por ti."}),l===1&&h.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-zinc-400",children:[u&&h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(pf,{size:10}),u]}),o.duration&&h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(la,{size:10}),o.duration]})]})]}),h.jsxs("div",{className:"flex flex-col gap-2 pt-0.5",children:[h.jsx("button",{onClick:n,className:"self-end p-1.5 text-zinc-400 hover:text-white transition-colors",children:h.jsx(Sn,{size:16})}),h.jsx("button",{onClick:()=>{l>1,a(o)},className:"bg-indigo-600 text-white px-3 py-1.5 rounded-lg text-[10px] font-bold uppercase tracking-wide hover:bg-indigo-700 active:scale-95 transition-all shadow-lg shadow-indigo-900/20",children:"Escuchar"})]})]})})},a3=({onClose:i,onEpisodeSelect:n})=>{const[a,l]=H.useState([]),[o,u]=H.useState(!0);H.useEffect(()=>{ie(null,null,function*(){try{const v=Ci.filter(_=>_.rss),g=yield Promise.all(v.map(_=>Ni(_.rss).catch(()=>null)));let b=[];g.forEach(_=>{_&&(b=[...b,..._.episodes.slice(0,10)])}),b.sort((_,N)=>new Date(N.pubDate).getTime()-new Date(_.pubDate).getTime());const x=Array.from(new Map(b.map(_=>[_.guid,_])).values());l(x.slice(0,15))}catch(v){console.error("Error loading new episodes:",v)}finally{u(!1)}})},[]);const f=new Date().toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"});return h.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:h.jsxs("div",{className:"bg-surface border border-app w-full max-w-lg max-h-[85vh] rounded-3xl flex flex-col shadow-2xl animate-in zoom-in-95 duration-300",children:[h.jsxs("div",{className:"p-6 border-b border-app flex items-start justify-between bg-surface rounded-t-3xl",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 text-indigo-500 mb-2",children:[h.jsx(is,{size:20,className:"animate-pulse"}),h.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Novedades Diarias"})]}),h.jsx("h2",{className:"text-2xl font-black text-primary tracking-tighter uppercase leading-none",children:"Lo Nuevo de Hoy"}),h.jsxs("p",{className:"text-xs text-muted mt-1 font-medium capitalize flex items-center gap-1",children:[h.jsx(pf,{size:12})," ",f]})]}),h.jsx("button",{onClick:i,className:"p-2 rounded-xl bg-app border border-app text-muted hover:text-primary active:scale-95 transition-all",children:h.jsx(Sn,{size:20})})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-0",children:o?h.jsx("div",{className:"p-6 space-y-4",children:[1,2,3].map(m=>h.jsx(fn,{className:"h-24 w-full rounded-2xl"},m))}):a.length>0?h.jsx("div",{className:"pb-6",children:h.jsx(tc,{episodes:a,onPlay:m=>{n(m),i()},favorites:new Set,listened:new Set,showPodcastTitle:!0})}):h.jsx("div",{className:"p-12 text-center text-muted",children:h.jsx("p",{className:"text-sm",children:"No se encontraron nuevos episodios hoy."})})}),h.jsx("div",{className:"p-4 border-t border-app bg-surface rounded-b-3xl",children:h.jsx("button",{onClick:i,className:"w-full py-4 bg-indigo-600 text-white rounded-2xl font-black uppercase tracking-widest text-xs active:scale-95 transition-transform shadow-lg shadow-indigo-600/20",children:"Entendido"})})]})})};let hf={},X_;function Gd(i={}){hf=Ne({animate:!0,allowClose:!0,overlayClickBehavior:"close",overlayOpacity:.7,smoothScroll:!1,disableActiveInteraction:!1,showProgress:!1,stagePadding:10,stageRadius:5,popoverOffset:10,showButtons:["next","previous","close"],disableButtons:[],overlayColor:"#000"},i)}function Z(i){return i?hf[i]:hf}function l3(i){X_=i}function Xt(){return X_}let Mo={};function co(i,n){Mo[i]=n}function ns(i){var n;(n=Mo[i])==null||n.call(Mo)}function r3(){Mo={}}function uo(i,n,a,l){return(i/=l/2)<1?a/2*i*i+n:-a/2*(--i*(i-2)-1)+n}function P_(i){const n='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])';return i.flatMap(a=>{const l=a.matches(n),o=Array.from(a.querySelectorAll(n));return[...l?[a]:[],...o]}).filter(a=>getComputedStyle(a).pointerEvents!=="none"&&u3(a))}function $_(i){if(!i||c3(i))return;const n=Z("smoothScroll"),a=i.offsetHeight>window.innerHeight;i.scrollIntoView({behavior:!n||o3(i)?"auto":"smooth",inline:"center",block:a?"start":"center"})}function o3(i){if(!i||!i.parentElement)return;const n=i.parentElement;return n.scrollHeight>n.clientHeight}function c3(i){const n=i.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)}function u3(i){return!!(i.offsetWidth||i.offsetHeight||i.getClientRects().length)}let Ro={};function ht(i,n){Ro[i]=n}function ee(i){return i?Ro[i]:Ro}function Iv(){Ro={}}function d3(i,n,a,l){let o=ee("__activeStagePosition");const u=o||a.getBoundingClientRect(),f=l.getBoundingClientRect(),m=uo(i,u.x,f.x-u.x,n),v=uo(i,u.y,f.y-u.y,n),g=uo(i,u.width,f.width-u.width,n),b=uo(i,u.height,f.height-u.height,n);o={x:m,y:v,width:g,height:b},Z_(o),ht("__activeStagePosition",o)}function K_(i){if(!i)return;const n=i.getBoundingClientRect(),a={x:n.x,y:n.y,width:n.width,height:n.height};ht("__activeStagePosition",a),Z_(a)}function f3(){const i=ee("__activeStagePosition"),n=ee("__overlaySvg");if(!i)return;if(!n){console.warn("No stage svg found.");return}const a=window.innerWidth,l=window.innerHeight;n.setAttribute("viewBox",`0 0 ${a} ${l}`)}function h3(i){const n=m3(i);document.body.appendChild(n),e1(n,a=>{a.target.tagName==="path"&&ns("overlayClick")}),ht("__overlaySvg",n)}function Z_(i){const n=ee("__overlaySvg");if(!n){h3(i);return}const a=n.firstElementChild;if((a==null?void 0:a.tagName)!=="path")throw new Error("no path element found in stage svg");a.setAttribute("d",J_(i))}function m3(i){const n=window.innerWidth,a=window.innerHeight,l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.classList.add("driver-overlay","driver-overlay-animated"),l.setAttribute("viewBox",`0 0 ${n} ${a}`),l.setAttribute("xmlSpace","preserve"),l.setAttribute("xmlnsXlink","http://www.w3.org/1999/xlink"),l.setAttribute("version","1.1"),l.setAttribute("preserveAspectRatio","xMinYMin slice"),l.style.fillRule="evenodd",l.style.clipRule="evenodd",l.style.strokeLinejoin="round",l.style.strokeMiterlimit="2",l.style.zIndex="10000",l.style.position="fixed",l.style.top="0",l.style.left="0",l.style.width="100%",l.style.height="100%";const o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("d",J_(i)),o.style.fill=Z("overlayColor")||"rgb(0,0,0)",o.style.opacity=`${Z("overlayOpacity")}`,o.style.pointerEvents="auto",o.style.cursor="auto",l.appendChild(o),l}function J_(i){const n=window.innerWidth,a=window.innerHeight,l=Z("stagePadding")||0,o=Z("stageRadius")||0,u=i.width+l*2,f=i.height+l*2,m=Math.min(o,u/2,f/2),v=Math.floor(Math.max(m,0)),g=i.x-l+v,b=i.y-l,x=u-v*2,_=f-v*2;return`M${n},0L0,0L0,${a}L${n},${a}L${n},0Z
    M${g},${b} h${x} a${v},${v} 0 0 1 ${v},${v} v${_} a${v},${v} 0 0 1 -${v},${v} h-${x} a${v},${v} 0 0 1 -${v},-${v} v-${_} a${v},${v} 0 0 1 ${v},-${v} z`}function p3(){const i=ee("__overlaySvg");i&&i.remove()}function g3(){const i=document.getElementById("driver-dummy-element");if(i)return i;let n=document.createElement("div");return n.id="driver-dummy-element",n.style.width="0",n.style.height="0",n.style.pointerEvents="none",n.style.opacity="0",n.style.position="fixed",n.style.top="50%",n.style.left="50%",document.body.appendChild(n),n}function Lv(i){const{element:n}=i;let a=typeof n=="function"?n():typeof n=="string"?document.querySelector(n):n;a||(a=g3()),y3(a,i)}function v3(){const i=ee("__activeElement"),n=ee("__activeStep");i&&(K_(i),f3(),n1(i,n))}function y3(i,n){var a;const l=Date.now(),o=ee("__activeStep"),u=ee("__activeElement")||i,f=!u||u===i,m=i.id==="driver-dummy-element",v=u.id==="driver-dummy-element",g=Z("animate"),b=n.onHighlightStarted||Z("onHighlightStarted"),x=(n==null?void 0:n.onHighlighted)||Z("onHighlighted"),_=(o==null?void 0:o.onDeselected)||Z("onDeselected"),N=Z(),C=ee();!f&&_&&_(v?void 0:u,o,{config:N,state:C,driver:Xt()}),b&&b(m?void 0:i,n,{config:N,state:C,driver:Xt()});const z=!f&&g;let U=!1;w3(),ht("previousStep",o),ht("previousElement",u),ht("activeStep",n),ht("activeElement",i);const Y=()=>{if(ee("__transitionCallback")!==Y)return;const $=Date.now()-l,F=400-$<=400/2;n.popover&&F&&!U&&z&&(Uv(i,n),U=!0),Z("animate")&&$<400?d3($,400,u,i):(K_(i),x&&x(m?void 0:i,n,{config:Z(),state:ee(),driver:Xt()}),ht("__transitionCallback",void 0),ht("__previousStep",o),ht("__previousElement",u),ht("__activeStep",n),ht("__activeElement",i)),window.requestAnimationFrame(Y)};ht("__transitionCallback",Y),window.requestAnimationFrame(Y),$_(i),!z&&n.popover&&Uv(i,n),u.classList.remove("driver-active-element","driver-no-interaction"),u.removeAttribute("aria-haspopup"),u.removeAttribute("aria-expanded"),u.removeAttribute("aria-controls"),((a=n.disableActiveInteraction)!=null?a:Z("disableActiveInteraction"))&&i.classList.add("driver-no-interaction"),i.classList.add("driver-active-element"),i.setAttribute("aria-haspopup","dialog"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-controls","driver-popover-content")}function _3(){var i;(i=document.getElementById("driver-dummy-element"))==null||i.remove(),document.querySelectorAll(".driver-active-element").forEach(n=>{n.classList.remove("driver-active-element","driver-no-interaction"),n.removeAttribute("aria-haspopup"),n.removeAttribute("aria-expanded"),n.removeAttribute("aria-controls")})}function Ml(){const i=ee("__resizeTimeout");i&&window.cancelAnimationFrame(i),ht("__resizeTimeout",window.requestAnimationFrame(v3))}function x3(i){var n;if(!ee("isInitialized")||!(i.key==="Tab"||i.keyCode===9))return;const a=ee("__activeElement"),l=(n=ee("popover"))==null?void 0:n.wrapper,o=P_([...l?[l]:[],...a?[a]:[]]),u=o[0],f=o[o.length-1];if(i.preventDefault(),i.shiftKey){const m=o[o.indexOf(document.activeElement)-1]||f;m==null||m.focus()}else{const m=o[o.indexOf(document.activeElement)+1]||u;m==null||m.focus()}}function W_(i){var n;((n=Z("allowKeyboardControl"))==null||n)&&(i.key==="Escape"?ns("escapePress"):i.key==="ArrowRight"?ns("arrowRightPress"):i.key==="ArrowLeft"&&ns("arrowLeftPress"))}function e1(i,n,a){const l=(o,u)=>{const f=o.target;i.contains(f)&&((!a||a(f))&&(o.preventDefault(),o.stopPropagation(),o.stopImmediatePropagation()),u==null||u(o))};document.addEventListener("pointerdown",l,!0),document.addEventListener("mousedown",l,!0),document.addEventListener("pointerup",l,!0),document.addEventListener("mouseup",l,!0),document.addEventListener("click",o=>{l(o,n)},!0)}function b3(){window.addEventListener("keyup",W_,!1),window.addEventListener("keydown",x3,!1),window.addEventListener("resize",Ml),window.addEventListener("scroll",Ml)}function S3(){window.removeEventListener("keyup",W_),window.removeEventListener("resize",Ml),window.removeEventListener("scroll",Ml)}function w3(){const i=ee("popover");i&&(i.wrapper.style.display="none")}function Uv(i,n){var a,l;let o=ee("popover");o&&document.body.removeChild(o.wrapper),o=N3(),document.body.appendChild(o.wrapper);const{title:u,description:f,showButtons:m,disableButtons:v,showProgress:g,nextBtnText:b=Z("nextBtnText")||"Next &rarr;",prevBtnText:x=Z("prevBtnText")||"&larr; Previous",progressText:_=Z("progressText")||"{current} of {total}"}=n.popover||{};o.nextButton.innerHTML=b,o.previousButton.innerHTML=x,o.progress.innerHTML=_,u?(o.title.innerHTML=u,o.title.style.display="block"):o.title.style.display="none",f?(o.description.innerHTML=f,o.description.style.display="block"):o.description.style.display="none";const N=m||Z("showButtons"),C=g||Z("showProgress")||!1,z=(N==null?void 0:N.includes("next"))||(N==null?void 0:N.includes("previous"))||C;o.closeButton.style.display=N.includes("close")?"block":"none",z?(o.footer.style.display="flex",o.progress.style.display=C?"block":"none",o.nextButton.style.display=N.includes("next")?"block":"none",o.previousButton.style.display=N.includes("previous")?"block":"none"):o.footer.style.display="none";const U=v||Z("disableButtons")||[];U!=null&&U.includes("next")&&(o.nextButton.disabled=!0,o.nextButton.classList.add("driver-popover-btn-disabled")),U!=null&&U.includes("previous")&&(o.previousButton.disabled=!0,o.previousButton.classList.add("driver-popover-btn-disabled")),U!=null&&U.includes("close")&&(o.closeButton.disabled=!0,o.closeButton.classList.add("driver-popover-btn-disabled"));const Y=o.wrapper;Y.style.display="block",Y.style.left="",Y.style.top="",Y.style.bottom="",Y.style.right="",Y.id="driver-popover-content",Y.setAttribute("role","dialog"),Y.setAttribute("aria-labelledby","driver-popover-title"),Y.setAttribute("aria-describedby","driver-popover-description");const $=o.arrow;$.className="driver-popover-arrow";const F=((a=n.popover)==null?void 0:a.popoverClass)||Z("popoverClass")||"";Y.className=`driver-popover ${F}`.trim(),e1(o.wrapper,X=>{var de,qe,Xe;const Oe=X.target,be=((de=n.popover)==null?void 0:de.onNextClick)||Z("onNextClick"),ze=((qe=n.popover)==null?void 0:qe.onPrevClick)||Z("onPrevClick"),De=((Xe=n.popover)==null?void 0:Xe.onCloseClick)||Z("onCloseClick");if(Oe.closest(".driver-popover-next-btn"))return be?be(i,n,{config:Z(),state:ee(),driver:Xt()}):ns("nextClick");if(Oe.closest(".driver-popover-prev-btn"))return ze?ze(i,n,{config:Z(),state:ee(),driver:Xt()}):ns("prevClick");if(Oe.closest(".driver-popover-close-btn"))return De?De(i,n,{config:Z(),state:ee(),driver:Xt()}):ns("closeClick")},X=>!(o!=null&&o.description.contains(X))&&!(o!=null&&o.title.contains(X))&&typeof X.className=="string"&&X.className.includes("driver-popover")),ht("popover",o);const oe=((l=n.popover)==null?void 0:l.onPopoverRender)||Z("onPopoverRender");oe&&oe(o,{config:Z(),state:ee(),driver:Xt()}),n1(i,n),$_(Y);const ue=i.classList.contains("driver-dummy-element"),te=P_([Y,...ue?[]:[i]]);te.length>0&&te[0].focus()}function t1(){const i=ee("popover");if(!(i!=null&&i.wrapper))return;const n=i.wrapper.getBoundingClientRect(),a=Z("stagePadding")||0,l=Z("popoverOffset")||0;return{width:n.width+a+l,height:n.height+a+l,realWidth:n.width,realHeight:n.height}}function Bv(i,n){const{elementDimensions:a,popoverDimensions:l,popoverPadding:o,popoverArrowDimensions:u}=n;return i==="start"?Math.max(Math.min(a.top-o,window.innerHeight-l.realHeight-u.width),u.width):i==="end"?Math.max(Math.min(a.top-(l==null?void 0:l.realHeight)+a.height+o,window.innerHeight-(l==null?void 0:l.realHeight)-u.width),u.width):i==="center"?Math.max(Math.min(a.top+a.height/2-(l==null?void 0:l.realHeight)/2,window.innerHeight-(l==null?void 0:l.realHeight)-u.width),u.width):0}function Hv(i,n){const{elementDimensions:a,popoverDimensions:l,popoverPadding:o,popoverArrowDimensions:u}=n;return i==="start"?Math.max(Math.min(a.left-o,window.innerWidth-l.realWidth-u.width),u.width):i==="end"?Math.max(Math.min(a.left-(l==null?void 0:l.realWidth)+a.width+o,window.innerWidth-(l==null?void 0:l.realWidth)-u.width),u.width):i==="center"?Math.max(Math.min(a.left+a.width/2-(l==null?void 0:l.realWidth)/2,window.innerWidth-(l==null?void 0:l.realWidth)-u.width),u.width):0}function n1(i,n){const a=ee("popover");if(!a)return;const{align:l="start",side:o="left"}=(n==null?void 0:n.popover)||{},u=l,f=i.id==="driver-dummy-element"?"over":o,m=Z("stagePadding")||0,v=t1(),g=a.arrow.getBoundingClientRect(),b=i.getBoundingClientRect(),x=b.top-v.height;let _=x>=0;const N=window.innerHeight-(b.bottom+v.height);let C=N>=0;const z=b.left-v.width;let U=z>=0;const Y=window.innerWidth-(b.right+v.width);let $=Y>=0;const F=!_&&!C&&!U&&!$;let oe=f;if(f==="top"&&_?$=U=C=!1:f==="bottom"&&C?$=U=_=!1:f==="left"&&U?$=_=C=!1:f==="right"&&$&&(U=_=C=!1),f==="over"){const ue=window.innerWidth/2-v.realWidth/2,te=window.innerHeight/2-v.realHeight/2;a.wrapper.style.left=`${ue}px`,a.wrapper.style.right="auto",a.wrapper.style.top=`${te}px`,a.wrapper.style.bottom="auto"}else if(F){const ue=window.innerWidth/2-(v==null?void 0:v.realWidth)/2,te=10;a.wrapper.style.left=`${ue}px`,a.wrapper.style.right="auto",a.wrapper.style.bottom=`${te}px`,a.wrapper.style.top="auto"}else if(U){const ue=Math.min(z,window.innerWidth-(v==null?void 0:v.realWidth)-g.width),te=Bv(u,{elementDimensions:b,popoverDimensions:v,popoverPadding:m,popoverArrowDimensions:g});a.wrapper.style.left=`${ue}px`,a.wrapper.style.top=`${te}px`,a.wrapper.style.bottom="auto",a.wrapper.style.right="auto",oe="left"}else if($){const ue=Math.min(Y,window.innerWidth-(v==null?void 0:v.realWidth)-g.width),te=Bv(u,{elementDimensions:b,popoverDimensions:v,popoverPadding:m,popoverArrowDimensions:g});a.wrapper.style.right=`${ue}px`,a.wrapper.style.top=`${te}px`,a.wrapper.style.bottom="auto",a.wrapper.style.left="auto",oe="right"}else if(_){const ue=Math.min(x,window.innerHeight-v.realHeight-g.width);let te=Hv(u,{elementDimensions:b,popoverDimensions:v,popoverPadding:m,popoverArrowDimensions:g});a.wrapper.style.top=`${ue}px`,a.wrapper.style.left=`${te}px`,a.wrapper.style.bottom="auto",a.wrapper.style.right="auto",oe="top"}else if(C){const ue=Math.min(N,window.innerHeight-(v==null?void 0:v.realHeight)-g.width);let te=Hv(u,{elementDimensions:b,popoverDimensions:v,popoverPadding:m,popoverArrowDimensions:g});a.wrapper.style.left=`${te}px`,a.wrapper.style.bottom=`${ue}px`,a.wrapper.style.top="auto",a.wrapper.style.right="auto",oe="bottom"}F?a.arrow.classList.add("driver-popover-arrow-none"):E3(u,oe,i)}function E3(i,n,a){const l=ee("popover");if(!l)return;const o=a.getBoundingClientRect(),u=t1(),f=l.arrow,m=u.width,v=window.innerWidth,g=o.width,b=o.left,x=u.height,_=window.innerHeight,N=o.top,C=o.height;f.className="driver-popover-arrow";let z=n,U=i;if(n==="top"?(b+g<=0?(z="right",U="end"):b+g-m<=0&&(z="top",U="start"),b>=v?(z="left",U="end"):b+m>=v&&(z="top",U="end")):n==="bottom"?(b+g<=0?(z="right",U="start"):b+g-m<=0&&(z="bottom",U="start"),b>=v?(z="left",U="start"):b+m>=v&&(z="bottom",U="end")):n==="left"?(N+C<=0?(z="bottom",U="end"):N+C-x<=0&&(z="left",U="start"),N>=_?(z="top",U="end"):N+x>=_&&(z="left",U="end")):n==="right"&&(N+C<=0?(z="bottom",U="start"):N+C-x<=0&&(z="right",U="start"),N>=_?(z="top",U="start"):N+x>=_&&(z="right",U="end")),!z)f.classList.add("driver-popover-arrow-none");else{f.classList.add(`driver-popover-arrow-side-${z}`),f.classList.add(`driver-popover-arrow-align-${U}`);const Y=a.getBoundingClientRect(),$=f.getBoundingClientRect(),F=Z("stagePadding")||0,oe=Y.left-F<window.innerWidth&&Y.right+F>0&&Y.top-F<window.innerHeight&&Y.bottom+F>0;n==="bottom"&&oe&&($.x>Y.x&&$.x+$.width<Y.x+Y.width?l.wrapper.style.transform="translateY(0)":(f.classList.remove(`driver-popover-arrow-align-${U}`),f.classList.add("driver-popover-arrow-none"),l.wrapper.style.transform=`translateY(-${F/2}px)`))}}function N3(){const i=document.createElement("div");i.classList.add("driver-popover");const n=document.createElement("div");n.classList.add("driver-popover-arrow");const a=document.createElement("header");a.id="driver-popover-title",a.classList.add("driver-popover-title"),a.style.display="none",a.innerText="Popover Title";const l=document.createElement("div");l.id="driver-popover-description",l.classList.add("driver-popover-description"),l.style.display="none",l.innerText="Popover description is here";const o=document.createElement("button");o.type="button",o.classList.add("driver-popover-close-btn"),o.setAttribute("aria-label","Close"),o.innerHTML="&times;";const u=document.createElement("footer");u.classList.add("driver-popover-footer");const f=document.createElement("span");f.classList.add("driver-popover-progress-text"),f.innerText="";const m=document.createElement("span");m.classList.add("driver-popover-navigation-btns");const v=document.createElement("button");v.type="button",v.classList.add("driver-popover-prev-btn"),v.innerHTML="&larr; Previous";const g=document.createElement("button");return g.type="button",g.classList.add("driver-popover-next-btn"),g.innerHTML="Next &rarr;",m.appendChild(v),m.appendChild(g),u.appendChild(f),u.appendChild(m),i.appendChild(o),i.appendChild(n),i.appendChild(a),i.appendChild(l),i.appendChild(u),{wrapper:i,arrow:n,title:a,description:l,footer:u,previousButton:v,nextButton:g,closeButton:o,footerButtons:m,progress:f}}function C3(){var i;const n=ee("popover");n&&((i=n.wrapper.parentElement)==null||i.removeChild(n.wrapper))}function T3(i={}){Gd(i);function n(){Z("allowClose")&&b()}function a(){const _=Z("overlayClickBehavior");if(Z("allowClose")&&_==="close"){b();return}if(typeof _=="function"){const N=ee("__activeStep"),C=ee("__activeElement");_(C,N,{config:Z(),state:ee(),driver:Xt()});return}_==="nextStep"&&l()}function l(){const _=ee("activeIndex"),N=Z("steps")||[];if(typeof _=="undefined")return;const C=_+1;N[C]?g(C):b()}function o(){const _=ee("activeIndex"),N=Z("steps")||[];if(typeof _=="undefined")return;const C=_-1;N[C]?g(C):b()}function u(_){(Z("steps")||[])[_]?g(_):b()}function f(){var _;if(ee("__transitionCallback"))return;const N=ee("activeIndex"),C=ee("__activeStep"),z=ee("__activeElement");if(typeof N=="undefined"||typeof C=="undefined"||typeof ee("activeIndex")=="undefined")return;const U=((_=C.popover)==null?void 0:_.onPrevClick)||Z("onPrevClick");if(U)return U(z,C,{config:Z(),state:ee(),driver:Xt()});o()}function m(){var _;if(ee("__transitionCallback"))return;const N=ee("activeIndex"),C=ee("__activeStep"),z=ee("__activeElement");if(typeof N=="undefined"||typeof C=="undefined")return;const U=((_=C.popover)==null?void 0:_.onNextClick)||Z("onNextClick");if(U)return U(z,C,{config:Z(),state:ee(),driver:Xt()});l()}function v(){ee("isInitialized")||(ht("isInitialized",!0),document.body.classList.add("driver-active",Z("animate")?"driver-fade":"driver-simple"),b3(),co("overlayClick",a),co("escapePress",n),co("arrowLeftPress",f),co("arrowRightPress",m))}function g(_=0){var N,C,z,U,Y,$,F,oe;const ue=Z("steps");if(!ue){console.error("No steps to drive through"),b();return}if(!ue[_]){b();return}ht("__activeOnDestroyed",document.activeElement),ht("activeIndex",_);const te=ue[_],X=ue[_+1],de=ue[_-1],qe=((N=te.popover)==null?void 0:N.doneBtnText)||Z("doneBtnText")||"Done",Xe=Z("allowClose"),Oe=typeof((C=te.popover)==null?void 0:C.showProgress)!="undefined"?(z=te.popover)==null?void 0:z.showProgress:Z("showProgress"),be=(((U=te.popover)==null?void 0:U.progressText)||Z("progressText")||"{{current}} of {{total}}").replace("{{current}}",`${_+1}`).replace("{{total}}",`${ue.length}`),ze=((Y=te.popover)==null?void 0:Y.showButtons)||Z("showButtons"),De=["next","previous",...Xe?["close"]:[]].filter(J=>!(ze!=null&&ze.length)||ze.includes(J)),ke=(($=te.popover)==null?void 0:$.onNextClick)||Z("onNextClick"),O=((F=te.popover)==null?void 0:F.onPrevClick)||Z("onPrevClick"),V=((oe=te.popover)==null?void 0:oe.onCloseClick)||Z("onCloseClick");Lv(ot(Ne({},te),{popover:Ne({showButtons:De,nextBtnText:X?void 0:qe,disableButtons:[...de?[]:["previous"]],showProgress:Oe,progressText:be,onNextClick:ke||(()=>{X?g(_+1):b()}),onPrevClick:O||(()=>{g(_-1)}),onCloseClick:V||(()=>{b()})},(te==null?void 0:te.popover)||{})}))}function b(_=!0){const N=ee("__activeElement"),C=ee("__activeStep"),z=ee("__activeOnDestroyed"),U=Z("onDestroyStarted");if(_&&U){const F=!N||(N==null?void 0:N.id)==="driver-dummy-element";U(F?void 0:N,C,{config:Z(),state:ee(),driver:Xt()});return}const Y=(C==null?void 0:C.onDeselected)||Z("onDeselected"),$=Z("onDestroyed");if(document.body.classList.remove("driver-active","driver-fade","driver-simple"),S3(),C3(),_3(),p3(),r3(),Iv(),N&&C){const F=N.id==="driver-dummy-element";Y&&Y(F?void 0:N,C,{config:Z(),state:ee(),driver:Xt()}),$&&$(F?void 0:N,C,{config:Z(),state:ee(),driver:Xt()})}z&&z.focus()}const x={isActive:()=>ee("isInitialized")||!1,refresh:Ml,drive:(_=0)=>{v(),g(_)},setConfig:Gd,setSteps:_=>{Iv(),Gd(ot(Ne({},Z()),{steps:_}))},getConfig:Z,getState:ee,getActiveIndex:()=>ee("activeIndex"),isFirstStep:()=>ee("activeIndex")===0,isLastStep:()=>{const _=Z("steps")||[],N=ee("activeIndex");return N!==void 0&&N===_.length-1},getActiveStep:()=>ee("activeStep"),getActiveElement:()=>ee("activeElement"),getPreviousElement:()=>ee("previousElement"),getPreviousStep:()=>ee("previousStep"),moveNext:l,movePrevious:o,moveTo:u,hasNextStep:()=>{const _=Z("steps")||[],N=ee("activeIndex");return N!==void 0&&!!_[N+1]},hasPreviousStep:()=>{const _=Z("steps")||[],N=ee("activeIndex");return N!==void 0&&!!_[N-1]},highlight:_=>{v(),Lv(ot(Ne({},_),{popover:_.popover?Ne({showButtons:[],showProgress:!1,progressText:""},_.popover):void 0}))},destroy:()=>{b(!1)}};return l3(x),x}const A3=()=>({startTour:n=>{T3({showProgress:!0,animate:!0,doneBtnText:"Listo!",nextBtnText:"Siguiente",prevBtnText:"Atrs",onDestroyed:()=>{window.scrollTo({top:0,behavior:"smooth"}),n&&n()},steps:[{element:"#tour-suggestion",popover:{title:"Sugerencia TeoVoz",description:"Aqu aparecern los episodios que te recomienda TeoVoz especialmente para ti.",side:"bottom",align:"start"}},{element:"#tour-progress",popover:{title:"Mi Progreso",description:"Aqu vers tu avance y los episodios que has completado.",side:"bottom",align:"start"}},{element:"#tour-history",popover:{title:"Historial",description:"Encuentra aqu los episodios que dejaste a medias para continuarlos fcilmente.",side:"bottom",align:"start"}},{element:"#tour-total",popover:{title:"Biblioteca",description:"Esta es la cantidad total de libros disponibles actualmente en la plataforma.",side:"top",align:"center"}},{element:"#tour-category-requests",popover:{title:"Lo Nuevo y Pedidos",description:"Aqu encontrars los libros que han sido pedidos por ti u otros usuarios.",side:"top",align:"start"}},{element:"#tour-categories-grid",popover:{title:"Categoras",description:"Explora nuestra coleccin organizada en 8 categoras diferentes.",side:"top",align:"center"}},{element:"#tour-nav-search",popover:{title:"Buscar",description:"Encuentra rpidamente cualquier libro por ttulo o autor.",side:"top",align:"center"}},{element:"#tour-nav-favorites",popover:{title:"Favoritos",description:"Tus episodios guardados estarn aqu para acceso rpido.",side:"top",align:"center"}},{element:"#tour-nav-daily",popover:{title:"Lo Nuevo",description:"Descubre los ltimos episodios que se han subido a la plataforma.",side:"top",align:"center"}},{element:"#tour-nav-share",popover:{title:"Compartir",description:"Invita a tus amigos a usar TeoVoz.",side:"top",align:"center"}},{element:"#tour-header-donate",popover:{title:"Donaciones",description:"TeoVoz es gratis y sin publicidad. Funcionamos gracias a tu apoyo voluntario.",side:"bottom",align:"center"}},{element:"#tour-header-request",popover:{title:"Pedir Libros",description:"No encuentras un libro? Pdelo aqu.",side:"bottom",align:"center"}},{element:"#tour-header-themes",popover:{title:"Temas",description:"Personaliza los colores de la aplicacin a tu gusto.",side:"bottom",align:"center"}},{element:"#tour-header-info",popover:{title:"Informacin",description:"Conoce ms acerca de TeoVoz y nuestros trminos.",side:"bottom",align:"center"}}]}).drive()}});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(i=>{console.log("SW registered: ",i)}).catch(i=>{console.log("SW registration failed: ",i)})});const We={getItem:i=>{try{return localStorage.getItem(i)}catch(n){return console.warn(`Error reading ${i} from localStorage:`,n),null}},setItem:(i,n)=>{try{localStorage.setItem(i,n)}catch(a){console.warn(`Error writing ${i} to localStorage:`,a)}}};class j3 extends Oo.Component{constructor(n){super(n),this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,a){console.error("Uncaught error:",n,a)}render(){var n;return this.state.hasError?h.jsxs("div",{className:"p-8 text-white min-h-screen bg-slate-900 flex flex-col items-center justify-center text-center",children:[h.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Algo sali mal"}),h.jsx("p",{className:"mb-4 text-slate-400",children:"Hubo un error al cargar la aplicacin."}),h.jsx("pre",{className:"bg-slate-800 p-4 rounded text-xs text-left overflow-auto max-w-full mb-6",children:(n=this.state.error)==null?void 0:n.toString()}),h.jsx("button",{onClick:()=>{localStorage.clear(),window.location.reload()},className:"px-6 py-3 bg-indigo-600 rounded-xl font-bold",children:"Borrar cach y recargar"})]}):this.props.children}}const D3=()=>{const[i,n]=H.useState(window.location.pathname),[a,l]=H.useState(()=>!We.getItem("teovoz_has_onboarded")),[o,u]=H.useState(null),[f,m]=H.useState(()=>JSON.parse(We.getItem("teovoz_last_played")||"null")),[v,g]=H.useState(new URLSearchParams(window.location.search)),[b,x]=H.useState(()=>new Set(JSON.parse(We.getItem("teovoz_listened")||"[]"))),[_,N]=H.useState(()=>new Set(JSON.parse(We.getItem("teovoz_history_started")||"[]"))),[C,z]=H.useState(()=>JSON.parse(We.getItem("teovoz_favorites")||"[]")),U=new Set(C.map(B=>B.guid)),[Y,$]=H.useState(!1),{startTour:F}=A3(),[oe,ue]=H.useState(!1),te=B=>{if(u(B),m(B),We.setItem("teovoz_last_played",JSON.stringify(B)),!_.has(B.guid)&&!b.has(B.guid)){const Q=new Set(_).add(B.guid);N(Q)}};H.useEffect(()=>{!a&&!We.getItem("teovoz_tour_completed")&&setTimeout(()=>{ue(!0),F(()=>{ue(!1),We.setItem("teovoz_tour_completed","true")})},1e3)},[a]);const[X,de]=H.useState([]),qe=Oo.useRef(new Set(JSON.parse(We.getItem("teovoz_known_guids")||"[]")));H.useEffect(()=>{const B=()=>ie(null,null,function*(){const S=Ci.filter(M=>M.rss);if(S.length!==0)try{const M=yield Promise.all(S.map(ce=>Ni(ce.rss).catch(()=>null))),q=[];M.forEach((ce,lt)=>{if(ce){const $e=S[lt].id;ce.episodes.forEach(Mi=>{q.push(ot(Ne({},Mi),{categoryId:$e}))})}}),q.sort((ce,lt)=>new Date(lt.pubDate).getTime()-new Date(ce.pubDate).getTime());const P=[],ae=qe.current;let pe=!1;if(ae.size===0&&q.length>0){q.forEach(ce=>ae.add(ce.guid)),We.setItem("teovoz_known_guids",JSON.stringify(Array.from(ae)));return}q.forEach(ce=>{ae.has(ce.guid)||(P.push(ce),ae.add(ce.guid),pe=!0)}),pe&&We.setItem("teovoz_known_guids",JSON.stringify(Array.from(ae))),P.length>0&&de(ce=>[...P,...ce])}catch(M){console.error("Polling error:",M)}}),Q=setInterval(B,1e4);return B(),()=>clearInterval(Q)},[]);const[Xe,Oe]=H.useState(!1);H.useEffect(()=>{const B=We.getItem("teovoz_last_daily_check"),Q=Date.now(),S=1440*60*1e3;if(!B||Q-parseInt(B)>S){const M=setTimeout(()=>{We.getItem("teovoz_has_onboarded")&&!oe&&Oe(!0)},1e3);return()=>clearTimeout(M)}},[a,oe]);const be=B=>{const Q=U.has(B.guid);let S;Q?S=C.filter(M=>M.guid!==B.guid):S=[...C,B],z(S),We.setItem("teovoz_favorites",JSON.stringify(S))};H.useEffect(()=>{We.setItem("teovoz_history_started",JSON.stringify(Array.from(_)))},[_]),H.useEffect(()=>{o&&(m(o),We.setItem("teovoz_last_played",JSON.stringify(o)))},[o]),H.useEffect(()=>{const B=()=>{n(window.location.pathname),g(new URLSearchParams(window.location.search))};return window.addEventListener("popstate",B),()=>window.removeEventListener("popstate",B)},[]);const ze=B=>{window.history.pushState({},"",B),n(window.location.pathname),g(new URLSearchParams(window.location.search))},De=(B,Q,S=!1)=>{const M=Q||B.categoryId,q=ot(Ne({},B),{categoryId:M});We.setItem("teovoz_viewing_episode",JSON.stringify(q));const P=`episode.html?guid=${encodeURIComponent(B.guid)}${M?`&cat=${M}`:""}`;S?window.open(P,"_blank"):ze(P)},ke=B=>{if(!b.has(B)){const Q=new Set(b).add(B);x(Q),We.setItem("teovoz_listened",JSON.stringify(Array.from(Q)))}if(_.has(B)){const Q=new Set(_);Q.delete(B),N(Q)}},O=B=>{if(!b.has(B)&&!_.has(B)){const Q=new Set(_).add(B);N(Q)}},V=()=>{const B=i.split("/").pop()||"index.html";if(B==="episode.html"||v.get("guid")){const M=v.get("guid"),q=v.get("cat");return h.jsx(M3,{guid:M,catId:q,setCurrentEpisode:u,currentEpisode:o,favorites:U,onToggleFavorite:be,onOpenDonation:()=>$(!0)})}if(B==="index.html"||B==="")return h.jsx(PA,{onCategorySelect:M=>ze(`${M.id}.html`),onEpisodeSelect:M=>De(M),onPlay:te,listenedCount:b.size,listenedGuids:b,historyGuids:_,lastPlayed:f});if(B==="search.html")return h.jsx(KA,{onEpisodeSelect:M=>De(M),favorites:U,listened:b});if(B==="favorites.html")return h.jsx(ZA,{episodes:C,onEpisodeSelect:M=>De(M),favorites:U,listened:b});if(B==="privacy.html")return h.jsx(n3,{});const Q=B.replace(".html",""),S=Ci.find(M=>M.id===Q);return S?h.jsx(JA,{category:S,onEpisodeSelect:M=>De(M,Q,!1),favorites:U,listened:b}):h.jsx("div",{className:"p-20 text-center",children:"Pgina no encontrada"})},J=()=>{const B=i.split("/").pop()||"index.html";return B==="search.html"?"search":B==="favorites.html"?"favorites":"home"};return h.jsxs(UA,{activeTab:J(),currentEpisode:o,onEpisodeChange:u,onEpisodeComplete:ke,onEpisodeStart:O,onEpisodeClick:B=>De(B),onOpenDailyModal:()=>Oe(!0),onOpenDonation:()=>$(!0),showDonationModal:Y,onCloseDonation:()=>$(!1),children:[h.jsx(t3,{}),a&&h.jsx(i3,{onComplete:()=>{We.setItem("teovoz_has_onboarded","true"),l(!1),ue(!0),F(()=>{ue(!1),We.setItem("teovoz_tour_completed","true")})}}),h.jsx(s3,{newEpisodes:X,onClose:()=>de([]),onView:B=>{de([]),De(B)}}),!a&&Xe&&h.jsx(a3,{onClose:()=>{Oe(!1),We.setItem("teovoz_last_daily_check",Date.now().toString())},onEpisodeSelect:B=>De(B)}),h.jsx(H.Suspense,{fallback:h.jsx("div",{className:"p-6",children:h.jsx(fn,{className:"h-40 rounded-3xl"})}),children:h.jsx("div",{className:"view-transition",children:V()},i)})]})},M3=({guid:i,catId:n,setCurrentEpisode:a,currentEpisode:l,favorites:o,onToggleFavorite:u,onOpenDonation:f})=>{const[m,v]=H.useState(null),[g,b]=H.useState(!0),[x,_]=H.useState(null);return H.useEffect(()=>{ie(null,null,function*(){if(!i){_("Episodio no vlido"),b(!1);return}const C=We.getItem("teovoz_viewing_episode");if(C){const U=JSON.parse(C);if(U.guid===i){v(U),b(!1);return}}if(!n){_("Falta categora"),b(!1);return}const z=Ci.find(U=>U.id===n);if(!(z!=null&&z.rss)){_("No hay contenido"),b(!1);return}try{const Y=(yield Ni(z.rss)).episodes.find($=>$.guid===i);Y?(Y.categoryId=n,v(Y)):_("No encontrado")}catch(U){_("Error de carga")}finally{b(!1)}})},[i,n]),g?h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsx(fn,{className:"h-64 rounded-[40px]"}),h.jsx(fn,{className:"h-10 w-3/4"})]}):x?h.jsx("div",{className:"text-center py-20",children:x}):m?h.jsx(e3,{episode:m,currentEpisode:l,onPlay:a,favorites:o,onToggleFavorite:u,onOpenDonation:f}):null};Bb.createRoot(document.getElementById("root")).render(h.jsx(Oo.StrictMode,{children:h.jsx(j3,{children:h.jsx(D3,{})})}))});export default R3();
