import{r,j as e,E as p,b as u,R as f,d as g,a as h}from"./Skeleton-D6L119bm.js";import{E as j}from"./EpisodeList-Nt5RJi41.js";import{f as E,C as S}from"./rss-BJXZhmeK.js";const y=({category:t,onEpisodeSelect:o,favorites:n,listened:i,currentEpisodeId:a})=>{const[s,m]=r.useState(null),[x,d]=r.useState(!0);return r.useEffect(()=>{const l=async()=>{d(!0);try{const c=await E(t.rss);m(c)}catch(c){console.error(c)}finally{d(!1)}};t.rss&&l()},[t]),e.jsxs("div",{className:"animate-in fade-in slide-in-from-right duration-300 px-6",children:[e.jsxs("div",{className:"mb-8 mt-2",children:[e.jsx("h2",{className:"text-3xl font-black text-primary uppercase tracking-tighter mb-2",children:t.name}),e.jsxs("p",{className:"text-xs text-muted font-bold uppercase tracking-widest",children:[(s==null?void 0:s.episodes.length)||0," Episodios disponibles"]})]}),x?e.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(l=>e.jsx(p,{},l))}):e.jsx(j,{episodes:(s==null?void 0:s.episodes)||[],onPlay:o,favorites:n,listened:i,currentEpisodeId:a,podcastImage:s==null?void 0:s.image})]})},v=({categoryId:t})=>{const o=S.find(a=>a.id===t),n=new Set(JSON.parse(localStorage.getItem("teovoz_favorites")||"[]").map(a=>a.guid)),i=new Set(JSON.parse(localStorage.getItem("teovoz_listened")||"[]"));return o?e.jsx(g,{activeTab:"home",children:e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"p-6",children:e.jsx(h,{className:"h-40 rounded-3xl"})}),children:e.jsx(y,{category:o,onEpisodeSelect:a=>{console.log("Play episode",a)},favorites:n,listened:i})})}):e.jsx("div",{children:"CategorÃ­a no encontrada"})},C=t=>{u.createRoot(document.getElementById("root")).render(e.jsx(f.StrictMode,{children:e.jsx(v,{categoryId:t})}))};export{C as m};
