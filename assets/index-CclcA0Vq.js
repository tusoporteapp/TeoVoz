var yb=e=>{throw TypeError(e)};var zg=(e,t,n)=>t.has(e)||yb("Cannot "+n);var F=(e,t,n)=>(zg(e,t,"read from private field"),n?n.call(e):t.get(e)),Et=(e,t,n)=>t.has(e)?yb("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ft=(e,t,n,s)=>(zg(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),qt=(e,t,n)=>(zg(e,t,"access private method"),n);var ud=(e,t,n,s)=>({set _(a){ft(e,t,a,n)},get _(){return F(e,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function yx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Bg={exports:{}},bc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vb;function oD(){if(vb)return bc;vb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:e,type:s,key:c,ref:a!==void 0?a:null,props:l}}return bc.Fragment=t,bc.jsx=n,bc.jsxs=n,bc}var _b;function lD(){return _b||(_b=1,Bg.exports=oD()),Bg.exports}var S=lD(),Fg={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tb;function uD(){if(Tb)return xt;Tb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),T=Symbol.iterator;function A(B){return B===null||typeof B!="object"?null:(B=T&&B[T]||B["@@iterator"],typeof B=="function"?B:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function j(B,rt,ct){this.props=B,this.context=rt,this.refs=D,this.updater=ct||M}j.prototype.isReactComponent={},j.prototype.setState=function(B,rt){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,rt,"setState")},j.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function q(){}q.prototype=j.prototype;function U(B,rt,ct){this.props=B,this.context=rt,this.refs=D,this.updater=ct||M}var st=U.prototype=new q;st.constructor=U,C(st,j.prototype),st.isPureReactComponent=!0;var W=Array.isArray;function ot(){}var I={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function N(B,rt,ct){var mt=ct.ref;return{$$typeof:e,type:B,key:rt,ref:mt!==void 0?mt:null,props:ct}}function k(B,rt){return N(B.type,rt,B.props)}function P(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function H(B){var rt={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ct){return rt[ct]})}var V=/\/+/g;function ae(B,rt){return typeof B=="object"&&B!==null&&B.key!=null?H(""+B.key):rt.toString(36)}function _e(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(ot,ot):(B.status="pending",B.then(function(rt){B.status==="pending"&&(B.status="fulfilled",B.value=rt)},function(rt){B.status==="pending"&&(B.status="rejected",B.reason=rt)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function tt(B,rt,ct,mt,At){var Nt=typeof B;(Nt==="undefined"||Nt==="boolean")&&(B=null);var Gt=!1;if(B===null)Gt=!0;else switch(Nt){case"bigint":case"string":case"number":Gt=!0;break;case"object":switch(B.$$typeof){case e:case t:Gt=!0;break;case y:return Gt=B._init,tt(Gt(B._payload),rt,ct,mt,At)}}if(Gt)return At=At(B),Gt=mt===""?"."+ae(B,0):mt,W(At)?(ct="",Gt!=null&&(ct=Gt.replace(V,"$&/")+"/"),tt(At,rt,ct,"",function(ga){return ga})):At!=null&&(P(At)&&(At=k(At,ct+(At.key==null||B&&B.key===At.key?"":(""+At.key).replace(V,"$&/")+"/")+Gt)),rt.push(At)),1;Gt=0;var He=mt===""?".":mt+":";if(W(B))for(var fe=0;fe<B.length;fe++)mt=B[fe],Nt=He+ae(mt,fe),Gt+=tt(mt,rt,ct,Nt,At);else if(fe=A(B),typeof fe=="function")for(B=fe.call(B),fe=0;!(mt=B.next()).done;)mt=mt.value,Nt=He+ae(mt,fe++),Gt+=tt(mt,rt,ct,Nt,At);else if(Nt==="object"){if(typeof B.then=="function")return tt(_e(B),rt,ct,mt,At);throw rt=String(B),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return Gt}function lt(B,rt,ct){if(B==null)return B;var mt=[],At=0;return tt(B,mt,"","",function(Nt){return rt.call(ct,Nt,At++)}),mt}function pt(B){if(B._status===-1){var rt=B._result;rt=rt(),rt.then(function(ct){(B._status===0||B._status===-1)&&(B._status=1,B._result=ct)},function(ct){(B._status===0||B._status===-1)&&(B._status=2,B._result=ct)}),B._status===-1&&(B._status=0,B._result=rt)}if(B._status===1)return B._result.default;throw B._result}var Mt=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},kt={map:lt,forEach:function(B,rt,ct){lt(B,function(){rt.apply(this,arguments)},ct)},count:function(B){var rt=0;return lt(B,function(){rt++}),rt},toArray:function(B){return lt(B,function(rt){return rt})||[]},only:function(B){if(!P(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return xt.Activity=v,xt.Children=kt,xt.Component=j,xt.Fragment=n,xt.Profiler=a,xt.PureComponent=U,xt.StrictMode=s,xt.Suspense=d,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,xt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return I.H.useMemoCache(B)}},xt.cache=function(B){return function(){return B.apply(null,arguments)}},xt.cacheSignal=function(){return null},xt.cloneElement=function(B,rt,ct){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var mt=C({},B.props),At=B.key;if(rt!=null)for(Nt in rt.key!==void 0&&(At=""+rt.key),rt)!x.call(rt,Nt)||Nt==="key"||Nt==="__self"||Nt==="__source"||Nt==="ref"&&rt.ref===void 0||(mt[Nt]=rt[Nt]);var Nt=arguments.length-2;if(Nt===1)mt.children=ct;else if(1<Nt){for(var Gt=Array(Nt),He=0;He<Nt;He++)Gt[He]=arguments[He+2];mt.children=Gt}return N(B.type,At,mt)},xt.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},xt.createElement=function(B,rt,ct){var mt,At={},Nt=null;if(rt!=null)for(mt in rt.key!==void 0&&(Nt=""+rt.key),rt)x.call(rt,mt)&&mt!=="key"&&mt!=="__self"&&mt!=="__source"&&(At[mt]=rt[mt]);var Gt=arguments.length-2;if(Gt===1)At.children=ct;else if(1<Gt){for(var He=Array(Gt),fe=0;fe<Gt;fe++)He[fe]=arguments[fe+2];At.children=He}if(B&&B.defaultProps)for(mt in Gt=B.defaultProps,Gt)At[mt]===void 0&&(At[mt]=Gt[mt]);return N(B,Nt,At)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(B){return{$$typeof:h,render:B}},xt.isValidElement=P,xt.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:pt}},xt.memo=function(B,rt){return{$$typeof:p,type:B,compare:rt===void 0?null:rt}},xt.startTransition=function(B){var rt=I.T,ct={};I.T=ct;try{var mt=B(),At=I.S;At!==null&&At(ct,mt),typeof mt=="object"&&mt!==null&&typeof mt.then=="function"&&mt.then(ot,Mt)}catch(Nt){Mt(Nt)}finally{rt!==null&&ct.types!==null&&(rt.types=ct.types),I.T=rt}},xt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},xt.use=function(B){return I.H.use(B)},xt.useActionState=function(B,rt,ct){return I.H.useActionState(B,rt,ct)},xt.useCallback=function(B,rt){return I.H.useCallback(B,rt)},xt.useContext=function(B){return I.H.useContext(B)},xt.useDebugValue=function(){},xt.useDeferredValue=function(B,rt){return I.H.useDeferredValue(B,rt)},xt.useEffect=function(B,rt){return I.H.useEffect(B,rt)},xt.useEffectEvent=function(B){return I.H.useEffectEvent(B)},xt.useId=function(){return I.H.useId()},xt.useImperativeHandle=function(B,rt,ct){return I.H.useImperativeHandle(B,rt,ct)},xt.useInsertionEffect=function(B,rt){return I.H.useInsertionEffect(B,rt)},xt.useLayoutEffect=function(B,rt){return I.H.useLayoutEffect(B,rt)},xt.useMemo=function(B,rt){return I.H.useMemo(B,rt)},xt.useOptimistic=function(B,rt){return I.H.useOptimistic(B,rt)},xt.useReducer=function(B,rt,ct){return I.H.useReducer(B,rt,ct)},xt.useRef=function(B){return I.H.useRef(B)},xt.useState=function(B){return I.H.useState(B)},xt.useSyncExternalStore=function(B,rt,ct){return I.H.useSyncExternalStore(B,rt,ct)},xt.useTransition=function(){return I.H.useTransition()},xt.version="19.2.3",xt}var Eb;function Xv(){return Eb||(Eb=1,Fg.exports=uD()),Fg.exports}var O=Xv();const Za=yx(O);var qg={exports:{}},Sc={},Hg={exports:{}},Gg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bb;function cD(){return bb||(bb=1,(function(e){function t(tt,lt){var pt=tt.length;tt.push(lt);t:for(;0<pt;){var Mt=pt-1>>>1,kt=tt[Mt];if(0<a(kt,lt))tt[Mt]=lt,tt[pt]=kt,pt=Mt;else break t}}function n(tt){return tt.length===0?null:tt[0]}function s(tt){if(tt.length===0)return null;var lt=tt[0],pt=tt.pop();if(pt!==lt){tt[0]=pt;t:for(var Mt=0,kt=tt.length,B=kt>>>1;Mt<B;){var rt=2*(Mt+1)-1,ct=tt[rt],mt=rt+1,At=tt[mt];if(0>a(ct,pt))mt<kt&&0>a(At,ct)?(tt[Mt]=At,tt[mt]=pt,Mt=mt):(tt[Mt]=ct,tt[rt]=pt,Mt=rt);else if(mt<kt&&0>a(At,pt))tt[Mt]=At,tt[mt]=pt,Mt=mt;else break t}}return lt}function a(tt,lt){var pt=tt.sortIndex-lt.sortIndex;return pt!==0?pt:tt.id-lt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();e.unstable_now=function(){return c.now()-h}}var d=[],p=[],y=1,v=null,T=3,A=!1,M=!1,C=!1,D=!1,j=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function st(tt){for(var lt=n(p);lt!==null;){if(lt.callback===null)s(p);else if(lt.startTime<=tt)s(p),lt.sortIndex=lt.expirationTime,t(d,lt);else break;lt=n(p)}}function W(tt){if(C=!1,st(tt),!M)if(n(d)!==null)M=!0,ot||(ot=!0,H());else{var lt=n(p);lt!==null&&_e(W,lt.startTime-tt)}}var ot=!1,I=-1,x=5,N=-1;function k(){return D?!0:!(e.unstable_now()-N<x)}function P(){if(D=!1,ot){var tt=e.unstable_now();N=tt;var lt=!0;try{t:{M=!1,C&&(C=!1,q(I),I=-1),A=!0;var pt=T;try{e:{for(st(tt),v=n(d);v!==null&&!(v.expirationTime>tt&&k());){var Mt=v.callback;if(typeof Mt=="function"){v.callback=null,T=v.priorityLevel;var kt=Mt(v.expirationTime<=tt);if(tt=e.unstable_now(),typeof kt=="function"){v.callback=kt,st(tt),lt=!0;break e}v===n(d)&&s(d),st(tt)}else s(d);v=n(d)}if(v!==null)lt=!0;else{var B=n(p);B!==null&&_e(W,B.startTime-tt),lt=!1}}break t}finally{v=null,T=pt,A=!1}lt=void 0}}finally{lt?H():ot=!1}}}var H;if(typeof U=="function")H=function(){U(P)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ae=V.port2;V.port1.onmessage=P,H=function(){ae.postMessage(null)}}else H=function(){j(P,0)};function _e(tt,lt){I=j(function(){tt(e.unstable_now())},lt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(tt){tt.callback=null},e.unstable_forceFrameRate=function(tt){0>tt||125<tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<tt?Math.floor(1e3/tt):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_next=function(tt){switch(T){case 1:case 2:case 3:var lt=3;break;default:lt=T}var pt=T;T=lt;try{return tt()}finally{T=pt}},e.unstable_requestPaint=function(){D=!0},e.unstable_runWithPriority=function(tt,lt){switch(tt){case 1:case 2:case 3:case 4:case 5:break;default:tt=3}var pt=T;T=tt;try{return lt()}finally{T=pt}},e.unstable_scheduleCallback=function(tt,lt,pt){var Mt=e.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Mt+pt:Mt):pt=Mt,tt){case 1:var kt=-1;break;case 2:kt=250;break;case 5:kt=1073741823;break;case 4:kt=1e4;break;default:kt=5e3}return kt=pt+kt,tt={id:y++,callback:lt,priorityLevel:tt,startTime:pt,expirationTime:kt,sortIndex:-1},pt>Mt?(tt.sortIndex=pt,t(p,tt),n(d)===null&&tt===n(p)&&(C?(q(I),I=-1):C=!0,_e(W,pt-Mt))):(tt.sortIndex=kt,t(d,tt),M||A||(M=!0,ot||(ot=!0,H()))),tt},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(tt){var lt=T;return function(){var pt=T;T=lt;try{return tt.apply(this,arguments)}finally{T=pt}}}})(Gg)),Gg}var Sb;function hD(){return Sb||(Sb=1,Hg.exports=cD()),Hg.exports}var $g={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab;function fD(){if(Ab)return mn;Ab=1;var e=Xv();function t(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:p,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,mn.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(d,p,null,y)},mn.flushSync=function(d){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=p,s.p=y,s.d.f()}},mn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(d,p))},mn.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},mn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:A}):y==="script"&&s.d.X(d,{crossOrigin:v,integrity:T,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},mn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);s.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(d)},mn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);s.d.L(d,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},mn.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=h(p.as,p.crossOrigin);s.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(d)},mn.requestFormReset=function(d){s.d.r(d)},mn.unstable_batchedUpdates=function(d,p){return d(p)},mn.useFormState=function(d,p,y){return c.H.useFormState(d,p,y)},mn.useFormStatus=function(){return c.H.useHostTransitionStatus()},mn.version="19.2.3",mn}var wb;function dD(){if(wb)return $g.exports;wb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),$g.exports=fD(),$g.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xb;function mD(){if(xb)return Sc;xb=1;var e=hD(),t=Xv(),n=dD();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return d(m),i;if(g===u)return d(m),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=m,u=g;else{for(var E=!1,w=m.child;w;){if(w===o){E=!0,o=m,u=g;break}if(w===u){E=!0,u=m,o=g;break}w=w.sibling}if(!E){for(w=g.child;w;){if(w===o){E=!0,o=g,u=m;break}if(w===u){E=!0,u=g,o=m;break}w=w.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),U=Symbol.for("react.context"),st=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function ae(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case j:return"Profiler";case D:return"StrictMode";case W:return"Suspense";case ot:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case U:return i.displayName||"Context";case q:return(i._context.displayName||"Context")+".Consumer";case st:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return r=i.displayName||null,r!==null?r:ae(i.type)||"Memo";case x:r=i._payload,i=i._init;try{return ae(i(r))}catch{}}return null}var _e=Array.isArray,tt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Mt=[],kt=-1;function B(i){return{current:i}}function rt(i){0>kt||(i.current=Mt[kt],Mt[kt]=null,kt--)}function ct(i,r){kt++,Mt[kt]=i.current,i.current=r}var mt=B(null),At=B(null),Nt=B(null),Gt=B(null);function He(i,r){switch(ct(Nt,r),ct(At,i),ct(mt,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?z1(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=z1(r),i=B1(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}rt(mt),ct(mt,i)}function fe(){rt(mt),rt(At),rt(Nt)}function ga(i){i.memoizedState!==null&&ct(Gt,i);var r=mt.current,o=B1(r,i.type);r!==o&&(ct(At,i),ct(mt,o))}function Mo(i){At.current===i&&(rt(mt),rt(At)),Gt.current===i&&(rt(Gt),vc._currentValue=pt)}var No,Do;function Hi(i){if(No===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);No=r&&r[1]||"",Do=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+No+i+Do}var vu=!1;function ya(i,r){if(!i||vu)return"";vu=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(Z){var Y=Z}Reflect.construct(i,[],it)}else{try{it.call()}catch(Z){Y=Z}i.call(it.prototype)}}else{try{throw Error()}catch(Z){Y=Z}(it=i())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(Z){if(Z&&Y&&typeof Z.stack=="string")return[Z.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],w=g[1];if(E&&w){var L=E.split(`
`),Q=w.split(`
`);for(m=u=0;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;for(;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;if(u===L.length||m===Q.length)for(u=L.length-1,m=Q.length-1;1<=u&&0<=m&&L[u]!==Q[m];)m--;for(;1<=u&&0<=m;u--,m--)if(L[u]!==Q[m]){if(u!==1||m!==1)do if(u--,m--,0>m||L[u]!==Q[m]){var J=`
`+L[u].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=u&&0<=m);break}}}finally{vu=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Hi(o):""}function _u(i,r){switch(i.tag){case 26:case 27:case 5:return Hi(i.type);case 16:return Hi("Lazy");case 13:return i.child!==r&&r!==null?Hi("Suspense Fallback"):Hi("Suspense");case 19:return Hi("SuspenseList");case 0:case 15:return ya(i.type,!1);case 11:return ya(i.type.render,!1);case 1:return ya(i.type,!0);case 31:return Hi("Activity");default:return""}}function Tu(i){try{var r="",o=null;do r+=_u(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Me=Object.prototype.hasOwnProperty,Ge=e.unstable_scheduleCallback,or=e.unstable_cancelCallback,Fm=e.unstable_shouldYield,Vh=e.unstable_requestPaint,En=e.unstable_now,va=e.unstable_getCurrentPriorityLevel,Eu=e.unstable_ImmediatePriority,bu=e.unstable_UserBlockingPriority,lr=e.unstable_NormalPriority,qm=e.unstable_LowPriority,Oh=e.unstable_IdlePriority,Ph=e.log,kh=e.unstable_setDisableYieldValue,Si=null,nn=null;function ti(i){if(typeof Ph=="function"&&kh(i),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(Si,i)}catch{}}var Ae=Math.clz32?Math.clz32:jh,Lh=Math.log,Vo=Math.LN2;function jh(i){return i>>>=0,i===0?32:31-(Lh(i)/Vo|0)|0}var Gi=256,_a=262144,Ne=4194304;function $i(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ki(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var m=0,g=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~g,u!==0?m=$i(u):(E&=w,E!==0?m=$i(E):o||(o=w&~i,o!==0&&(m=$i(o))))):(w=u&~g,w!==0?m=$i(w):E!==0?m=$i(E):o||(o=u&~i,o!==0&&(m=$i(o)))),m===0?0:r!==0&&r!==m&&(r&g)===0&&(g=m&-m,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:m}function Ai(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Hm(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uh(){var i=Ne;return Ne<<=1,(Ne&62914560)===0&&(Ne=4194304),i}function Qi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Ta(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Gm(i,r,o,u,m,g){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,L=i.expirationTimes,Q=i.hiddenUpdates;for(o=E&~o;0<o;){var J=31-Ae(o),it=1<<J;w[J]=0,L[J]=-1;var Y=Q[J];if(Y!==null)for(Q[J]=null,J=0;J<Y.length;J++){var Z=Y[J];Z!==null&&(Z.lane&=-536870913)}o&=~it}u!==0&&Ea(i,u,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(E&~r))}function Ea(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Ae(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Su(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-Ae(o),m=1<<u;m&r|i[u]&r&&(i[u]|=r),o&=~m}}function Au(i,r){var o=r&-r;return o=(o&42)!==0?1:ba(o),(o&(i.suspendedLanes|r))!==0?0:o}function ba(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Rs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function zh(){var i=lt.p;return i!==0?i:(i=window.event,i===void 0?32:cb(i.type))}function wi(i,r){var o=lt.p;try{return lt.p=i,r()}finally{lt.p=o}}var xi=Math.random().toString(36).slice(2),De="__reactFiber$"+xi,Ze="__reactProps$"+xi,Yi="__reactContainer$"+xi,Oo="__reactEvents$"+xi,$m="__reactListeners$"+xi,Bh="__reactHandles$"+xi,Fh="__reactResources$"+xi,Xi="__reactMarker$"+xi;function Po(i){delete i[De],delete i[Ze],delete i[Oo],delete i[$m],delete i[Bh]}function Zi(i){var r=i[De];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Yi]||o[De]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=Q1(i);i!==null;){if(o=i[De])return o;i=Q1(i)}return r}i=o,o=i.parentNode}return null}function ei(i){if(i=i[De]||i[Yi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Fn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Wi(i){var r=i[Fh];return r||(r=i[Fh]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ve(i){i[Xi]=!0}var wu=new Set,xu={};function Ji(i,r){ts(i,r),ts(i+"Capture",r)}function ts(i,r){for(xu[i]=r,i=0;i<r.length;i++)wu.add(r[i])}var Ru=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cu={},Iu={};function qh(i){return Me.call(Iu,i)?!0:Me.call(Cu,i)?!1:Ru.test(i)?Iu[i]=!0:(Cu[i]=!0,!1)}function ko(i,r,o){if(qh(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function qn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Oe(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function We(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ur(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Mu(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,g=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return m.call(this)},set:function(E){o=""+E,g.call(this,E)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Jt(i){if(!i._valueTracker){var r=ur(i)?"checked":"value";i._valueTracker=Mu(i,r,""+i[r])}}function Sa(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=ur(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function es(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Aa=/[\n"\\]/g;function Mn(i){return i.replace(Aa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Lo(i,r,o,u,m,g,E,w){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),r!=null?E==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+We(r)):i.value!==""+We(r)&&(i.value=""+We(r)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),r!=null?Nu(i,E,We(r)):o!=null?Nu(i,E,We(o)):u!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+We(w):i.removeAttribute("name")}function Hh(i,r,o,u,m,g,E,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Jt(i);return}o=o!=null?""+We(o):"",r=r!=null?""+We(r):o,w||r===i.value||(i.value=r),i.defaultValue=r}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E),Jt(i)}function Nu(i,r,o){r==="number"&&es(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function cr(i,r,o,u){if(i=i.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=r.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&u&&(i[o].defaultSelected=!0)}else{for(o=""+We(o),r=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,u&&(i[m].defaultSelected=!0);return}r!==null||i[m].disabled||(r=i[m])}r!==null&&(r.selected=!0)}}function Gh(i,r,o){if(r!=null&&(r=""+We(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+We(o):""}function hr(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(_e(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=We(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Jt(i)}function Nn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var $h=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Du(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||$h.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Vu(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var m in r)u=r[m],r.hasOwnProperty(m)&&o[m]!==u&&Du(i,m,u)}else for(var g in r)r.hasOwnProperty(g)&&Du(i,g,r[g])}function jo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Uo(i){return fr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ri(){}var Ou=null;function ni(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var dr=null,ns=null;function wa(i){var r=ei(i);if(r&&(i=r.stateNode)){var o=i[Ze]||null;t:switch(i=r.stateNode,r.type){case"input":if(Lo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Mn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var m=u[Ze]||null;if(!m)throw Error(s(90));Lo(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&Sa(u)}break t;case"textarea":Gh(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&cr(i,!!o.multiple,r,!1)}}}var zo=!1;function mr(i,r,o){if(zo)return i(r,o);zo=!0;try{var u=i(r);return u}finally{if(zo=!1,(dr!==null||ns!==null)&&(Bf(),dr&&(r=dr,i=ns,ns=dr=null,wa(r),i)))for(r=0;r<i.length;r++)wa(i[r])}}function Ci(i,r){var o=i.stateNode;if(o===null)return null;var u=o[Ze]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xa=!1;if(ii)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){xa=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{xa=!1}var is=null,Pu=null,Ra=null;function ku(){if(Ra)return Ra;var i,r=Pu,o=r.length,u,m="value"in is?is.value:is.textContent,g=m.length;for(i=0;i<o&&r[i]===m[i];i++);var E=o-i;for(u=1;u<=E&&r[o-u]===m[g-u];u++);return Ra=m.slice(i,1<u?1-u:void 0)}function Ca(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Cs(){return!0}function Ii(){return!1}function sn(i){function r(o,u,m,g,E){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Cs:Ii,this.isPropagationStopped=Ii,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),r}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ss=sn(Is),pr=v({},Is,{view:0,detail:0}),Lu=sn(pr),gr,Bo,rs,Fo=v({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==rs&&(rs&&i.type==="mousemove"?(gr=i.screenX-rs.screenX,Bo=i.screenY-rs.screenY):Bo=gr=0,rs=i),gr)},movementY:function(i){return"movementY"in i?i.movementY:Bo}}),ju=sn(Fo),Ia=v({},Fo,{dataTransfer:0}),Qh=sn(Ia),Yh=v({},pr,{relatedTarget:0}),Ma=sn(Yh),Uu=v({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),Xh=sn(Uu),qo=v({},Is,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Zh=sn(qo),Wh=v({},Is,{data:0}),as=sn(Wh),Jh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ef={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nf(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=ef[i])?!!r[i]:!1}function yr(){return nf}var bn=v({},pr,{key:function(i){if(i.key){var r=Jh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Ca(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?tf[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yr,charCode:function(i){return i.type==="keypress"?Ca(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ca(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),sf=sn(bn),rf=v({},Fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ms=sn(rf),f=v({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yr}),_=sn(f),b=v({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=sn(b),$=v({},Fo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),X=sn($),ut=v({},Is,{newState:0,oldState:0}),Ct=sn(ut),we=[9,13,27,32],Yt=ii&&"CompositionEvent"in window,de=null;ii&&"documentMode"in document&&(de=document.documentMode);var si=ii&&"TextEvent"in window&&!de,os=ii&&(!Yt||de&&8<de&&11>=de),Mi=" ",Ni=!1;function Na(i,r){switch(i){case"keyup":return we.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ho(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Go=!1;function NM(i,r){switch(i){case"compositionend":return Ho(r);case"keypress":return r.which!==32?null:(Ni=!0,Mi);case"textInput":return i=r.data,i===Mi&&Ni?null:i;default:return null}}function DM(i,r){if(Go)return i==="compositionend"||!Yt&&Na(i,r)?(i=ku(),Ra=Pu=is=null,Go=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return os&&r.locale!=="ko"?null:r.data;default:return null}}var VM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z_(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!VM[i.type]:r==="textarea"}function W_(i,r,o,u){dr?ns?ns.push(u):ns=[u]:dr=u,r=Qf(r,"onChange"),0<r.length&&(o=new ss("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var zu=null,Bu=null;function OM(i){O1(i,0)}function af(i){var r=Fn(i);if(Sa(r))return i}function J_(i,r){if(i==="change")return r}var tT=!1;if(ii){var Km;if(ii){var Qm="oninput"in document;if(!Qm){var eT=document.createElement("div");eT.setAttribute("oninput","return;"),Qm=typeof eT.oninput=="function"}Km=Qm}else Km=!1;tT=Km&&(!document.documentMode||9<document.documentMode)}function nT(){zu&&(zu.detachEvent("onpropertychange",iT),Bu=zu=null)}function iT(i){if(i.propertyName==="value"&&af(Bu)){var r=[];W_(r,Bu,i,ni(i)),mr(OM,r)}}function PM(i,r,o){i==="focusin"?(nT(),zu=r,Bu=o,zu.attachEvent("onpropertychange",iT)):i==="focusout"&&nT()}function kM(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return af(Bu)}function LM(i,r){if(i==="click")return af(r)}function jM(i,r){if(i==="input"||i==="change")return af(r)}function UM(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Hn=typeof Object.is=="function"?Object.is:UM;function Fu(i,r){if(Hn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!Me.call(r,m)||!Hn(i[m],r[m]))return!1}return!0}function sT(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function rT(i,r){var o=sT(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=sT(o)}}function aT(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?aT(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function oT(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=es(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=es(i.document)}return r}function Ym(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var zM=ii&&"documentMode"in document&&11>=document.documentMode,$o=null,Xm=null,qu=null,Zm=!1;function lT(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Zm||$o==null||$o!==es(u)||(u=$o,"selectionStart"in u&&Ym(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),qu&&Fu(qu,u)||(qu=u,u=Qf(Xm,"onSelect"),0<u.length&&(r=new ss("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=$o)))}function Da(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Ko={animationend:Da("Animation","AnimationEnd"),animationiteration:Da("Animation","AnimationIteration"),animationstart:Da("Animation","AnimationStart"),transitionrun:Da("Transition","TransitionRun"),transitionstart:Da("Transition","TransitionStart"),transitioncancel:Da("Transition","TransitionCancel"),transitionend:Da("Transition","TransitionEnd")},Wm={},uT={};ii&&(uT=document.createElement("div").style,"AnimationEvent"in window||(delete Ko.animationend.animation,delete Ko.animationiteration.animation,delete Ko.animationstart.animation),"TransitionEvent"in window||delete Ko.transitionend.transition);function Va(i){if(Wm[i])return Wm[i];if(!Ko[i])return i;var r=Ko[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in uT)return Wm[i]=r[o];return i}var cT=Va("animationend"),hT=Va("animationiteration"),fT=Va("animationstart"),BM=Va("transitionrun"),FM=Va("transitionstart"),qM=Va("transitioncancel"),dT=Va("transitionend"),mT=new Map,Jm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jm.push("scrollEnd");function Di(i,r){mT.set(i,r),Ji(r,[i])}var of=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ri=[],Qo=0,tp=0;function lf(){for(var i=Qo,r=tp=Qo=0;r<i;){var o=ri[r];ri[r++]=null;var u=ri[r];ri[r++]=null;var m=ri[r];ri[r++]=null;var g=ri[r];if(ri[r++]=null,u!==null&&m!==null){var E=u.pending;E===null?m.next=m:(m.next=E.next,E.next=m),u.pending=m}g!==0&&pT(o,m,g)}}function uf(i,r,o,u){ri[Qo++]=i,ri[Qo++]=r,ri[Qo++]=o,ri[Qo++]=u,tp|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function ep(i,r,o,u){return uf(i,r,o,u),cf(i)}function Oa(i,r){return uf(i,null,null,r),cf(i)}function pT(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&r!==null&&(m=31-Ae(o),i=g.hiddenUpdates,u=i[m],u===null?i[m]=[r]:u.push(r),r.lane=o|536870912),g):null}function cf(i){if(50<hc)throw hc=0,cg=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Yo={};function HM(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(i,r,o,u){return new HM(i,r,o,u)}function np(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ns(i,r){var o=i.alternate;return o===null?(o=Gn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function gT(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function hf(i,r,o,u,m,g){var E=0;if(u=i,typeof i=="function")np(i)&&(E=1);else if(typeof i=="string")E=YN(i,o,mt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case N:return i=Gn(31,o,r,m),i.elementType=N,i.lanes=g,i;case C:return Pa(o.children,m,g,r);case D:E=8,m|=24;break;case j:return i=Gn(12,o,r,m|2),i.elementType=j,i.lanes=g,i;case W:return i=Gn(13,o,r,m),i.elementType=W,i.lanes=g,i;case ot:return i=Gn(19,o,r,m),i.elementType=ot,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case U:E=10;break t;case q:E=9;break t;case st:E=11;break t;case I:E=14;break t;case x:E=16,u=null;break t}E=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Gn(E,o,r,m),r.elementType=i,r.type=u,r.lanes=g,r}function Pa(i,r,o,u){return i=Gn(7,i,u,r),i.lanes=o,i}function ip(i,r,o){return i=Gn(6,i,null,r),i.lanes=o,i}function yT(i){var r=Gn(18,null,null,0);return r.stateNode=i,r}function sp(i,r,o){return r=Gn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var vT=new WeakMap;function ai(i,r){if(typeof i=="object"&&i!==null){var o=vT.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Tu(r)},vT.set(i,r),r)}return{value:i,source:r,stack:Tu(r)}}var Xo=[],Zo=0,ff=null,Hu=0,oi=[],li=0,vr=null,ls=1,us="";function Ds(i,r){Xo[Zo++]=Hu,Xo[Zo++]=ff,ff=i,Hu=r}function _T(i,r,o){oi[li++]=ls,oi[li++]=us,oi[li++]=vr,vr=i;var u=ls;i=us;var m=32-Ae(u)-1;u&=~(1<<m),o+=1;var g=32-Ae(r)+m;if(30<g){var E=m-m%5;g=(u&(1<<E)-1).toString(32),u>>=E,m-=E,ls=1<<32-Ae(r)+m|o<<m|u,us=g+i}else ls=1<<g|o<<m|u,us=i}function rp(i){i.return!==null&&(Ds(i,1),_T(i,1,0))}function ap(i){for(;i===ff;)ff=Xo[--Zo],Xo[Zo]=null,Hu=Xo[--Zo],Xo[Zo]=null;for(;i===vr;)vr=oi[--li],oi[li]=null,us=oi[--li],oi[li]=null,ls=oi[--li],oi[li]=null}function TT(i,r){oi[li++]=ls,oi[li++]=us,oi[li++]=vr,ls=r.id,us=r.overflow,vr=i}var rn=null,ce=null,Ft=!1,_r=null,ui=!1,op=Error(s(519));function Tr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gu(ai(r,i)),op}function ET(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[De]=i,r[Ze]=u,o){case"dialog":Pt("cancel",r),Pt("close",r);break;case"iframe":case"object":case"embed":Pt("load",r);break;case"video":case"audio":for(o=0;o<dc.length;o++)Pt(dc[o],r);break;case"source":Pt("error",r);break;case"img":case"image":case"link":Pt("error",r),Pt("load",r);break;case"details":Pt("toggle",r);break;case"input":Pt("invalid",r),Hh(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Pt("invalid",r);break;case"textarea":Pt("invalid",r),hr(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||j1(r.textContent,o)?(u.popover!=null&&(Pt("beforetoggle",r),Pt("toggle",r)),u.onScroll!=null&&Pt("scroll",r),u.onScrollEnd!=null&&Pt("scrollend",r),u.onClick!=null&&(r.onclick=Ri),r=!0):r=!1,r||Tr(i,!0)}function bT(i){for(rn=i.return;rn;)switch(rn.tag){case 5:case 31:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:rn=rn.return}}function Wo(i){if(i!==rn)return!1;if(!Ft)return bT(i),Ft=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||wg(i.type,i.memoizedProps)),o=!o),o&&ce&&Tr(i),bT(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ce=K1(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ce=K1(i)}else r===27?(r=ce,Or(i.type)?(i=Mg,Mg=null,ce=i):ce=r):ce=rn?hi(i.stateNode.nextSibling):null;return!0}function ka(){ce=rn=null,Ft=!1}function lp(){var i=_r;return i!==null&&(Pn===null?Pn=i:Pn.push.apply(Pn,i),_r=null),i}function Gu(i){_r===null?_r=[i]:_r.push(i)}var up=B(null),La=null,Vs=null;function Er(i,r,o){ct(up,r._currentValue),r._currentValue=o}function Os(i){i._currentValue=up.current,rt(up)}function cp(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function hp(i,r,o,u){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var E=m.child;g=g.firstContext;t:for(;g!==null;){var w=g;g=m;for(var L=0;L<r.length;L++)if(w.context===r[L]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),cp(g.return,o,i),u||(E=null);break t}g=w.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(s(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),cp(E,o,i),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===i){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function Jo(i,r,o,u){i=null;for(var m=r,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var w=m.type;Hn(m.pendingProps.value,E.value)||(i!==null?i.push(w):i=[w])}}else if(m===Gt.current){if(E=m.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(vc):i=[vc])}m=m.return}i!==null&&hp(r,i,o,u),r.flags|=262144}function df(i){for(i=i.firstContext;i!==null;){if(!Hn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ja(i){La=i,Vs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function an(i){return ST(La,i)}function mf(i,r){return La===null&&ja(i),ST(i,r)}function ST(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Vs===null){if(i===null)throw Error(s(308));Vs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Vs=Vs.next=r;return o}var GM=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},$M=e.unstable_scheduleCallback,KM=e.unstable_NormalPriority,Pe={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fp(){return{controller:new GM,data:new Map,refCount:0}}function $u(i){i.refCount--,i.refCount===0&&$M(KM,function(){i.controller.abort()})}var Ku=null,dp=0,tl=0,el=null;function QM(i,r){if(Ku===null){var o=Ku=[];dp=0,tl=gg(),el={status:"pending",value:void 0,then:function(u){o.push(u)}}}return dp++,r.then(AT,AT),r}function AT(){if(--dp===0&&Ku!==null){el!==null&&(el.status="fulfilled");var i=Ku;Ku=null,tl=0,el=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function YM(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var wT=tt.S;tt.S=function(i,r){l1=En(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&QM(i,r),wT!==null&&wT(i,r)};var Ua=B(null);function mp(){var i=Ua.current;return i!==null?i:oe.pooledCache}function pf(i,r){r===null?ct(Ua,Ua.current):ct(Ua,r.pool)}function xT(){var i=mp();return i===null?null:{parent:Pe._currentValue,pool:i}}var nl=Error(s(460)),pp=Error(s(474)),gf=Error(s(542)),yf={then:function(){}};function RT(i){return i=i.status,i==="fulfilled"||i==="rejected"}function CT(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Ri,Ri),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,MT(i),i;default:if(typeof r.status=="string")r.then(Ri,Ri);else{if(i=oe,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=u}},function(u){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,MT(i),i}throw Ba=r,nl}}function za(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ba=o,nl):o}}var Ba=null;function IT(){if(Ba===null)throw Error(s(459));var i=Ba;return Ba=null,i}function MT(i){if(i===nl||i===gf)throw Error(s(483))}var il=null,Qu=0;function vf(i){var r=Qu;return Qu+=1,il===null&&(il=[]),CT(il,i,r)}function Yu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function _f(i,r){throw r.$$typeof===T?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function NT(i){function r(G,z){if(i){var K=G.deletions;K===null?(G.deletions=[z],G.flags|=16):K.push(z)}}function o(G,z){if(!i)return null;for(;z!==null;)r(G,z),z=z.sibling;return null}function u(G){for(var z=new Map;G!==null;)G.key!==null?z.set(G.key,G):z.set(G.index,G),G=G.sibling;return z}function m(G,z){return G=Ns(G,z),G.index=0,G.sibling=null,G}function g(G,z,K){return G.index=K,i?(K=G.alternate,K!==null?(K=K.index,K<z?(G.flags|=67108866,z):K):(G.flags|=67108866,z)):(G.flags|=1048576,z)}function E(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function w(G,z,K,et){return z===null||z.tag!==6?(z=ip(K,G.mode,et),z.return=G,z):(z=m(z,K),z.return=G,z)}function L(G,z,K,et){var vt=K.type;return vt===C?J(G,z,K.props.children,et,K.key):z!==null&&(z.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===x&&za(vt)===z.type)?(z=m(z,K.props),Yu(z,K),z.return=G,z):(z=hf(K.type,K.key,K.props,null,G.mode,et),Yu(z,K),z.return=G,z)}function Q(G,z,K,et){return z===null||z.tag!==4||z.stateNode.containerInfo!==K.containerInfo||z.stateNode.implementation!==K.implementation?(z=sp(K,G.mode,et),z.return=G,z):(z=m(z,K.children||[]),z.return=G,z)}function J(G,z,K,et,vt){return z===null||z.tag!==7?(z=Pa(K,G.mode,et,vt),z.return=G,z):(z=m(z,K),z.return=G,z)}function it(G,z,K){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=ip(""+z,G.mode,K),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return K=hf(z.type,z.key,z.props,null,G.mode,K),Yu(K,z),K.return=G,K;case M:return z=sp(z,G.mode,K),z.return=G,z;case x:return z=za(z),it(G,z,K)}if(_e(z)||H(z))return z=Pa(z,G.mode,K,null),z.return=G,z;if(typeof z.then=="function")return it(G,vf(z),K);if(z.$$typeof===U)return it(G,mf(G,z),K);_f(G,z)}return null}function Y(G,z,K,et){var vt=z!==null?z.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return vt!==null?null:w(G,z,""+K,et);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case A:return K.key===vt?L(G,z,K,et):null;case M:return K.key===vt?Q(G,z,K,et):null;case x:return K=za(K),Y(G,z,K,et)}if(_e(K)||H(K))return vt!==null?null:J(G,z,K,et,null);if(typeof K.then=="function")return Y(G,z,vf(K),et);if(K.$$typeof===U)return Y(G,z,mf(G,K),et);_f(G,K)}return null}function Z(G,z,K,et,vt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return G=G.get(K)||null,w(z,G,""+et,vt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case A:return G=G.get(et.key===null?K:et.key)||null,L(z,G,et,vt);case M:return G=G.get(et.key===null?K:et.key)||null,Q(z,G,et,vt);case x:return et=za(et),Z(G,z,K,et,vt)}if(_e(et)||H(et))return G=G.get(K)||null,J(z,G,et,vt,null);if(typeof et.then=="function")return Z(G,z,K,vf(et),vt);if(et.$$typeof===U)return Z(G,z,K,mf(z,et),vt);_f(z,et)}return null}function gt(G,z,K,et){for(var vt=null,Kt=null,yt=z,Dt=z=0,jt=null;yt!==null&&Dt<K.length;Dt++){yt.index>Dt?(jt=yt,yt=null):jt=yt.sibling;var Qt=Y(G,yt,K[Dt],et);if(Qt===null){yt===null&&(yt=jt);break}i&&yt&&Qt.alternate===null&&r(G,yt),z=g(Qt,z,Dt),Kt===null?vt=Qt:Kt.sibling=Qt,Kt=Qt,yt=jt}if(Dt===K.length)return o(G,yt),Ft&&Ds(G,Dt),vt;if(yt===null){for(;Dt<K.length;Dt++)yt=it(G,K[Dt],et),yt!==null&&(z=g(yt,z,Dt),Kt===null?vt=yt:Kt.sibling=yt,Kt=yt);return Ft&&Ds(G,Dt),vt}for(yt=u(yt);Dt<K.length;Dt++)jt=Z(yt,G,Dt,K[Dt],et),jt!==null&&(i&&jt.alternate!==null&&yt.delete(jt.key===null?Dt:jt.key),z=g(jt,z,Dt),Kt===null?vt=jt:Kt.sibling=jt,Kt=jt);return i&&yt.forEach(function(Ur){return r(G,Ur)}),Ft&&Ds(G,Dt),vt}function Tt(G,z,K,et){if(K==null)throw Error(s(151));for(var vt=null,Kt=null,yt=z,Dt=z=0,jt=null,Qt=K.next();yt!==null&&!Qt.done;Dt++,Qt=K.next()){yt.index>Dt?(jt=yt,yt=null):jt=yt.sibling;var Ur=Y(G,yt,Qt.value,et);if(Ur===null){yt===null&&(yt=jt);break}i&&yt&&Ur.alternate===null&&r(G,yt),z=g(Ur,z,Dt),Kt===null?vt=Ur:Kt.sibling=Ur,Kt=Ur,yt=jt}if(Qt.done)return o(G,yt),Ft&&Ds(G,Dt),vt;if(yt===null){for(;!Qt.done;Dt++,Qt=K.next())Qt=it(G,Qt.value,et),Qt!==null&&(z=g(Qt,z,Dt),Kt===null?vt=Qt:Kt.sibling=Qt,Kt=Qt);return Ft&&Ds(G,Dt),vt}for(yt=u(yt);!Qt.done;Dt++,Qt=K.next())Qt=Z(yt,G,Dt,Qt.value,et),Qt!==null&&(i&&Qt.alternate!==null&&yt.delete(Qt.key===null?Dt:Qt.key),z=g(Qt,z,Dt),Kt===null?vt=Qt:Kt.sibling=Qt,Kt=Qt);return i&&yt.forEach(function(aD){return r(G,aD)}),Ft&&Ds(G,Dt),vt}function re(G,z,K,et){if(typeof K=="object"&&K!==null&&K.type===C&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case A:t:{for(var vt=K.key;z!==null;){if(z.key===vt){if(vt=K.type,vt===C){if(z.tag===7){o(G,z.sibling),et=m(z,K.props.children),et.return=G,G=et;break t}}else if(z.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===x&&za(vt)===z.type){o(G,z.sibling),et=m(z,K.props),Yu(et,K),et.return=G,G=et;break t}o(G,z);break}else r(G,z);z=z.sibling}K.type===C?(et=Pa(K.props.children,G.mode,et,K.key),et.return=G,G=et):(et=hf(K.type,K.key,K.props,null,G.mode,et),Yu(et,K),et.return=G,G=et)}return E(G);case M:t:{for(vt=K.key;z!==null;){if(z.key===vt)if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){o(G,z.sibling),et=m(z,K.children||[]),et.return=G,G=et;break t}else{o(G,z);break}else r(G,z);z=z.sibling}et=sp(K,G.mode,et),et.return=G,G=et}return E(G);case x:return K=za(K),re(G,z,K,et)}if(_e(K))return gt(G,z,K,et);if(H(K)){if(vt=H(K),typeof vt!="function")throw Error(s(150));return K=vt.call(K),Tt(G,z,K,et)}if(typeof K.then=="function")return re(G,z,vf(K),et);if(K.$$typeof===U)return re(G,z,mf(G,K),et);_f(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,z!==null&&z.tag===6?(o(G,z.sibling),et=m(z,K),et.return=G,G=et):(o(G,z),et=ip(K,G.mode,et),et.return=G,G=et),E(G)):o(G,z)}return function(G,z,K,et){try{Qu=0;var vt=re(G,z,K,et);return il=null,vt}catch(yt){if(yt===nl||yt===gf)throw yt;var Kt=Gn(29,yt,null,G.mode);return Kt.lanes=et,Kt.return=G,Kt}finally{}}}var Fa=NT(!0),DT=NT(!1),br=!1;function gp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yp(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Sr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ar(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Xt&2)!==0){var m=u.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),u.pending=r,r=cf(i),pT(i,null,o),r}return uf(i,u,r,o),cf(i)}function Xu(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Su(i,o)}}function vp(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?m=g=r:g=g.next=r}else m=g=r;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var _p=!1;function Zu(){if(_p){var i=el;if(i!==null)throw i}}function Wu(i,r,o,u){_p=!1;var m=i.updateQueue;br=!1;var g=m.firstBaseUpdate,E=m.lastBaseUpdate,w=m.shared.pending;if(w!==null){m.shared.pending=null;var L=w,Q=L.next;L.next=null,E===null?g=Q:E.next=Q,E=L;var J=i.alternate;J!==null&&(J=J.updateQueue,w=J.lastBaseUpdate,w!==E&&(w===null?J.firstBaseUpdate=Q:w.next=Q,J.lastBaseUpdate=L))}if(g!==null){var it=m.baseState;E=0,J=Q=L=null,w=g;do{var Y=w.lane&-536870913,Z=Y!==w.lane;if(Z?(Lt&Y)===Y:(u&Y)===Y){Y!==0&&Y===tl&&(_p=!0),J!==null&&(J=J.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var gt=i,Tt=w;Y=r;var re=o;switch(Tt.tag){case 1:if(gt=Tt.payload,typeof gt=="function"){it=gt.call(re,it,Y);break t}it=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=Tt.payload,Y=typeof gt=="function"?gt.call(re,it,Y):gt,Y==null)break t;it=v({},it,Y);break t;case 2:br=!0}}Y=w.callback,Y!==null&&(i.flags|=64,Z&&(i.flags|=8192),Z=m.callbacks,Z===null?m.callbacks=[Y]:Z.push(Y))}else Z={lane:Y,tag:w.tag,payload:w.payload,callback:w.callback,next:null},J===null?(Q=J=Z,L=it):J=J.next=Z,E|=Y;if(w=w.next,w===null){if(w=m.shared.pending,w===null)break;Z=w,w=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);J===null&&(L=it),m.baseState=L,m.firstBaseUpdate=Q,m.lastBaseUpdate=J,g===null&&(m.shared.lanes=0),Ir|=E,i.lanes=E,i.memoizedState=it}}function VT(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function OT(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)VT(o[i],r)}var sl=B(null),Tf=B(0);function PT(i,r){i=qs,ct(Tf,i),ct(sl,r),qs=i|r.baseLanes}function Tp(){ct(Tf,qs),ct(sl,sl.current)}function Ep(){qs=Tf.current,rt(sl),rt(Tf)}var $n=B(null),ci=null;function wr(i){var r=i.alternate;ct(xe,xe.current&1),ct($n,i),ci===null&&(r===null||sl.current!==null||r.memoizedState!==null)&&(ci=i)}function bp(i){ct(xe,xe.current),ct($n,i),ci===null&&(ci=i)}function kT(i){i.tag===22?(ct(xe,xe.current),ct($n,i),ci===null&&(ci=i)):xr()}function xr(){ct(xe,xe.current),ct($n,$n.current)}function Kn(i){rt($n),ci===i&&(ci=null),rt(xe)}var xe=B(0);function Ef(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Cg(o)||Ig(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ps=0,It=null,ie=null,ke=null,bf=!1,rl=!1,qa=!1,Sf=0,Ju=0,al=null,XM=0;function Te(){throw Error(s(321))}function Sp(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Hn(i[o],r[o]))return!1;return!0}function Ap(i,r,o,u,m,g){return Ps=g,It=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,tt.H=i===null||i.memoizedState===null?_E:Up,qa=!1,g=o(u,m),qa=!1,rl&&(g=jT(r,o,u,m)),LT(i),g}function LT(i){tt.H=nc;var r=ie!==null&&ie.next!==null;if(Ps=0,ke=ie=It=null,bf=!1,Ju=0,al=null,r)throw Error(s(300));i===null||Le||(i=i.dependencies,i!==null&&df(i)&&(Le=!0))}function jT(i,r,o,u){It=i;var m=0;do{if(rl&&(al=null),Ju=0,rl=!1,25<=m)throw Error(s(301));if(m+=1,ke=ie=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}tt.H=TE,g=r(o,u)}while(rl);return g}function ZM(){var i=tt.H,r=i.useState()[0];return r=typeof r.then=="function"?tc(r):r,i=i.useState()[0],(ie!==null?ie.memoizedState:null)!==i&&(It.flags|=1024),r}function wp(){var i=Sf!==0;return Sf=0,i}function xp(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Rp(i){if(bf){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}bf=!1}Ps=0,ke=ie=It=null,rl=!1,Ju=Sf=0,al=null}function Sn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?It.memoizedState=ke=i:ke=ke.next=i,ke}function Re(){if(ie===null){var i=It.alternate;i=i!==null?i.memoizedState:null}else i=ie.next;var r=ke===null?It.memoizedState:ke.next;if(r!==null)ke=r,ie=i;else{if(i===null)throw It.alternate===null?Error(s(467)):Error(s(310));ie=i,i={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},ke===null?It.memoizedState=ke=i:ke=ke.next=i}return ke}function Af(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tc(i){var r=Ju;return Ju+=1,al===null&&(al=[]),i=CT(al,i,r),r=It,(ke===null?r.memoizedState:ke.next)===null&&(r=r.alternate,tt.H=r===null||r.memoizedState===null?_E:Up),i}function wf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return tc(i);if(i.$$typeof===U)return an(i)}throw Error(s(438,String(i)))}function Cp(i){var r=null,o=It.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=It.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Af(),It.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=k;return r.index++,o}function ks(i,r){return typeof r=="function"?r(i):r}function xf(i){var r=Re();return Ip(r,ie,i)}function Ip(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var m=i.baseQueue,g=u.pending;if(g!==null){if(m!==null){var E=m.next;m.next=g.next,g.next=E}r.baseQueue=m=g,u.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{r=m.next;var w=E=null,L=null,Q=r,J=!1;do{var it=Q.lane&-536870913;if(it!==Q.lane?(Lt&it)===it:(Ps&it)===it){var Y=Q.revertLane;if(Y===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),it===tl&&(J=!0);else if((Ps&Y)===Y){Q=Q.next,Y===tl&&(J=!0);continue}else it={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},L===null?(w=L=it,E=g):L=L.next=it,It.lanes|=Y,Ir|=Y;it=Q.action,qa&&o(g,it),g=Q.hasEagerState?Q.eagerState:o(g,it)}else Y={lane:it,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},L===null?(w=L=Y,E=g):L=L.next=Y,It.lanes|=it,Ir|=it;Q=Q.next}while(Q!==null&&Q!==r);if(L===null?E=g:L.next=w,!Hn(g,i.memoizedState)&&(Le=!0,J&&(o=el,o!==null)))throw o;i.memoizedState=g,i.baseState=E,i.baseQueue=L,u.lastRenderedState=g}return m===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Mp(i){var r=Re(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,m=o.pending,g=r.memoizedState;if(m!==null){o.pending=null;var E=m=m.next;do g=i(g,E.action),E=E.next;while(E!==m);Hn(g,r.memoizedState)||(Le=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function UT(i,r,o){var u=It,m=Re(),g=Ft;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var E=!Hn((ie||m).memoizedState,o);if(E&&(m.memoizedState=o,Le=!0),m=m.queue,Vp(FT.bind(null,u,m,i),[i]),m.getSnapshot!==r||E||ke!==null&&ke.memoizedState.tag&1){if(u.flags|=2048,ol(9,{destroy:void 0},BT.bind(null,u,m,o,r),null),oe===null)throw Error(s(349));g||(Ps&127)!==0||zT(u,r,o)}return o}function zT(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=It.updateQueue,r===null?(r=Af(),It.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function BT(i,r,o,u){r.value=o,r.getSnapshot=u,qT(r)&&HT(i)}function FT(i,r,o){return o(function(){qT(r)&&HT(i)})}function qT(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Hn(i,o)}catch{return!0}}function HT(i){var r=Oa(i,2);r!==null&&kn(r,i,2)}function Np(i){var r=Sn();if(typeof i=="function"){var o=i;if(i=o(),qa){ti(!0);try{o()}finally{ti(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:i},r}function GT(i,r,o,u){return i.baseState=o,Ip(i,ie,typeof u=="function"?u:ks)}function WM(i,r,o,u,m){if(If(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};tt.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,$T(r,g)):(g.next=o.next,r.pending=o.next=g)}}function $T(i,r){var o=r.action,u=r.payload,m=i.state;if(r.isTransition){var g=tt.T,E={};tt.T=E;try{var w=o(m,u),L=tt.S;L!==null&&L(E,w),KT(i,r,w)}catch(Q){Dp(i,r,Q)}finally{g!==null&&E.types!==null&&(g.types=E.types),tt.T=g}}else try{g=o(m,u),KT(i,r,g)}catch(Q){Dp(i,r,Q)}}function KT(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){QT(i,r,u)},function(u){return Dp(i,r,u)}):QT(i,r,o)}function QT(i,r,o){r.status="fulfilled",r.value=o,YT(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,$T(i,o)))}function Dp(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,YT(r),r=r.next;while(r!==u)}i.action=null}function YT(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function XT(i,r){return r}function ZT(i,r){if(Ft){var o=oe.formState;if(o!==null){t:{var u=It;if(Ft){if(ce){e:{for(var m=ce,g=ui;m.nodeType!==8;){if(!g){m=null;break e}if(m=hi(m.nextSibling),m===null){m=null;break e}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){ce=hi(m.nextSibling),u=m.data==="F!";break t}}Tr(u)}u=!1}u&&(r=o[0])}}return o=Sn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:XT,lastRenderedState:r},o.queue=u,o=gE.bind(null,It,u),u.dispatch=o,u=Np(!1),g=jp.bind(null,It,!1,u.queue),u=Sn(),m={state:r,dispatch:null,action:i,pending:null},u.queue=m,o=WM.bind(null,It,m,g,o),m.dispatch=o,u.memoizedState=i,[r,o,!1]}function WT(i){var r=Re();return JT(r,ie,i)}function JT(i,r,o){if(r=Ip(i,r,XT)[0],i=xf(ks)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=tc(r)}catch(E){throw E===nl?gf:E}else u=r;r=Re();var m=r.queue,g=m.dispatch;return o!==r.memoizedState&&(It.flags|=2048,ol(9,{destroy:void 0},JM.bind(null,m,o),null)),[u,g,i]}function JM(i,r){i.action=r}function tE(i){var r=Re(),o=ie;if(o!==null)return JT(r,o,i);Re(),r=r.memoizedState,o=Re();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function ol(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=It.updateQueue,r===null&&(r=Af(),It.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function eE(){return Re().memoizedState}function Rf(i,r,o,u){var m=Sn();It.flags|=i,m.memoizedState=ol(1|r,{destroy:void 0},o,u===void 0?null:u)}function Cf(i,r,o,u){var m=Re();u=u===void 0?null:u;var g=m.memoizedState.inst;ie!==null&&u!==null&&Sp(u,ie.memoizedState.deps)?m.memoizedState=ol(r,g,o,u):(It.flags|=i,m.memoizedState=ol(1|r,g,o,u))}function nE(i,r){Rf(8390656,8,i,r)}function Vp(i,r){Cf(2048,8,i,r)}function tN(i){It.flags|=4;var r=It.updateQueue;if(r===null)r=Af(),It.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function iE(i){var r=Re().memoizedState;return tN({ref:r,nextImpl:i}),function(){if((Xt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function sE(i,r){return Cf(4,2,i,r)}function rE(i,r){return Cf(4,4,i,r)}function aE(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function oE(i,r,o){o=o!=null?o.concat([i]):null,Cf(4,4,aE.bind(null,r,i),o)}function Op(){}function lE(i,r){var o=Re();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Sp(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function uE(i,r){var o=Re();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Sp(r,u[1]))return u[0];if(u=i(),qa){ti(!0);try{i()}finally{ti(!1)}}return o.memoizedState=[u,r],u}function Pp(i,r,o){return o===void 0||(Ps&1073741824)!==0&&(Lt&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=c1(),It.lanes|=i,Ir|=i,o)}function cE(i,r,o,u){return Hn(o,r)?o:sl.current!==null?(i=Pp(i,o,u),Hn(i,r)||(Le=!0),i):(Ps&42)===0||(Ps&1073741824)!==0&&(Lt&261930)===0?(Le=!0,i.memoizedState=o):(i=c1(),It.lanes|=i,Ir|=i,r)}function hE(i,r,o,u,m){var g=lt.p;lt.p=g!==0&&8>g?g:8;var E=tt.T,w={};tt.T=w,jp(i,!1,r,o);try{var L=m(),Q=tt.S;if(Q!==null&&Q(w,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var J=YM(L,u);ec(i,r,J,Xn(i))}else ec(i,r,u,Xn(i))}catch(it){ec(i,r,{then:function(){},status:"rejected",reason:it},Xn())}finally{lt.p=g,E!==null&&w.types!==null&&(E.types=w.types),tt.T=E}}function eN(){}function kp(i,r,o,u){if(i.tag!==5)throw Error(s(476));var m=fE(i).queue;hE(i,m,r,pt,o===null?eN:function(){return dE(i),o(u)})}function fE(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:pt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function dE(i){var r=fE(i);r.next===null&&(r=i.alternate.memoizedState),ec(i,r.next.queue,{},Xn())}function Lp(){return an(vc)}function mE(){return Re().memoizedState}function pE(){return Re().memoizedState}function nN(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Xn();i=Sr(o);var u=Ar(r,i,o);u!==null&&(kn(u,r,o),Xu(u,r,o)),r={cache:fp()},i.payload=r;return}r=r.return}}function iN(i,r,o){var u=Xn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},If(i)?yE(r,o):(o=ep(i,r,o,u),o!==null&&(kn(o,i,u),vE(o,r,u)))}function gE(i,r,o){var u=Xn();ec(i,r,o,u)}function ec(i,r,o,u){var m={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(If(i))yE(r,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var E=r.lastRenderedState,w=g(E,o);if(m.hasEagerState=!0,m.eagerState=w,Hn(w,E))return uf(i,r,m,0),oe===null&&lf(),!1}catch{}finally{}if(o=ep(i,r,m,u),o!==null)return kn(o,i,u),vE(o,r,u),!0}return!1}function jp(i,r,o,u){if(u={lane:2,revertLane:gg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},If(i)){if(r)throw Error(s(479))}else r=ep(i,o,u,2),r!==null&&kn(r,i,2)}function If(i){var r=i.alternate;return i===It||r!==null&&r===It}function yE(i,r){rl=bf=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function vE(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Su(i,o)}}var nc={readContext:an,use:wf,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te};nc.useEffectEvent=Te;var _E={readContext:an,use:wf,useCallback:function(i,r){return Sn().memoizedState=[i,r===void 0?null:r],i},useContext:an,useEffect:nE,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Rf(4194308,4,aE.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Rf(4194308,4,i,r)},useInsertionEffect:function(i,r){Rf(4,2,i,r)},useMemo:function(i,r){var o=Sn();r=r===void 0?null:r;var u=i();if(qa){ti(!0);try{i()}finally{ti(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=Sn();if(o!==void 0){var m=o(r);if(qa){ti(!0);try{o(r)}finally{ti(!1)}}}else m=r;return u.memoizedState=u.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},u.queue=i,i=i.dispatch=iN.bind(null,It,i),[u.memoizedState,i]},useRef:function(i){var r=Sn();return i={current:i},r.memoizedState=i},useState:function(i){i=Np(i);var r=i.queue,o=gE.bind(null,It,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Op,useDeferredValue:function(i,r){var o=Sn();return Pp(o,i,r)},useTransition:function(){var i=Np(!1);return i=hE.bind(null,It,i.queue,!0,!1),Sn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=It,m=Sn();if(Ft){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),oe===null)throw Error(s(349));(Lt&127)!==0||zT(u,r,o)}m.memoizedState=o;var g={value:o,getSnapshot:r};return m.queue=g,nE(FT.bind(null,u,g,i),[i]),u.flags|=2048,ol(9,{destroy:void 0},BT.bind(null,u,g,o,r),null),o},useId:function(){var i=Sn(),r=oe.identifierPrefix;if(Ft){var o=us,u=ls;o=(u&~(1<<32-Ae(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Sf++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=XM++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Lp,useFormState:ZT,useActionState:ZT,useOptimistic:function(i){var r=Sn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=jp.bind(null,It,!0,o),o.dispatch=r,[i,r]},useMemoCache:Cp,useCacheRefresh:function(){return Sn().memoizedState=nN.bind(null,It)},useEffectEvent:function(i){var r=Sn(),o={impl:i};return r.memoizedState=o,function(){if((Xt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Up={readContext:an,use:wf,useCallback:lE,useContext:an,useEffect:Vp,useImperativeHandle:oE,useInsertionEffect:sE,useLayoutEffect:rE,useMemo:uE,useReducer:xf,useRef:eE,useState:function(){return xf(ks)},useDebugValue:Op,useDeferredValue:function(i,r){var o=Re();return cE(o,ie.memoizedState,i,r)},useTransition:function(){var i=xf(ks)[0],r=Re().memoizedState;return[typeof i=="boolean"?i:tc(i),r]},useSyncExternalStore:UT,useId:mE,useHostTransitionStatus:Lp,useFormState:WT,useActionState:WT,useOptimistic:function(i,r){var o=Re();return GT(o,ie,i,r)},useMemoCache:Cp,useCacheRefresh:pE};Up.useEffectEvent=iE;var TE={readContext:an,use:wf,useCallback:lE,useContext:an,useEffect:Vp,useImperativeHandle:oE,useInsertionEffect:sE,useLayoutEffect:rE,useMemo:uE,useReducer:Mp,useRef:eE,useState:function(){return Mp(ks)},useDebugValue:Op,useDeferredValue:function(i,r){var o=Re();return ie===null?Pp(o,i,r):cE(o,ie.memoizedState,i,r)},useTransition:function(){var i=Mp(ks)[0],r=Re().memoizedState;return[typeof i=="boolean"?i:tc(i),r]},useSyncExternalStore:UT,useId:mE,useHostTransitionStatus:Lp,useFormState:tE,useActionState:tE,useOptimistic:function(i,r){var o=Re();return ie!==null?GT(o,ie,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Cp,useCacheRefresh:pE};TE.useEffectEvent=iE;function zp(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Bp={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Xn(),m=Sr(u);m.payload=r,o!=null&&(m.callback=o),r=Ar(i,m,u),r!==null&&(kn(r,i,u),Xu(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Xn(),m=Sr(u);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=Ar(i,m,u),r!==null&&(kn(r,i,u),Xu(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Xn(),u=Sr(o);u.tag=2,r!=null&&(u.callback=r),r=Ar(i,u,o),r!==null&&(kn(r,i,o),Xu(r,i,o))}};function EE(i,r,o,u,m,g,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,E):r.prototype&&r.prototype.isPureReactComponent?!Fu(o,u)||!Fu(m,g):!0}function bE(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Bp.enqueueReplaceState(r,r.state,null)}function Ha(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function SE(i){of(i)}function AE(i){console.error(i)}function wE(i){of(i)}function Mf(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function xE(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Fp(i,r,o){return o=Sr(o),o.tag=3,o.payload={element:null},o.callback=function(){Mf(i,r)},o}function RE(i){return i=Sr(i),i.tag=3,i}function CE(i,r,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=u.value;i.payload=function(){return m(g)},i.callback=function(){xE(r,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){xE(r,o,u),typeof m!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function sN(i,r,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Jo(r,o,m,!0),o=$n.current,o!==null){switch(o.tag){case 31:case 13:return ci===null?Ff():o.alternate===null&&Ee===0&&(Ee=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===yf?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),dg(i,u,m)),!1;case 22:return o.flags|=65536,u===yf?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),dg(i,u,m)),!1}throw Error(s(435,o.tag))}return dg(i,u,m),Ff(),!1}if(Ft)return r=$n.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,u!==op&&(i=Error(s(422),{cause:u}),Gu(ai(i,o)))):(u!==op&&(r=Error(s(423),{cause:u}),Gu(ai(r,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,u=ai(u,o),m=Fp(i.stateNode,u,m),vp(i,m),Ee!==4&&(Ee=2)),!1;var g=Error(s(520),{cause:u});if(g=ai(g,o),cc===null?cc=[g]:cc.push(g),Ee!==4&&(Ee=2),r===null)return!0;u=ai(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=Fp(o.stateNode,u,i),vp(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Mr===null||!Mr.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=RE(m),CE(m,i,o,u),vp(o,m),!1}o=o.return}while(o!==null);return!1}var qp=Error(s(461)),Le=!1;function on(i,r,o,u){r.child=i===null?DT(r,null,o,u):Fa(r,i.child,o,u)}function IE(i,r,o,u,m){o=o.render;var g=r.ref;if("ref"in u){var E={};for(var w in u)w!=="ref"&&(E[w]=u[w])}else E=u;return ja(r),u=Ap(i,r,o,E,g,m),w=wp(),i!==null&&!Le?(xp(i,r,m),Ls(i,r,m)):(Ft&&w&&rp(r),r.flags|=1,on(i,r,u,m),r.child)}function ME(i,r,o,u,m){if(i===null){var g=o.type;return typeof g=="function"&&!np(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,NE(i,r,g,u,m)):(i=hf(o.type,null,u,r,r.mode,m),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Zp(i,m)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:Fu,o(E,u)&&i.ref===r.ref)return Ls(i,r,m)}return r.flags|=1,i=Ns(g,u),i.ref=r.ref,i.return=r,r.child=i}function NE(i,r,o,u,m){if(i!==null){var g=i.memoizedProps;if(Fu(g,u)&&i.ref===r.ref)if(Le=!1,r.pendingProps=u=g,Zp(i,m))(i.flags&131072)!==0&&(Le=!0);else return r.lanes=i.lanes,Ls(i,r,m)}return Hp(i,r,o,u,m)}function DE(i,r,o,u){var m=u.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=r.child=i.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~g}else u=0,r.child=null;return VE(i,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&pf(r,g!==null?g.cachePool:null),g!==null?PT(r,g):Tp(),kT(r);else return u=r.lanes=536870912,VE(i,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(pf(r,g.cachePool),PT(r,g),xr(),r.memoizedState=null):(i!==null&&pf(r,null),Tp(),xr());return on(i,r,m,o),r.child}function ic(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function VE(i,r,o,u,m){var g=mp();return g=g===null?null:{parent:Pe._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&pf(r,null),Tp(),kT(r),i!==null&&Jo(i,r,u,!0),r.childLanes=m,null}function Nf(i,r){return r=Vf({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function OE(i,r,o){return Fa(r,i.child,null,o),i=Nf(r,r.pendingProps),i.flags|=2,Kn(r),r.memoizedState=null,i}function rN(i,r,o){var u=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Ft){if(u.mode==="hidden")return i=Nf(r,u),r.lanes=536870912,ic(null,i);if(bp(r),(i=ce)?(i=$1(i,ui),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:vr!==null?{id:ls,overflow:us}:null,retryLane:536870912,hydrationErrors:null},o=yT(i),o.return=r,r.child=o,rn=r,ce=null)):i=null,i===null)throw Tr(r);return r.lanes=536870912,null}return Nf(r,u)}var g=i.memoizedState;if(g!==null){var E=g.dehydrated;if(bp(r),m)if(r.flags&256)r.flags&=-257,r=OE(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Le||Jo(i,r,o,!1),m=(o&i.childLanes)!==0,Le||m){if(u=oe,u!==null&&(E=Au(u,o),E!==0&&E!==g.retryLane))throw g.retryLane=E,Oa(i,E),kn(u,i,E),qp;Ff(),r=OE(i,r,o)}else i=g.treeContext,ce=hi(E.nextSibling),rn=r,Ft=!0,_r=null,ui=!1,i!==null&&TT(r,i),r=Nf(r,u),r.flags|=4096;return r}return i=Ns(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Df(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Hp(i,r,o,u,m){return ja(r),o=Ap(i,r,o,u,void 0,m),u=wp(),i!==null&&!Le?(xp(i,r,m),Ls(i,r,m)):(Ft&&u&&rp(r),r.flags|=1,on(i,r,o,m),r.child)}function PE(i,r,o,u,m,g){return ja(r),r.updateQueue=null,o=jT(r,u,o,m),LT(i),u=wp(),i!==null&&!Le?(xp(i,r,g),Ls(i,r,g)):(Ft&&u&&rp(r),r.flags|=1,on(i,r,o,g),r.child)}function kE(i,r,o,u,m){if(ja(r),r.stateNode===null){var g=Yo,E=o.contextType;typeof E=="object"&&E!==null&&(g=an(E)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Bp,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},gp(r),E=o.contextType,g.context=typeof E=="object"&&E!==null?an(E):Yo,g.state=r.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(zp(r,o,E,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&Bp.enqueueReplaceState(g,g.state,null),Wu(r,u,g,m),Zu(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var w=r.memoizedProps,L=Ha(o,w);g.props=L;var Q=g.context,J=o.contextType;E=Yo,typeof J=="object"&&J!==null&&(E=an(J));var it=o.getDerivedStateFromProps;J=typeof it=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||Q!==E)&&bE(r,g,u,E),br=!1;var Y=r.memoizedState;g.state=Y,Wu(r,u,g,m),Zu(),Q=r.memoizedState,w||Y!==Q||br?(typeof it=="function"&&(zp(r,o,it,u),Q=r.memoizedState),(L=br||EE(r,o,L,u,Y,Q,E))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=Q),g.props=u,g.state=Q,g.context=E,u=L):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,yp(i,r),E=r.memoizedProps,J=Ha(o,E),g.props=J,it=r.pendingProps,Y=g.context,Q=o.contextType,L=Yo,typeof Q=="object"&&Q!==null&&(L=an(Q)),w=o.getDerivedStateFromProps,(Q=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==it||Y!==L)&&bE(r,g,u,L),br=!1,Y=r.memoizedState,g.state=Y,Wu(r,u,g,m),Zu();var Z=r.memoizedState;E!==it||Y!==Z||br||i!==null&&i.dependencies!==null&&df(i.dependencies)?(typeof w=="function"&&(zp(r,o,w,u),Z=r.memoizedState),(J=br||EE(r,o,J,u,Y,Z,L)||i!==null&&i.dependencies!==null&&df(i.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Z,L),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Z,L)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Z),g.props=u,g.state=Z,g.context=L,u=J):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,Df(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=Fa(r,i.child,null,m),r.child=Fa(r,null,o,m)):on(i,r,o,m),r.memoizedState=g.state,i=r.child):i=Ls(i,r,m),i}function LE(i,r,o,u){return ka(),r.flags|=256,on(i,r,o,u),r.child}var Gp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $p(i){return{baseLanes:i,cachePool:xT()}}function Kp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Yn),i}function jE(i,r,o){var u=r.pendingProps,m=!1,g=(r.flags&128)!==0,E;if((E=g)||(E=i!==null&&i.memoizedState===null?!1:(xe.current&2)!==0),E&&(m=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ft){if(m?wr(r):xr(),(i=ce)?(i=$1(i,ui),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:vr!==null?{id:ls,overflow:us}:null,retryLane:536870912,hydrationErrors:null},o=yT(i),o.return=r,r.child=o,rn=r,ce=null)):i=null,i===null)throw Tr(r);return Ig(i)?r.lanes=32:r.lanes=536870912,null}var w=u.children;return u=u.fallback,m?(xr(),m=r.mode,w=Vf({mode:"hidden",children:w},m),u=Pa(u,m,o,null),w.return=r,u.return=r,w.sibling=u,r.child=w,u=r.child,u.memoizedState=$p(o),u.childLanes=Kp(i,E,o),r.memoizedState=Gp,ic(null,u)):(wr(r),Qp(r,w))}var L=i.memoizedState;if(L!==null&&(w=L.dehydrated,w!==null)){if(g)r.flags&256?(wr(r),r.flags&=-257,r=Yp(i,r,o)):r.memoizedState!==null?(xr(),r.child=i.child,r.flags|=128,r=null):(xr(),w=u.fallback,m=r.mode,u=Vf({mode:"visible",children:u.children},m),w=Pa(w,m,o,null),w.flags|=2,u.return=r,w.return=r,u.sibling=w,r.child=u,Fa(r,i.child,null,o),u=r.child,u.memoizedState=$p(o),u.childLanes=Kp(i,E,o),r.memoizedState=Gp,r=ic(null,u));else if(wr(r),Ig(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var Q=E.dgst;E=Q,u=Error(s(419)),u.stack="",u.digest=E,Gu({value:u,source:null,stack:null}),r=Yp(i,r,o)}else if(Le||Jo(i,r,o,!1),E=(o&i.childLanes)!==0,Le||E){if(E=oe,E!==null&&(u=Au(E,o),u!==0&&u!==L.retryLane))throw L.retryLane=u,Oa(i,u),kn(E,i,u),qp;Cg(w)||Ff(),r=Yp(i,r,o)}else Cg(w)?(r.flags|=192,r.child=i.child,r=null):(i=L.treeContext,ce=hi(w.nextSibling),rn=r,Ft=!0,_r=null,ui=!1,i!==null&&TT(r,i),r=Qp(r,u.children),r.flags|=4096);return r}return m?(xr(),w=u.fallback,m=r.mode,L=i.child,Q=L.sibling,u=Ns(L,{mode:"hidden",children:u.children}),u.subtreeFlags=L.subtreeFlags&65011712,Q!==null?w=Ns(Q,w):(w=Pa(w,m,o,null),w.flags|=2),w.return=r,u.return=r,u.sibling=w,r.child=u,ic(null,u),u=r.child,w=i.child.memoizedState,w===null?w=$p(o):(m=w.cachePool,m!==null?(L=Pe._currentValue,m=m.parent!==L?{parent:L,pool:L}:m):m=xT(),w={baseLanes:w.baseLanes|o,cachePool:m}),u.memoizedState=w,u.childLanes=Kp(i,E,o),r.memoizedState=Gp,ic(i.child,u)):(wr(r),o=i.child,i=o.sibling,o=Ns(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(E=r.deletions,E===null?(r.deletions=[i],r.flags|=16):E.push(i)),r.child=o,r.memoizedState=null,o)}function Qp(i,r){return r=Vf({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Vf(i,r){return i=Gn(22,i,null,r),i.lanes=0,i}function Yp(i,r,o){return Fa(r,i.child,null,o),i=Qp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function UE(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),cp(i.return,r,o)}function Xp(i,r,o,u,m,g){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m,treeForkCount:g}:(E.isBackwards=r,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=o,E.tailMode=m,E.treeForkCount=g)}function zE(i,r,o){var u=r.pendingProps,m=u.revealOrder,g=u.tail;u=u.children;var E=xe.current,w=(E&2)!==0;if(w?(E=E&1|2,r.flags|=128):E&=1,ct(xe,E),on(i,r,u,o),u=Ft?Hu:0,!w&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&UE(i,o,r);else if(i.tag===19)UE(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)i=o.alternate,i!==null&&Ef(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),Xp(r,!1,m,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(i=m.alternate,i!==null&&Ef(i)===null){r.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}Xp(r,!0,o,null,g,u);break;case"together":Xp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Ls(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Ir|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Jo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Ns(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Ns(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Zp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&df(i)))}function aN(i,r,o){switch(r.tag){case 3:He(r,r.stateNode.containerInfo),Er(r,Pe,i.memoizedState.cache),ka();break;case 27:case 5:ga(r);break;case 4:He(r,r.stateNode.containerInfo);break;case 10:Er(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,bp(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(wr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?jE(i,r,o):(wr(r),i=Ls(i,r,o),i!==null?i.sibling:null);wr(r);break;case 19:var m=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Jo(i,r,o,!1),u=(o&r.childLanes)!==0),m){if(u)return zE(i,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ct(xe,xe.current),u)break;return null;case 22:return r.lanes=0,DE(i,r,o,r.pendingProps);case 24:Er(r,Pe,i.memoizedState.cache)}return Ls(i,r,o)}function BE(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Le=!0;else{if(!Zp(i,o)&&(r.flags&128)===0)return Le=!1,aN(i,r,o);Le=(i.flags&131072)!==0}else Le=!1,Ft&&(r.flags&1048576)!==0&&_T(r,Hu,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(i=za(r.elementType),r.type=i,typeof i=="function")np(i)?(u=Ha(i,u),r.tag=1,r=kE(null,r,i,u,o)):(r.tag=0,r=Hp(null,r,i,u,o));else{if(i!=null){var m=i.$$typeof;if(m===st){r.tag=11,r=IE(null,r,i,u,o);break t}else if(m===I){r.tag=14,r=ME(null,r,i,u,o);break t}}throw r=ae(i)||i,Error(s(306,r,""))}}return r;case 0:return Hp(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,m=Ha(u,r.pendingProps),kE(i,r,u,m,o);case 3:t:{if(He(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;m=g.element,yp(i,r),Wu(r,u,null,o);var E=r.memoizedState;if(u=E.cache,Er(r,Pe,u),u!==g.cache&&hp(r,[Pe],o,!0),Zu(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=LE(i,r,u,o);break t}else if(u!==m){m=ai(Error(s(424)),r),Gu(m),r=LE(i,r,u,o);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ce=hi(i.firstChild),rn=r,Ft=!0,_r=null,ui=!0,o=DT(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ka(),u===m){r=Ls(i,r,o);break t}on(i,r,u,o)}r=r.child}return r;case 26:return Df(i,r),i===null?(o=W1(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ft||(o=r.type,i=r.pendingProps,u=Yf(Nt.current).createElement(o),u[De]=r,u[Ze]=i,ln(u,o,i),Ve(u),r.stateNode=u):r.memoizedState=W1(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return ga(r),i===null&&Ft&&(u=r.stateNode=Y1(r.type,r.pendingProps,Nt.current),rn=r,ui=!0,m=ce,Or(r.type)?(Mg=m,ce=hi(u.firstChild)):ce=m),on(i,r,r.pendingProps.children,o),Df(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ft&&((m=u=ce)&&(u=kN(u,r.type,r.pendingProps,ui),u!==null?(r.stateNode=u,rn=r,ce=hi(u.firstChild),ui=!1,m=!0):m=!1),m||Tr(r)),ga(r),m=r.type,g=r.pendingProps,E=i!==null?i.memoizedProps:null,u=g.children,wg(m,g)?u=null:E!==null&&wg(m,E)&&(r.flags|=32),r.memoizedState!==null&&(m=Ap(i,r,ZM,null,null,o),vc._currentValue=m),Df(i,r),on(i,r,u,o),r.child;case 6:return i===null&&Ft&&((i=o=ce)&&(o=LN(o,r.pendingProps,ui),o!==null?(r.stateNode=o,rn=r,ce=null,i=!0):i=!1),i||Tr(r)),null;case 13:return jE(i,r,o);case 4:return He(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Fa(r,null,u,o):on(i,r,u,o),r.child;case 11:return IE(i,r,r.type,r.pendingProps,o);case 7:return on(i,r,r.pendingProps,o),r.child;case 8:return on(i,r,r.pendingProps.children,o),r.child;case 12:return on(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Er(r,r.type,u.value),on(i,r,u.children,o),r.child;case 9:return m=r.type._context,u=r.pendingProps.children,ja(r),m=an(m),u=u(m),r.flags|=1,on(i,r,u,o),r.child;case 14:return ME(i,r,r.type,r.pendingProps,o);case 15:return NE(i,r,r.type,r.pendingProps,o);case 19:return zE(i,r,o);case 31:return rN(i,r,o);case 22:return DE(i,r,o,r.pendingProps);case 24:return ja(r),u=an(Pe),i===null?(m=mp(),m===null&&(m=oe,g=fp(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),r.memoizedState={parent:u,cache:m},gp(r),Er(r,Pe,m)):((i.lanes&o)!==0&&(yp(i,r),Wu(r,null,null,o),Zu()),m=i.memoizedState,g=r.memoizedState,m.parent!==u?(m={parent:u,cache:u},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),Er(r,Pe,u)):(u=g.cache,Er(r,Pe,u),u!==m.cache&&hp(r,[Pe],o,!0))),on(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function js(i){i.flags|=4}function Wp(i,r,o,u,m){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(m1())i.flags|=8192;else throw Ba=yf,pp}else i.flags&=-16777217}function FE(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!ib(r))if(m1())i.flags|=8192;else throw Ba=yf,pp}function Of(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Uh():536870912,i.lanes|=r,hl|=r)}function sc(i,r){if(!Ft)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function he(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function oN(i,r,o){var u=r.pendingProps;switch(ap(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(r),null;case 1:return he(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Os(Pe),fe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Wo(r)?js(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,lp())),he(r),null;case 26:var m=r.type,g=r.memoizedState;return i===null?(js(r),g!==null?(he(r),FE(r,g)):(he(r),Wp(r,m,null,u,o))):g?g!==i.memoizedState?(js(r),he(r),FE(r,g)):(he(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&js(r),he(r),Wp(r,m,i,u,o)),null;case 27:if(Mo(r),o=Nt.current,m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&js(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return he(r),null}i=mt.current,Wo(r)?ET(r):(i=Y1(m,u,o),r.stateNode=i,js(r))}return he(r),null;case 5:if(Mo(r),m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&js(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return he(r),null}if(g=mt.current,Wo(r))ET(r);else{var E=Yf(Nt.current);switch(g){case 1:g=E.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=E.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=E.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?E.createElement(m,{is:u.is}):E.createElement(m)}}g[De]=r,g[Ze]=u;t:for(E=r.child;E!==null;){if(E.tag===5||E.tag===6)g.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===r)break t;for(;E.sibling===null;){if(E.return===null||E.return===r)break t;E=E.return}E.sibling.return=E.return,E=E.sibling}r.stateNode=g;t:switch(ln(g,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&js(r)}}return he(r),Wp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&js(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Nt.current,Wo(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,m=rn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}i[De]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||j1(i.nodeValue,o)),i||Tr(r,!0)}else i=Yf(i).createTextNode(u),i[De]=r,r.stateNode=i}return he(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=Wo(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[De]=r}else ka(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;he(r),i=!1}else o=lp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Kn(r),r):(Kn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return he(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Wo(r),u!==null&&u.dehydrated!==null){if(i===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[De]=r}else ka(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;he(r),m=!1}else m=lp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(Kn(r),r):(Kn(r),null)}return Kn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==m&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Of(r,r.updateQueue),he(r),null);case 4:return fe(),i===null&&Tg(r.stateNode.containerInfo),he(r),null;case 10:return Os(r.type),he(r),null;case 19:if(rt(xe),u=r.memoizedState,u===null)return he(r),null;if(m=(r.flags&128)!==0,g=u.rendering,g===null)if(m)sc(u,!1);else{if(Ee!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Ef(i),g!==null){for(r.flags|=128,sc(u,!1),i=g.updateQueue,r.updateQueue=i,Of(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)gT(o,i),o=o.sibling;return ct(xe,xe.current&1|2),Ft&&Ds(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&En()>Uf&&(r.flags|=128,m=!0,sc(u,!1),r.lanes=4194304)}else{if(!m)if(i=Ef(g),i!==null){if(r.flags|=128,m=!0,i=i.updateQueue,r.updateQueue=i,Of(r,i),sc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Ft)return he(r),null}else 2*En()-u.renderingStartTime>Uf&&o!==536870912&&(r.flags|=128,m=!0,sc(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(i=u.last,i!==null?i.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=En(),i.sibling=null,o=xe.current,ct(xe,m?o&1|2:o&1),Ft&&Ds(r,u.treeForkCount),i):(he(r),null);case 22:case 23:return Kn(r),Ep(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(he(r),r.subtreeFlags&6&&(r.flags|=8192)):he(r),o=r.updateQueue,o!==null&&Of(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&rt(Ua),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Os(Pe),he(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function lN(i,r){switch(ap(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Os(Pe),fe(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Mo(r),null;case 31:if(r.memoizedState!==null){if(Kn(r),r.alternate===null)throw Error(s(340));ka()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Kn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ka()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return rt(xe),null;case 4:return fe(),null;case 10:return Os(r.type),null;case 22:case 23:return Kn(r),Ep(),i!==null&&rt(Ua),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Os(Pe),null;case 25:return null;default:return null}}function qE(i,r){switch(ap(r),r.tag){case 3:Os(Pe),fe();break;case 26:case 27:case 5:Mo(r);break;case 4:fe();break;case 31:r.memoizedState!==null&&Kn(r);break;case 13:Kn(r);break;case 19:rt(xe);break;case 10:Os(r.type);break;case 22:case 23:Kn(r),Ep(),i!==null&&rt(Ua);break;case 24:Os(Pe)}}function rc(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&i)===i){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==m)}}catch(w){ee(r,r.return,w)}}function Rr(i,r,o){try{var u=r.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var g=m.next;u=g;do{if((u.tag&i)===i){var E=u.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,m=r;var L=o,Q=w;try{Q()}catch(J){ee(m,L,J)}}}u=u.next}while(u!==g)}}catch(J){ee(r,r.return,J)}}function HE(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{OT(r,o)}catch(u){ee(i,i.return,u)}}}function GE(i,r,o){o.props=Ha(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){ee(i,r,u)}}function ac(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(m){ee(i,r,m)}}function cs(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){ee(i,r,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){ee(i,r,m)}else o.current=null}function $E(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){ee(i,i.return,m)}}function Jp(i,r,o){try{var u=i.stateNode;MN(u,i.type,o,r),u[Ze]=r}catch(m){ee(i,i.return,m)}}function KE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Or(i.type)||i.tag===4}function tg(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||KE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Or(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function eg(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ri));else if(u!==4&&(u===27&&Or(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(eg(i,r,o),i=i.sibling;i!==null;)eg(i,r,o),i=i.sibling}function Pf(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&Or(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Pf(i,r,o),i=i.sibling;i!==null;)Pf(i,r,o),i=i.sibling}function QE(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);ln(r,u,o),r[De]=i,r[Ze]=o}catch(g){ee(i,i.return,g)}}var Us=!1,je=!1,ng=!1,YE=typeof WeakSet=="function"?WeakSet:Set,Je=null;function uN(i,r){if(i=i.containerInfo,Sg=nd,i=oT(i),Ym(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var E=0,w=-1,L=-1,Q=0,J=0,it=i,Y=null;e:for(;;){for(var Z;it!==o||m!==0&&it.nodeType!==3||(w=E+m),it!==g||u!==0&&it.nodeType!==3||(L=E+u),it.nodeType===3&&(E+=it.nodeValue.length),(Z=it.firstChild)!==null;)Y=it,it=Z;for(;;){if(it===i)break e;if(Y===o&&++Q===m&&(w=E),Y===g&&++J===u&&(L=E),(Z=it.nextSibling)!==null)break;it=Y,Y=it.parentNode}it=Z}o=w===-1||L===-1?null:{start:w,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ag={focusedElem:i,selectionRange:o},nd=!1,Je=r;Je!==null;)if(r=Je,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Je=i;else for(;Je!==null;){switch(r=Je,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,m=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var gt=Ha(o.type,m);i=u.getSnapshotBeforeUpdate(gt,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Tt){ee(o,o.return,Tt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Rg(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Rg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Je=i;break}Je=r.return}}function XE(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Bs(i,o),u&4&&rc(5,o);break;case 1:if(Bs(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(E){ee(o,o.return,E)}else{var m=Ha(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(m,r,i.__reactInternalSnapshotBeforeUpdate)}catch(E){ee(o,o.return,E)}}u&64&&HE(o),u&512&&ac(o,o.return);break;case 3:if(Bs(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{OT(i,r)}catch(E){ee(o,o.return,E)}}break;case 27:r===null&&u&4&&QE(o);case 26:case 5:Bs(i,o),r===null&&u&4&&$E(o),u&512&&ac(o,o.return);break;case 12:Bs(i,o);break;case 31:Bs(i,o),u&4&&JE(i,o);break;case 13:Bs(i,o),u&4&&t1(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=vN.bind(null,o),jN(i,o))));break;case 22:if(u=o.memoizedState!==null||Us,!u){r=r!==null&&r.memoizedState!==null||je,m=Us;var g=je;Us=u,(je=r)&&!g?Fs(i,o,(o.subtreeFlags&8772)!==0):Bs(i,o),Us=m,je=g}break;case 30:break;default:Bs(i,o)}}function ZE(i){var r=i.alternate;r!==null&&(i.alternate=null,ZE(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Po(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var me=null,Dn=!1;function zs(i,r,o){for(o=o.child;o!==null;)WE(i,r,o),o=o.sibling}function WE(i,r,o){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Si,o)}catch{}switch(o.tag){case 26:je||cs(o,r),zs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:je||cs(o,r);var u=me,m=Dn;Or(o.type)&&(me=o.stateNode,Dn=!1),zs(i,r,o),pc(o.stateNode),me=u,Dn=m;break;case 5:je||cs(o,r);case 6:if(u=me,m=Dn,me=null,zs(i,r,o),me=u,Dn=m,me!==null)if(Dn)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(o.stateNode)}catch(g){ee(o,r,g)}else try{me.removeChild(o.stateNode)}catch(g){ee(o,r,g)}break;case 18:me!==null&&(Dn?(i=me,H1(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),_l(i)):H1(me,o.stateNode));break;case 4:u=me,m=Dn,me=o.stateNode.containerInfo,Dn=!0,zs(i,r,o),me=u,Dn=m;break;case 0:case 11:case 14:case 15:Rr(2,o,r),je||Rr(4,o,r),zs(i,r,o);break;case 1:je||(cs(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&GE(o,r,u)),zs(i,r,o);break;case 21:zs(i,r,o);break;case 22:je=(u=je)||o.memoizedState!==null,zs(i,r,o),je=u;break;default:zs(i,r,o)}}function JE(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{_l(i)}catch(o){ee(r,r.return,o)}}}function t1(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{_l(i)}catch(o){ee(r,r.return,o)}}function cN(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new YE),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new YE),r;default:throw Error(s(435,i.tag))}}function kf(i,r){var o=cN(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var m=_N.bind(null,i,u);u.then(m,m)}})}function Vn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],g=i,E=r,w=E;t:for(;w!==null;){switch(w.tag){case 27:if(Or(w.type)){me=w.stateNode,Dn=!1;break t}break;case 5:me=w.stateNode,Dn=!1;break t;case 3:case 4:me=w.stateNode.containerInfo,Dn=!0;break t}w=w.return}if(me===null)throw Error(s(160));WE(g,E,m),me=null,Dn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)e1(r,i),r=r.sibling}var Vi=null;function e1(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Vn(r,i),On(i),u&4&&(Rr(3,i,i.return),rc(3,i),Rr(5,i,i.return));break;case 1:Vn(r,i),On(i),u&512&&(je||o===null||cs(o,o.return)),u&64&&Us&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=Vi;if(Vn(r,i),On(i),u&512&&(je||o===null||cs(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,m=m.ownerDocument||m;e:switch(u){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Xi]||g[De]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(u),m.head.insertBefore(g,m.querySelector("head > title"))),ln(g,u,o),g[De]=i,Ve(g),u=g;break t;case"link":var E=eb("link","href",m).get(u+(o.href||""));if(E){for(var w=0;w<E.length;w++)if(g=E[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(w,1);break e}}g=m.createElement(u),ln(g,u,o),m.head.appendChild(g);break;case"meta":if(E=eb("meta","content",m).get(u+(o.content||""))){for(w=0;w<E.length;w++)if(g=E[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(w,1);break e}}g=m.createElement(u),ln(g,u,o),m.head.appendChild(g);break;default:throw Error(s(468,u))}g[De]=i,Ve(g),u=g}i.stateNode=u}else nb(m,i.type,i.stateNode);else i.stateNode=tb(m,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?nb(m,i.type,i.stateNode):tb(m,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Jp(i,i.memoizedProps,o.memoizedProps)}break;case 27:Vn(r,i),On(i),u&512&&(je||o===null||cs(o,o.return)),o!==null&&u&4&&Jp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Vn(r,i),On(i),u&512&&(je||o===null||cs(o,o.return)),i.flags&32){m=i.stateNode;try{Nn(m,"")}catch(gt){ee(i,i.return,gt)}}u&4&&i.stateNode!=null&&(m=i.memoizedProps,Jp(i,m,o!==null?o.memoizedProps:m)),u&1024&&(ng=!0);break;case 6:if(Vn(r,i),On(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(gt){ee(i,i.return,gt)}}break;case 3:if(Wf=null,m=Vi,Vi=Xf(r.containerInfo),Vn(r,i),Vi=m,On(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{_l(r.containerInfo)}catch(gt){ee(i,i.return,gt)}ng&&(ng=!1,n1(i));break;case 4:u=Vi,Vi=Xf(i.stateNode.containerInfo),Vn(r,i),On(i),Vi=u;break;case 12:Vn(r,i),On(i);break;case 31:Vn(r,i),On(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,kf(i,u)));break;case 13:Vn(r,i),On(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(jf=En()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,kf(i,u)));break;case 22:m=i.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,Q=Us,J=je;if(Us=Q||m,je=J||L,Vn(r,i),je=J,Us=Q,On(i),u&8192)t:for(r=i.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||L||Us||je||Ga(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){L=o=r;try{if(g=L.stateNode,m)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=L.stateNode;var it=L.memoizedProps.style,Y=it!=null&&it.hasOwnProperty("display")?it.display:null;w.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(gt){ee(L,L.return,gt)}}}else if(r.tag===6){if(o===null){L=r;try{L.stateNode.nodeValue=m?"":L.memoizedProps}catch(gt){ee(L,L.return,gt)}}}else if(r.tag===18){if(o===null){L=r;try{var Z=L.stateNode;m?G1(Z,!0):G1(L.stateNode,!1)}catch(gt){ee(L,L.return,gt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,kf(i,o))));break;case 19:Vn(r,i),On(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,kf(i,u)));break;case 30:break;case 21:break;default:Vn(r,i),On(i)}}function On(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(KE(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,g=tg(i);Pf(i,g,m);break;case 5:var E=o.stateNode;o.flags&32&&(Nn(E,""),o.flags&=-33);var w=tg(i);Pf(i,w,E);break;case 3:case 4:var L=o.stateNode.containerInfo,Q=tg(i);eg(i,Q,L);break;default:throw Error(s(161))}}catch(J){ee(i,i.return,J)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function n1(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;n1(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Bs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)XE(i,r.alternate,r),r=r.sibling}function Ga(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Rr(4,r,r.return),Ga(r);break;case 1:cs(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&GE(r,r.return,o),Ga(r);break;case 27:pc(r.stateNode);case 26:case 5:cs(r,r.return),Ga(r);break;case 22:r.memoizedState===null&&Ga(r);break;case 30:Ga(r);break;default:Ga(r)}i=i.sibling}}function Fs(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,m=i,g=r,E=g.flags;switch(g.tag){case 0:case 11:case 15:Fs(m,g,o),rc(4,g);break;case 1:if(Fs(m,g,o),u=g,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Q){ee(u,u.return,Q)}if(u=g,m=u.updateQueue,m!==null){var w=u.stateNode;try{var L=m.shared.hiddenCallbacks;if(L!==null)for(m.shared.hiddenCallbacks=null,m=0;m<L.length;m++)VT(L[m],w)}catch(Q){ee(u,u.return,Q)}}o&&E&64&&HE(g),ac(g,g.return);break;case 27:QE(g);case 26:case 5:Fs(m,g,o),o&&u===null&&E&4&&$E(g),ac(g,g.return);break;case 12:Fs(m,g,o);break;case 31:Fs(m,g,o),o&&E&4&&JE(m,g);break;case 13:Fs(m,g,o),o&&E&4&&t1(m,g);break;case 22:g.memoizedState===null&&Fs(m,g,o),ac(g,g.return);break;case 30:break;default:Fs(m,g,o)}r=r.sibling}}function ig(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&$u(o))}function sg(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&$u(i))}function Oi(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)i1(i,r,o,u),r=r.sibling}function i1(i,r,o,u){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Oi(i,r,o,u),m&2048&&rc(9,r);break;case 1:Oi(i,r,o,u);break;case 3:Oi(i,r,o,u),m&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&$u(i)));break;case 12:if(m&2048){Oi(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,E=g.id,w=g.onPostCommit;typeof w=="function"&&w(E,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(L){ee(r,r.return,L)}}else Oi(i,r,o,u);break;case 31:Oi(i,r,o,u);break;case 13:Oi(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,E=r.alternate,r.memoizedState!==null?g._visibility&2?Oi(i,r,o,u):oc(i,r):g._visibility&2?Oi(i,r,o,u):(g._visibility|=2,ll(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),m&2048&&ig(E,r);break;case 24:Oi(i,r,o,u),m&2048&&sg(r.alternate,r);break;default:Oi(i,r,o,u)}}function ll(i,r,o,u,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,E=r,w=o,L=u,Q=E.flags;switch(E.tag){case 0:case 11:case 15:ll(g,E,w,L,m),rc(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?ll(g,E,w,L,m):oc(g,E):(J._visibility|=2,ll(g,E,w,L,m)),m&&Q&2048&&ig(E.alternate,E);break;case 24:ll(g,E,w,L,m),m&&Q&2048&&sg(E.alternate,E);break;default:ll(g,E,w,L,m)}r=r.sibling}}function oc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,m=u.flags;switch(u.tag){case 22:oc(o,u),m&2048&&ig(u.alternate,u);break;case 24:oc(o,u),m&2048&&sg(u.alternate,u);break;default:oc(o,u)}r=r.sibling}}var lc=8192;function ul(i,r,o){if(i.subtreeFlags&lc)for(i=i.child;i!==null;)s1(i,r,o),i=i.sibling}function s1(i,r,o){switch(i.tag){case 26:ul(i,r,o),i.flags&lc&&i.memoizedState!==null&&XN(o,Vi,i.memoizedState,i.memoizedProps);break;case 5:ul(i,r,o);break;case 3:case 4:var u=Vi;Vi=Xf(i.stateNode.containerInfo),ul(i,r,o),Vi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=lc,lc=16777216,ul(i,r,o),lc=u):ul(i,r,o));break;default:ul(i,r,o)}}function r1(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function uc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Je=u,o1(u,i)}r1(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)a1(i),i=i.sibling}function a1(i){switch(i.tag){case 0:case 11:case 15:uc(i),i.flags&2048&&Rr(9,i,i.return);break;case 3:uc(i);break;case 12:uc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Lf(i)):uc(i);break;default:uc(i)}}function Lf(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Je=u,o1(u,i)}r1(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Rr(8,r,r.return),Lf(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Lf(r));break;default:Lf(r)}i=i.sibling}}function o1(i,r){for(;Je!==null;){var o=Je;switch(o.tag){case 0:case 11:case 15:Rr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:$u(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Je=u;else t:for(o=i;Je!==null;){u=Je;var m=u.sibling,g=u.return;if(ZE(u),u===o){Je=null;break t}if(m!==null){m.return=g,Je=m;break t}Je=g}}}var hN={getCacheForType:function(i){var r=an(Pe),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return an(Pe).controller.signal}},fN=typeof WeakMap=="function"?WeakMap:Map,Xt=0,oe=null,Ot=null,Lt=0,te=0,Qn=null,Cr=!1,cl=!1,rg=!1,qs=0,Ee=0,Ir=0,$a=0,ag=0,Yn=0,hl=0,cc=null,Pn=null,og=!1,jf=0,l1=0,Uf=1/0,zf=null,Mr=null,$e=0,Nr=null,fl=null,Hs=0,lg=0,ug=null,u1=null,hc=0,cg=null;function Xn(){return(Xt&2)!==0&&Lt!==0?Lt&-Lt:tt.T!==null?gg():zh()}function c1(){if(Yn===0)if((Lt&536870912)===0||Ft){var i=_a;_a<<=1,(_a&3932160)===0&&(_a=262144),Yn=i}else Yn=536870912;return i=$n.current,i!==null&&(i.flags|=32),Yn}function kn(i,r,o){(i===oe&&(te===2||te===9)||i.cancelPendingCommit!==null)&&(dl(i,0),Dr(i,Lt,Yn,!1)),Ta(i,o),((Xt&2)===0||i!==oe)&&(i===oe&&((Xt&2)===0&&($a|=o),Ee===4&&Dr(i,Lt,Yn,!1)),hs(i))}function h1(i,r,o){if((Xt&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||Ai(i,r),m=u?pN(i,r):fg(i,r,!0),g=u;do{if(m===0){cl&&!u&&Dr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!dN(o)){m=fg(i,r,!1),g=!1;continue}if(m===2){if(g=r,i.errorRecoveryDisabledLanes&g)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;t:{var w=i;m=cc;var L=w.current.memoizedState.isDehydrated;if(L&&(dl(w,E).flags|=256),E=fg(w,E,!1),E!==2){if(rg&&!L){w.errorRecoveryDisabledLanes|=g,$a|=g,m=4;break t}g=Pn,Pn=m,g!==null&&(Pn===null?Pn=g:Pn.push.apply(Pn,g))}m=E}if(g=!1,m!==2)continue}}if(m===1){dl(i,0),Dr(i,r,0,!0);break}t:{switch(u=i,g=m,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Dr(u,r,Yn,!Cr);break t;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(m=jf+300-En(),10<m)){if(Dr(u,r,Yn,!Cr),Ki(u,0,!0)!==0)break t;Hs=r,u.timeoutHandle=F1(f1.bind(null,u,o,Pn,zf,og,r,Yn,$a,hl,Cr,g,"Throttled",-0,0),m);break t}f1(u,o,Pn,zf,og,r,Yn,$a,hl,Cr,g,null,-0,0)}}break}while(!0);hs(i)}function f1(i,r,o,u,m,g,E,w,L,Q,J,it,Y,Z){if(i.timeoutHandle=-1,it=r.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ri},s1(r,g,it);var gt=(g&62914560)===g?jf-En():(g&4194048)===g?l1-En():0;if(gt=ZN(it,gt),gt!==null){Hs=g,i.cancelPendingCommit=gt(T1.bind(null,i,r,g,o,u,m,E,w,L,J,it,null,Y,Z)),Dr(i,g,E,!Q);return}}T1(i,r,g,o,u,m,E,w,L)}function dN(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],g=m.getSnapshot;m=m.value;try{if(!Hn(g(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Dr(i,r,o,u){r&=~ag,r&=~$a,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var m=r;0<m;){var g=31-Ae(m),E=1<<g;u[g]=-1,m&=~E}o!==0&&Ea(i,o,r)}function Bf(){return(Xt&6)===0?(fc(0),!1):!0}function hg(){if(Ot!==null){if(te===0)var i=Ot.return;else i=Ot,Vs=La=null,Rp(i),il=null,Qu=0,i=Ot;for(;i!==null;)qE(i.alternate,i),i=i.return;Ot=null}}function dl(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,VN(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Hs=0,hg(),oe=i,Ot=o=Ns(i.current,null),Lt=r,te=0,Qn=null,Cr=!1,cl=Ai(i,r),rg=!1,hl=Yn=ag=$a=Ir=Ee=0,Pn=cc=null,og=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var m=31-Ae(u),g=1<<m;r|=i[m],u&=~g}return qs=r,lf(),o}function d1(i,r){It=null,tt.H=nc,r===nl||r===gf?(r=IT(),te=3):r===pp?(r=IT(),te=4):te=r===qp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Qn=r,Ot===null&&(Ee=1,Mf(i,ai(r,i.current)))}function m1(){var i=$n.current;return i===null?!0:(Lt&4194048)===Lt?ci===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?i===ci:!1}function p1(){var i=tt.H;return tt.H=nc,i===null?nc:i}function g1(){var i=tt.A;return tt.A=hN,i}function Ff(){Ee=4,Cr||(Lt&4194048)!==Lt&&$n.current!==null||(cl=!0),(Ir&134217727)===0&&($a&134217727)===0||oe===null||Dr(oe,Lt,Yn,!1)}function fg(i,r,o){var u=Xt;Xt|=2;var m=p1(),g=g1();(oe!==i||Lt!==r)&&(zf=null,dl(i,r)),r=!1;var E=Ee;t:do try{if(te!==0&&Ot!==null){var w=Ot,L=Qn;switch(te){case 8:hg(),E=6;break t;case 3:case 2:case 9:case 6:$n.current===null&&(r=!0);var Q=te;if(te=0,Qn=null,ml(i,w,L,Q),o&&cl){E=0;break t}break;default:Q=te,te=0,Qn=null,ml(i,w,L,Q)}}mN(),E=Ee;break}catch(J){d1(i,J)}while(!0);return r&&i.shellSuspendCounter++,Vs=La=null,Xt=u,tt.H=m,tt.A=g,Ot===null&&(oe=null,Lt=0,lf()),E}function mN(){for(;Ot!==null;)y1(Ot)}function pN(i,r){var o=Xt;Xt|=2;var u=p1(),m=g1();oe!==i||Lt!==r?(zf=null,Uf=En()+500,dl(i,r)):cl=Ai(i,r);t:do try{if(te!==0&&Ot!==null){r=Ot;var g=Qn;e:switch(te){case 1:te=0,Qn=null,ml(i,r,g,1);break;case 2:case 9:if(RT(g)){te=0,Qn=null,v1(r);break}r=function(){te!==2&&te!==9||oe!==i||(te=7),hs(i)},g.then(r,r);break t;case 3:te=7;break t;case 4:te=5;break t;case 7:RT(g)?(te=0,Qn=null,v1(r)):(te=0,Qn=null,ml(i,r,g,7));break;case 5:var E=null;switch(Ot.tag){case 26:E=Ot.memoizedState;case 5:case 27:var w=Ot;if(E?ib(E):w.stateNode.complete){te=0,Qn=null;var L=w.sibling;if(L!==null)Ot=L;else{var Q=w.return;Q!==null?(Ot=Q,qf(Q)):Ot=null}break e}}te=0,Qn=null,ml(i,r,g,5);break;case 6:te=0,Qn=null,ml(i,r,g,6);break;case 8:hg(),Ee=6;break t;default:throw Error(s(462))}}gN();break}catch(J){d1(i,J)}while(!0);return Vs=La=null,tt.H=u,tt.A=m,Xt=o,Ot!==null?0:(oe=null,Lt=0,lf(),Ee)}function gN(){for(;Ot!==null&&!Fm();)y1(Ot)}function y1(i){var r=BE(i.alternate,i,qs);i.memoizedProps=i.pendingProps,r===null?qf(i):Ot=r}function v1(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=PE(o,r,r.pendingProps,r.type,void 0,Lt);break;case 11:r=PE(o,r,r.pendingProps,r.type.render,r.ref,Lt);break;case 5:Rp(r);default:qE(o,r),r=Ot=gT(r,qs),r=BE(o,r,qs)}i.memoizedProps=i.pendingProps,r===null?qf(i):Ot=r}function ml(i,r,o,u){Vs=La=null,Rp(r),il=null,Qu=0;var m=r.return;try{if(sN(i,m,r,o,Lt)){Ee=1,Mf(i,ai(o,i.current)),Ot=null;return}}catch(g){if(m!==null)throw Ot=m,g;Ee=1,Mf(i,ai(o,i.current)),Ot=null;return}r.flags&32768?(Ft||u===1?i=!0:cl||(Lt&536870912)!==0?i=!1:(Cr=i=!0,(u===2||u===9||u===3||u===6)&&(u=$n.current,u!==null&&u.tag===13&&(u.flags|=16384))),_1(r,i)):qf(r)}function qf(i){var r=i;do{if((r.flags&32768)!==0){_1(r,Cr);return}i=r.return;var o=oN(r.alternate,r,qs);if(o!==null){Ot=o;return}if(r=r.sibling,r!==null){Ot=r;return}Ot=r=i}while(r!==null);Ee===0&&(Ee=5)}function _1(i,r){do{var o=lN(i.alternate,i);if(o!==null){o.flags&=32767,Ot=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ot=i;return}Ot=i=o}while(i!==null);Ee=6,Ot=null}function T1(i,r,o,u,m,g,E,w,L){i.cancelPendingCommit=null;do Hf();while($e!==0);if((Xt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=tp,Gm(i,o,g,E,w,L),i===oe&&(Ot=oe=null,Lt=0),fl=r,Nr=i,Hs=o,lg=g,ug=m,u1=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,TN(lr,function(){return w1(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=tt.T,tt.T=null,m=lt.p,lt.p=2,E=Xt,Xt|=4;try{uN(i,r,o)}finally{Xt=E,lt.p=m,tt.T=u}}$e=1,E1(),b1(),S1()}}function E1(){if($e===1){$e=0;var i=Nr,r=fl,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=tt.T,tt.T=null;var u=lt.p;lt.p=2;var m=Xt;Xt|=4;try{e1(r,i);var g=Ag,E=oT(i.containerInfo),w=g.focusedElem,L=g.selectionRange;if(E!==w&&w&&w.ownerDocument&&aT(w.ownerDocument.documentElement,w)){if(L!==null&&Ym(w)){var Q=L.start,J=L.end;if(J===void 0&&(J=Q),"selectionStart"in w)w.selectionStart=Q,w.selectionEnd=Math.min(J,w.value.length);else{var it=w.ownerDocument||document,Y=it&&it.defaultView||window;if(Y.getSelection){var Z=Y.getSelection(),gt=w.textContent.length,Tt=Math.min(L.start,gt),re=L.end===void 0?Tt:Math.min(L.end,gt);!Z.extend&&Tt>re&&(E=re,re=Tt,Tt=E);var G=rT(w,Tt),z=rT(w,re);if(G&&z&&(Z.rangeCount!==1||Z.anchorNode!==G.node||Z.anchorOffset!==G.offset||Z.focusNode!==z.node||Z.focusOffset!==z.offset)){var K=it.createRange();K.setStart(G.node,G.offset),Z.removeAllRanges(),Tt>re?(Z.addRange(K),Z.extend(z.node,z.offset)):(K.setEnd(z.node,z.offset),Z.addRange(K))}}}}for(it=[],Z=w;Z=Z.parentNode;)Z.nodeType===1&&it.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<it.length;w++){var et=it[w];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}nd=!!Sg,Ag=Sg=null}finally{Xt=m,lt.p=u,tt.T=o}}i.current=r,$e=2}}function b1(){if($e===2){$e=0;var i=Nr,r=fl,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=tt.T,tt.T=null;var u=lt.p;lt.p=2;var m=Xt;Xt|=4;try{XE(i,r.alternate,r)}finally{Xt=m,lt.p=u,tt.T=o}}$e=3}}function S1(){if($e===4||$e===3){$e=0,Vh();var i=Nr,r=fl,o=Hs,u=u1;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?$e=5:($e=0,fl=Nr=null,A1(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Mr=null),Rs(o),r=r.stateNode,nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Si,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=tt.T,m=lt.p,lt.p=2,tt.T=null;try{for(var g=i.onRecoverableError,E=0;E<u.length;E++){var w=u[E];g(w.value,{componentStack:w.stack})}}finally{tt.T=r,lt.p=m}}(Hs&3)!==0&&Hf(),hs(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===cg?hc++:(hc=0,cg=i):hc=0,fc(0)}}function A1(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,$u(r)))}function Hf(){return E1(),b1(),S1(),w1()}function w1(){if($e!==5)return!1;var i=Nr,r=lg;lg=0;var o=Rs(Hs),u=tt.T,m=lt.p;try{lt.p=32>o?32:o,tt.T=null,o=ug,ug=null;var g=Nr,E=Hs;if($e=0,fl=Nr=null,Hs=0,(Xt&6)!==0)throw Error(s(331));var w=Xt;if(Xt|=4,a1(g.current),i1(g,g.current,E,o),Xt=w,fc(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Si,g)}catch{}return!0}finally{lt.p=m,tt.T=u,A1(i,r)}}function x1(i,r,o){r=ai(o,r),r=Fp(i.stateNode,r,2),i=Ar(i,r,2),i!==null&&(Ta(i,2),hs(i))}function ee(i,r,o){if(i.tag===3)x1(i,i,o);else for(;r!==null;){if(r.tag===3){x1(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Mr===null||!Mr.has(u))){i=ai(o,i),o=RE(2),u=Ar(r,o,2),u!==null&&(CE(o,u,r,i),Ta(u,2),hs(u));break}}r=r.return}}function dg(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new fN;var m=new Set;u.set(r,m)}else m=u.get(r),m===void 0&&(m=new Set,u.set(r,m));m.has(o)||(rg=!0,m.add(o),i=yN.bind(null,i,r,o),r.then(i,i))}function yN(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,oe===i&&(Lt&o)===o&&(Ee===4||Ee===3&&(Lt&62914560)===Lt&&300>En()-jf?(Xt&2)===0&&dl(i,0):ag|=o,hl===Lt&&(hl=0)),hs(i)}function R1(i,r){r===0&&(r=Uh()),i=Oa(i,r),i!==null&&(Ta(i,r),hs(i))}function vN(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),R1(i,o)}function _N(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),R1(i,o)}function TN(i,r){return Ge(i,r)}var Gf=null,pl=null,mg=!1,$f=!1,pg=!1,Vr=0;function hs(i){i!==pl&&i.next===null&&(pl===null?Gf=pl=i:pl=pl.next=i),$f=!0,mg||(mg=!0,bN())}function fc(i,r){if(!pg&&$f){pg=!0;do for(var o=!1,u=Gf;u!==null;){if(i!==0){var m=u.pendingLanes;if(m===0)var g=0;else{var E=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-Ae(42|i)+1)-1,g&=m&~(E&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,N1(u,g))}else g=Lt,g=Ki(u,u===oe?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Ai(u,g)||(o=!0,N1(u,g));u=u.next}while(o);pg=!1}}function EN(){C1()}function C1(){$f=mg=!1;var i=0;Vr!==0&&DN()&&(i=Vr);for(var r=En(),o=null,u=Gf;u!==null;){var m=u.next,g=I1(u,r);g===0?(u.next=null,o===null?Gf=m:o.next=m,m===null&&(pl=o)):(o=u,(i!==0||(g&3)!==0)&&($f=!0)),u=m}$e!==0&&$e!==5||fc(i),Vr!==0&&(Vr=0)}function I1(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var E=31-Ae(g),w=1<<E,L=m[E];L===-1?((w&o)===0||(w&u)!==0)&&(m[E]=Hm(w,r)):L<=r&&(i.expiredLanes|=w),g&=~w}if(r=oe,o=Lt,o=Ki(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(te===2||te===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&or(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Ai(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&or(u),Rs(o)){case 2:case 8:o=bu;break;case 32:o=lr;break;case 268435456:o=Oh;break;default:o=lr}return u=M1.bind(null,i),o=Ge(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&or(u),i.callbackPriority=2,i.callbackNode=null,2}function M1(i,r){if($e!==0&&$e!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Hf()&&i.callbackNode!==o)return null;var u=Lt;return u=Ki(i,i===oe?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(h1(i,u,r),I1(i,En()),i.callbackNode!=null&&i.callbackNode===o?M1.bind(null,i):null)}function N1(i,r){if(Hf())return null;h1(i,r,!0)}function bN(){ON(function(){(Xt&6)!==0?Ge(Eu,EN):C1()})}function gg(){if(Vr===0){var i=tl;i===0&&(i=Gi,Gi<<=1,(Gi&261888)===0&&(Gi=256)),Vr=i}return Vr}function D1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Uo(""+i)}function V1(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function SN(i,r,o,u,m){if(r==="submit"&&o&&o.stateNode===m){var g=D1((m[Ze]||null).action),E=u.submitter;E&&(r=(r=E[Ze]||null)?D1(r.formAction):E.getAttribute("formAction"),r!==null&&(g=r,E=null));var w=new ss("action","action",null,u,m);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Vr!==0){var L=E?V1(m,E):new FormData(m);kp(o,{pending:!0,data:L,method:m.method,action:g},null,L)}}else typeof g=="function"&&(w.preventDefault(),L=E?V1(m,E):new FormData(m),kp(o,{pending:!0,data:L,method:m.method,action:g},g,L))},currentTarget:m}]})}}for(var yg=0;yg<Jm.length;yg++){var vg=Jm[yg],AN=vg.toLowerCase(),wN=vg[0].toUpperCase()+vg.slice(1);Di(AN,"on"+wN)}Di(cT,"onAnimationEnd"),Di(hT,"onAnimationIteration"),Di(fT,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(BM,"onTransitionRun"),Di(FM,"onTransitionStart"),Di(qM,"onTransitionCancel"),Di(dT,"onTransitionEnd"),ts("onMouseEnter",["mouseout","mouseover"]),ts("onMouseLeave",["mouseout","mouseover"]),ts("onPointerEnter",["pointerout","pointerover"]),ts("onPointerLeave",["pointerout","pointerover"]),Ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dc));function O1(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],m=u.event;u=u.listeners;t:{var g=void 0;if(r)for(var E=u.length-1;0<=E;E--){var w=u[E],L=w.instance,Q=w.currentTarget;if(w=w.listener,L!==g&&m.isPropagationStopped())break t;g=w,m.currentTarget=Q;try{g(m)}catch(J){of(J)}m.currentTarget=null,g=L}else for(E=0;E<u.length;E++){if(w=u[E],L=w.instance,Q=w.currentTarget,w=w.listener,L!==g&&m.isPropagationStopped())break t;g=w,m.currentTarget=Q;try{g(m)}catch(J){of(J)}m.currentTarget=null,g=L}}}}function Pt(i,r){var o=r[Oo];o===void 0&&(o=r[Oo]=new Set);var u=i+"__bubble";o.has(u)||(P1(r,i,2,!1),o.add(u))}function _g(i,r,o){var u=0;r&&(u|=4),P1(o,i,u,r)}var Kf="_reactListening"+Math.random().toString(36).slice(2);function Tg(i){if(!i[Kf]){i[Kf]=!0,wu.forEach(function(o){o!=="selectionchange"&&(xN.has(o)||_g(o,!1,i),_g(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Kf]||(r[Kf]=!0,_g("selectionchange",!1,r))}}function P1(i,r,o,u){switch(cb(r)){case 2:var m=tD;break;case 8:m=eD;break;default:m=Pg}o=m.bind(null,r,o,i),m=void 0,!xa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),u?m!==void 0?i.addEventListener(r,o,{capture:!0,passive:m}):i.addEventListener(r,o,!0):m!==void 0?i.addEventListener(r,o,{passive:m}):i.addEventListener(r,o,!1)}function Eg(i,r,o,u,m){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var w=u.stateNode.containerInfo;if(w===m)break;if(E===4)for(E=u.return;E!==null;){var L=E.tag;if((L===3||L===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;w!==null;){if(E=Zi(w),E===null)return;if(L=E.tag,L===5||L===6||L===26||L===27){u=g=E;continue t}w=w.parentNode}}u=u.return}mr(function(){var Q=g,J=ni(o),it=[];t:{var Y=mT.get(i);if(Y!==void 0){var Z=ss,gt=i;switch(i){case"keypress":if(Ca(o)===0)break t;case"keydown":case"keyup":Z=sf;break;case"focusin":gt="focus",Z=Ma;break;case"focusout":gt="blur",Z=Ma;break;case"beforeblur":case"afterblur":Z=Ma;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=ju;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Qh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=_;break;case cT:case hT:case fT:Z=Xh;break;case dT:Z=R;break;case"scroll":case"scrollend":Z=Lu;break;case"wheel":Z=X;break;case"copy":case"cut":case"paste":Z=Zh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Ms;break;case"toggle":case"beforetoggle":Z=Ct}var Tt=(r&4)!==0,re=!Tt&&(i==="scroll"||i==="scrollend"),G=Tt?Y!==null?Y+"Capture":null:Y;Tt=[];for(var z=Q,K;z!==null;){var et=z;if(K=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||K===null||G===null||(et=Ci(z,G),et!=null&&Tt.push(mc(z,et,K))),re)break;z=z.return}0<Tt.length&&(Y=new Z(Y,gt,null,o,J),it.push({event:Y,listeners:Tt}))}}if((r&7)===0){t:{if(Y=i==="mouseover"||i==="pointerover",Z=i==="mouseout"||i==="pointerout",Y&&o!==Ou&&(gt=o.relatedTarget||o.fromElement)&&(Zi(gt)||gt[Yi]))break t;if((Z||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,Z?(gt=o.relatedTarget||o.toElement,Z=Q,gt=gt?Zi(gt):null,gt!==null&&(re=l(gt),Tt=gt.tag,gt!==re||Tt!==5&&Tt!==27&&Tt!==6)&&(gt=null)):(Z=null,gt=Q),Z!==gt)){if(Tt=ju,et="onMouseLeave",G="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(Tt=Ms,et="onPointerLeave",G="onPointerEnter",z="pointer"),re=Z==null?Y:Fn(Z),K=gt==null?Y:Fn(gt),Y=new Tt(et,z+"leave",Z,o,J),Y.target=re,Y.relatedTarget=K,et=null,Zi(J)===Q&&(Tt=new Tt(G,z+"enter",gt,o,J),Tt.target=K,Tt.relatedTarget=re,et=Tt),re=et,Z&&gt)e:{for(Tt=RN,G=Z,z=gt,K=0,et=G;et;et=Tt(et))K++;et=0;for(var vt=z;vt;vt=Tt(vt))et++;for(;0<K-et;)G=Tt(G),K--;for(;0<et-K;)z=Tt(z),et--;for(;K--;){if(G===z||z!==null&&G===z.alternate){Tt=G;break e}G=Tt(G),z=Tt(z)}Tt=null}else Tt=null;Z!==null&&k1(it,Y,Z,Tt,!1),gt!==null&&re!==null&&k1(it,re,gt,Tt,!0)}}t:{if(Y=Q?Fn(Q):window,Z=Y.nodeName&&Y.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Y.type==="file")var Kt=J_;else if(Z_(Y))if(tT)Kt=jM;else{Kt=kM;var yt=PM}else Z=Y.nodeName,!Z||Z.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?Q&&jo(Q.elementType)&&(Kt=J_):Kt=LM;if(Kt&&(Kt=Kt(i,Q))){W_(it,Kt,o,J);break t}yt&&yt(i,Y,Q),i==="focusout"&&Q&&Y.type==="number"&&Q.memoizedProps.value!=null&&Nu(Y,"number",Y.value)}switch(yt=Q?Fn(Q):window,i){case"focusin":(Z_(yt)||yt.contentEditable==="true")&&($o=yt,Xm=Q,qu=null);break;case"focusout":qu=Xm=$o=null;break;case"mousedown":Zm=!0;break;case"contextmenu":case"mouseup":case"dragend":Zm=!1,lT(it,o,J);break;case"selectionchange":if(zM)break;case"keydown":case"keyup":lT(it,o,J)}var Dt;if(Yt)t:{switch(i){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else Go?Na(i,o)&&(jt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(jt="onCompositionStart");jt&&(os&&o.locale!=="ko"&&(Go||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&Go&&(Dt=ku()):(is=J,Pu="value"in is?is.value:is.textContent,Go=!0)),yt=Qf(Q,jt),0<yt.length&&(jt=new as(jt,i,null,o,J),it.push({event:jt,listeners:yt}),Dt?jt.data=Dt:(Dt=Ho(o),Dt!==null&&(jt.data=Dt)))),(Dt=si?NM(i,o):DM(i,o))&&(jt=Qf(Q,"onBeforeInput"),0<jt.length&&(yt=new as("onBeforeInput","beforeinput",null,o,J),it.push({event:yt,listeners:jt}),yt.data=Dt)),SN(it,i,Q,o,J)}O1(it,r)})}function mc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Qf(i,r){for(var o=r+"Capture",u=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Ci(i,o),m!=null&&u.unshift(mc(i,m,g)),m=Ci(i,r),m!=null&&u.push(mc(i,m,g))),i.tag===3)return u;i=i.return}return[]}function RN(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function k1(i,r,o,u,m){for(var g=r._reactName,E=[];o!==null&&o!==u;){var w=o,L=w.alternate,Q=w.stateNode;if(w=w.tag,L!==null&&L===u)break;w!==5&&w!==26&&w!==27||Q===null||(L=Q,m?(Q=Ci(o,g),Q!=null&&E.unshift(mc(o,Q,L))):m||(Q=Ci(o,g),Q!=null&&E.push(mc(o,Q,L)))),o=o.return}E.length!==0&&i.push({event:r,listeners:E})}var CN=/\r\n?/g,IN=/\u0000|\uFFFD/g;function L1(i){return(typeof i=="string"?i:""+i).replace(CN,`
`).replace(IN,"")}function j1(i,r){return r=L1(r),L1(i)===r}function se(i,r,o,u,m,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Nn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Nn(i,""+u);break;case"className":qn(i,"class",u);break;case"tabIndex":qn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(i,o,u);break;case"style":Vu(i,u,g);break;case"data":if(r!=="object"){qn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Uo(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&se(i,r,"name",m.name,m,null),se(i,r,"formEncType",m.formEncType,m,null),se(i,r,"formMethod",m.formMethod,m,null),se(i,r,"formTarget",m.formTarget,m,null)):(se(i,r,"encType",m.encType,m,null),se(i,r,"method",m.method,m,null),se(i,r,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Uo(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Ri);break;case"onScroll":u!=null&&Pt("scroll",i);break;case"onScrollEnd":u!=null&&Pt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Uo(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Pt("beforetoggle",i),Pt("toggle",i),ko(i,"popover",u);break;case"xlinkActuate":Oe(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Oe(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Oe(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Oe(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Oe(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Oe(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Oe(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Oe(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Oe(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ko(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Kh.get(o)||o,ko(i,o,u))}}function bg(i,r,o,u,m,g){switch(o){case"style":Vu(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Nn(i,u):(typeof u=="number"||typeof u=="bigint")&&Nn(i,""+u);break;case"onScroll":u!=null&&Pt("scroll",i);break;case"onScrollEnd":u!=null&&Pt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xu.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),g=i[Ze]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,m),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,m);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):ko(i,o,u)}}}function ln(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",i),Pt("load",i);var u=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:se(i,r,g,E,o,null)}}m&&se(i,r,"srcSet",o.srcSet,o,null),u&&se(i,r,"src",o.src,o,null);return;case"input":Pt("invalid",i);var w=g=E=m=null,L=null,Q=null;for(u in o)if(o.hasOwnProperty(u)){var J=o[u];if(J!=null)switch(u){case"name":m=J;break;case"type":E=J;break;case"checked":L=J;break;case"defaultChecked":Q=J;break;case"value":g=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:se(i,r,u,J,o,null)}}Hh(i,g,w,L,Q,E,m,!1);return;case"select":Pt("invalid",i),u=E=g=null;for(m in o)if(o.hasOwnProperty(m)&&(w=o[m],w!=null))switch(m){case"value":g=w;break;case"defaultValue":E=w;break;case"multiple":u=w;default:se(i,r,m,w,o,null)}r=g,o=E,i.multiple=!!u,r!=null?cr(i,!!u,r,!1):o!=null&&cr(i,!!u,o,!0);return;case"textarea":Pt("invalid",i),g=m=u=null;for(E in o)if(o.hasOwnProperty(E)&&(w=o[E],w!=null))switch(E){case"value":u=w;break;case"defaultValue":m=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:se(i,r,E,w,o,null)}hr(i,u,m,g);return;case"option":for(L in o)if(o.hasOwnProperty(L)&&(u=o[L],u!=null))switch(L){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:se(i,r,L,u,o,null)}return;case"dialog":Pt("beforetoggle",i),Pt("toggle",i),Pt("cancel",i),Pt("close",i);break;case"iframe":case"object":Pt("load",i);break;case"video":case"audio":for(u=0;u<dc.length;u++)Pt(dc[u],i);break;case"image":Pt("error",i),Pt("load",i);break;case"details":Pt("toggle",i);break;case"embed":case"source":case"link":Pt("error",i),Pt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(u=o[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:se(i,r,Q,u,o,null)}return;default:if(jo(r)){for(J in o)o.hasOwnProperty(J)&&(u=o[J],u!==void 0&&bg(i,r,J,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&se(i,r,w,u,o,null))}function MN(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,E=null,w=null,L=null,Q=null,J=null;for(Z in o){var it=o[Z];if(o.hasOwnProperty(Z)&&it!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":L=it;default:u.hasOwnProperty(Z)||se(i,r,Z,null,u,it)}}for(var Y in u){var Z=u[Y];if(it=o[Y],u.hasOwnProperty(Y)&&(Z!=null||it!=null))switch(Y){case"type":g=Z;break;case"name":m=Z;break;case"checked":Q=Z;break;case"defaultChecked":J=Z;break;case"value":E=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:Z!==it&&se(i,r,Y,Z,u,it)}}Lo(i,E,w,L,Q,J,g,m);return;case"select":Z=E=w=Y=null;for(g in o)if(L=o[g],o.hasOwnProperty(g)&&L!=null)switch(g){case"value":break;case"multiple":Z=L;default:u.hasOwnProperty(g)||se(i,r,g,null,u,L)}for(m in u)if(g=u[m],L=o[m],u.hasOwnProperty(m)&&(g!=null||L!=null))switch(m){case"value":Y=g;break;case"defaultValue":w=g;break;case"multiple":E=g;default:g!==L&&se(i,r,m,g,u,L)}r=w,o=E,u=Z,Y!=null?cr(i,!!o,Y,!1):!!u!=!!o&&(r!=null?cr(i,!!o,r,!0):cr(i,!!o,o?[]:"",!1));return;case"textarea":Z=Y=null;for(w in o)if(m=o[w],o.hasOwnProperty(w)&&m!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:se(i,r,w,null,u,m)}for(E in u)if(m=u[E],g=o[E],u.hasOwnProperty(E)&&(m!=null||g!=null))switch(E){case"value":Y=m;break;case"defaultValue":Z=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==g&&se(i,r,E,m,u,g)}Gh(i,Y,Z);return;case"option":for(var gt in o)if(Y=o[gt],o.hasOwnProperty(gt)&&Y!=null&&!u.hasOwnProperty(gt))switch(gt){case"selected":i.selected=!1;break;default:se(i,r,gt,null,u,Y)}for(L in u)if(Y=u[L],Z=o[L],u.hasOwnProperty(L)&&Y!==Z&&(Y!=null||Z!=null))switch(L){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:se(i,r,L,Y,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in o)Y=o[Tt],o.hasOwnProperty(Tt)&&Y!=null&&!u.hasOwnProperty(Tt)&&se(i,r,Tt,null,u,Y);for(Q in u)if(Y=u[Q],Z=o[Q],u.hasOwnProperty(Q)&&Y!==Z&&(Y!=null||Z!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:se(i,r,Q,Y,u,Z)}return;default:if(jo(r)){for(var re in o)Y=o[re],o.hasOwnProperty(re)&&Y!==void 0&&!u.hasOwnProperty(re)&&bg(i,r,re,void 0,u,Y);for(J in u)Y=u[J],Z=o[J],!u.hasOwnProperty(J)||Y===Z||Y===void 0&&Z===void 0||bg(i,r,J,Y,u,Z);return}}for(var G in o)Y=o[G],o.hasOwnProperty(G)&&Y!=null&&!u.hasOwnProperty(G)&&se(i,r,G,null,u,Y);for(it in u)Y=u[it],Z=o[it],!u.hasOwnProperty(it)||Y===Z||Y==null&&Z==null||se(i,r,it,Y,u,Z)}function U1(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NN(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var m=o[u],g=m.transferSize,E=m.initiatorType,w=m.duration;if(g&&w&&U1(E)){for(E=0,w=m.responseEnd,u+=1;u<o.length;u++){var L=o[u],Q=L.startTime;if(Q>w)break;var J=L.transferSize,it=L.initiatorType;J&&U1(it)&&(L=L.responseEnd,E+=J*(L<w?1:(w-Q)/(L-Q)))}if(--u,r+=8*(g+E)/(m.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Sg=null,Ag=null;function Yf(i){return i.nodeType===9?i:i.ownerDocument}function z1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B1(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function wg(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var xg=null;function DN(){var i=window.event;return i&&i.type==="popstate"?i===xg?!1:(xg=i,!0):(xg=null,!1)}var F1=typeof setTimeout=="function"?setTimeout:void 0,VN=typeof clearTimeout=="function"?clearTimeout:void 0,q1=typeof Promise=="function"?Promise:void 0,ON=typeof queueMicrotask=="function"?queueMicrotask:typeof q1<"u"?function(i){return q1.resolve(null).then(i).catch(PN)}:F1;function PN(i){setTimeout(function(){throw i})}function Or(i){return i==="head"}function H1(i,r){var o=r,u=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(m),_l(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")pc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,pc(o);for(var g=o.firstChild;g;){var E=g.nextSibling,w=g.nodeName;g[Xi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=E}}else o==="body"&&pc(i.ownerDocument.body);o=m}while(o);_l(r)}function G1(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Rg(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Rg(o),Po(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function kN(i,r,o,u){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Xi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=hi(i.nextSibling),i===null)break}return null}function LN(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=hi(i.nextSibling),i===null))return null;return i}function $1(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=hi(i.nextSibling),i===null))return null;return i}function Cg(i){return i.data==="$?"||i.data==="$~"}function Ig(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function jN(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function hi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Mg=null;function K1(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return hi(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function Q1(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function Y1(i,r,o){switch(r=Yf(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function pc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Po(i)}var fi=new Map,X1=new Set;function Xf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Gs=lt.d;lt.d={f:UN,r:zN,D:BN,C:FN,L:qN,m:HN,X:$N,S:GN,M:KN};function UN(){var i=Gs.f(),r=Bf();return i||r}function zN(i){var r=ei(i);r!==null&&r.tag===5&&r.type==="form"?dE(r):Gs.r(i)}var gl=typeof document>"u"?null:document;function Z1(i,r,o){var u=gl;if(u&&typeof r=="string"&&r){var m=Mn(r);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),X1.has(m)||(X1.add(m),i={rel:i,crossOrigin:o,href:r},u.querySelector(m)===null&&(r=u.createElement("link"),ln(r,"link",i),Ve(r),u.head.appendChild(r)))}}function BN(i){Gs.D(i),Z1("dns-prefetch",i,null)}function FN(i,r){Gs.C(i,r),Z1("preconnect",i,r)}function qN(i,r,o){Gs.L(i,r,o);var u=gl;if(u&&i&&r){var m='link[rel="preload"][as="'+Mn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Mn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Mn(o.imageSizes)+'"]')):m+='[href="'+Mn(i)+'"]';var g=m;switch(r){case"style":g=yl(i);break;case"script":g=vl(i)}fi.has(g)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),fi.set(g,i),u.querySelector(m)!==null||r==="style"&&u.querySelector(gc(g))||r==="script"&&u.querySelector(yc(g))||(r=u.createElement("link"),ln(r,"link",i),Ve(r),u.head.appendChild(r)))}}function HN(i,r){Gs.m(i,r);var o=gl;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+Mn(u)+'"][href="'+Mn(i)+'"]',g=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=vl(i)}if(!fi.has(g)&&(i=v({rel:"modulepreload",href:i},r),fi.set(g,i),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(yc(g)))return}u=o.createElement("link"),ln(u,"link",i),Ve(u),o.head.appendChild(u)}}}function GN(i,r,o){Gs.S(i,r,o);var u=gl;if(u&&i){var m=Wi(u).hoistableStyles,g=yl(i);r=r||"default";var E=m.get(g);if(!E){var w={loading:0,preload:null};if(E=u.querySelector(gc(g)))w.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=fi.get(g))&&Ng(i,o);var L=E=u.createElement("link");Ve(L),ln(L,"link",i),L._p=new Promise(function(Q,J){L.onload=Q,L.onerror=J}),L.addEventListener("load",function(){w.loading|=1}),L.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Zf(E,r,u)}E={type:"stylesheet",instance:E,count:1,state:w},m.set(g,E)}}}function $N(i,r){Gs.X(i,r);var o=gl;if(o&&i){var u=Wi(o).hoistableScripts,m=vl(i),g=u.get(m);g||(g=o.querySelector(yc(m)),g||(i=v({src:i,async:!0},r),(r=fi.get(m))&&Dg(i,r),g=o.createElement("script"),Ve(g),ln(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function KN(i,r){Gs.M(i,r);var o=gl;if(o&&i){var u=Wi(o).hoistableScripts,m=vl(i),g=u.get(m);g||(g=o.querySelector(yc(m)),g||(i=v({src:i,async:!0,type:"module"},r),(r=fi.get(m))&&Dg(i,r),g=o.createElement("script"),Ve(g),ln(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function W1(i,r,o,u){var m=(m=Nt.current)?Xf(m):null;if(!m)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=yl(o.href),o=Wi(m).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=yl(o.href);var g=Wi(m).hoistableStyles,E=g.get(i);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,E),(g=m.querySelector(gc(i)))&&!g._p&&(E.instance=g,E.state.loading=5),fi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},fi.set(i,o),g||QN(m,i,o,E.state))),r&&u===null)throw Error(s(528,""));return E}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=vl(o),o=Wi(m).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function yl(i){return'href="'+Mn(i)+'"'}function gc(i){return'link[rel="stylesheet"]['+i+"]"}function J1(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function QN(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),ln(r,"link",o),Ve(r),i.head.appendChild(r))}function vl(i){return'[src="'+Mn(i)+'"]'}function yc(i){return"script[async]"+i}function tb(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+Mn(o.href)+'"]');if(u)return r.instance=u,Ve(u),u;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Ve(u),ln(u,"style",m),Zf(u,o.precedence,i),r.instance=u;case"stylesheet":m=yl(o.href);var g=i.querySelector(gc(m));if(g)return r.state.loading|=4,r.instance=g,Ve(g),g;u=J1(o),(m=fi.get(m))&&Ng(u,m),g=(i.ownerDocument||i).createElement("link"),Ve(g);var E=g;return E._p=new Promise(function(w,L){E.onload=w,E.onerror=L}),ln(g,"link",u),r.state.loading|=4,Zf(g,o.precedence,i),r.instance=g;case"script":return g=vl(o.src),(m=i.querySelector(yc(g)))?(r.instance=m,Ve(m),m):(u=o,(m=fi.get(g))&&(u=v({},o),Dg(u,m)),i=i.ownerDocument||i,m=i.createElement("script"),Ve(m),ln(m,"link",u),i.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Zf(u,o.precedence,i));return r.instance}function Zf(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,g=m,E=0;E<u.length;E++){var w=u[E];if(w.dataset.precedence===r)g=w;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Ng(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Dg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Wf=null;function eb(i,r,o){if(Wf===null){var u=new Map,m=Wf=new Map;m.set(o,u)}else m=Wf,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[Xi]||g[De]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(r)||"";E=i+E;var w=u.get(E);w?w.push(g):u.set(E,[g])}}return u}function nb(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function YN(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function ib(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function XN(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=yl(u.href),g=r.querySelector(gc(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Jf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Ve(g);return}g=r.ownerDocument||r,u=J1(u),(m=fi.get(m))&&Ng(u,m),g=g.createElement("link"),Ve(g);var E=g;E._p=new Promise(function(w,L){E.onload=w,E.onerror=L}),ln(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Jf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Vg=0;function ZN(i,r){return i.stylesheets&&i.count===0&&ed(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&ed(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&Vg===0&&(Vg=62500*NN());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&ed(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Vg?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function Jf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ed(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var td=null;function ed(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,td=new Map,r.forEach(WN,i),td=null,Jf.call(i))}function WN(i,r){if(!(r.state.loading&4)){var o=td.get(i);if(o)var u=o.get(null);else{o=new Map,td.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var E=m[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}m=r.instance,E=m.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,m),o.set(E,m),this.count++,u=Jf.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),r.state.loading|=4}}var vc={$$typeof:U,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function JN(i,r,o,u,m,g,E,w,L){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qi(0),this.hiddenUpdates=Qi(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function sb(i,r,o,u,m,g,E,w,L,Q,J,it){return i=new JN(i,r,o,E,L,Q,J,it,w),r=1,g===!0&&(r|=24),g=Gn(3,null,null,r),i.current=g,g.stateNode=i,r=fp(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},gp(g),i}function rb(i){return i?(i=Yo,i):Yo}function ab(i,r,o,u,m,g){m=rb(m),u.context===null?u.context=m:u.pendingContext=m,u=Sr(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Ar(i,u,r),o!==null&&(kn(o,i,r),Xu(o,i,r))}function ob(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Og(i,r){ob(i,r),(i=i.alternate)&&ob(i,r)}function lb(i){if(i.tag===13||i.tag===31){var r=Oa(i,67108864);r!==null&&kn(r,i,67108864),Og(i,67108864)}}function ub(i){if(i.tag===13||i.tag===31){var r=Xn();r=ba(r);var o=Oa(i,r);o!==null&&kn(o,i,r),Og(i,r)}}var nd=!0;function tD(i,r,o,u){var m=tt.T;tt.T=null;var g=lt.p;try{lt.p=2,Pg(i,r,o,u)}finally{lt.p=g,tt.T=m}}function eD(i,r,o,u){var m=tt.T;tt.T=null;var g=lt.p;try{lt.p=8,Pg(i,r,o,u)}finally{lt.p=g,tt.T=m}}function Pg(i,r,o,u){if(nd){var m=kg(u);if(m===null)Eg(i,r,u,id,o),hb(i,u);else if(iD(m,i,r,o,u))u.stopPropagation();else if(hb(i,u),r&4&&-1<nD.indexOf(i)){for(;m!==null;){var g=ei(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=$i(g.pendingLanes);if(E!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var L=1<<31-Ae(E);w.entanglements[1]|=L,E&=~L}hs(g),(Xt&6)===0&&(Uf=En()+500,fc(0))}}break;case 31:case 13:w=Oa(g,2),w!==null&&kn(w,g,2),Bf(),Og(g,2)}if(g=kg(u),g===null&&Eg(i,r,u,id,o),g===m)break;m=g}m!==null&&u.stopPropagation()}else Eg(i,r,u,null,o)}}function kg(i){return i=ni(i),Lg(i)}var id=null;function Lg(i){if(id=null,i=Zi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=h(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return id=i,null}function cb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(va()){case Eu:return 2;case bu:return 8;case lr:case qm:return 32;case Oh:return 268435456;default:return 32}default:return 32}}var jg=!1,Pr=null,kr=null,Lr=null,_c=new Map,Tc=new Map,jr=[],nD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hb(i,r){switch(i){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":_c.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tc.delete(r.pointerId)}}function Ec(i,r,o,u,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[m]},r!==null&&(r=ei(r),r!==null&&lb(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),i)}function iD(i,r,o,u,m){switch(r){case"focusin":return Pr=Ec(Pr,i,r,o,u,m),!0;case"dragenter":return kr=Ec(kr,i,r,o,u,m),!0;case"mouseover":return Lr=Ec(Lr,i,r,o,u,m),!0;case"pointerover":var g=m.pointerId;return _c.set(g,Ec(_c.get(g)||null,i,r,o,u,m)),!0;case"gotpointercapture":return g=m.pointerId,Tc.set(g,Ec(Tc.get(g)||null,i,r,o,u,m)),!0}return!1}function fb(i){var r=Zi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,wi(i.priority,function(){ub(o)});return}}else if(r===31){if(r=h(o),r!==null){i.blockedOn=r,wi(i.priority,function(){ub(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function sd(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=kg(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Ou=u,o.target.dispatchEvent(u),Ou=null}else return r=ei(o),r!==null&&lb(r),i.blockedOn=o,!1;r.shift()}return!0}function db(i,r,o){sd(i)&&o.delete(r)}function sD(){jg=!1,Pr!==null&&sd(Pr)&&(Pr=null),kr!==null&&sd(kr)&&(kr=null),Lr!==null&&sd(Lr)&&(Lr=null),_c.forEach(db),Tc.forEach(db)}function rd(i,r){i.blockedOn===r&&(i.blockedOn=null,jg||(jg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sD)))}var ad=null;function mb(i){ad!==i&&(ad=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ad===i&&(ad=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],m=i[r+2];if(typeof u!="function"){if(Lg(u||o)===null)continue;break}var g=ei(o);g!==null&&(i.splice(r,3),r-=3,kp(g,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function _l(i){function r(L){return rd(L,i)}Pr!==null&&rd(Pr,i),kr!==null&&rd(kr,i),Lr!==null&&rd(Lr,i),_c.forEach(r),Tc.forEach(r);for(var o=0;o<jr.length;o++){var u=jr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<jr.length&&(o=jr[0],o.blockedOn===null);)fb(o),o.blockedOn===null&&jr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],g=o[u+1],E=m[Ze]||null;if(typeof g=="function")E||mb(o);else if(E){var w=null;if(g&&g.hasAttribute("formAction")){if(m=g,E=g[Ze]||null)w=E.formAction;else if(Lg(m)!==null)continue}else w=E.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),mb(o)}}}function pb(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(E){return m=E})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function Ug(i){this._internalRoot=i}od.prototype.render=Ug.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Xn();ab(o,u,i,r,null,null)},od.prototype.unmount=Ug.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;ab(i.current,2,null,i,null,null),Bf(),r[Yi]=null}};function od(i){this._internalRoot=i}od.prototype.unstable_scheduleHydration=function(i){if(i){var r=zh();i={blockedOn:null,target:i,priority:r};for(var o=0;o<jr.length&&r!==0&&r<jr[o].priority;o++);jr.splice(o,0,i),o===0&&fb(i)}};var gb=t.version;if(gb!=="19.2.3")throw Error(s(527,gb,"19.2.3"));lt.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var rD={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:tt,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ld.isDisabled&&ld.supportsFiber)try{Si=ld.inject(rD),nn=ld}catch{}}return Sc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",m=SE,g=AE,E=wE;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError)),r=sb(i,1,!1,null,null,o,u,null,m,g,E,pb),i[Yi]=r.current,Tg(i),new Ug(r)},Sc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,m="",g=SE,E=AE,w=wE,L=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.formState!==void 0&&(L=o.formState)),r=sb(i,1,!0,r,o??null,u,m,L,g,E,w,pb),r.context=rb(null),o=r.current,u=Xn(),u=ba(u),m=Sr(u),m.callback=null,Ar(o,m,u),o=u,r.current.lanes=o,Ta(r,o),hs(r),i[Yi]=r.current,Tg(i),new od(r)},Sc.version="19.2.3",Sc}var Rb;function pD(){if(Rb)return qg.exports;Rb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),qg.exports=mD(),qg.exports}var gD=pD();const yD=yx(gD);var yh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vD={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Gr,Yv,ox,_D=(ox=class{constructor(){Et(this,Gr,vD);Et(this,Yv,!1)}setTimeoutProvider(e){ft(this,Gr,e)}setTimeout(e,t){return F(this,Gr).setTimeout(e,t)}clearTimeout(e){F(this,Gr).clearTimeout(e)}setInterval(e,t){return F(this,Gr).setInterval(e,t)}clearInterval(e){F(this,Gr).clearInterval(e)}},Gr=new WeakMap,Yv=new WeakMap,ox),Wa=new _D;function TD(e){setTimeout(e,0)}var yo=typeof window>"u"||"Deno"in globalThis;function jn(){}function ED(e,t){return typeof e=="function"?e(t):e}function Dy(e){return typeof e=="number"&&e>=0&&e!==1/0}function vx(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ta(e,t){return typeof e=="function"?e(t):e}function pi(e,t){return typeof e=="function"?e(t):e}function Cb(e,t){const{type:n="all",exact:s,fetchStatus:a,predicate:l,queryKey:c,stale:h}=e;if(c){if(s){if(t.queryHash!==Zv(c,t.options))return!1}else if(!Qc(t.queryKey,c))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof h=="boolean"&&t.isStale()!==h||a&&a!==t.state.fetchStatus||l&&!l(t))}function Ib(e,t){const{exact:n,status:s,predicate:a,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(n){if(Kc(t.options.mutationKey)!==Kc(l))return!1}else if(!Qc(t.options.mutationKey,l))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function Zv(e,t){return((t==null?void 0:t.queryKeyHashFn)||Kc)(e)}function Kc(e){return JSON.stringify(e,(t,n)=>Oy(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}function Qc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Qc(e[n],t[n])):!1}var bD=Object.prototype.hasOwnProperty;function _x(e,t){if(e===t)return e;const n=Mb(e)&&Mb(t);if(!n&&!(Oy(e)&&Oy(t)))return t;const a=(n?e:Object.keys(e)).length,l=n?t:Object.keys(t),c=l.length,h=n?new Array(c):{};let d=0;for(let p=0;p<c;p++){const y=n?p:l[p],v=e[y],T=t[y];if(v===T){h[y]=v,(n?p<a:bD.call(e,y))&&d++;continue}if(v===null||T===null||typeof v!="object"||typeof T!="object"){h[y]=T;continue}const A=_x(v,T);h[y]=A,A===v&&d++}return a===c&&d===a?e:h}function Vy(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Mb(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Oy(e){if(!Nb(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Nb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Nb(e){return Object.prototype.toString.call(e)==="[object Object]"}function SD(e){return new Promise(t=>{Wa.setTimeout(t,e)})}function Py(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?_x(e,t):t}function AD(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function wD(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var Wv=Symbol();function Tx(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Wv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function xD(e,t){return typeof e=="function"?e(...t):!!e}var io,$r,Pl,lx,RD=(lx=class extends yh{constructor(){super();Et(this,io);Et(this,$r);Et(this,Pl);ft(this,Pl,t=>{if(!yo&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,$r)||this.setEventListener(F(this,Pl))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,$r))==null||t.call(this),ft(this,$r,void 0))}setEventListener(t){var n;ft(this,Pl,t),(n=F(this,$r))==null||n.call(this),ft(this,$r,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){F(this,io)!==t&&(ft(this,io,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof F(this,io)=="boolean"?F(this,io):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},io=new WeakMap,$r=new WeakMap,Pl=new WeakMap,lx),Jv=new RD;function ky(){let e,t;const n=new Promise((a,l)=>{e=a,t=l});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},n.reject=a=>{s({status:"rejected",reason:a}),t(a)},n}var CD=TD;function ID(){let e=[],t=0,n=h=>{h()},s=h=>{h()},a=CD;const l=h=>{t?e.push(h):a(()=>{n(h)})},c=()=>{const h=e;e=[],h.length&&a(()=>{s(()=>{h.forEach(d=>{n(d)})})})};return{batch:h=>{let d;t++;try{d=h()}finally{t--,t||c()}return d},batchCalls:h=>(...d)=>{l(()=>{h(...d)})},schedule:l,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{s=h},setScheduler:h=>{a=h}}}var hn=ID(),kl,Kr,Ll,ux,MD=(ux=class extends yh{constructor(){super();Et(this,kl,!0);Et(this,Kr);Et(this,Ll);ft(this,Ll,t=>{if(!yo&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){F(this,Kr)||this.setEventListener(F(this,Ll))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,Kr))==null||t.call(this),ft(this,Kr,void 0))}setEventListener(t){var n;ft(this,Ll,t),(n=F(this,Kr))==null||n.call(this),ft(this,Kr,t(this.setOnline.bind(this)))}setOnline(t){F(this,kl)!==t&&(ft(this,kl,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return F(this,kl)}},kl=new WeakMap,Kr=new WeakMap,Ll=new WeakMap,ux),Ud=new MD;function ND(e){return Math.min(1e3*2**e,3e4)}function Ex(e){return(e??"online")==="online"?Ud.isOnline():!0}var Ly=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function bx(e){let t=!1,n=0,s;const a=ky(),l=()=>a.status!=="pending",c=C=>{var D;if(!l()){const j=new Ly(C);T(j),(D=e.onCancel)==null||D.call(e,j)}},h=()=>{t=!0},d=()=>{t=!1},p=()=>Jv.isFocused()&&(e.networkMode==="always"||Ud.isOnline())&&e.canRun(),y=()=>Ex(e.networkMode)&&e.canRun(),v=C=>{l()||(s==null||s(),a.resolve(C))},T=C=>{l()||(s==null||s(),a.reject(C))},A=()=>new Promise(C=>{var D;s=j=>{(l()||p())&&C(j)},(D=e.onPause)==null||D.call(e)}).then(()=>{var C;s=void 0,l()||(C=e.onContinue)==null||C.call(e)}),M=()=>{if(l())return;let C;const D=n===0?e.initialPromise:void 0;try{C=D??e.fn()}catch(j){C=Promise.reject(j)}Promise.resolve(C).then(v).catch(j=>{var ot;if(l())return;const q=e.retry??(yo?0:3),U=e.retryDelay??ND,st=typeof U=="function"?U(n,j):U,W=q===!0||typeof q=="number"&&n<q||typeof q=="function"&&q(n,j);if(t||!W){T(j);return}n++,(ot=e.onFail)==null||ot.call(e,n,j),SD(st).then(()=>p()?void 0:A()).then(()=>{t?T(j):M()})})};return{promise:a,status:()=>a.status,cancel:c,continue:()=>(s==null||s(),a),cancelRetry:h,continueRetry:d,canStart:y,start:()=>(y()?M():A().then(M),a)}}var so,cx,Sx=(cx=class{constructor(){Et(this,so)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Dy(this.gcTime)&&ft(this,so,Wa.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(yo?1/0:300*1e3))}clearGcTimeout(){F(this,so)&&(Wa.clearTimeout(F(this,so)),ft(this,so,void 0))}},so=new WeakMap,cx),ro,jl,mi,ao,tn,fh,oo,Li,$s,hx,DD=(hx=class extends Sx{constructor(n){super();Et(this,Li);Et(this,ro);Et(this,jl);Et(this,mi);Et(this,ao);Et(this,tn);Et(this,fh);Et(this,oo);ft(this,oo,!1),ft(this,fh,n.defaultOptions),this.setOptions(n.options),this.observers=[],ft(this,ao,n.client),ft(this,mi,F(this,ao).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ft(this,ro,Vb(this.options)),this.state=n.state??F(this,ro),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=F(this,tn))==null?void 0:n.promise}setOptions(n){if(this.options={...F(this,fh),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=Vb(this.options);s.data!==void 0&&(this.setState(Db(s.data,s.dataUpdatedAt)),ft(this,ro,s))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,mi).remove(this)}setData(n,s){const a=Py(this.state.data,n,this.options);return qt(this,Li,$s).call(this,{data:a,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),a}setState(n,s){qt(this,Li,$s).call(this,{type:"setState",state:n,setStateOptions:s})}cancel(n){var a,l;const s=(a=F(this,tn))==null?void 0:a.promise;return(l=F(this,tn))==null||l.cancel(n),s?s.then(jn).catch(jn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,ro))}isActive(){return this.observers.some(n=>pi(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Wv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>ta(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!vx(this.state.dataUpdatedAt,n)}onFocus(){var s;const n=this.observers.find(a=>a.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(s=F(this,tn))==null||s.continue()}onOnline(){var s;const n=this.observers.find(a=>a.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(s=F(this,tn))==null||s.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),F(this,mi).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(s=>s!==n),this.observers.length||(F(this,tn)&&(F(this,oo)?F(this,tn).cancel({revert:!0}):F(this,tn).cancelRetry()),this.scheduleGc()),F(this,mi).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||qt(this,Li,$s).call(this,{type:"invalidate"})}async fetch(n,s){var p,y,v,T,A,M,C,D,j,q,U,st;if(this.state.fetchStatus!=="idle"&&((p=F(this,tn))==null?void 0:p.status())!=="rejected"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(F(this,tn))return F(this,tn).continueRetry(),F(this,tn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const W=this.observers.find(ot=>ot.options.queryFn);W&&this.setOptions(W.options)}const a=new AbortController,l=W=>{Object.defineProperty(W,"signal",{enumerable:!0,get:()=>(ft(this,oo,!0),a.signal)})},c=()=>{const W=Tx(this.options,s),I=(()=>{const x={client:F(this,ao),queryKey:this.queryKey,meta:this.meta};return l(x),x})();return ft(this,oo,!1),this.options.persister?this.options.persister(W,I,this):W(I)},d=(()=>{const W={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:F(this,ao),state:this.state,fetchFn:c};return l(W),W})();(y=this.options.behavior)==null||y.onFetch(d,this),ft(this,jl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((v=d.fetchOptions)==null?void 0:v.meta))&&qt(this,Li,$s).call(this,{type:"fetch",meta:(T=d.fetchOptions)==null?void 0:T.meta}),ft(this,tn,bx({initialPromise:s==null?void 0:s.initialPromise,fn:d.fetchFn,onCancel:W=>{W instanceof Ly&&W.revert&&this.setState({...F(this,jl),fetchStatus:"idle"}),a.abort()},onFail:(W,ot)=>{qt(this,Li,$s).call(this,{type:"failed",failureCount:W,error:ot})},onPause:()=>{qt(this,Li,$s).call(this,{type:"pause"})},onContinue:()=>{qt(this,Li,$s).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0}));try{const W=await F(this,tn).start();if(W===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(W),(M=(A=F(this,mi).config).onSuccess)==null||M.call(A,W,this),(D=(C=F(this,mi).config).onSettled)==null||D.call(C,W,this.state.error,this),W}catch(W){if(W instanceof Ly){if(W.silent)return F(this,tn).promise;if(W.revert){if(this.state.data===void 0)throw W;return this.state.data}}throw qt(this,Li,$s).call(this,{type:"error",error:W}),(q=(j=F(this,mi).config).onError)==null||q.call(j,W,this),(st=(U=F(this,mi).config).onSettled)==null||st.call(U,this.state.data,W,this),W}finally{this.scheduleGc()}}},ro=new WeakMap,jl=new WeakMap,mi=new WeakMap,ao=new WeakMap,tn=new WeakMap,fh=new WeakMap,oo=new WeakMap,Li=new WeakSet,$s=function(n){const s=a=>{switch(n.type){case"failed":return{...a,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...Ax(a.data,this.options),fetchMeta:n.meta??null};case"success":const l={...a,...Db(n.data,n.dataUpdatedAt),dataUpdateCount:a.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ft(this,jl,n.manual?l:void 0),l;case"error":const c=n.error;return{...a,error:c,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...n.state}}};this.state=s(this.state),hn.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),F(this,mi).notify({query:this,type:"updated",action:n})})},hx);function Ax(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ex(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Db(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Vb(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ln,Ht,dh,An,lo,Ul,Ks,Qr,mh,zl,Bl,uo,co,Yr,Fl,Zt,Rc,jy,Uy,zy,By,Fy,qy,Hy,wx,fx,VD=(fx=class extends yh{constructor(t,n){super();Et(this,Zt);Et(this,Ln);Et(this,Ht);Et(this,dh);Et(this,An);Et(this,lo);Et(this,Ul);Et(this,Ks);Et(this,Qr);Et(this,mh);Et(this,zl);Et(this,Bl);Et(this,uo);Et(this,co);Et(this,Yr);Et(this,Fl,new Set);this.options=n,ft(this,Ln,t),ft(this,Qr,null),ft(this,Ks,ky()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,Ht).addObserver(this),Ob(F(this,Ht),this.options)?qt(this,Zt,Rc).call(this):this.updateResult(),qt(this,Zt,By).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Gy(F(this,Ht),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Gy(F(this,Ht),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,qt(this,Zt,Fy).call(this),qt(this,Zt,qy).call(this),F(this,Ht).removeObserver(this)}setOptions(t){const n=this.options,s=F(this,Ht);if(this.options=F(this,Ln).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof pi(this.options.enabled,F(this,Ht))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");qt(this,Zt,Hy).call(this),F(this,Ht).setOptions(this.options),n._defaulted&&!Vy(this.options,n)&&F(this,Ln).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,Ht),observer:this});const a=this.hasListeners();a&&Pb(F(this,Ht),s,this.options,n)&&qt(this,Zt,Rc).call(this),this.updateResult(),a&&(F(this,Ht)!==s||pi(this.options.enabled,F(this,Ht))!==pi(n.enabled,F(this,Ht))||ta(this.options.staleTime,F(this,Ht))!==ta(n.staleTime,F(this,Ht)))&&qt(this,Zt,jy).call(this);const l=qt(this,Zt,Uy).call(this);a&&(F(this,Ht)!==s||pi(this.options.enabled,F(this,Ht))!==pi(n.enabled,F(this,Ht))||l!==F(this,Yr))&&qt(this,Zt,zy).call(this,l)}getOptimisticResult(t){const n=F(this,Ln).getQueryCache().build(F(this,Ln),t),s=this.createResult(n,t);return PD(this,s)&&(ft(this,An,s),ft(this,Ul,this.options),ft(this,lo,F(this,Ht).state)),s}getCurrentResult(){return F(this,An)}trackResult(t,n){return new Proxy(t,{get:(s,a)=>(this.trackProp(a),n==null||n(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&F(this,Ks).status==="pending"&&F(this,Ks).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,a))})}trackProp(t){F(this,Fl).add(t)}getCurrentQuery(){return F(this,Ht)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=F(this,Ln).defaultQueryOptions(t),s=F(this,Ln).getQueryCache().build(F(this,Ln),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return qt(this,Zt,Rc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,An)))}createResult(t,n){var N;const s=F(this,Ht),a=this.options,l=F(this,An),c=F(this,lo),h=F(this,Ul),p=t!==s?t.state:F(this,dh),{state:y}=t;let v={...y},T=!1,A;if(n._optimisticResults){const k=this.hasListeners(),P=!k&&Ob(t,n),H=k&&Pb(t,s,n,a);(P||H)&&(v={...v,...Ax(y.data,t.options)}),n._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:M,errorUpdatedAt:C,status:D}=v;A=v.data;let j=!1;if(n.placeholderData!==void 0&&A===void 0&&D==="pending"){let k;l!=null&&l.isPlaceholderData&&n.placeholderData===(h==null?void 0:h.placeholderData)?(k=l.data,j=!0):k=typeof n.placeholderData=="function"?n.placeholderData((N=F(this,Bl))==null?void 0:N.state.data,F(this,Bl)):n.placeholderData,k!==void 0&&(D="success",A=Py(l==null?void 0:l.data,k,n),T=!0)}if(n.select&&A!==void 0&&!j)if(l&&A===(c==null?void 0:c.data)&&n.select===F(this,mh))A=F(this,zl);else try{ft(this,mh,n.select),A=n.select(A),A=Py(l==null?void 0:l.data,A,n),ft(this,zl,A),ft(this,Qr,null)}catch(k){ft(this,Qr,k)}F(this,Qr)&&(M=F(this,Qr),A=F(this,zl),C=Date.now(),D="error");const q=v.fetchStatus==="fetching",U=D==="pending",st=D==="error",W=U&&q,ot=A!==void 0,x={status:D,fetchStatus:v.fetchStatus,isPending:U,isSuccess:D==="success",isError:st,isInitialLoading:W,isLoading:W,data:A,dataUpdatedAt:v.dataUpdatedAt,error:M,errorUpdatedAt:C,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>p.dataUpdateCount||v.errorUpdateCount>p.errorUpdateCount,isFetching:q,isRefetching:q&&!U,isLoadingError:st&&!ot,isPaused:v.fetchStatus==="paused",isPlaceholderData:T,isRefetchError:st&&ot,isStale:t0(t,n),refetch:this.refetch,promise:F(this,Ks),isEnabled:pi(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const k=V=>{x.status==="error"?V.reject(x.error):x.data!==void 0&&V.resolve(x.data)},P=()=>{const V=ft(this,Ks,x.promise=ky());k(V)},H=F(this,Ks);switch(H.status){case"pending":t.queryHash===s.queryHash&&k(H);break;case"fulfilled":(x.status==="error"||x.data!==H.value)&&P();break;case"rejected":(x.status!=="error"||x.error!==H.reason)&&P();break}}return x}updateResult(){const t=F(this,An),n=this.createResult(F(this,Ht),this.options);if(ft(this,lo,F(this,Ht).state),ft(this,Ul,this.options),F(this,lo).data!==void 0&&ft(this,Bl,F(this,Ht)),Vy(n,t))return;ft(this,An,n);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!F(this,Fl).size)return!0;const c=new Set(l??F(this,Fl));return this.options.throwOnError&&c.add("error"),Object.keys(F(this,An)).some(h=>{const d=h;return F(this,An)[d]!==t[d]&&c.has(d)})};qt(this,Zt,wx).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&qt(this,Zt,By).call(this)}},Ln=new WeakMap,Ht=new WeakMap,dh=new WeakMap,An=new WeakMap,lo=new WeakMap,Ul=new WeakMap,Ks=new WeakMap,Qr=new WeakMap,mh=new WeakMap,zl=new WeakMap,Bl=new WeakMap,uo=new WeakMap,co=new WeakMap,Yr=new WeakMap,Fl=new WeakMap,Zt=new WeakSet,Rc=function(t){qt(this,Zt,Hy).call(this);let n=F(this,Ht).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(jn)),n},jy=function(){qt(this,Zt,Fy).call(this);const t=ta(this.options.staleTime,F(this,Ht));if(yo||F(this,An).isStale||!Dy(t))return;const s=vx(F(this,An).dataUpdatedAt,t)+1;ft(this,uo,Wa.setTimeout(()=>{F(this,An).isStale||this.updateResult()},s))},Uy=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,Ht)):this.options.refetchInterval)??!1},zy=function(t){qt(this,Zt,qy).call(this),ft(this,Yr,t),!(yo||pi(this.options.enabled,F(this,Ht))===!1||!Dy(F(this,Yr))||F(this,Yr)===0)&&ft(this,co,Wa.setInterval(()=>{(this.options.refetchIntervalInBackground||Jv.isFocused())&&qt(this,Zt,Rc).call(this)},F(this,Yr)))},By=function(){qt(this,Zt,jy).call(this),qt(this,Zt,zy).call(this,qt(this,Zt,Uy).call(this))},Fy=function(){F(this,uo)&&(Wa.clearTimeout(F(this,uo)),ft(this,uo,void 0))},qy=function(){F(this,co)&&(Wa.clearInterval(F(this,co)),ft(this,co,void 0))},Hy=function(){const t=F(this,Ln).getQueryCache().build(F(this,Ln),this.options);if(t===F(this,Ht))return;const n=F(this,Ht);ft(this,Ht,t),ft(this,dh,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},wx=function(t){hn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(F(this,An))}),F(this,Ln).getQueryCache().notify({query:F(this,Ht),type:"observerResultsUpdated"})})},fx);function OD(e,t){return pi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Ob(e,t){return OD(e,t)||e.state.data!==void 0&&Gy(e,t,t.refetchOnMount)}function Gy(e,t,n){if(pi(t.enabled,e)!==!1&&ta(t.staleTime,e)!=="static"){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&t0(e,t)}return!1}function Pb(e,t,n,s){return(e!==t||pi(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&t0(e,n)}function t0(e,t){return pi(t.enabled,e)!==!1&&e.isStaleByTime(ta(t.staleTime,e))}function PD(e,t){return!Vy(e.getCurrentResult(),t)}function kb(e){return{onFetch:(t,n)=>{var y,v,T,A,M;const s=t.options,a=(T=(v=(y=t.fetchOptions)==null?void 0:y.meta)==null?void 0:v.fetchMore)==null?void 0:T.direction,l=((A=t.state.data)==null?void 0:A.pages)||[],c=((M=t.state.data)==null?void 0:M.pageParams)||[];let h={pages:[],pageParams:[]},d=0;const p=async()=>{let C=!1;const D=U=>{Object.defineProperty(U,"signal",{enumerable:!0,get:()=>(t.signal.aborted?C=!0:t.signal.addEventListener("abort",()=>{C=!0}),t.signal)})},j=Tx(t.options,t.fetchOptions),q=async(U,st,W)=>{if(C)return Promise.reject();if(st==null&&U.pages.length)return Promise.resolve(U);const I=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:st,direction:W?"backward":"forward",meta:t.options.meta};return D(P),P})(),x=await j(I),{maxPages:N}=t.options,k=W?wD:AD;return{pages:k(U.pages,x,N),pageParams:k(U.pageParams,st,N)}};if(a&&l.length){const U=a==="backward",st=U?kD:Lb,W={pages:l,pageParams:c},ot=st(s,W);h=await q(W,ot,U)}else{const U=e??l.length;do{const st=d===0?c[0]??s.initialPageParam:Lb(s,h);if(d>0&&st==null)break;h=await q(h,st),d++}while(d<U)}return h};t.options.persister?t.fetchFn=()=>{var C,D;return(D=(C=t.options).persister)==null?void 0:D.call(C,p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=p}}}function Lb(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function kD(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var ph,ms,wn,ho,ps,Br,dx,LD=(dx=class extends Sx{constructor(n){super();Et(this,ps);Et(this,ph);Et(this,ms);Et(this,wn);Et(this,ho);ft(this,ph,n.client),this.mutationId=n.mutationId,ft(this,wn,n.mutationCache),ft(this,ms,[]),this.state=n.state||jD(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){F(this,ms).includes(n)||(F(this,ms).push(n),this.clearGcTimeout(),F(this,wn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ft(this,ms,F(this,ms).filter(s=>s!==n)),this.scheduleGc(),F(this,wn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){F(this,ms).length||(this.state.status==="pending"?this.scheduleGc():F(this,wn).remove(this))}continue(){var n;return((n=F(this,ho))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var h,d,p,y,v,T,A,M,C,D,j,q,U,st,W,ot,I,x,N,k;const s=()=>{qt(this,ps,Br).call(this,{type:"continue"})},a={client:F(this,ph),meta:this.options.meta,mutationKey:this.options.mutationKey};ft(this,ho,bx({fn:()=>this.options.mutationFn?this.options.mutationFn(n,a):Promise.reject(new Error("No mutationFn found")),onFail:(P,H)=>{qt(this,ps,Br).call(this,{type:"failed",failureCount:P,error:H})},onPause:()=>{qt(this,ps,Br).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,wn).canRun(this)}));const l=this.state.status==="pending",c=!F(this,ho).canStart();try{if(l)s();else{qt(this,ps,Br).call(this,{type:"pending",variables:n,isPaused:c}),await((d=(h=F(this,wn).config).onMutate)==null?void 0:d.call(h,n,this,a));const H=await((y=(p=this.options).onMutate)==null?void 0:y.call(p,n,a));H!==this.state.context&&qt(this,ps,Br).call(this,{type:"pending",context:H,variables:n,isPaused:c})}const P=await F(this,ho).start();return await((T=(v=F(this,wn).config).onSuccess)==null?void 0:T.call(v,P,n,this.state.context,this,a)),await((M=(A=this.options).onSuccess)==null?void 0:M.call(A,P,n,this.state.context,a)),await((D=(C=F(this,wn).config).onSettled)==null?void 0:D.call(C,P,null,this.state.variables,this.state.context,this,a)),await((q=(j=this.options).onSettled)==null?void 0:q.call(j,P,null,n,this.state.context,a)),qt(this,ps,Br).call(this,{type:"success",data:P}),P}catch(P){try{throw await((st=(U=F(this,wn).config).onError)==null?void 0:st.call(U,P,n,this.state.context,this,a)),await((ot=(W=this.options).onError)==null?void 0:ot.call(W,P,n,this.state.context,a)),await((x=(I=F(this,wn).config).onSettled)==null?void 0:x.call(I,void 0,P,this.state.variables,this.state.context,this,a)),await((k=(N=this.options).onSettled)==null?void 0:k.call(N,void 0,P,n,this.state.context,a)),P}finally{qt(this,ps,Br).call(this,{type:"error",error:P})}}finally{F(this,wn).runNext(this)}}},ph=new WeakMap,ms=new WeakMap,wn=new WeakMap,ho=new WeakMap,ps=new WeakSet,Br=function(n){const s=a=>{switch(n.type){case"failed":return{...a,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...a,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:n.error,failureCount:a.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=s(this.state),hn.batch(()=>{F(this,ms).forEach(a=>{a.onMutationUpdate(n)}),F(this,wn).notify({mutation:this,type:"updated",action:n})})},dx);function jD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qs,ji,gh,mx,UD=(mx=class extends yh{constructor(t={}){super();Et(this,Qs);Et(this,ji);Et(this,gh);this.config=t,ft(this,Qs,new Set),ft(this,ji,new Map),ft(this,gh,0)}build(t,n,s){const a=new LD({client:t,mutationCache:this,mutationId:++ud(this,gh)._,options:t.defaultMutationOptions(n),state:s});return this.add(a),a}add(t){F(this,Qs).add(t);const n=cd(t);if(typeof n=="string"){const s=F(this,ji).get(n);s?s.push(t):F(this,ji).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(F(this,Qs).delete(t)){const n=cd(t);if(typeof n=="string"){const s=F(this,ji).get(n);if(s)if(s.length>1){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}else s[0]===t&&F(this,ji).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=cd(t);if(typeof n=="string"){const s=F(this,ji).get(n),a=s==null?void 0:s.find(l=>l.state.status==="pending");return!a||a===t}else return!0}runNext(t){var s;const n=cd(t);if(typeof n=="string"){const a=(s=F(this,ji).get(n))==null?void 0:s.find(l=>l!==t&&l.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){hn.batch(()=>{F(this,Qs).forEach(t=>{this.notify({type:"removed",mutation:t})}),F(this,Qs).clear(),F(this,ji).clear()})}getAll(){return Array.from(F(this,Qs))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>Ib(n,s))}findAll(t={}){return this.getAll().filter(n=>Ib(t,n))}notify(t){hn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return hn.batch(()=>Promise.all(t.map(n=>n.continue().catch(jn))))}},Qs=new WeakMap,ji=new WeakMap,gh=new WeakMap,mx);function cd(e){var t;return(t=e.options.scope)==null?void 0:t.id}var gs,px,zD=(px=class extends yh{constructor(t={}){super();Et(this,gs);this.config=t,ft(this,gs,new Map)}build(t,n,s){const a=n.queryKey,l=n.queryHash??Zv(a,n);let c=this.get(l);return c||(c=new DD({client:t,queryKey:a,queryHash:l,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(c)),c}add(t){F(this,gs).has(t.queryHash)||(F(this,gs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=F(this,gs).get(t.queryHash);n&&(t.destroy(),n===t&&F(this,gs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){hn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return F(this,gs).get(t)}getAll(){return[...F(this,gs).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>Cb(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>Cb(t,s)):n}notify(t){hn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){hn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){hn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},gs=new WeakMap,px),be,Xr,Zr,ql,Hl,Wr,Gl,$l,gx,BD=(gx=class{constructor(e={}){Et(this,be);Et(this,Xr);Et(this,Zr);Et(this,ql);Et(this,Hl);Et(this,Wr);Et(this,Gl);Et(this,$l);ft(this,be,e.queryCache||new zD),ft(this,Xr,e.mutationCache||new UD),ft(this,Zr,e.defaultOptions||{}),ft(this,ql,new Map),ft(this,Hl,new Map),ft(this,Wr,0)}mount(){ud(this,Wr)._++,F(this,Wr)===1&&(ft(this,Gl,Jv.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,be).onFocus())})),ft(this,$l,Ud.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,be).onOnline())})))}unmount(){var e,t;ud(this,Wr)._--,F(this,Wr)===0&&((e=F(this,Gl))==null||e.call(this),ft(this,Gl,void 0),(t=F(this,$l))==null||t.call(this),ft(this,$l,void 0))}isFetching(e){return F(this,be).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return F(this,Xr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=F(this,be).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=F(this,be).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(ta(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return F(this,be).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),a=F(this,be).get(s.queryHash),l=a==null?void 0:a.state.data,c=ED(t,l);if(c!==void 0)return F(this,be).build(this,s).setData(c,{...n,manual:!0})}setQueriesData(e,t,n){return hn.batch(()=>F(this,be).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=F(this,be).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=F(this,be);hn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=F(this,be);return hn.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=hn.batch(()=>F(this,be).findAll(e).map(a=>a.cancel(n)));return Promise.all(s).then(jn).catch(jn)}invalidateQueries(e,t={}){return hn.batch(()=>(F(this,be).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=hn.batch(()=>F(this,be).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let l=a.fetch(void 0,n);return n.throwOnError||(l=l.catch(jn)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(s).then(jn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=F(this,be).build(this,t);return n.isStaleByTime(ta(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(jn).catch(jn)}fetchInfiniteQuery(e){return e.behavior=kb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(jn).catch(jn)}ensureInfiniteQueryData(e){return e.behavior=kb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ud.isOnline()?F(this,Xr).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,be)}getMutationCache(){return F(this,Xr)}getDefaultOptions(){return F(this,Zr)}setDefaultOptions(e){ft(this,Zr,e)}setQueryDefaults(e,t){F(this,ql).set(Kc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...F(this,ql).values()],n={};return t.forEach(s=>{Qc(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){F(this,Hl).set(Kc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...F(this,Hl).values()],n={};return t.forEach(s=>{Qc(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...F(this,Zr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Zv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Wv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...F(this,Zr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){F(this,be).clear(),F(this,Xr).clear()}},be=new WeakMap,Xr=new WeakMap,Zr=new WeakMap,ql=new WeakMap,Hl=new WeakMap,Wr=new WeakMap,Gl=new WeakMap,$l=new WeakMap,gx),xx=O.createContext(void 0),FD=e=>{const t=O.useContext(xx);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},qD=({client:e,children:t})=>(O.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),S.jsx(xx.Provider,{value:e,children:t})),Rx=O.createContext(!1),HD=()=>O.useContext(Rx);Rx.Provider;function GD(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var $D=O.createContext(GD()),KD=()=>O.useContext($D),QD=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},YD=e=>{O.useEffect(()=>{e.clearReset()},[e])},XD=({result:e,errorResetBoundary:t,throwOnError:n,query:s,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(a&&e.data===void 0||xD(n,[e.error,s])),ZD=e=>{if(e.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...a)=>n(s(...a)):n(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},WD=(e,t)=>e.isLoading&&e.isFetching&&!t,JD=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,jb=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function tV(e,t,n){var v,T,A,M,C;const s=HD(),a=KD(),l=FD(),c=l.defaultQueryOptions(e);(T=(v=l.getDefaultOptions().queries)==null?void 0:v._experimental_beforeQuery)==null||T.call(v,c),c._optimisticResults=s?"isRestoring":"optimistic",ZD(c),QD(c,a),YD(a);const h=!l.getQueryCache().get(c.queryHash),[d]=O.useState(()=>new t(l,c)),p=d.getOptimisticResult(c),y=!s&&e.subscribed!==!1;if(O.useSyncExternalStore(O.useCallback(D=>{const j=y?d.subscribe(hn.batchCalls(D)):jn;return d.updateResult(),j},[d,y]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),O.useEffect(()=>{d.setOptions(c)},[c,d]),JD(c,p))throw jb(c,d,a);if(XD({result:p,errorResetBoundary:a,throwOnError:c.throwOnError,query:l.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw p.error;if((M=(A=l.getDefaultOptions().queries)==null?void 0:A._experimental_afterQuery)==null||M.call(A,c,p),c.experimental_prefetchInRender&&!yo&&WD(p,s)){const D=h?jb(c,d,a):(C=l.getQueryCache().get(c.queryHash))==null?void 0:C.promise;D==null||D.catch(jn).finally(()=>{d.updateResult()})}return c.notifyOnChangeProps?p:d.trackResult(p)}function cm(e,t){return tV(e,VD)}/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ub="popstate";function eV(e={}){function t(s,a){let{pathname:l,search:c,hash:h}=s.location;return $y("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Yc(a)}return iV(t,n,null,e)}function ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ei(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nV(){return Math.random().toString(36).substring(2,10)}function zb(e,t){return{usr:e.state,key:e.key,idx:t}}function $y(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?iu(t):t,state:n,key:t&&t.key||s||nV()}}function Yc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function iu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function iV(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,h="POP",d=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function v(){h="POP";let D=y(),j=D==null?null:D-p;p=D,d&&d({action:h,location:C.location,delta:j})}function T(D,j){h="PUSH";let q=$y(C.location,D,j);p=y()+1;let U=zb(q,p),st=C.createHref(q);try{c.pushState(U,"",st)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;a.location.assign(st)}l&&d&&d({action:h,location:C.location,delta:1})}function A(D,j){h="REPLACE";let q=$y(C.location,D,j);p=y();let U=zb(q,p),st=C.createHref(q);c.replaceState(U,"",st),l&&d&&d({action:h,location:C.location,delta:0})}function M(D){return sV(D)}let C={get action(){return h},get location(){return e(a,c)},listen(D){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Ub,v),d=D,()=>{a.removeEventListener(Ub,v),d=null}},createHref(D){return t(a,D)},createURL:M,encodeLocation(D){let j=M(D);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:T,replace:A,go(D){return c.go(D)}};return C}function sV(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ge(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Yc(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Cx(e,t,n="/"){return rV(e,t,n,!1)}function rV(e,t,n,s){let a=typeof t=="string"?iu(t):t,l=Zs(a.pathname||"/",n);if(l==null)return null;let c=Ix(e);aV(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let p=yV(l);h=pV(c[d],p,s)}return h}function Ix(e,t=[],n=[],s="",a=!1){let l=(c,h,d=a,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&d)return;ge(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let v=Ys([s,y.relativePath]),T=n.concat(y);c.children&&c.children.length>0&&(ge(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Ix(c.children,t,T,v,d)),!(c.path==null&&!c.index)&&t.push({path:v,score:dV(v,c.index),routesMeta:T})};return e.forEach((c,h)=>{var d;if(c.path===""||!((d=c.path)!=null&&d.includes("?")))l(c,h);else for(let p of Mx(c.path))l(c,h,!0,p)}),t}function Mx(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=Mx(s.join("/")),h=[];return h.push(...c.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...c),h.map(d=>e.startsWith("/")&&d===""?"/":d)}function aV(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:mV(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var oV=/^:[\w-]+$/,lV=3,uV=2,cV=1,hV=10,fV=-2,Bb=e=>e==="*";function dV(e,t){let n=e.split("/"),s=n.length;return n.some(Bb)&&(s+=fV),t&&(s+=uV),n.filter(a=>!Bb(a)).reduce((a,l)=>a+(oV.test(l)?lV:l===""?cV:hV),s)}function mV(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function pV(e,t,n=!1){let{routesMeta:s}=e,a={},l="/",c=[];for(let h=0;h<s.length;++h){let d=s[h],p=h===s.length-1,y=l==="/"?t:t.slice(l.length)||"/",v=zd({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},y),T=d.route;if(!v&&p&&n&&!s[s.length-1].route.index&&(v=zd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:Ys([l,v.pathname]),pathnameBase:EV(Ys([l,v.pathnameBase])),route:T}),v.pathnameBase!=="/"&&(l=Ys([l,v.pathnameBase]))}return c}function zd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=gV(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:v},T)=>{if(y==="*"){let M=h[T]||"";c=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const A=h[T];return v&&!A?p[y]=void 0:p[y]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function gV(e,t=!1,n=!0){Ei(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(s.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function yV(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ei(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Zs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}var Nx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vV=e=>Nx.test(e);function _V(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?iu(e):e,l;if(n)if(vV(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Ei(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=Fb(n.substring(1),"/"):l=Fb(n,t)}else l=t;return{pathname:l,search:bV(s),hash:SV(a)}}function Fb(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Kg(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TV(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function e0(e){let t=TV(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function n0(e,t,n,s=!1){let a;typeof e=="string"?a=iu(e):(a={...e},ge(!a.pathname||!a.pathname.includes("?"),Kg("?","pathname","search",a)),ge(!a.pathname||!a.pathname.includes("#"),Kg("#","pathname","hash",a)),ge(!a.search||!a.search.includes("#"),Kg("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=n;else{let v=t.length-1;if(!s&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),v-=1;a.pathname=T.join("/")}h=v>=0?t[v]:"/"}let d=_V(a,h),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||y)&&(d.pathname+="/"),d}var Ys=e=>e.join("/").replace(/\/\/+/g,"/"),EV=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bV=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,SV=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,AV=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function wV(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function xV(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Dx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Vx(e,t){let n=e;if(typeof n!="string"||!Nx.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(Dx)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),h=Zs(c.pathname,t);c.origin===l.origin&&h!=null?n=h+c.search+c.hash:a=!0}catch{Ei(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ox=["POST","PUT","PATCH","DELETE"];new Set(Ox);var RV=["GET",...Ox];new Set(RV);var su=O.createContext(null);su.displayName="DataRouter";var hm=O.createContext(null);hm.displayName="DataRouterState";var CV=O.createContext(!1),Px=O.createContext({isTransitioning:!1});Px.displayName="ViewTransition";var IV=O.createContext(new Map);IV.displayName="Fetchers";var MV=O.createContext(null);MV.displayName="Await";var Jn=O.createContext(null);Jn.displayName="Navigation";var vh=O.createContext(null);vh.displayName="Location";var bi=O.createContext({outlet:null,matches:[],isDataRoute:!1});bi.displayName="Route";var i0=O.createContext(null);i0.displayName="RouteError";var kx="REACT_ROUTER_ERROR",NV="REDIRECT",DV="ROUTE_ERROR_RESPONSE";function VV(e){if(e.startsWith(`${kx}:${NV}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function OV(e){if(e.startsWith(`${kx}:${DV}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new AV(t.status,t.statusText,t.data)}catch{}}function PV(e,{relative:t}={}){ge(ru(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=O.useContext(Jn),{hash:a,pathname:l,search:c}=_h(e,{relative:t}),h=l;return n!=="/"&&(h=l==="/"?n:Ys([n,l])),s.createHref({pathname:h,search:c,hash:a})}function ru(){return O.useContext(vh)!=null}function rr(){return ge(ru(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(vh).location}var Lx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jx(e){O.useContext(Jn).static||O.useLayoutEffect(e)}function fm(){let{isDataRoute:e}=O.useContext(bi);return e?XV():kV()}function kV(){ge(ru(),"useNavigate() may be used only in the context of a <Router> component.");let e=O.useContext(su),{basename:t,navigator:n}=O.useContext(Jn),{matches:s}=O.useContext(bi),{pathname:a}=rr(),l=JSON.stringify(e0(s)),c=O.useRef(!1);return jx(()=>{c.current=!0}),O.useCallback((d,p={})=>{if(Ei(c.current,Lx),!c.current)return;if(typeof d=="number"){n.go(d);return}let y=n0(d,JSON.parse(l),a,p.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Ys([t,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[t,n,l,a,e])}var LV=O.createContext(null);function jV(e){let t=O.useContext(bi).outlet;return O.useMemo(()=>t&&O.createElement(LV.Provider,{value:e},t),[t,e])}function Ux(){let{matches:e}=O.useContext(bi),t=e[e.length-1];return t?t.params:{}}function _h(e,{relative:t}={}){let{matches:n}=O.useContext(bi),{pathname:s}=rr(),a=JSON.stringify(e0(n));return O.useMemo(()=>n0(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function UV(e,t){return zx(e,t)}function zx(e,t,n,s,a){var q;ge(ru(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=O.useContext(Jn),{matches:c}=O.useContext(bi),h=c[c.length-1],d=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let U=v&&v.path||"";Fx(p,!v||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let T=rr(),A;if(t){let U=typeof t=="string"?iu(t):t;ge(y==="/"||((q=U.pathname)==null?void 0:q.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${U.pathname}" was given in the \`location\` prop.`),A=U}else A=T;let M=A.pathname||"/",C=M;if(y!=="/"){let U=y.replace(/^\//,"").split("/");C="/"+M.replace(/^\//,"").split("/").slice(U.length).join("/")}let D=Cx(e,{pathname:C});Ei(v||D!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Ei(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=HV(D&&D.map(U=>Object.assign({},U,{params:Object.assign({},d,U.params),pathname:Ys([y,l.encodeLocation?l.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?y:Ys([y,l.encodeLocation?l.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),c,n,s,a);return t&&j?O.createElement(vh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},j):j}function zV(){let e=YV(),t=wV(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),n?O.createElement("pre",{style:a},n):null,c)}var BV=O.createElement(zV,null),Bx=class extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=OV(e.digest);n&&(e=n)}let t=e!==void 0?O.createElement(bi.Provider,{value:this.props.routeContext},O.createElement(i0.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?O.createElement(FV,{error:e},t):t}};Bx.contextType=CV;var Qg=new WeakMap;function FV({children:e,error:t}){let{basename:n}=O.useContext(Jn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=VV(t.digest);if(s){let a=Qg.get(t);if(a)throw a;let l=Vx(s.location,n);if(Dx&&!Qg.get(t))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw Qg.set(t,c),c}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function qV({routeContext:e,match:t,children:n}){let s=O.useContext(su);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(bi.Provider,{value:e},n)}function HV(e,t=[],n=null,s=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n==null?void 0:n.errors;if(c!=null){let y=l.findIndex(v=>v.route.id&&(c==null?void 0:c[v.route.id])!==void 0);ge(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let h=!1,d=-1;if(n)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=y),v.route.id){let{loaderData:T,errors:A}=n,M=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!A||A[v.route.id]===void 0);if(v.route.lazy||M){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let p=n&&s?(y,v)=>{var T,A;s(y,{location:n.location,params:((A=(T=n.matches)==null?void 0:T[0])==null?void 0:A.params)??{},unstable_pattern:xV(n.matches),errorInfo:v})}:void 0;return l.reduceRight((y,v,T)=>{let A,M=!1,C=null,D=null;n&&(A=c&&v.route.id?c[v.route.id]:void 0,C=v.route.errorElement||BV,h&&(d<0&&T===0?(Fx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,D=null):d===T&&(M=!0,D=v.route.hydrateFallbackElement||null)));let j=t.concat(l.slice(0,T+1)),q=()=>{let U;return A?U=C:M?U=D:v.route.Component?U=O.createElement(v.route.Component,null):v.route.element?U=v.route.element:U=y,O.createElement(qV,{match:v,routeContext:{outlet:y,matches:j,isDataRoute:n!=null},children:U})};return n&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?O.createElement(Bx,{location:n.location,revalidation:n.revalidation,component:C,error:A,children:q(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:p}):q()},null)}function s0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GV(e){let t=O.useContext(su);return ge(t,s0(e)),t}function $V(e){let t=O.useContext(hm);return ge(t,s0(e)),t}function KV(e){let t=O.useContext(bi);return ge(t,s0(e)),t}function r0(e){let t=KV(e),n=t.matches[t.matches.length-1];return ge(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function QV(){return r0("useRouteId")}function YV(){var s;let e=O.useContext(i0),t=$V("useRouteError"),n=r0("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function XV(){let{router:e}=GV("useNavigate"),t=r0("useNavigate"),n=O.useRef(!1);return jx(()=>{n.current=!0}),O.useCallback(async(a,l={})=>{Ei(n.current,Lx),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var qb={};function Fx(e,t,n){!t&&!qb[e]&&(qb[e]=!0,Ei(!1,n))}O.memo(ZV);function ZV({routes:e,future:t,state:n,onError:s}){return zx(e,void 0,n,s,t)}function qx({to:e,replace:t,state:n,relative:s}){ge(ru(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=O.useContext(Jn);Ei(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=O.useContext(bi),{pathname:c}=rr(),h=fm(),d=n0(e,e0(l),c,s==="path"),p=JSON.stringify(d);return O.useEffect(()=>{h(JSON.parse(p),{replace:t,state:n,relative:s})},[h,p,s,t,n]),null}function WV(e){return jV(e.context)}function fs(e){ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JV({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){ge(!ru(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=e.replace(/^\/*/,"/"),d=O.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[h,a,l,c]);typeof n=="string"&&(n=iu(n));let{pathname:p="/",search:y="",hash:v="",state:T=null,key:A="default"}=n,M=O.useMemo(()=>{let C=Zs(p,h);return C==null?null:{location:{pathname:C,search:y,hash:v,state:T,key:A},navigationType:s}},[h,p,y,v,T,A,s]);return Ei(M!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:O.createElement(Jn.Provider,{value:d},O.createElement(vh.Provider,{children:t,value:M}))}function t4({children:e,location:t}){return UV(Ky(e),t)}function Ky(e,t=[]){let n=[];return O.Children.forEach(e,(s,a)=>{if(!O.isValidElement(s))return;let l=[...t,a];if(s.type===O.Fragment){n.push.apply(n,Ky(s.props.children,l));return}ge(s.type===fs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ge(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Ky(s.props.children,l)),n.push(c)}),n}var Ad="get",wd="application/x-www-form-urlencoded";function dm(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function e4(e){return dm(e)&&e.tagName.toLowerCase()==="button"}function n4(e){return dm(e)&&e.tagName.toLowerCase()==="form"}function i4(e){return dm(e)&&e.tagName.toLowerCase()==="input"}function s4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function r4(e,t){return e.button===0&&(!t||t==="_self")&&!s4(e)}var hd=null;function a4(){if(hd===null)try{new FormData(document.createElement("form"),0),hd=!1}catch{hd=!0}return hd}var o4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yg(e){return e!=null&&!o4.has(e)?(Ei(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wd}"`),null):e}function l4(e,t){let n,s,a,l,c;if(n4(e)){let h=e.getAttribute("action");s=h?Zs(h,t):null,n=e.getAttribute("method")||Ad,a=Yg(e.getAttribute("enctype"))||wd,l=new FormData(e)}else if(e4(e)||i4(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||h.getAttribute("action");if(s=d?Zs(d,t):null,n=e.getAttribute("formmethod")||h.getAttribute("method")||Ad,a=Yg(e.getAttribute("formenctype"))||Yg(h.getAttribute("enctype"))||wd,l=new FormData(h,e),!a4()){let{name:p,type:y,value:v}=e;if(y==="image"){let T=p?`${p}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else p&&l.append(p,v)}}else{if(dm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ad,s=null,a=wd,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function a0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function u4(e,t,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&Zs(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function c4(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function h4(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function f4(e,t,n){let s=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await c4(l,n);return c.links?c.links():[]}return[]}));return g4(s.flat(1).filter(h4).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Hb(e,t,n,s,a,l){let c=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>{var y;return n[p].pathname!==d.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==d.params["*"]};return l==="assets"?t.filter((d,p)=>c(d,p)||h(d,p)):l==="data"?t.filter((d,p)=>{var v;let y=s.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(c(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let T=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function d4(e,t,{includeHydrateFallback:n}={}){return m4(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function m4(e){return[...new Set(e)]}function p4(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function g4(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let l=JSON.stringify(p4(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function Hx(){let e=O.useContext(su);return a0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function y4(){let e=O.useContext(hm);return a0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var o0=O.createContext(void 0);o0.displayName="FrameworkContext";function Gx(){let e=O.useContext(o0);return a0(e,"You must render this element inside a <HydratedRouter> element"),e}function v4(e,t){let n=O.useContext(o0),[s,a]=O.useState(!1),[l,c]=O.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=t,T=O.useRef(null);O.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let C=j=>{j.forEach(q=>{c(q.isIntersecting)})},D=new IntersectionObserver(C,{threshold:.5});return T.current&&D.observe(T.current),()=>{D.disconnect()}}},[e]),O.useEffect(()=>{if(s){let C=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(C)}}},[s]);let A=()=>{a(!0)},M=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,T,{}]:[l,T,{onFocus:Ac(h,A),onBlur:Ac(d,M),onMouseEnter:Ac(p,A),onMouseLeave:Ac(y,M),onTouchStart:Ac(v,A)}]:[!1,T,{}]}function Ac(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function _4({page:e,...t}){let{router:n}=Hx(),s=O.useMemo(()=>Cx(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?O.createElement(E4,{page:e,matches:s,...t}):null}function T4(e){let{manifest:t,routeModules:n}=Gx(),[s,a]=O.useState([]);return O.useEffect(()=>{let l=!1;return f4(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),s}function E4({page:e,matches:t,...n}){let s=rr(),{manifest:a,routeModules:l}=Gx(),{basename:c}=Hx(),{loaderData:h,matches:d}=y4(),p=O.useMemo(()=>Hb(e,t,d,a,s,"data"),[e,t,d,a,s]),y=O.useMemo(()=>Hb(e,t,d,a,s,"assets"),[e,t,d,a,s]),v=O.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let M=new Set,C=!1;if(t.forEach(j=>{var U;let q=a.routes[j.route.id];!q||!q.hasLoader||(!p.some(st=>st.route.id===j.route.id)&&j.route.id in h&&((U=l[j.route.id])!=null&&U.shouldRevalidate)||q.hasClientLoader?C=!0:M.add(j.route.id))}),M.size===0)return[];let D=u4(e,c,"data");return C&&M.size>0&&D.searchParams.set("_routes",t.filter(j=>M.has(j.route.id)).map(j=>j.route.id).join(",")),[D.pathname+D.search]},[c,h,s,a,p,t,e,l]),T=O.useMemo(()=>d4(y,a),[y,a]),A=T4(y);return O.createElement(O.Fragment,null,v.map(M=>O.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),T.map(M=>O.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),A.map(({key:M,link:C})=>O.createElement("link",{key:M,nonce:n.nonce,...C})))}function b4(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var S4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{S4&&(window.__reactRouterVersion="7.11.0")}catch{}function A4({basename:e,children:t,unstable_useTransitions:n,window:s}){let a=O.useRef();a.current==null&&(a.current=eV({window:s,v5Compat:!0}));let l=a.current,[c,h]=O.useState({action:l.action,location:l.location}),d=O.useCallback(p=>{n===!1?h(p):O.startTransition(()=>h(p))},[n]);return O.useLayoutEffect(()=>l.listen(d),[l,d]),O.createElement(JV,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var $x=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kx=O.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:h,target:d,to:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:T,...A},M){let{basename:C,unstable_useTransitions:D}=O.useContext(Jn),j=typeof p=="string"&&$x.test(p),q=Vx(p,C);p=q.to;let U=PV(p,{relative:a}),[st,W,ot]=v4(s,A),I=C4(p,{replace:c,state:h,target:d,preventScrollReset:y,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:T,unstable_useTransitions:D});function x(k){t&&t(k),k.defaultPrevented||I(k)}let N=O.createElement("a",{...A,...ot,href:q.absoluteURL||U,onClick:q.isExternal||l?t:x,ref:b4(M,W),target:d,"data-discover":!j&&n==="render"?"true":void 0});return st&&!j?O.createElement(O.Fragment,null,N,O.createElement(_4,{page:U})):N});Kx.displayName="Link";var w4=O.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:h,children:d,...p},y){let v=_h(c,{relative:p.relative}),T=rr(),A=O.useContext(hm),{navigator:M,basename:C}=O.useContext(Jn),D=A!=null&&V4(v)&&h===!0,j=M.encodeLocation?M.encodeLocation(v).pathname:v.pathname,q=T.pathname,U=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(q=q.toLowerCase(),U=U?U.toLowerCase():null,j=j.toLowerCase()),U&&C&&(U=Zs(U,C)||U);const st=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let W=q===j||!a&&q.startsWith(j)&&q.charAt(st)==="/",ot=U!=null&&(U===j||!a&&U.startsWith(j)&&U.charAt(j.length)==="/"),I={isActive:W,isPending:ot,isTransitioning:D},x=W?t:void 0,N;typeof s=="function"?N=s(I):N=[s,W?"active":null,ot?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(I):l;return O.createElement(Kx,{...p,"aria-current":x,className:N,ref:y,style:k,to:c,viewTransition:h},typeof d=="function"?d(I):d)});w4.displayName="NavLink";var x4=O.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:l,method:c=Ad,action:h,onSubmit:d,relative:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:T,...A},M)=>{let{unstable_useTransitions:C}=O.useContext(Jn),D=N4(),j=D4(h,{relative:p}),q=c.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&$x.test(h),st=W=>{if(d&&d(W),W.defaultPrevented)return;W.preventDefault();let ot=W.nativeEvent.submitter,I=(ot==null?void 0:ot.getAttribute("formmethod"))||c,x=()=>D(ot||W.currentTarget,{fetcherKey:t,method:I,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:T});C&&n!==!1?O.startTransition(()=>x()):x()};return O.createElement("form",{ref:M,method:q,action:j,onSubmit:s?d:st,...A,"data-discover":!U&&e==="render"?"true":void 0})});x4.displayName="Form";function R4(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qx(e){let t=O.useContext(su);return ge(t,R4(e)),t}function C4(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let p=fm(),y=rr(),v=_h(e,{relative:l});return O.useCallback(T=>{if(r4(T,t)){T.preventDefault();let A=n!==void 0?n:Yc(y)===Yc(v),M=()=>p(e,{replace:A,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h});d?O.startTransition(()=>M()):M()}},[y,p,v,n,s,t,e,a,l,c,h,d])}var I4=0,M4=()=>`__${String(++I4)}__`;function N4(){let{router:e}=Qx("useSubmit"),{basename:t}=O.useContext(Jn),n=QV(),s=e.fetch,a=e.navigate;return O.useCallback(async(l,c={})=>{let{action:h,method:d,encType:p,formData:y,body:v}=l4(l,t);if(c.navigate===!1){let T=c.fetcherKey||M4();await s(T,n,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:v,formMethod:c.method||d,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:v,formMethod:c.method||d,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,t,n])}function D4(e,{relative:t}={}){let{basename:n}=O.useContext(Jn),s=O.useContext(bi);ge(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={..._h(e||".",{relative:t})},c=rr();if(e==null){l.search=c.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ys([n,l.pathname])),Yc(l)}function V4(e,{relative:t}={}){let n=O.useContext(Px);ge(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Qx("useViewTransitionState"),a=_h(e,{relative:t});if(!n.isTransitioning)return!1;let l=Zs(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Zs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return zd(a.pathname,c)!=null||zd(a.pathname,l)!=null}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),P4=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),Gb=e=>{const t=P4(e);return t.charAt(0).toUpperCase()+t.slice(1)},Yx=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),k4=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=O.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...h},d)=>O.createElement("svg",{ref:d,...L4,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:Yx("lucide",a),...!l&&!k4(h)&&{"aria-hidden":"true"},...h},[...c.map(([p,y])=>O.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=(e,t)=>{const n=O.forwardRef(({className:s,...a},l)=>O.createElement(j4,{ref:l,iconNode:t,className:Yx(`lucide-${O4(Gb(e))}`,`lucide-${e}`,s),...a}));return n.displayName=Gb(e),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],z4=Vt("activity",U4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],F4=Vt("arrow-left",B4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],H4=Vt("banknote",q4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Xx=Vt("bell",G4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],K4=Vt("book-open",$4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Y4=Vt("brain",Q4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Z4=Vt("briefcase",X4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],J4=Vt("chevron-down",W4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Zx=Vt("chevron-right",tO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Wx=Vt("circle-check",eO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],iO=Vt("clock",nO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],rO=Vt("headphones",sO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],au=Vt("heart",aO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],lO=Vt("house",oO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],cO=Vt("info",uO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]],fO=Vt("laptop",hO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],$b=Vt("lock",dO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],pO=Vt("message-square",mO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]],Jx=Vt("mic-vocal",gO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],vO=Vt("moon",yO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],tR=Vt("palette",_O);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Kb=Vt("pause",TO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Kl=Vt("play",EO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],SO=Vt("refresh-cw",bO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],wO=Vt("scroll-text",AO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],eR=Vt("search",xO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],nR=Vt("share-2",RO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],IO=Vt("skip-back",CO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],NO=Vt("skip-forward",MO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],VO=Vt("smartphone",DO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],mm=Vt("sparkles",OO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],l0=Vt("star",PO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],iR=Vt("sun",kO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],jO=Vt("target",LO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],zO=Vt("trophy",UO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],FO=Vt("users",BO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],HO=Vt("wifi-off",qO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Qy=Vt("x",GO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],KO=Vt("zap",$O);var Qe=(e=>(e[e.STOPPED=0]="STOPPED",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.BUFFERING=3]="BUFFERING",e))(Qe||{});const Cc=({children:e,className:t="",variant:n="primary",size:s="md",...a})=>{const l="rounded-full font-medium transition-colors focus:outline-none flex items-center justify-center gap-2",c={primary:"bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50",secondary:"bg-slate-700 text-slate-100 hover:bg-slate-600",ghost:"bg-transparent text-slate-400 hover:text-white hover:bg-slate-800/50",icon:"p-2 bg-transparent text-slate-200 hover:bg-slate-800 rounded-full"},h={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},d=c[n],p=n==="icon"?"":h[s];return S.jsx("button",{className:`${l} ${d} ${p} ${t}`,...a,children:e})},QO=()=>{};var Qb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO={SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=function(e,t){if(!e)throw XO(t)},XO=function(e){return new Error("Firebase Database ("+YO.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},ZO=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const a=e[n++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],h=e[n++],d=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;t[s++]=String.fromCharCode(55296+(d>>10)),t[s++]=String.fromCharCode(56320+(d&1023))}else{const l=e[n++],c=e[n++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},rR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,h=c?e[a+1]:0,d=a+2<e.length,p=d?e[a+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let T=(h&15)<<2|p>>6,A=p&63;d||(A=64,c||(T=64)),s.push(n[y],n[v],n[T],n[A])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(sR(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ZO(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],h=a<e.length?n[e.charAt(a)]:0;++a;const p=a<e.length?n[e.charAt(a)]:64;++a;const v=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||h==null||p==null||v==null)throw new WO;const T=l<<2|h>>4;if(s.push(T),p!==64){const A=h<<4&240|p>>2;if(s.push(A),v!==64){const M=p<<6&192|v;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class WO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JO=function(e){const t=sR(e);return rR.encodeByteArray(t,!0)},Bd=function(e){return JO(e).replace(/\./g,"")},tP=function(e){try{return rR.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=()=>eP().__FIREBASE_DEFAULTS__,iP=()=>{if(typeof process>"u"||typeof Qb>"u")return;const e=Qb.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},sP=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&tP(e[1]);return t&&JSON.parse(t)},u0=()=>{try{return QO()||nP()||iP()||sP()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},rP=e=>{var t,n;return(n=(t=u0())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},aP=e=>{const t=rP(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},aR=()=>{var e;return(e=u0())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lP(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Bd(JSON.stringify(n)),Bd(JSON.stringify(c)),""].join(".")}const Pc={};function cP(){const e={prod:[],emulator:[]};for(const t of Object.keys(Pc))Pc[t]?e.emulator.push(t):e.prod.push(t);return e}function hP(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Yb=!1;function fP(e,t){if(typeof window>"u"||typeof document>"u"||!c0(window.location.host)||Pc[e]===t||Pc[e]||Yb)return;Pc[e]=t;function n(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=cP().prod.length>0;function c(){const T=document.getElementById(s);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function d(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Yb=!0,c()},T}function y(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function v(){const T=hP(s),A=n("text"),M=document.getElementById(A)||document.createElement("span"),C=n("learnmore"),D=document.getElementById(C)||document.createElement("a"),j=n("preprendIcon"),q=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const U=T.element;h(U),y(D,C);const st=p();d(q,j),U.append(q,M,D,st),document.body.appendChild(U)}l?(M.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mP(){var t;const e=(t=u0())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oR(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function pP(){return!mP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Th(){try{return typeof indexedDB=="object"}catch{return!1}}function pm(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;t(((l=a.error)==null?void 0:l.message)||"")}}catch(n){t(n)}})}function h0(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP="FirebaseError";class xs extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=gP,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ou.prototype.create)}}class ou{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?yP(l,s):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new xs(a,h,s)}}function yP(e,t){return e.replace(vP,(n,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const vP=/\{\$([^}]+)}/g;function Ql(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const a of n){if(!s.includes(a))return!1;const l=e[a],c=t[a];if(Xb(l)&&Xb(c)){if(!Ql(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Xb(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=1e3,TP=2,EP=14400*1e3,bP=.5;function Fd(e,t=_P,n=TP){const s=t*Math.pow(n,e),a=Math.round(bP*s*(Math.random()-.5)*2);return Math.min(EP,s+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(e){return e&&e._delegate?e._delegate:e}class Fi{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new oP;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(wP(t))try{this.getOrInitializeService({instanceIdentifier:Ya})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=Ya){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ya){return this.instances.has(t)}getOptions(t=Ya){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&c.resolve(a)}return a}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:AP(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ya){return this.component?this.component.multipleInstances?t:Ya:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AP(e){return e===Ya?void 0:e}function wP(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new SP(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ut||(Ut={}));const RP={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},CP=Ut.INFO,IP={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},MP=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),a=IP[t];if(a)console[a](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Eh{constructor(t){this.name=t,this._logLevel=CP,this._logHandler=MP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?RP[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const NP=(e,t)=>t.some(n=>e instanceof n);let Zb,Wb;function DP(){return Zb||(Zb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VP(){return Wb||(Wb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lR=new WeakMap,Xy=new WeakMap,uR=new WeakMap,Xg=new WeakMap,f0=new WeakMap;function OP(e){const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(ea(e.result)),a()},c=()=>{s(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&lR.set(n,e)}).catch(()=>{}),f0.set(t,e),t}function PP(e){if(Xy.has(e))return;const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});Xy.set(e,t)}let Zy={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Xy.get(e);if(t==="objectStoreNames")return e.objectStoreNames||uR.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ea(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function kP(e){Zy=e(Zy)}function LP(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(Zg(this),t,...n);return uR.set(s,t.sort?t.sort():[t]),ea(s)}:VP().includes(e)?function(...t){return e.apply(Zg(this),t),ea(lR.get(this))}:function(...t){return ea(e.apply(Zg(this),t))}}function jP(e){return typeof e=="function"?LP(e):(e instanceof IDBTransaction&&PP(e),NP(e,DP())?new Proxy(e,Zy):e)}function ea(e){if(e instanceof IDBRequest)return OP(e);if(Xg.has(e))return Xg.get(e);const t=jP(e);return t!==e&&(Xg.set(e,t),f0.set(t,e)),t}const Zg=e=>f0.get(e);function cR(e,t,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),h=ea(c);return s&&c.addEventListener("upgradeneeded",d=>{s(ea(c.result),d.oldVersion,d.newVersion,ea(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const UP=["get","getKey","getAll","getAllKeys","count"],zP=["put","add","delete","clear"],Wg=new Map;function Jb(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Wg.get(t))return Wg.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,a=zP.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||UP.includes(n)))return;const l=async function(c,...h){const d=this.transaction(c,a?"readwrite":"readonly");let p=d.store;return s&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&d.done]))[0]};return Wg.set(t,l),l}kP(e=>({...e,get:(t,n,s)=>Jb(t,n)||e.get(t,n,s),has:(t,n)=>!!Jb(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FP(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function FP(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Wy="@firebase/app",tS="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new Eh("@firebase/app"),qP="@firebase/app-compat",HP="@firebase/analytics-compat",GP="@firebase/analytics",$P="@firebase/app-check-compat",KP="@firebase/app-check",QP="@firebase/auth",YP="@firebase/auth-compat",XP="@firebase/database",ZP="@firebase/data-connect",WP="@firebase/database-compat",JP="@firebase/functions",t5="@firebase/functions-compat",e5="@firebase/installations",n5="@firebase/installations-compat",i5="@firebase/messaging",s5="@firebase/messaging-compat",r5="@firebase/performance",a5="@firebase/performance-compat",o5="@firebase/remote-config",l5="@firebase/remote-config-compat",u5="@firebase/storage",c5="@firebase/storage-compat",h5="@firebase/firestore",f5="@firebase/ai",d5="@firebase/firestore-compat",m5="firebase",p5="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="[DEFAULT]",g5={[Wy]:"fire-core",[qP]:"fire-core-compat",[GP]:"fire-analytics",[HP]:"fire-analytics-compat",[KP]:"fire-app-check",[$P]:"fire-app-check-compat",[QP]:"fire-auth",[YP]:"fire-auth-compat",[XP]:"fire-rtdb",[ZP]:"fire-data-connect",[WP]:"fire-rtdb-compat",[JP]:"fire-fn",[t5]:"fire-fn-compat",[e5]:"fire-iid",[n5]:"fire-iid-compat",[i5]:"fire-fcm",[s5]:"fire-fcm-compat",[r5]:"fire-perf",[a5]:"fire-perf-compat",[o5]:"fire-rc",[l5]:"fire-rc-compat",[u5]:"fire-gcs",[c5]:"fire-gcs-compat",[h5]:"fire-fst",[d5]:"fire-fst-compat",[f5]:"fire-vertex","fire-js":"fire-js",[m5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new Map,y5=new Map,tv=new Map;function eS(e,t){try{e.container.addComponent(t)}catch(n){Ws.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function As(e){const t=e.name;if(tv.has(t))return Ws.debug(`There were multiple attempts to register component ${t}.`),!1;tv.set(t,e);for(const n of Xc.values())eS(n,e);for(const n of y5.values())eS(n,e);return!0}function Ao(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function v5(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},na=new ou("app","Firebase",_5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=p5;function hR(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:Jy,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw na.create("bad-app-name",{appName:String(a)});if(n||(n=aR()),!n)throw na.create("no-options");const l=Xc.get(a);if(l){if(Ql(n,l.options)&&Ql(s,l.config))return l;throw na.create("duplicate-app",{appName:a})}const c=new xP(a);for(const d of tv.values())c.addComponent(d);const h=new T5(n,s,c);return Xc.set(a,h),h}function bh(e=Jy){const t=Xc.get(e);if(!t&&e===Jy&&aR())return hR();if(!t)throw na.create("no-app",{appName:e});return t}function E5(){return Array.from(Xc.values())}function Bn(e,t,n){let s=g5[e]??e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ws.warn(c.join(" "));return}As(new Fi(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5="firebase-heartbeat-database",S5=1,Zc="firebase-heartbeat-store";let Jg=null;function fR(){return Jg||(Jg=cR(b5,S5,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Zc)}catch(n){console.warn(n)}}}}).catch(e=>{throw na.create("idb-open",{originalErrorMessage:e.message})})),Jg}async function A5(e){try{const n=(await fR()).transaction(Zc),s=await n.objectStore(Zc).get(dR(e));return await n.done,s}catch(t){if(t instanceof xs)Ws.warn(t.message);else{const n=na.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ws.warn(n.message)}}}async function nS(e,t){try{const s=(await fR()).transaction(Zc,"readwrite");await s.objectStore(Zc).put(t,dR(e)),await s.done}catch(n){if(n instanceof xs)Ws.warn(n.message);else{const s=na.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ws.warn(s.message)}}}function dR(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5=1024,x5=30;class R5{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new I5(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=iS();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>x5){const c=M5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ws.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=iS(),{heartbeatsToSend:s,unsentEntries:a}=C5(this._heartbeatsCache.heartbeats),l=Bd(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Ws.warn(n),""}}}function iS(){return new Date().toISOString().substring(0,10)}function C5(e,t=w5){const n=[];let s=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),sS(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),sS(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class I5{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Th()?pm().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await A5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return nS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return nS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function sS(e){return Bd(JSON.stringify({version:2,heartbeats:e})).length}function M5(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(e){As(new Fi("platform-logger",t=>new BP(t),"PRIVATE")),As(new Fi("heartbeat",t=>new R5(t),"PRIVATE")),Bn(Wy,tS,e),Bn(Wy,tS,"esm2020"),Bn("fire-js","")}N5("");var D5="firebase",V5="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn(D5,V5,"app");var rS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ia,mR;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,x){function N(){}N.prototype=x.prototype,I.F=x.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(k,P,H){for(var V=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)V[ae-2]=arguments[ae];return x.prototype[P].apply(k,V)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,x,N){N||(N=0);const k=Array(16);if(typeof x=="string")for(var P=0;P<16;++P)k[P]=x.charCodeAt(N++)|x.charCodeAt(N++)<<8|x.charCodeAt(N++)<<16|x.charCodeAt(N++)<<24;else for(P=0;P<16;++P)k[P]=x[N++]|x[N++]<<8|x[N++]<<16|x[N++]<<24;x=I.g[0],N=I.g[1],P=I.g[2];let H=I.g[3],V;V=x+(H^N&(P^H))+k[0]+3614090360&4294967295,x=N+(V<<7&4294967295|V>>>25),V=H+(P^x&(N^P))+k[1]+3905402710&4294967295,H=x+(V<<12&4294967295|V>>>20),V=P+(N^H&(x^N))+k[2]+606105819&4294967295,P=H+(V<<17&4294967295|V>>>15),V=N+(x^P&(H^x))+k[3]+3250441966&4294967295,N=P+(V<<22&4294967295|V>>>10),V=x+(H^N&(P^H))+k[4]+4118548399&4294967295,x=N+(V<<7&4294967295|V>>>25),V=H+(P^x&(N^P))+k[5]+1200080426&4294967295,H=x+(V<<12&4294967295|V>>>20),V=P+(N^H&(x^N))+k[6]+2821735955&4294967295,P=H+(V<<17&4294967295|V>>>15),V=N+(x^P&(H^x))+k[7]+4249261313&4294967295,N=P+(V<<22&4294967295|V>>>10),V=x+(H^N&(P^H))+k[8]+1770035416&4294967295,x=N+(V<<7&4294967295|V>>>25),V=H+(P^x&(N^P))+k[9]+2336552879&4294967295,H=x+(V<<12&4294967295|V>>>20),V=P+(N^H&(x^N))+k[10]+4294925233&4294967295,P=H+(V<<17&4294967295|V>>>15),V=N+(x^P&(H^x))+k[11]+2304563134&4294967295,N=P+(V<<22&4294967295|V>>>10),V=x+(H^N&(P^H))+k[12]+1804603682&4294967295,x=N+(V<<7&4294967295|V>>>25),V=H+(P^x&(N^P))+k[13]+4254626195&4294967295,H=x+(V<<12&4294967295|V>>>20),V=P+(N^H&(x^N))+k[14]+2792965006&4294967295,P=H+(V<<17&4294967295|V>>>15),V=N+(x^P&(H^x))+k[15]+1236535329&4294967295,N=P+(V<<22&4294967295|V>>>10),V=x+(P^H&(N^P))+k[1]+4129170786&4294967295,x=N+(V<<5&4294967295|V>>>27),V=H+(N^P&(x^N))+k[6]+3225465664&4294967295,H=x+(V<<9&4294967295|V>>>23),V=P+(x^N&(H^x))+k[11]+643717713&4294967295,P=H+(V<<14&4294967295|V>>>18),V=N+(H^x&(P^H))+k[0]+3921069994&4294967295,N=P+(V<<20&4294967295|V>>>12),V=x+(P^H&(N^P))+k[5]+3593408605&4294967295,x=N+(V<<5&4294967295|V>>>27),V=H+(N^P&(x^N))+k[10]+38016083&4294967295,H=x+(V<<9&4294967295|V>>>23),V=P+(x^N&(H^x))+k[15]+3634488961&4294967295,P=H+(V<<14&4294967295|V>>>18),V=N+(H^x&(P^H))+k[4]+3889429448&4294967295,N=P+(V<<20&4294967295|V>>>12),V=x+(P^H&(N^P))+k[9]+568446438&4294967295,x=N+(V<<5&4294967295|V>>>27),V=H+(N^P&(x^N))+k[14]+3275163606&4294967295,H=x+(V<<9&4294967295|V>>>23),V=P+(x^N&(H^x))+k[3]+4107603335&4294967295,P=H+(V<<14&4294967295|V>>>18),V=N+(H^x&(P^H))+k[8]+1163531501&4294967295,N=P+(V<<20&4294967295|V>>>12),V=x+(P^H&(N^P))+k[13]+2850285829&4294967295,x=N+(V<<5&4294967295|V>>>27),V=H+(N^P&(x^N))+k[2]+4243563512&4294967295,H=x+(V<<9&4294967295|V>>>23),V=P+(x^N&(H^x))+k[7]+1735328473&4294967295,P=H+(V<<14&4294967295|V>>>18),V=N+(H^x&(P^H))+k[12]+2368359562&4294967295,N=P+(V<<20&4294967295|V>>>12),V=x+(N^P^H)+k[5]+4294588738&4294967295,x=N+(V<<4&4294967295|V>>>28),V=H+(x^N^P)+k[8]+2272392833&4294967295,H=x+(V<<11&4294967295|V>>>21),V=P+(H^x^N)+k[11]+1839030562&4294967295,P=H+(V<<16&4294967295|V>>>16),V=N+(P^H^x)+k[14]+4259657740&4294967295,N=P+(V<<23&4294967295|V>>>9),V=x+(N^P^H)+k[1]+2763975236&4294967295,x=N+(V<<4&4294967295|V>>>28),V=H+(x^N^P)+k[4]+1272893353&4294967295,H=x+(V<<11&4294967295|V>>>21),V=P+(H^x^N)+k[7]+4139469664&4294967295,P=H+(V<<16&4294967295|V>>>16),V=N+(P^H^x)+k[10]+3200236656&4294967295,N=P+(V<<23&4294967295|V>>>9),V=x+(N^P^H)+k[13]+681279174&4294967295,x=N+(V<<4&4294967295|V>>>28),V=H+(x^N^P)+k[0]+3936430074&4294967295,H=x+(V<<11&4294967295|V>>>21),V=P+(H^x^N)+k[3]+3572445317&4294967295,P=H+(V<<16&4294967295|V>>>16),V=N+(P^H^x)+k[6]+76029189&4294967295,N=P+(V<<23&4294967295|V>>>9),V=x+(N^P^H)+k[9]+3654602809&4294967295,x=N+(V<<4&4294967295|V>>>28),V=H+(x^N^P)+k[12]+3873151461&4294967295,H=x+(V<<11&4294967295|V>>>21),V=P+(H^x^N)+k[15]+530742520&4294967295,P=H+(V<<16&4294967295|V>>>16),V=N+(P^H^x)+k[2]+3299628645&4294967295,N=P+(V<<23&4294967295|V>>>9),V=x+(P^(N|~H))+k[0]+4096336452&4294967295,x=N+(V<<6&4294967295|V>>>26),V=H+(N^(x|~P))+k[7]+1126891415&4294967295,H=x+(V<<10&4294967295|V>>>22),V=P+(x^(H|~N))+k[14]+2878612391&4294967295,P=H+(V<<15&4294967295|V>>>17),V=N+(H^(P|~x))+k[5]+4237533241&4294967295,N=P+(V<<21&4294967295|V>>>11),V=x+(P^(N|~H))+k[12]+1700485571&4294967295,x=N+(V<<6&4294967295|V>>>26),V=H+(N^(x|~P))+k[3]+2399980690&4294967295,H=x+(V<<10&4294967295|V>>>22),V=P+(x^(H|~N))+k[10]+4293915773&4294967295,P=H+(V<<15&4294967295|V>>>17),V=N+(H^(P|~x))+k[1]+2240044497&4294967295,N=P+(V<<21&4294967295|V>>>11),V=x+(P^(N|~H))+k[8]+1873313359&4294967295,x=N+(V<<6&4294967295|V>>>26),V=H+(N^(x|~P))+k[15]+4264355552&4294967295,H=x+(V<<10&4294967295|V>>>22),V=P+(x^(H|~N))+k[6]+2734768916&4294967295,P=H+(V<<15&4294967295|V>>>17),V=N+(H^(P|~x))+k[13]+1309151649&4294967295,N=P+(V<<21&4294967295|V>>>11),V=x+(P^(N|~H))+k[4]+4149444226&4294967295,x=N+(V<<6&4294967295|V>>>26),V=H+(N^(x|~P))+k[11]+3174756917&4294967295,H=x+(V<<10&4294967295|V>>>22),V=P+(x^(H|~N))+k[2]+718787259&4294967295,P=H+(V<<15&4294967295|V>>>17),V=N+(H^(P|~x))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(P+(V<<21&4294967295|V>>>11))&4294967295,I.g[2]=I.g[2]+P&4294967295,I.g[3]=I.g[3]+H&4294967295}s.prototype.v=function(I,x){x===void 0&&(x=I.length);const N=x-this.blockSize,k=this.C;let P=this.h,H=0;for(;H<x;){if(P==0)for(;H<=N;)a(this,I,H),H+=this.blockSize;if(typeof I=="string"){for(;H<x;)if(k[P++]=I.charCodeAt(H++),P==this.blockSize){a(this,k),P=0;break}}else for(;H<x;)if(k[P++]=I[H++],P==this.blockSize){a(this,k),P=0;break}}this.h=P,this.o+=x},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,N=0;N<4;++N)for(let k=0;k<32;k+=8)I[x++]=this.g[N]>>>k&255;return I};function l(I,x){var N=h;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=x(I)}function c(I,x){this.h=x;const N=[];let k=!0;for(let P=I.length-1;P>=0;P--){const H=I[P]|0;k&&H==x||(N[P]=H,k=!1)}this.g=N}var h={};function d(I){return-128<=I&&I<128?l(I,function(x){return new c([x|0],x<0?-1:0)}):new c([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return v;if(I<0)return D(p(-I));const x=[];let N=1;for(let k=0;I>=N;k++)x[k]=I/N|0,N*=4294967296;return new c(x,0)}function y(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return D(y(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=p(Math.pow(x,8));let k=v;for(let H=0;H<I.length;H+=8){var P=Math.min(8,I.length-H);const V=parseInt(I.substring(H,H+P),x);P<8?(P=p(Math.pow(x,P)),k=k.j(P).add(p(V))):(k=k.j(N),k=k.add(p(V)))}return k}var v=d(0),T=d(1),A=d(16777216);e=c.prototype,e.m=function(){if(C(this))return-D(this).m();let I=0,x=1;for(let N=0;N<this.g.length;N++){const k=this.i(N);I+=(k>=0?k:4294967296+k)*x,x*=4294967296}return I},e.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(M(this))return"0";if(C(this))return"-"+D(this).toString(I);const x=p(Math.pow(I,6));var N=this;let k="";for(;;){const P=st(N,x).g;N=j(N,P.j(x));let H=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=P,M(N))return H+k;for(;H.length<6;)H="0"+H;k=H+k}},e.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function M(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function C(I){return I.h==-1}e.l=function(I){return I=j(this,I),C(I)?-1:M(I)?0:1};function D(I){const x=I.g.length,N=[];for(let k=0;k<x;k++)N[k]=~I.g[k];return new c(N,~I.h).add(T)}e.abs=function(){return C(this)?D(this):this},e.add=function(I){const x=Math.max(this.g.length,I.g.length),N=[];let k=0;for(let P=0;P<=x;P++){let H=k+(this.i(P)&65535)+(I.i(P)&65535),V=(H>>>16)+(this.i(P)>>>16)+(I.i(P)>>>16);k=V>>>16,H&=65535,V&=65535,N[P]=V<<16|H}return new c(N,N[N.length-1]&-2147483648?-1:0)};function j(I,x){return I.add(D(x))}e.j=function(I){if(M(this)||M(I))return v;if(C(this))return C(I)?D(this).j(D(I)):D(D(this).j(I));if(C(I))return D(this.j(D(I)));if(this.l(A)<0&&I.l(A)<0)return p(this.m()*I.m());const x=this.g.length+I.g.length,N=[];for(var k=0;k<2*x;k++)N[k]=0;for(k=0;k<this.g.length;k++)for(let P=0;P<I.g.length;P++){const H=this.i(k)>>>16,V=this.i(k)&65535,ae=I.i(P)>>>16,_e=I.i(P)&65535;N[2*k+2*P]+=V*_e,q(N,2*k+2*P),N[2*k+2*P+1]+=H*_e,q(N,2*k+2*P+1),N[2*k+2*P+1]+=V*ae,q(N,2*k+2*P+1),N[2*k+2*P+2]+=H*ae,q(N,2*k+2*P+2)}for(I=0;I<x;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=x;I<2*x;I++)N[I]=0;return new c(N,0)};function q(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function U(I,x){this.g=I,this.h=x}function st(I,x){if(M(x))throw Error("division by zero");if(M(I))return new U(v,v);if(C(I))return x=st(D(I),x),new U(D(x.g),D(x.h));if(C(x))return x=st(I,D(x)),new U(D(x.g),x.h);if(I.g.length>30){if(C(I)||C(x))throw Error("slowDivide_ only works with positive integers.");for(var N=T,k=x;k.l(I)<=0;)N=W(N),k=W(k);var P=ot(N,1),H=ot(k,1);for(k=ot(k,2),N=ot(N,2);!M(k);){var V=H.add(k);V.l(I)<=0&&(P=P.add(N),H=V),k=ot(k,1),N=ot(N,1)}return x=j(I,P.j(x)),new U(P,x)}for(P=v;I.l(x)>=0;){for(N=Math.max(1,Math.floor(I.m()/x.m())),k=Math.ceil(Math.log(N)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),H=p(N),V=H.j(x);C(V)||V.l(I)>0;)N-=k,H=p(N),V=H.j(x);M(H)&&(H=T),P=P.add(H),I=j(I,V)}return new U(P,I)}e.B=function(I){return st(this,I).h},e.and=function(I){const x=Math.max(this.g.length,I.g.length),N=[];for(let k=0;k<x;k++)N[k]=this.i(k)&I.i(k);return new c(N,this.h&I.h)},e.or=function(I){const x=Math.max(this.g.length,I.g.length),N=[];for(let k=0;k<x;k++)N[k]=this.i(k)|I.i(k);return new c(N,this.h|I.h)},e.xor=function(I){const x=Math.max(this.g.length,I.g.length),N=[];for(let k=0;k<x;k++)N[k]=this.i(k)^I.i(k);return new c(N,this.h^I.h)};function W(I){const x=I.g.length+1,N=[];for(let k=0;k<x;k++)N[k]=I.i(k)<<1|I.i(k-1)>>>31;return new c(N,I.h)}function ot(I,x){const N=x>>5;x%=32;const k=I.g.length-N,P=[];for(let H=0;H<k;H++)P[H]=x>0?I.i(H+N)>>>x|I.i(H+N+1)<<32-x:I.i(H+N);return new c(P,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,mR=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,ia=c}).apply(typeof rS<"u"?rS:typeof self<"u"?self:typeof window<"u"?window:{});var fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pR,Ic,gR,xd,nv,yR,vR,_R;(function(){var e,t=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof fd=="object"&&fd];for(var _=0;_<f.length;++_){var b=f[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function a(f,_){if(_)t:{var b=s;f=f.split(".");for(var R=0;R<f.length-1;R++){var $=f[R];if(!($ in b))break t;b=b[$]}f=f[f.length-1],R=b[f],_=_(R),_!=R&&_!=null&&t(b,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var b=[],R;for(R in _)Object.prototype.hasOwnProperty.call(_,R)&&b.push([R,_[R]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,b){return f.call.apply(f.bind,arguments)}function p(f,_,b){return p=d,p.apply(null,arguments)}function y(f,_){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function v(f,_){function b(){}b.prototype=_.prototype,f.Z=_.prototype,f.prototype=new b,f.prototype.constructor=f,f.Ob=function(R,$,X){for(var ut=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)ut[Ct-2]=arguments[Ct];return _.prototype[$].apply(R,ut)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function A(f){const _=f.length;if(_>0){const b=Array(_);for(let R=0;R<_;R++)b[R]=f[R];return b}return[]}function M(f,_){for(let R=1;R<arguments.length;R++){const $=arguments[R];var b=typeof $;if(b=b!="object"?b:$?Array.isArray($)?"array":b:"null",b=="array"||b=="object"&&typeof $.length=="number"){b=f.length||0;const X=$.length||0;f.length=b+X;for(let ut=0;ut<X;ut++)f[b+ut]=$[ut]}else f.push($)}}class C{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function D(f){c.setTimeout(()=>{throw f},0)}function j(){var f=I;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class q{constructor(){this.h=this.g=null}add(_,b){const R=U.get();R.set(_,b),this.h?this.h.next=R:this.g=R,this.h=R}}var U=new C(()=>new st,f=>f.reset());class st{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let W,ot=!1,I=new q,x=()=>{const f=Promise.resolve(void 0);W=()=>{f.then(N)}};function N(){for(var f;f=j();){try{f.h.call(f.g)}catch(b){D(b)}var _=U;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}ot=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};c.addEventListener("test",b,_),c.removeEventListener("test",b,_)}catch{}return f})();function V(f){return/^[\s\xa0]*$/.test(f)}function ae(f,_){P.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(ae,P),ae.prototype.init=function(f,_){const b=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(b=="mouseover"?_=f.fromElement:b=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),tt=0;function lt(f,_,b,R,$){this.listener=f,this.proxy=null,this.src=_,this.type=b,this.capture=!!R,this.ha=$,this.key=++tt,this.da=this.fa=!1}function pt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Mt(f,_,b){for(const R in f)_.call(b,f[R],R,f)}function kt(f,_){for(const b in f)_.call(void 0,f[b],b,f)}function B(f){const _={};for(const b in f)_[b]=f[b];return _}const rt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(f,_){let b,R;for(let $=1;$<arguments.length;$++){R=arguments[$];for(b in R)f[b]=R[b];for(let X=0;X<rt.length;X++)b=rt[X],Object.prototype.hasOwnProperty.call(R,b)&&(f[b]=R[b])}}function mt(f){this.src=f,this.g={},this.h=0}mt.prototype.add=function(f,_,b,R,$){const X=f.toString();f=this.g[X],f||(f=this.g[X]=[],this.h++);const ut=Nt(f,_,R,$);return ut>-1?(_=f[ut],b||(_.fa=!1)):(_=new lt(_,this.src,X,!!R,$),_.fa=b,f.push(_)),_};function At(f,_){const b=_.type;if(b in f.g){var R=f.g[b],$=Array.prototype.indexOf.call(R,_,void 0),X;(X=$>=0)&&Array.prototype.splice.call(R,$,1),X&&(pt(_),f.g[b].length==0&&(delete f.g[b],f.h--))}}function Nt(f,_,b,R){for(let $=0;$<f.length;++$){const X=f[$];if(!X.da&&X.listener==_&&X.capture==!!b&&X.ha==R)return $}return-1}var Gt="closure_lm_"+(Math.random()*1e6|0),He={};function fe(f,_,b,R,$){if(Array.isArray(_)){for(let X=0;X<_.length;X++)fe(f,_[X],b,R,$);return null}return b=Tu(b),f&&f[_e]?f.J(_,b,h(R)?!!R.capture:!1,$):ga(f,_,b,!1,R,$)}function ga(f,_,b,R,$,X){if(!_)throw Error("Invalid event type");const ut=h($)?!!$.capture:!!$;let Ct=ya(f);if(Ct||(f[Gt]=Ct=new mt(f)),b=Ct.add(_,b,R,ut,X),b.proxy)return b;if(R=Mo(),b.proxy=R,R.src=f,R.listener=b,f.addEventListener)H||($=ut),$===void 0&&($=!1),f.addEventListener(_.toString(),R,$);else if(f.attachEvent)f.attachEvent(Hi(_.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Mo(){function f(b){return _.call(f.src,f.listener,b)}const _=vu;return f}function No(f,_,b,R,$){if(Array.isArray(_))for(var X=0;X<_.length;X++)No(f,_[X],b,R,$);else R=h(R)?!!R.capture:!!R,b=Tu(b),f&&f[_e]?(f=f.i,X=String(_).toString(),X in f.g&&(_=f.g[X],b=Nt(_,b,R,$),b>-1&&(pt(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete f.g[X],f.h--)))):f&&(f=ya(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Nt(_,b,R,$)),(b=f>-1?_[f]:null)&&Do(b))}function Do(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[_e])At(_.i,f);else{var b=f.type,R=f.proxy;_.removeEventListener?_.removeEventListener(b,R,f.capture):_.detachEvent?_.detachEvent(Hi(b),R):_.addListener&&_.removeListener&&_.removeListener(R),(b=ya(_))?(At(b,f),b.h==0&&(b.src=null,_[Gt]=null)):pt(f)}}}function Hi(f){return f in He?He[f]:He[f]="on"+f}function vu(f,_){if(f.da)f=!0;else{_=new ae(_,this);const b=f.listener,R=f.ha||f.src;f.fa&&Do(f),f=b.call(R,_)}return f}function ya(f){return f=f[Gt],f instanceof mt?f:null}var _u="__closure_events_fn_"+(Math.random()*1e9>>>0);function Tu(f){return typeof f=="function"?f:(f[_u]||(f[_u]=function(_){return f.handleEvent(_)}),f[_u])}function Me(){k.call(this),this.i=new mt(this),this.M=this,this.G=null}v(Me,k),Me.prototype[_e]=!0,Me.prototype.removeEventListener=function(f,_,b,R){No(this,f,_,b,R)};function Ge(f,_){var b,R=f.G;if(R)for(b=[];R;R=R.G)b.push(R);if(f=f.M,R=_.type||_,typeof _=="string")_=new P(_,f);else if(_ instanceof P)_.target=_.target||f;else{var $=_;_=new P(R,f),ct(_,$)}$=!0;let X,ut;if(b)for(ut=b.length-1;ut>=0;ut--)X=_.g=b[ut],$=or(X,R,!0,_)&&$;if(X=_.g=f,$=or(X,R,!0,_)&&$,$=or(X,R,!1,_)&&$,b)for(ut=0;ut<b.length;ut++)X=_.g=b[ut],$=or(X,R,!1,_)&&$}Me.prototype.N=function(){if(Me.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const b=f.g[_];for(let R=0;R<b.length;R++)pt(b[R]);delete f.g[_],f.h--}}this.G=null},Me.prototype.J=function(f,_,b,R){return this.i.add(String(f),_,!1,b,R)},Me.prototype.K=function(f,_,b,R){return this.i.add(String(f),_,!0,b,R)};function or(f,_,b,R){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let $=!0;for(let X=0;X<_.length;++X){const ut=_[X];if(ut&&!ut.da&&ut.capture==b){const Ct=ut.listener,we=ut.ha||ut.src;ut.fa&&At(f.i,ut),$=Ct.call(we,R)!==!1&&$}}return $&&!R.defaultPrevented}function Fm(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(f,_||0)}function Vh(f){f.g=Fm(()=>{f.g=null,f.i&&(f.i=!1,Vh(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class En extends k{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Vh(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function va(f){k.call(this),this.h=f,this.g={}}v(va,k);var Eu=[];function bu(f){Mt(f.g,function(_,b){this.g.hasOwnProperty(b)&&Do(_)},f),f.g={}}va.prototype.N=function(){va.Z.N.call(this),bu(this)},va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lr=c.JSON.stringify,qm=c.JSON.parse,Oh=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function Ph(){}function kh(){}var Si={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function nn(){P.call(this,"d")}v(nn,P);function ti(){P.call(this,"c")}v(ti,P);var Ae={},Lh=null;function Vo(){return Lh=Lh||new Me}Ae.Ia="serverreachability";function jh(f){P.call(this,Ae.Ia,f)}v(jh,P);function Gi(f){const _=Vo();Ge(_,new jh(_))}Ae.STAT_EVENT="statevent";function _a(f,_){P.call(this,Ae.STAT_EVENT,f),this.stat=_}v(_a,P);function Ne(f){const _=Vo();Ge(_,new _a(_,f))}Ae.Ja="timingevent";function $i(f,_){P.call(this,Ae.Ja,f),this.size=_}v($i,P);function Ki(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},_)}function Ai(){this.g=!0}Ai.prototype.ua=function(){this.g=!1};function Hm(f,_,b,R,$,X){f.info(function(){if(f.g)if(X){var ut="",Ct=X.split("&");for(let Yt=0;Yt<Ct.length;Yt++){var we=Ct[Yt].split("=");if(we.length>1){const de=we[0];we=we[1];const si=de.split("_");ut=si.length>=2&&si[1]=="type"?ut+(de+"="+we+"&"):ut+(de+"=redacted&")}}}else ut=null;else ut=X;return"XMLHTTP REQ ("+R+") [attempt "+$+"]: "+_+`
`+b+`
`+ut})}function Uh(f,_,b,R,$,X,ut){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+$+"]: "+_+`
`+b+`
`+X+" "+ut})}function Qi(f,_,b,R){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+Gm(f,b)+(R?" "+R:"")})}function Ta(f,_){f.info(function(){return"TIMEOUT: "+_})}Ai.prototype.info=function(){};function Gm(f,_){if(!f.g)return _;if(!_)return null;try{const X=JSON.parse(_);if(X){for(f=0;f<X.length;f++)if(Array.isArray(X[f])){var b=X[f];if(!(b.length<2)){var R=b[1];if(Array.isArray(R)&&!(R.length<1)){var $=R[0];if($!="noop"&&$!="stop"&&$!="close")for(let ut=1;ut<R.length;ut++)R[ut]=""}}}}return lr(X)}catch{return _}}var Ea={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Su={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Au;function ba(){}v(ba,Ph),ba.prototype.g=function(){return new XMLHttpRequest},Au=new ba;function Rs(f){return encodeURIComponent(String(f))}function zh(f){var _=1;f=f.split(":");const b=[];for(;_>0&&f.length;)b.push(f.shift()),_--;return f.length&&b.push(f.join(":")),b}function wi(f,_,b,R){this.j=f,this.i=_,this.l=b,this.S=R||1,this.V=new va(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new xi}function xi(){this.i=null,this.g="",this.h=!1}var De={},Ze={};function Yi(f,_,b){f.M=1,f.A=Sa(Oe(_)),f.u=b,f.R=!0,Oo(f,null)}function Oo(f,_){f.F=Date.now(),Xi(f),f.B=Oe(f.A);var b=f.B,R=f.S;Array.isArray(R)||(R=[String(R)]),jo(b.i,"t",R),f.C=0,b=f.j.L,f.h=new xi,f.g=ef(f.j,b?_:null,!f.u),f.P>0&&(f.O=new En(p(f.Y,f,f.g),f.P)),_=f.V,b=f.g,R=f.ba;var $="readystatechange";Array.isArray($)||($&&(Eu[0]=$.toString()),$=Eu);for(let X=0;X<$.length;X++){const ut=fe(b,$[X],R||_.handleEvent,!1,_.h||_);if(!ut)break;_.g[ut.key]=ut}_=f.J?B(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),Gi(),Hm(f.i,f.v,f.B,f.l,f.S,f.u)}wi.prototype.ba=function(f){f=f.target;const _=this.O;_&&Ii(f)==3?_.j():this.Y(f)},wi.prototype.Y=function(f){try{if(f==this.g)t:{const Ct=Ii(this.g),we=this.g.ya(),Yt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||Ct!=4||we==7||(we==8||Yt<=0?Gi(3):Gi(2)),Zi(this);var _=this.g.ca();this.X=_;var b=$m(this);if(this.o=_==200,Uh(this.i,this.v,this.B,this.l,this.S,Ct,_),this.o){if(this.U&&!this.L){e:{if(this.g){var R,$=this.g;if((R=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(R)){var X=R;break e}}X=null}if(f=X)Qi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Wi(this,f);else{this.o=!1,this.m=3,Ne(12),Fn(this),ei(this);break t}}if(this.R){f=!0;let de;for(;!this.K&&this.C<b.length;)if(de=Fh(this,b),de==Ze){Ct==4&&(this.m=4,Ne(14),f=!1),Qi(this.i,this.l,null,"[Incomplete Response]");break}else if(de==De){this.m=4,Ne(15),Qi(this.i,this.l,b,"[Invalid Chunk]"),f=!1;break}else Qi(this.i,this.l,de,null),Wi(this,de);if(Bh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||b.length!=0||this.h.h||(this.m=1,Ne(16),f=!1),this.o=this.o&&f,!f)Qi(this.i,this.l,b,"[Invalid Chunked Response]"),Fn(this),ei(this);else if(b.length>0&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.aa&&!ut.P&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Uu(ut),ut.P=!0,Ne(11))}}else Qi(this.i,this.l,b,null),Wi(this,b);Ct==4&&Fn(this),this.o&&!this.K&&(Ct==4?Zh(this.j,this):(this.o=!1,Xi(this)))}else Is(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,Ne(12)):(this.m=0,Ne(13)),Fn(this),ei(this)}}}catch{}finally{}};function $m(f){if(!Bh(f))return f.g.la();const _=sn(f.g);if(_==="")return"";let b="";const R=_.length,$=Ii(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Fn(f),ei(f),"";f.h.i=new c.TextDecoder}for(let X=0;X<R;X++)f.h.h=!0,b+=f.h.i.decode(_[X],{stream:!($&&X==R-1)});return _.length=0,f.h.g+=b,f.C=0,f.h.g}function Bh(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Fh(f,_){var b=f.C,R=_.indexOf(`
`,b);return R==-1?Ze:(b=Number(_.substring(b,R)),isNaN(b)?De:(R+=1,R+b>_.length?Ze:(_=_.slice(R,R+b),f.C=R+b,_)))}wi.prototype.cancel=function(){this.K=!0,Fn(this)};function Xi(f){f.T=Date.now()+f.H,Po(f,f.H)}function Po(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Ki(p(f.aa,f),_)}function Zi(f){f.D&&(c.clearTimeout(f.D),f.D=null)}wi.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Ta(this.i,this.B),this.M!=2&&(Gi(),Ne(17)),Fn(this),this.m=2,ei(this)):Po(this,this.T-f)};function ei(f){f.j.I==0||f.K||Zh(f.j,f)}function Fn(f){Zi(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,bu(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function Wi(f,_){try{var b=f.j;if(b.I!=0&&(b.g==f||ts(b.h,f))){if(!f.L&&ts(b.h,f)&&b.I==3){try{var R=b.Ba.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var $=R;if($[0]==0){t:if(!b.v){if(b.g)if(b.g.F+3e3<f.F)qo(b),gr(b);else break t;Ma(b),Ne(18)}}else b.xa=$[1],0<b.xa-b.K&&$[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Ki(p(b.Va,b),6e3));Ji(b.h)<=1&&b.ta&&(b.ta=void 0)}else as(b,11)}else if((f.L||b.g==f)&&qo(b),!V(_))for($=b.Ba.g.parse(_),_=0;_<$.length;_++){let Yt=$[_];const de=Yt[0];if(!(de<=b.K))if(b.K=de,Yt=Yt[1],b.I==2)if(Yt[0]=="c"){b.M=Yt[1],b.ba=Yt[2];const si=Yt[3];si!=null&&(b.ka=si,b.j.info("VER="+b.ka));const os=Yt[4];os!=null&&(b.za=os,b.j.info("SVER="+b.za));const Mi=Yt[5];Mi!=null&&typeof Mi=="number"&&Mi>0&&(R=1.5*Mi,b.O=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const Ni=f.g;if(Ni){const Na=Ni.g?Ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Na){var X=R.h;X.g||Na.indexOf("spdy")==-1&&Na.indexOf("quic")==-1&&Na.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ru(X,X.h),X.h=null))}if(R.G){const Ho=Ni.g?Ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Ho&&(R.wa=Ho,Jt(R.J,R.G,Ho))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-f.F,b.j.info("Handshake RTT: "+b.T+"ms")),R=b;var ut=f;if(R.na=tf(R,R.L?R.ba:null,R.W),ut.L){Cu(R.h,ut);var Ct=ut,we=R.O;we&&(Ct.H=we),Ct.D&&(Zi(Ct),Xi(Ct)),R.g=ut}else Yh(R);b.i.length>0&&rs(b)}else Yt[0]!="stop"&&Yt[0]!="close"||as(b,7);else b.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?as(b,7):Lu(b):Yt[0]!="noop"&&b.l&&b.l.qa(Yt),b.A=0)}}Gi(4)}catch{}}var Ve=class{constructor(f,_){this.g=f,this.map=_}};function wu(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xu(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ji(f){return f.h?1:f.g?f.g.size:0}function ts(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Ru(f,_){f.g?f.g.add(_):f.h=_}function Cu(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}wu.prototype.cancel=function(){if(this.i=Iu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Iu(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const b of f.g.values())_=_.concat(b.G);return _}return A(f.i)}var qh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ko(f,_){if(f){f=f.split("&");for(let b=0;b<f.length;b++){const R=f[b].indexOf("=");let $,X=null;R>=0?($=f[b].substring(0,R),X=f[b].substring(R+1)):$=f[b],_($,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function qn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof qn?(this.l=f.l,We(this,f.j),this.o=f.o,this.g=f.g,ur(this,f.u),this.h=f.h,Mu(this,Kh(f.i)),this.m=f.m):f&&(_=String(f).match(qh))?(this.l=!1,We(this,_[1]||"",!0),this.o=es(_[2]||""),this.g=es(_[3]||"",!0),ur(this,_[4]),this.h=es(_[5]||"",!0),Mu(this,_[6]||"",!0),this.m=es(_[7]||"")):(this.l=!1,this.i=new hr(null,this.l))}qn.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(Aa(_,Lo,!0),":");var b=this.g;return(b||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Aa(_,Lo,!0),"@"),f.push(Rs(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&f.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(Aa(b,b.charAt(0)=="/"?Nu:Hh,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",Aa(b,Gh)),f.join("")},qn.prototype.resolve=function(f){const _=Oe(this);let b=!!f.j;b?We(_,f.j):b=!!f.o,b?_.o=f.o:b=!!f.g,b?_.g=f.g:b=f.u!=null;var R=f.h;if(b)ur(_,f.u);else if(b=!!f.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var $=_.h.lastIndexOf("/");$!=-1&&(R=_.h.slice(0,$+1)+R)}if($=R,$==".."||$==".")R="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){R=$.lastIndexOf("/",0)==0,$=$.split("/");const X=[];for(let ut=0;ut<$.length;){const Ct=$[ut++];Ct=="."?R&&ut==$.length&&X.push(""):Ct==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),R&&ut==$.length&&X.push("")):(X.push(Ct),R=!0)}R=X.join("/")}else R=$}return b?_.h=R:b=f.i.toString()!=="",b?Mu(_,Kh(f.i)):b=!!f.m,b&&(_.m=f.m),_};function Oe(f){return new qn(f)}function We(f,_,b){f.j=b?es(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function ur(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function Mu(f,_,b){_ instanceof hr?(f.i=_,Uo(f.i,f.l)):(b||(_=Aa(_,cr)),f.i=new hr(_,f.l))}function Jt(f,_,b){f.i.set(_,b)}function Sa(f){return Jt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function es(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Aa(f,_,b){return typeof f=="string"?(f=encodeURI(f).replace(_,Mn),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Mn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Lo=/[#\/\?@]/g,Hh=/[#\?:]/g,Nu=/[#\?]/g,cr=/[#\?@]/g,Gh=/#/g;function hr(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Nn(f){f.g||(f.g=new Map,f.h=0,f.i&&ko(f.i,function(_,b){f.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}e=hr.prototype,e.add=function(f,_){Nn(this),this.i=null,f=fr(this,f);let b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(_),this.h+=1,this};function $h(f,_){Nn(f),_=fr(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Du(f,_){return Nn(f),_=fr(f,_),f.g.has(_)}e.forEach=function(f,_){Nn(this),this.g.forEach(function(b,R){b.forEach(function($){f.call(_,$,R,this)},this)},this)};function Vu(f,_){Nn(f);let b=[];if(typeof _=="string")Du(f,_)&&(b=b.concat(f.g.get(fr(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)b=b.concat(f[_]);return b}e.set=function(f,_){return Nn(this),this.i=null,f=fr(this,f),Du(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},e.get=function(f,_){return f?(f=Vu(this,f),f.length>0?String(f[0]):_):_};function jo(f,_,b){$h(f,_),b.length>0&&(f.i=null,f.g.set(fr(f,_),A(b)),f.h+=b.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let R=0;R<_.length;R++){var b=_[R];const $=Rs(b);b=Vu(this,b);for(let X=0;X<b.length;X++){let ut=$;b[X]!==""&&(ut+="="+Rs(b[X])),f.push(ut)}}return this.i=f.join("&")};function Kh(f){const _=new hr;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function fr(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function Uo(f,_){_&&!f.j&&(Nn(f),f.i=null,f.g.forEach(function(b,R){const $=R.toLowerCase();R!=$&&($h(this,R),jo(this,$,b))},f)),f.j=_}function Ri(f,_){const b=new Ai;if(c.Image){const R=new Image;R.onload=y(ni,b,"TestLoadImage: loaded",!0,_,R),R.onerror=y(ni,b,"TestLoadImage: error",!1,_,R),R.onabort=y(ni,b,"TestLoadImage: abort",!1,_,R),R.ontimeout=y(ni,b,"TestLoadImage: timeout",!1,_,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else _(!1)}function Ou(f,_){const b=new Ai,R=new AbortController,$=setTimeout(()=>{R.abort(),ni(b,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:R.signal}).then(X=>{clearTimeout($),X.ok?ni(b,"TestPingServer: ok",!0,_):ni(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout($),ni(b,"TestPingServer: error",!1,_)})}function ni(f,_,b,R,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),R(b)}catch{}}function dr(){this.g=new Oh}function ns(f){this.i=f.Sb||null,this.h=f.ab||!1}v(ns,Ph),ns.prototype.g=function(){return new wa(this.i,this.h)};function wa(f,_){Me.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(wa,Me),e=wa.prototype,e.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,Ci(this)},e.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},e.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ci(this)),this.g&&(this.readyState=3,Ci(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;zo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function zo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}e.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?mr(this):Ci(this),this.readyState==3&&zo(this)}},e.Oa=function(f){this.g&&(this.response=this.responseText=f,mr(this))},e.Na=function(f){this.g&&(this.response=f,mr(this))},e.ga=function(){this.g&&mr(this)};function mr(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Ci(f)}e.setRequestHeader=function(f,_){this.A.append(f,_)},e.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=_.next();return f.join(`\r
`)};function Ci(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(wa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ii(f){let _="";return Mt(f,function(b,R){_+=R,_+=":",_+=b,_+=`\r
`}),_}function xa(f,_,b){t:{for(R in b){var R=!1;break t}R=!0}R||(b=ii(b),typeof f=="string"?b!=null&&Rs(b):Jt(f,_,b))}function ne(f){Me.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(ne,Me);var is=/^https?$/i,Pu=["POST","PUT"];e=ne.prototype,e.Fa=function(f){this.H=f},e.ea=function(f,_,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Au.g(),this.g.onreadystatechange=T(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(X){Ra(this,X);return}if(f=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var $ in R)b.set($,R[$]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const X of R.keys())b.set(X,R.get(X));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(X=>X.toLowerCase()=="content-type"),$=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(Pu,_,void 0)>=0)||R||$||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ut]of b)this.g.setRequestHeader(X,ut);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(X){Ra(this,X)}};function Ra(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,ku(f),Cs(f)}function ku(f){f.A||(f.A=!0,Ge(f,"complete"),Ge(f,"error"))}e.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ge(this,"complete"),Ge(this,"abort"),Cs(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cs(this,!0)),ne.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Ca(this):this.Xa())},e.Xa=function(){Ca(this)};function Ca(f){if(f.h&&typeof l<"u"){if(f.v&&Ii(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ge(f,"readystatechange"),Ii(f)==4){f.h=!1;try{const X=f.ca();t:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var b;if(!(b=_)){var R;if(R=X===0){let ut=String(f.D).match(qh)[1]||null;!ut&&c.self&&c.self.location&&(ut=c.self.location.protocol.slice(0,-1)),R=!is.test(ut?ut.toLowerCase():"")}b=R}if(b)Ge(f,"complete"),Ge(f,"success");else{f.o=6;try{var $=Ii(f)>2?f.g.statusText:""}catch{$=""}f.l=$+" ["+f.ca()+"]",ku(f)}}finally{Cs(f)}}}}function Cs(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const b=f.g;f.g=null,_||Ge(f,"ready");try{b.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Ii(f){return f.g?f.g.readyState:0}e.ca=function(){try{return Ii(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),qm(_)}};function sn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Is(f){const _={};f=(f.g&&Ii(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(V(f[R]))continue;var b=zh(f[R]);const $=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const X=_[$]||[];_[$]=X,X.push(b)}kt(_,function(R){return R.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ss(f,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||_}function pr(f){this.za=0,this.i=[],this.j=new Ai,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ss("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ss("baseRetryDelayMs",5e3,f),this.Za=ss("retryDelaySeedMs",1e4,f),this.Ta=ss("forwardChannelMaxRetries",2,f),this.va=ss("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new wu(f&&f.concurrentRequestLimit),this.Ba=new dr,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=pr.prototype,e.ka=8,e.I=1,e.connect=function(f,_,b,R){Ne(0),this.W=f,this.H=_||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.J=tf(this,null,this.W),rs(this)};function Lu(f){if(Bo(f),f.I==3){var _=f.V++,b=Oe(f.J);if(Jt(b,"SID",f.M),Jt(b,"RID",_),Jt(b,"TYPE","terminate"),Ia(f,b),_=new wi(f,f.j,_),_.M=2,_.A=Sa(Oe(b)),b=!1,c.navigator&&c.navigator.sendBeacon)try{b=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&c.Image&&(new Image().src=_.A,b=!0),b||(_.g=ef(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Xi(_)}Jh(f)}function gr(f){f.g&&(Uu(f),f.g.cancel(),f.g=null)}function Bo(f){gr(f),f.v&&(c.clearTimeout(f.v),f.v=null),qo(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function rs(f){if(!xu(f.h)&&!f.m){f.m=!0;var _=f.Ea;W||x(),ot||(W(),ot=!0),I.add(_,f),f.D=0}}function Fo(f,_){return Ji(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Ki(p(f.Ea,f,_),Wh(f,f.D)),f.D++,!0)}e.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const $=new wi(this,this.j,f);let X=this.o;if(this.U&&(X?(X=B(X),ct(X,this.U)):X=this.U),this.u!==null||this.R||($.J=X,X=null),this.S)t:{for(var _=0,b=0;b<this.i.length;b++){e:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break e}R=void 0}if(R===void 0)break;if(_+=R,_>4096){_=b;break t}if(_===4096||b===this.i.length-1){_=b+1;break t}}_=1e3}else _=1e3;_=Qh(this,$,_),b=Oe(this.J),Jt(b,"RID",f),Jt(b,"CVER",22),this.G&&Jt(b,"X-HTTP-Session-Id",this.G),Ia(this,b),X&&(this.R?_="headers="+Rs(ii(X))+"&"+_:this.u&&xa(b,this.u,X)),Ru(this.h,$),this.Ra&&Jt(b,"TYPE","init"),this.S?(Jt(b,"$req",_),Jt(b,"SID","null"),$.U=!0,Yi($,b,null)):Yi($,b,_),this.I=2}}else this.I==3&&(f?ju(this,f):this.i.length==0||xu(this.h)||ju(this))};function ju(f,_){var b;_?b=_.l:b=f.V++;const R=Oe(f.J);Jt(R,"SID",f.M),Jt(R,"RID",b),Jt(R,"AID",f.K),Ia(f,R),f.u&&f.o&&xa(R,f.u,f.o),b=new wi(f,f.j,b,f.D+1),f.u===null&&(b.J=f.o),_&&(f.i=_.G.concat(f.i)),_=Qh(f,b,1e3),b.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Ru(f.h,b),Yi(b,R,_)}function Ia(f,_){f.H&&Mt(f.H,function(b,R){Jt(_,R,b)}),f.l&&Mt({},function(b,R){Jt(_,R,b)})}function Qh(f,_,b){b=Math.min(f.i.length,b);const R=f.l?p(f.l.Ka,f.l,f):null;t:{var $=f.i;let Ct=-1;for(;;){const we=["count="+b];Ct==-1?b>0?(Ct=$[0].g,we.push("ofs="+Ct)):Ct=0:we.push("ofs="+Ct);let Yt=!0;for(let de=0;de<b;de++){var X=$[de].g;const si=$[de].map;if(X-=Ct,X<0)Ct=Math.max(0,$[de].g-100),Yt=!1;else try{X="req"+X+"_"||"";try{var ut=si instanceof Map?si:Object.entries(si);for(const[os,Mi]of ut){let Ni=Mi;h(Mi)&&(Ni=lr(Mi)),we.push(X+os+"="+encodeURIComponent(Ni))}}catch(os){throw we.push(X+"type="+encodeURIComponent("_badmap")),os}}catch{R&&R(si)}}if(Yt){ut=we.join("&");break t}}ut=void 0}return f=f.i.splice(0,b),_.G=f,ut}function Yh(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;W||x(),ot||(W(),ot=!0),I.add(_,f),f.A=0}}function Ma(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Ki(p(f.Da,f),Wh(f,f.A)),f.A++,!0)}e.Da=function(){if(this.v=null,Xh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Ki(p(this.Wa,this),f)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ne(10),gr(this),Xh(this))};function Uu(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function Xh(f){f.g=new wi(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=Oe(f.na);Jt(_,"RID","rpc"),Jt(_,"SID",f.M),Jt(_,"AID",f.K),Jt(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&Jt(_,"TO",f.ia),Jt(_,"TYPE","xmlhttp"),Ia(f,_),f.u&&f.o&&xa(_,f.u,f.o),f.O&&(f.g.H=f.O);var b=f.g;f=f.ba,b.M=1,b.A=Sa(Oe(_)),b.u=null,b.R=!0,Oo(b,f)}e.Va=function(){this.C!=null&&(this.C=null,gr(this),Ma(this),Ne(19))};function qo(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Zh(f,_){var b=null;if(f.g==_){qo(f),Uu(f),f.g=null;var R=2}else if(ts(f.h,_))b=_.G,Cu(f.h,_),R=1;else return;if(f.I!=0){if(_.o)if(R==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var $=f.D;R=Vo(),Ge(R,new $i(R,b)),rs(f)}else Yh(f);else if($=_.m,$==3||$==0&&_.X>0||!(R==1&&Fo(f,_)||R==2&&Ma(f)))switch(b&&b.length>0&&(_=f.h,_.i=_.i.concat(b)),$){case 1:as(f,5);break;case 4:as(f,10);break;case 3:as(f,6);break;default:as(f,2)}}}function Wh(f,_){let b=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(b*=2),b*_}function as(f,_){if(f.j.info("Error code "+_),_==2){var b=p(f.bb,f),R=f.Ua;const $=!R;R=new qn(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||We(R,"https"),Sa(R),$?Ri(R.toString(),b):Ou(R.toString(),b)}else Ne(2);f.I=0,f.l&&f.l.pa(_),Jh(f),Bo(f)}e.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))};function Jh(f){if(f.I=0,f.ja=[],f.l){const _=Iu(f.h);(_.length!=0||f.i.length!=0)&&(M(f.ja,_),M(f.ja,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.oa()}}function tf(f,_,b){var R=b instanceof qn?Oe(b):new qn(b);if(R.g!="")_&&(R.g=_+"."+R.g),ur(R,R.u);else{var $=c.location;R=$.protocol,_=_?_+"."+$.hostname:$.hostname,$=+$.port;const X=new qn(null);R&&We(X,R),_&&(X.g=_),$&&ur(X,$),b&&(X.h=b),R=X}return b=f.G,_=f.wa,b&&_&&Jt(R,b,_),Jt(R,"VER",f.ka),Ia(f,R),R}function ef(f,_,b){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new ne(new ns({ab:b})):new ne(f.ma),_.Fa(f.L),_}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function nf(){}e=nf.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function yr(){}yr.prototype.g=function(f,_){return new bn(f,_)};function bn(f,_){Me.call(this),this.g=new pr(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!V(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!V(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Ms(this)}v(bn,Me),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Lu(this.g)},bn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.v&&(b={},b.__data__=lr(f),f=b);_.i.push(new Ve(_.Ya++,f)),_.I==3&&rs(_)},bn.prototype.N=function(){this.g.l=null,delete this.j,Lu(this.g),delete this.g,bn.Z.N.call(this)};function sf(f){nn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){t:{for(const b in _){f=b;break t}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(sf,nn);function rf(){ti.call(this),this.status=1}v(rf,ti);function Ms(f){this.g=f}v(Ms,nf),Ms.prototype.ra=function(){Ge(this.g,"a")},Ms.prototype.qa=function(f){Ge(this.g,new sf(f))},Ms.prototype.pa=function(f){Ge(this.g,new rf)},Ms.prototype.oa=function(){Ge(this.g,"b")},yr.prototype.createWebChannel=yr.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,_R=function(){return new yr},vR=function(){return Vo()},yR=Ae,nv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ea.NO_ERROR=0,Ea.TIMEOUT=8,Ea.HTTP_ERROR=6,xd=Ea,Su.COMPLETE="complete",gR=Su,kh.EventType=Si,Si.OPEN="a",Si.CLOSE="b",Si.ERROR="c",Si.MESSAGE="d",Me.prototype.listen=Me.prototype.J,Ic=kh,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,pR=ne}).apply(typeof fd<"u"?fd:typeof self<"u"?self:typeof window<"u"?window:{});const aS="@firebase/firestore",oS="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=new Eh("@firebase/firestore");function Tl(){return vo.logLevel}function dt(e,...t){if(vo.logLevel<=Ut.DEBUG){const n=t.map(d0);vo.debug(`Firestore (${lu}): ${e}`,...n)}}function Js(e,...t){if(vo.logLevel<=Ut.ERROR){const n=t.map(d0);vo.error(`Firestore (${lu}): ${e}`,...n)}}function Yl(e,...t){if(vo.logLevel<=Ut.WARN){const n=t.map(d0);vo.warn(`Firestore (${lu}): ${e}`,...n)}}function d0(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,TR(e,s,n)}function TR(e,t,n){let s=`FIRESTORE (${lu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Js(s),new Error(s)}function Wt(e,t,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,e||TR(t,a,s)}function Rt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends xs{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class O5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(gn.UNAUTHENTICATED)))}shutdown(){}}class P5{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class k5{constructor(t){this.t=t,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Wt(this.o===void 0,42304);let s=this.i;const a=d=>this.i!==s?(s=this.i,n(d)):Promise.resolve();let l=new Xs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Xs,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const d=l;t.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Xs)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Wt(typeof s.accessToken=="string",31837,{l:s}),new ER(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Wt(t===null||typeof t=="string",2055,{h:t}),new gn(t)}}class L5{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class j5{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new L5(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lS{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class U5{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,v5(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Wt(this.o===void 0,3512);const s=l=>{l.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,dt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const a=l=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new lS(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new lS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=z5(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=t.charAt(a[l]%62))}return s}}function zt(e,t){return e<t?-1:e>t?1:0}function iv(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const a=e.charAt(s),l=t.charAt(s);if(a!==l)return ty(a)===ty(l)?zt(a,l):ty(a)?1:-1}return zt(e.length,t.length)}const B5=55296,F5=57343;function ty(e){const t=e.charCodeAt(0);return t>=B5&&t<=F5}function Xl(e,t,n){return e.length===t.length&&e.every(((s,a)=>n(s,t[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="__name__";class ds{constructor(t,n,s){n===void 0?n=0:n>t.length&&bt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&bt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ds.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ds?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let a=0;a<s;a++){const l=ds.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return zt(t.length,n.length)}static compareSegments(t,n){const s=ds.isNumericId(t),a=ds.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?ds.extractNumericId(t).compare(ds.extractNumericId(n)):iv(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ia.fromString(t.substring(4,t.length-2))}}class le extends ds{construct(t,n,s){return new le(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ht(nt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new le(n)}static emptyPath(){return new le([])}}const q5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends ds{construct(t,n,s){return new fn(t,n,s)}static isValidIdentifier(t){return q5.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uS}static keyField(){return new fn([uS])}static fromServerFormat(t){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ht(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new ht(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ht(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=d,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(s+=h,a++):(l(),a++)}if(l(),c)throw new ht(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new fn(n)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.path=t}static fromPath(t){return new _t(le.fromString(t))}static fromName(t){return new _t(le.fromString(t).popFirst(5))}static empty(){return new _t(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return le.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new le(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(e,t,n){if(!n)throw new ht(nt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function H5(e,t,n,s){if(t===!0&&s===!0)throw new ht(nt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function cS(e){if(!_t.isDocumentKey(e))throw new ht(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function hS(e){if(_t.isDocumentKey(e))throw new ht(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function SR(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function gm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":bt(12329,{type:typeof e})}function Bi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ht(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gm(e);throw new ht(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function G5(e,t){if(t<=0)throw new ht(nt.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(e,t){const n={typeString:e};return t&&(n.value=t),n}function Sh(e,t){if(!SR(e))throw new ht(nt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const a=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const c=e[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ht(nt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=-62135596800,dS=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(t){return ue.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*dS);return new ue(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ht(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ht(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<fS)throw new ht(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dS}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Sh(t,ue._jsonSchema))return new ue(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-fS;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ue._jsonSchemaVersion="firestore/timestamp/1.0",ue._jsonSchema={type:qe("string",ue._jsonSchemaVersion),seconds:qe("number"),nanoseconds:qe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new ue(0,0))}static max(){return new wt(new ue(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=-1;function $5(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,a=wt.fromTimestamp(s===1e9?new ue(n+1,0):new ue(n,s));return new ra(a,_t.empty(),t)}function K5(e){return new ra(e.readTime,e.key,Wc)}class ra{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new ra(wt.min(),_t.empty(),Wc)}static max(){return new ra(wt.max(),_t.empty(),Wc)}}function Q5(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=_t.comparator(e.documentKey,t.documentKey),n!==0?n:zt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(e){if(e.code!==nt.FAILED_PRECONDITION||e.message!==Y5)throw e;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new at(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof at?n:at.resolve(n)}catch(n){return at.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):at.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):at.reject(n)}static resolve(t){return new at(((n,s)=>{n(t)}))}static reject(t){return new at(((n,s)=>{s(t)}))}static waitFor(t){return new at(((n,s)=>{let a=0,l=0,c=!1;t.forEach((h=>{++a,h.next((()=>{++l,c&&l===a&&n()}),(d=>s(d)))})),c=!0,l===a&&n()}))}static or(t){let n=at.resolve(!1);for(const s of t)n=n.next((a=>a?at.resolve(a):s()));return n}static forEach(t,n){const s=[];return t.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(t,n){return new at(((s,a)=>{const l=t.length,c=new Array(l);let h=0;for(let d=0;d<l;d++){const p=d;n(t[p]).next((y=>{c[p]=y,++h,h===l&&s(c)}),(y=>a(y)))}}))}static doWhile(t,n){return new at(((s,a)=>{const l=()=>{t()===!0?n().next((()=>{l()}),a):s()};l()}))}}function Z5(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cu(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ym.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=-1;function vm(e){return e==null}function qd(e){return e===0&&1/e==-1/0}function W5(e){return typeof e=="number"&&Number.isInteger(e)&&!qd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="";function J5(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=mS(t)),t=t6(e.get(n),t);return mS(t)}function t6(e,t){let n=t;const s=e.length;for(let a=0;a<s;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case AR:n+="";break;default:n+=l}}return n}function mS(e){return e+AR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function wo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function wR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t,n){this.comparator=t,this.root=n||cn.EMPTY}insert(t,n){return new ve(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(t){return new ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,cn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new dd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new dd(this.root,t,this.comparator,!1)}getReverseIterator(){return new dd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new dd(this.root,t,this.comparator,!0)}}class dd{constructor(t,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?s(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class cn{constructor(t,n,s,a,l){this.key=t,this.value=n,this.color=s??cn.RED,this.left=a??cn.EMPTY,this.right=l??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,a,l){return new cn(t??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return cn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw bt(27949);return t+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(t,n,s,a,l){return this}insert(t,n,s){return new cn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.comparator=t,this.data=new ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new gS(this.data.getIterator())}getIteratorFrom(t){return new gS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Ye)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ye(this.comparator);return n.data=t,n}}class gS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(t){this.fields=t,t.sort(fn.comparator)}static empty(){return new zi([])}unionWith(t){let n=new Ye(fn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new zi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Xl(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new xR("Invalid base64 string: "+l):l}})(t);return new dn(n)}static fromUint8Array(t){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new dn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const e6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function aa(e){if(Wt(!!e,39018),typeof e=="string"){let t=0;const n=e6.exec(e);if(Wt(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ce(e.seconds),nanos:Ce(e.nanos)}}function Ce(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function oa(e){return typeof e=="string"?dn.fromBase64String(e):dn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="server_timestamp",CR="__type__",IR="__previous_value__",MR="__local_write_time__";function g0(e){var n,s;return((s=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[CR])==null?void 0:s.stringValue)===RR}function _m(e){const t=e.mapValue.fields[IR];return g0(t)?_m(t):t}function Jc(e){const t=aa(e.mapValue.fields[MR].timestampValue);return new ue(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(t,n,s,a,l,c,h,d,p,y){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=y}}const Hd="(default)";class th{constructor(t,n){this.projectId=t,this.database=n||Hd}static empty(){return new th("","")}get isDefaultDatabase(){return this.database===Hd}isEqual(t){return t instanceof th&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="__type__",i6="__max__",md={mapValue:{}},DR="__vector__",Gd="value";function la(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?g0(e)?4:r6(e)?9007199254740991:s6(e)?10:11:bt(28295,{value:e})}function ws(e,t){if(e===t)return!0;const n=la(e);if(n!==la(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Jc(e).isEqual(Jc(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=aa(a.timestampValue),h=aa(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,l){return oa(a.bytesValue).isEqual(oa(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,l){return Ce(a.geoPointValue.latitude)===Ce(l.geoPointValue.latitude)&&Ce(a.geoPointValue.longitude)===Ce(l.geoPointValue.longitude)})(e,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ce(a.integerValue)===Ce(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ce(a.doubleValue),h=Ce(l.doubleValue);return c===h?qd(c)===qd(h):isNaN(c)&&isNaN(h)}return!1})(e,t);case 9:return Xl(e.arrayValue.values||[],t.arrayValue.values||[],ws);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(pS(c)!==pS(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!ws(c[d],h[d])))return!1;return!0})(e,t);default:return bt(52216,{left:e})}}function eh(e,t){return(e.values||[]).find((n=>ws(n,t)))!==void 0}function Zl(e,t){if(e===t)return 0;const n=la(e),s=la(t);if(n!==s)return zt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return zt(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const h=Ce(l.integerValue||l.doubleValue),d=Ce(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(e,t);case 3:return yS(e.timestampValue,t.timestampValue);case 4:return yS(Jc(e),Jc(t));case 5:return iv(e.stringValue,t.stringValue);case 6:return(function(l,c){const h=oa(l),d=oa(c);return h.compareTo(d)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const h=l.split("/"),d=c.split("/");for(let p=0;p<h.length&&p<d.length;p++){const y=zt(h[p],d[p]);if(y!==0)return y}return zt(h.length,d.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const h=zt(Ce(l.latitude),Ce(c.latitude));return h!==0?h:zt(Ce(l.longitude),Ce(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return vS(e.arrayValue,t.arrayValue);case 10:return(function(l,c){var T,A,M,C;const h=l.fields||{},d=c.fields||{},p=(T=h[Gd])==null?void 0:T.arrayValue,y=(A=d[Gd])==null?void 0:A.arrayValue,v=zt(((M=p==null?void 0:p.values)==null?void 0:M.length)||0,((C=y==null?void 0:y.values)==null?void 0:C.length)||0);return v!==0?v:vS(p,y)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===md.mapValue&&c===md.mapValue)return 0;if(l===md.mapValue)return 1;if(c===md.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),p=c.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const T=iv(d[v],y[v]);if(T!==0)return T;const A=Zl(h[d[v]],p[y[v]]);if(A!==0)return A}return zt(d.length,y.length)})(e.mapValue,t.mapValue);default:throw bt(23264,{he:n})}}function yS(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return zt(e,t);const n=aa(e),s=aa(t),a=zt(n.seconds,s.seconds);return a!==0?a:zt(n.nanos,s.nanos)}function vS(e,t){const n=e.values||[],s=t.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Zl(n[a],s[a]);if(l)return l}return zt(n.length,s.length)}function Wl(e){return sv(e)}function sv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const s=aa(n);return`time(${s.seconds},${s.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return oa(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return _t.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=sv(l);return s+"]"})(e.arrayValue):"mapValue"in e?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${sv(n.fields[c])}`;return a+"}"})(e.mapValue):bt(61005,{value:e})}function Rd(e){switch(la(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=_m(e);return t?16+Rd(t):16;case 5:return 2*e.stringValue.length;case 6:return oa(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Rd(l)),0)})(e.arrayValue);case 10:case 11:return(function(s){let a=0;return wo(s.fields,((l,c)=>{a+=l.length+Rd(c)})),a})(e.mapValue);default:throw bt(13486,{value:e})}}function _S(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function rv(e){return!!e&&"integerValue"in e}function y0(e){return!!e&&"arrayValue"in e}function TS(e){return!!e&&"nullValue"in e}function ES(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Cd(e){return!!e&&"mapValue"in e}function s6(e){var n,s;return((s=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[NR])==null?void 0:s.stringValue)===DR}function kc(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return wo(e.mapValue.fields,((n,s)=>t.mapValue.fields[n]=kc(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=kc(e.arrayValue.values[n]);return t}return{...e}}function r6(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===i6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t){this.value=t}static empty(){return new yi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Cd(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=kc(n)}setAll(t){let n=fn.emptyPath(),s={},a=[];t.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,s,a),s={},a=[],n=h.popLast()}c?s[h.lastSegment()]=kc(c):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(t){const n=this.field(t.popLast());Cd(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ws(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=n.mapValue.fields[t.get(s)];Cd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,s){wo(n,((a,l)=>t[a]=l));for(const a of s)delete t[a]}clone(){return new yi(kc(this.value))}}function VR(e){const t=[];return wo(e.fields,((n,s)=>{const a=new fn([n]);if(Cd(s)){const l=VR(s.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new zi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t,n,s,a,l,c,h){this.key=t,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(t){return new vn(t,0,wt.min(),wt.min(),wt.min(),yi.empty(),0)}static newFoundDocument(t,n,s,a){return new vn(t,1,n,wt.min(),s,a,0)}static newNoDocument(t,n){return new vn(t,2,n,wt.min(),wt.min(),yi.empty(),0)}static newUnknownDocument(t,n){return new vn(t,3,n,wt.min(),wt.min(),yi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof vn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(t,n){this.position=t,this.inclusive=n}}function bS(e,t,n){let s=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?s=_t.comparator(_t.fromName(c.referenceValue),n.key):s=Zl(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function SS(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ws(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t,n="asc"){this.field=t,this.dir=n}}function a6(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{}class Fe extends OR{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new l6(t,n,s):n==="array-contains"?new h6(t,s):n==="in"?new f6(t,s):n==="not-in"?new d6(t,s):n==="array-contains-any"?new m6(t,s):new Fe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new u6(t,s):new c6(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zl(n,this.value)):n!==null&&la(this.value)===la(n)&&this.matchesComparison(Zl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qi extends OR{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new qi(t,n)}matches(t){return PR(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function PR(e){return e.op==="and"}function kR(e){return o6(e)&&PR(e)}function o6(e){for(const t of e.filters)if(t instanceof qi)return!1;return!0}function av(e){if(e instanceof Fe)return e.field.canonicalString()+e.op.toString()+Wl(e.value);if(kR(e))return e.filters.map((t=>av(t))).join(",");{const t=e.filters.map((n=>av(n))).join(",");return`${e.op}(${t})`}}function LR(e,t){return e instanceof Fe?(function(s,a){return a instanceof Fe&&s.op===a.op&&s.field.isEqual(a.field)&&ws(s.value,a.value)})(e,t):e instanceof qi?(function(s,a){return a instanceof qi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,h)=>l&&LR(c,a.filters[h])),!0):!1})(e,t):void bt(19439)}function jR(e){return e instanceof Fe?(function(n){return`${n.field.canonicalString()} ${n.op} ${Wl(n.value)}`})(e):e instanceof qi?(function(n){return n.op.toString()+" {"+n.getFilters().map(jR).join(" ,")+"}"})(e):"Filter"}class l6 extends Fe{constructor(t,n,s){super(t,n,s),this.key=_t.fromName(s.referenceValue)}matches(t){const n=_t.comparator(t.key,this.key);return this.matchesComparison(n)}}class u6 extends Fe{constructor(t,n){super(t,"in",n),this.keys=UR("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class c6 extends Fe{constructor(t,n){super(t,"not-in",n),this.keys=UR("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function UR(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map((s=>_t.fromName(s.referenceValue)))}class h6 extends Fe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return y0(n)&&eh(n.arrayValue,this.value)}}class f6 extends Fe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&eh(this.value.arrayValue,n)}}class d6 extends Fe{constructor(t,n){super(t,"not-in",n)}matches(t){if(eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!eh(this.value.arrayValue,n)}}class m6 extends Fe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!y0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>eh(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(t,n=null,s=[],a=[],l=null,c=null,h=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function AS(e,t=null,n=[],s=[],a=null,l=null,c=null){return new p6(e,t,n,s,a,l,c)}function v0(e){const t=Rt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>av(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),vm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Wl(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Wl(s))).join(",")),t.Te=n}return t.Te}function _0(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!a6(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!LR(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!SS(e.startAt,t.startAt)&&SS(e.endAt,t.endAt)}function ov(e){return _t.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(t,n=null,s=[],a=[],l=null,c="F",h=null,d=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function g6(e,t,n,s,a,l,c,h){return new hu(e,t,n,s,a,l,c,h)}function Tm(e){return new hu(e)}function wS(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function zR(e){return e.collectionGroup!==null}function Lc(e){const t=Rt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Ye(fn.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new nh(l,s))})),n.has(fn.keyField().canonicalString())||t.Ie.push(new nh(fn.keyField(),s))}return t.Ie}function ys(e){const t=Rt(e);return t.Ee||(t.Ee=y6(t,Lc(e))),t.Ee}function y6(e,t){if(e.limitType==="F")return AS(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new nh(a.field,l)}));const n=e.endAt?new $d(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new $d(e.startAt.position,e.startAt.inclusive):null;return AS(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function lv(e,t){const n=e.filters.concat([t]);return new hu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Kd(e,t,n){return new hu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Em(e,t){return _0(ys(e),ys(t))&&e.limitType===t.limitType}function BR(e){return`${v0(ys(e))}|lt:${e.limitType}`}function El(e){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>jR(a))).join(", ")}]`),vm(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Wl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Wl(a))).join(",")),`Target(${s})`})(ys(e))}; limitType=${e.limitType})`}function bm(e,t){return t.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):_t.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(e,t)&&(function(s,a){for(const l of Lc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(e,t)&&(function(s,a){return!(s.startAt&&!(function(c,h,d){const p=bS(c,h,d);return c.inclusive?p<=0:p<0})(s.startAt,Lc(s),a)||s.endAt&&!(function(c,h,d){const p=bS(c,h,d);return c.inclusive?p>=0:p>0})(s.endAt,Lc(s),a))})(e,t)}function v6(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function FR(e){return(t,n)=>{let s=!1;for(const a of Lc(e)){const l=_6(a,t,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function _6(e,t,n){const s=e.field.isKeyField()?_t.comparator(t.key,n.key):(function(l,c,h){const d=c.data.field(l),p=h.data.field(l);return d!==null&&p!==null?Zl(d,p):bt(42886)})(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return bt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){wo(this.inner,((n,s)=>{for(const[a,l]of s)t(a,l)}))}isEmpty(){return wR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=new ve(_t.comparator);function tr(){return T6}const qR=new ve(_t.comparator);function Mc(...e){let t=qR;for(const n of e)t=t.insert(n.key,n);return t}function HR(e){let t=qR;return e.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Ja(){return jc()}function GR(){return jc()}function jc(){return new xo((e=>e.toString()),((e,t)=>e.isEqual(t)))}const E6=new ve(_t.comparator),b6=new Ye(_t.comparator);function Bt(...e){let t=b6;for(const n of e)t=t.add(n);return t}const S6=new Ye(zt);function A6(){return S6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qd(t)?"-0":t}}function $R(e){return{integerValue:""+e}}function w6(e,t){return W5(t)?$R(t):T0(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(){this._=void 0}}function x6(e,t,n){return e instanceof ih?(function(a,l){const c={fields:{[CR]:{stringValue:RR},[MR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&g0(l)&&(l=_m(l)),l&&(c.fields[IR]=l),{mapValue:c}})(n,t):e instanceof sh?QR(e,t):e instanceof rh?YR(e,t):(function(a,l){const c=KR(a,l),h=xS(c)+xS(a.Ae);return rv(c)&&rv(a.Ae)?$R(h):T0(a.serializer,h)})(e,t)}function R6(e,t,n){return e instanceof sh?QR(e,t):e instanceof rh?YR(e,t):n}function KR(e,t){return e instanceof Qd?(function(s){return rv(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class ih extends Sm{}class sh extends Sm{constructor(t){super(),this.elements=t}}function QR(e,t){const n=XR(t);for(const s of e.elements)n.some((a=>ws(a,s)))||n.push(s);return{arrayValue:{values:n}}}class rh extends Sm{constructor(t){super(),this.elements=t}}function YR(e,t){let n=XR(t);for(const s of e.elements)n=n.filter((a=>!ws(a,s)));return{arrayValue:{values:n}}}class Qd extends Sm{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function xS(e){return Ce(e.integerValue||e.doubleValue)}function XR(e){return y0(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(t,n){this.field=t,this.transform=n}}function I6(e,t){return e.field.isEqual(t.field)&&(function(s,a){return s instanceof sh&&a instanceof sh||s instanceof rh&&a instanceof rh?Xl(s.elements,a.elements,ws):s instanceof Qd&&a instanceof Qd?ws(s.Ae,a.Ae):s instanceof ih&&a instanceof ih})(e.transform,t.transform)}class M6{constructor(t,n){this.version=t,this.transformResults=n}}class vs{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new vs}static exists(t){return new vs(void 0,t)}static updateTime(t){return new vs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Id(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Am{}function ZR(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new E0(e.key,vs.none()):new Ah(e.key,e.data,vs.none());{const n=e.data,s=yi.empty();let a=new Ye(fn.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Ro(e.key,s,new zi(a.toArray()),vs.none())}}function N6(e,t,n){e instanceof Ah?(function(a,l,c){const h=a.value.clone(),d=CS(a.fieldTransforms,l,c.transformResults);h.setAll(d),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(e,t,n):e instanceof Ro?(function(a,l,c){if(!Id(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=CS(a.fieldTransforms,l,c.transformResults),d=l.data;d.setAll(WR(a)),d.setAll(h),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function Uc(e,t,n,s){return e instanceof Ah?(function(l,c,h,d){if(!Id(l.precondition,c))return h;const p=l.value.clone(),y=IS(l.fieldTransforms,d,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(e,t,n,s):e instanceof Ro?(function(l,c,h,d){if(!Id(l.precondition,c))return h;const p=IS(l.fieldTransforms,d,c),y=c.data;return y.setAll(WR(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(e,t,n,s):(function(l,c,h){return Id(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(e,t,n)}function D6(e,t){let n=null;for(const s of e.fieldTransforms){const a=t.data.field(s.field),l=KR(s.transform,a||null);l!=null&&(n===null&&(n=yi.empty()),n.set(s.field,l))}return n||null}function RS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Xl(s,a,((l,c)=>I6(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ah extends Am{constructor(t,n,s,a=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ro extends Am{constructor(t,n,s,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function WR(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function CS(e,t,n){const s=new Map;Wt(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,h=t.data.field(l.field);s.set(l.field,R6(c,h,n[a]))}return s}function IS(e,t,n){const s=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);s.set(a.field,x6(l,c,t))}return s}class E0 extends Am{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class V6 extends Am{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(t,n,s,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&N6(l,t,s[a])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Uc(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Uc(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=GR();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(a.key)?null:h;const d=ZR(c,h);d!==null&&s.set(a.key,d),c.isValidDocument()||c.convertToNoDocument(wt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Bt())}isEqual(t){return this.batchId===t.batchId&&Xl(this.mutations,t.mutations,((n,s)=>RS(n,s)))&&Xl(this.baseMutations,t.baseMutations,((n,s)=>RS(n,s)))}}class b0{constructor(t,n,s,a){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(t,n,s){Wt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let a=(function(){return E6})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new b0(t,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue,$t;function L6(e){switch(e){case nt.OK:return bt(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return bt(15467,{code:e})}}function JR(e){if(e===void 0)return Js("GRPC error has no .code"),nt.UNKNOWN;switch(e){case Ue.OK:return nt.OK;case Ue.CANCELLED:return nt.CANCELLED;case Ue.UNKNOWN:return nt.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return nt.INTERNAL;case Ue.UNAVAILABLE:return nt.UNAVAILABLE;case Ue.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case Ue.NOT_FOUND:return nt.NOT_FOUND;case Ue.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case Ue.ABORTED:return nt.ABORTED;case Ue.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case Ue.DATA_LOSS:return nt.DATA_LOSS;default:return bt(39323,{code:e})}}($t=Ue||(Ue={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6=new ia([4294967295,4294967295],0);function MS(e){const t=j6().encode(e),n=new mR;return n.update(t),new Uint8Array(n.digest())}function NS(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new ia([n,s],0),new ia([a,l],0)]}class S0{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Nc(`Invalid padding: ${n}`);if(s<0)throw new Nc(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Nc(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Nc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ia.fromNumber(this.ge)}ye(t,n,s){let a=t.add(n.multiply(ia.fromNumber(s)));return a.compare(U6)===1&&(a=new ia([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=MS(t),[s,a]=NS(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(t,n,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new S0(l,a,n);return s.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const n=MS(t),[s,a]=NS(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t,n,s,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const a=new Map;return a.set(t,wh.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new wm(wt.min(),a,new ve(zt),tr(),Bt())}}class wh{constructor(t,n,s,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new wh(s,n,Bt(),Bt(),Bt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(t,n,s,a){this.be=t,this.removedTargetIds=n,this.key=s,this.De=a}}class t2{constructor(t,n){this.targetId=t,this.Ce=n}}class e2{constructor(t,n,s=dn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=a}}class DS{constructor(){this.ve=0,this.Fe=VS(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Bt(),n=Bt(),s=Bt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:bt(38017,{changeType:l})}})),new wh(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=VS()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class z6{constructor(t){this.Ge=t,this.ze=new Map,this.je=tr(),this.Je=pd(),this.He=pd(),this.Ye=new ve(zt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:bt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(t){const n=t.targetId,s=t.Ce.count,a=this.ot(n);if(a){const l=a.target;if(ov(l))if(s===0){const c=new _t(l.path);this.et(n,c,vn.newNoDocument(c,wt.min()))}else Wt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const h=this.ut(t),d=h?this.ct(h,t,c):1;if(d!==0){this.it(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,h;try{c=oa(s).toUint8Array()}catch(d){if(d instanceof xR)return Yl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new S0(c,a,l)}catch(d){return Yl(d instanceof Nc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&ov(h.target)){const d=new _t(h.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,vn.newNoDocument(d,t))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=Bt();this.He.forEach(((l,c)=>{let h=!0;c.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new wm(t,n,this.Ye,this.je,s);return this.je=tr(),this.Je=pd(),this.He=pd(),this.Ye=new ve(zt),a}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new DS,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ye(zt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ye(zt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||dt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new DS),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function pd(){return new ve(_t.comparator)}function VS(){return new ve(_t.comparator)}const B6={asc:"ASCENDING",desc:"DESCENDING"},F6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},q6={and:"AND",or:"OR"};class H6{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function uv(e,t){return e.useProto3Json||vm(t)?t:{value:t}}function Yd(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function n2(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function G6(e,t){return Yd(e,t.toTimestamp())}function _s(e){return Wt(!!e,49232),wt.fromTimestamp((function(n){const s=aa(n);return new ue(s.seconds,s.nanos)})(e))}function A0(e,t){return cv(e,t).canonicalString()}function cv(e,t){const n=(function(a){return new le(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function i2(e){const t=le.fromString(e);return Wt(l2(t),10190,{key:t.toString()}),t}function hv(e,t){return A0(e.databaseId,t.path)}function ey(e,t){const n=i2(t);if(n.get(1)!==e.databaseId.projectId)throw new ht(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ht(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new _t(r2(n))}function s2(e,t){return A0(e.databaseId,t)}function $6(e){const t=i2(e);return t.length===4?le.emptyPath():r2(t)}function fv(e){return new le(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function r2(e){return Wt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function OS(e,t,n){return{name:hv(e,t),fields:n.value.mapValue.fields}}function K6(e,t){let n;if("targetChange"in t){t.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:bt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(Wt(y===void 0||typeof y=="string",58123),dn.fromBase64String(y||"")):(Wt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),dn.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(p){const y=p.code===void 0?nt.UNKNOWN:JR(p.code);return new ht(y,p.message||"")})(c);n=new e2(s,a,l,h||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=ey(e,s.document.name),l=_s(s.document.updateTime),c=s.document.createTime?_s(s.document.createTime):wt.min(),h=new yi({mapValue:{fields:s.document.fields}}),d=vn.newFoundDocument(a,l,c,h),p=s.targetIds||[],y=s.removedTargetIds||[];n=new Md(p,y,d.key,d)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=ey(e,s.document),l=s.readTime?_s(s.readTime):wt.min(),c=vn.newNoDocument(a,l),h=s.removedTargetIds||[];n=new Md([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=ey(e,s.document),l=s.removedTargetIds||[];n=new Md([],l,a,null)}else{if(!("filter"in t))return bt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new k6(a,l),h=s.targetId;n=new t2(h,c)}}return n}function Q6(e,t){let n;if(t instanceof Ah)n={update:OS(e,t.key,t.value)};else if(t instanceof E0)n={delete:hv(e,t.key)};else if(t instanceof Ro)n={update:OS(e,t.key,t.data),updateMask:i3(t.fieldMask)};else{if(!(t instanceof V6))return bt(16599,{Vt:t.type});n={verify:hv(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(l,c){const h=c.transform;if(h instanceof ih)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof sh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof rh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Qd)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw bt(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:G6(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:bt(27497)})(e,t.precondition)),n}function Y6(e,t){return e&&e.length>0?(Wt(t!==void 0,14353),e.map((n=>(function(a,l){let c=a.updateTime?_s(a.updateTime):_s(l);return c.isEqual(wt.min())&&(c=_s(l)),new M6(c,a.transformResults||[])})(n,t)))):[]}function X6(e,t){return{documents:[s2(e,t.path)]}}function Z6(e,t){const n={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=s2(e,a);const l=(function(p){if(p.length!==0)return o2(qi.create(p,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(T){return{field:bl(T.field),direction:t3(T.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const h=uv(e,t.limit);return h!==null&&(n.structuredQuery.limit=h),t.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:n,parent:a}}function W6(e){let t=$6(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Wt(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const T=a2(v);return T instanceof qi&&kR(T)?T.getFilters():[T]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((T=>(function(M){return new nh(Sl(M.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(T)))})(n.orderBy));let h=null;n.limit&&(h=(function(v){let T;return T=typeof v=="object"?v.value:v,vm(T)?null:T})(n.limit));let d=null;n.startAt&&(d=(function(v){const T=!!v.before,A=v.values||[];return new $d(A,T)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const T=!v.before,A=v.values||[];return new $d(A,T)})(n.endAt)),g6(t,a,c,l,h,"F",d,p)}function J6(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function a2(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Sl(n.unaryFilter.field);return Fe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Sl(n.unaryFilter.field);return Fe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Sl(n.unaryFilter.field);return Fe.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Sl(n.unaryFilter.field);return Fe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Fe.create(Sl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return qi.create(n.compositeFilter.filters.map((s=>a2(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return bt(1026)}})(n.compositeFilter.op))})(e):bt(30097,{filter:e})}function t3(e){return B6[e]}function e3(e){return F6[e]}function n3(e){return q6[e]}function bl(e){return{fieldPath:e.canonicalString()}}function Sl(e){return fn.fromServerFormat(e.fieldPath)}function o2(e){return e instanceof Fe?(function(n){if(n.op==="=="){if(ES(n.value))return{unaryFilter:{field:bl(n.field),op:"IS_NAN"}};if(TS(n.value))return{unaryFilter:{field:bl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ES(n.value))return{unaryFilter:{field:bl(n.field),op:"IS_NOT_NAN"}};if(TS(n.value))return{unaryFilter:{field:bl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bl(n.field),op:e3(n.op),value:n.value}}})(e):e instanceof qi?(function(n){const s=n.getFilters().map((a=>o2(a)));return s.length===1?s[0]:{compositeFilter:{op:n3(n.op),filters:s}}})(e):bt(54877,{filter:e})}function i3(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function l2(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(t,n,s,a,l=wt.min(),c=wt.min(),h=dn.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(t){return new Jr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(t){this.yt=t}}function r3(e){const t=W6({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Kd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(){this.Cn=new o3}addToCollectionParentIndex(t,n){return this.Cn.add(n),at.resolve()}getCollectionParents(t,n){return at.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return at.resolve()}deleteFieldIndex(t,n){return at.resolve()}deleteAllFieldIndexes(t){return at.resolve()}createTargetIndexes(t,n){return at.resolve()}getDocumentsMatchingTarget(t,n){return at.resolve(null)}getIndexType(t,n){return at.resolve(0)}getFieldIndexes(t,n){return at.resolve([])}getNextCollectionGroupToUpdate(t){return at.resolve(null)}getMinOffset(t,n){return at.resolve(ra.min())}getMinOffsetFromCollectionGroup(t,n){return at.resolve(ra.min())}updateCollectionGroup(t,n,s){return at.resolve()}updateIndexEntries(t,n){return at.resolve()}}class o3{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n]||new Ye(le.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(t){return(this.index[t]||new Ye(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},u2=41943040;class Un{static withCacheSize(t){return new Un(t,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(u2,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Jl(0)}static cr(){return new Jl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="LruGarbageCollector",l3=1048576;function LS([e,t],[n,s]){const a=zt(e,n);return a===0?zt(t,s):a}class u3{constructor(t){this.Ir=t,this.buffer=new Ye(LS),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();LS(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class c3{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){dt(kS,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){cu(n)?dt(kS,"Ignoring IndexedDB error during garbage collection: ",n):await uu(n)}await this.Vr(3e5)}))}}class h3{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return at.resolve(ym.ce);const s=new u3(n);return this.mr.forEachTarget(t,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(PS)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),PS):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,a,l,c,h,d,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(t,a)))).next((v=>(s=v,h=Date.now(),this.removeTargets(t,s,n)))).next((v=>(l=v,d=Date.now(),this.removeOrphanedDocuments(t,s)))).next((v=>(p=Date.now(),Tl()<=Ut.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-y}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function f3(e,t){return new h3(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(){this.changes=new xo((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,vn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?at.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(t,n,s,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(s!==null&&Uc(s.mutation,a,zi.empty(),ue.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Bt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Bt()){const a=Ja();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,s).next((l=>{let c=Mc();return l.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=Ja();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Bt())))}populateOverlays(t,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(t,n,s,a){let l=tr();const c=jc(),h=(function(){return jc()})();return n.forEach(((d,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Ro)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Uc(y.mutation,p,y.mutation.getFieldMask(),ue.now())):c.set(p.key,zi.empty())})),this.recalculateAndSaveOverlays(t,l).next((d=>(d.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>h.set(p,new m3(y,c.get(p)??null)))),h)))}recalculateAndSaveOverlays(t,n){const s=jc();let a=new ve(((c,h)=>c-h)),l=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const h of c)h.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let y=s.get(d)||zi.empty();y=h.applyToLocalView(p,y),s.set(d,y);const v=(a.get(h.batchId)||Bt()).add(d);a=a.insert(h.batchId,v)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,y=d.value,v=GR();y.forEach((T=>{if(!l.has(T)){const A=ZR(n.get(T),s.get(T));A!==null&&v.set(T,A),l=l.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(t,p,v))}return at.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,a){return(function(c){return _t.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):zR(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,a):this.getDocumentsMatchingCollectionQuery(t,n,s,a)}getNextDocuments(t,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,a-l.size):at.resolve(Ja());let h=Wc,d=l;return c.next((p=>at.forEach(p,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?at.resolve():this.remoteDocumentCache.getEntry(t,y).next((T=>{d=d.insert(y,T)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,d,p,Bt()))).next((y=>({batchId:h,changes:HR(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new _t(n)).next((s=>{let a=Mc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,a){const l=n.collectionGroup;let c=Mc();return this.indexManager.getCollectionParents(t,l).next((h=>at.forEach(h,(d=>{const p=(function(v,T){return new hu(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,s,a).next((y=>{y.forEach(((v,T)=>{c=c.insert(v,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,l,a)))).next((c=>{l.forEach(((d,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,vn.newInvalidDocument(y)))}));let h=Mc();return c.forEach(((d,p)=>{const y=l.get(d);y!==void 0&&Uc(y.mutation,p,zi.empty(),ue.now()),bm(n,p)&&(h=h.insert(d,p))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return at.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:_s(a.createTime)}})(n)),at.resolve()}getNamedQuery(t,n){return at.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:r3(a.bundledQuery),readTime:_s(a.readTime)}})(n)),at.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(){this.overlays=new ve(_t.comparator),this.qr=new Map}getOverlay(t,n){return at.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ja();return at.forEach(n,(a=>this.getOverlay(t,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((a,l)=>{this.St(t,n,l)})),at.resolve()}removeOverlaysForBatchId(t,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),at.resolve()}getOverlaysForCollection(t,n,s){const a=Ja(),l=n.length+1,c=new _t(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>s&&a.set(d.getKey(),d)}return at.resolve(a)}getOverlaysForCollectionGroup(t,n,s,a){let l=new ve(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=Ja(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=Ja(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=a)););return at.resolve(h)}St(t,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new P6(n,s));let l=this.qr.get(n);l===void 0&&(l=Bt(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(t){return at.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,at.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(){this.Qr=new Ye(en.$r),this.Ur=new Ye(en.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new en(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new en(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new _t(new le([])),s=new en(n,t),a=new en(n,t+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new _t(new le([])),s=new en(n,t),a=new en(n,t+1);let l=Bt();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new en(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class en{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return _t.comparator(t.key,n.key)||zt(t.Yr,n.Yr)}static Kr(t,n){return zt(t.Yr,n.Yr)||_t.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ye(en.$r)}checkEmpty(t){return at.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new O6(l,n,s,a);this.mutationQueue.push(c);for(const h of a)this.Zr=this.Zr.add(new en(h.key,l)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return at.resolve(c)}lookupMutationBatch(t,n){return at.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return at.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(this.mutationQueue.length===0?p0:this.tr-1)}getAllMutationBatches(t){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new en(n,0),a=new en(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const h=this.Xr(c.Yr);l.push(h)})),at.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ye(zt);return n.forEach((a=>{const l=new en(a,0),c=new en(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(h=>{s=s.add(h.Yr)}))})),at.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,a=s.length+1;let l=s;_t.isDocumentKey(l)||(l=l.child(""));const c=new en(new _t(l),0);let h=new Ye(zt);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(h=h.add(d.Yr)),!0)}),c),at.resolve(this.ti(h))}ti(t){const n=[];return t.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){Wt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return at.forEach(n.mutations,(a=>{const l=new en(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new en(n,0),a=this.Zr.firstAfterOrEqual(s);return at.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,at.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(t){this.ri=t,this.docs=(function(){return new ve(_t.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return at.resolve(s?s.document.mutableCopy():vn.newInvalidDocument(n))}getEntries(t,n){let s=tr();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():vn.newInvalidDocument(a))})),at.resolve(s)}getDocumentsMatchingQuery(t,n,s,a){let l=tr();const c=n.path,h=new _t(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||Q5(K5(y),s)<=0||(a.has(y.key)||bm(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return at.resolve(l)}getAllFromCollectionGroup(t,n,s,a){bt(9500)}ii(t,n){return at.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new E3(this)}getSize(t){return at.resolve(this.size)}}class E3 extends d3{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(s)})),at.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(t){this.persistence=t,this.si=new xo((n=>v0(n)),_0),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.oi=0,this._i=new w0,this.targetCount=0,this.ai=Jl.ur()}forEachTarget(t,n){return this.si.forEach(((s,a)=>n(a))),at.resolve()}getLastRemoteSnapshotVersion(t){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return at.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),at.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Jl(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,at.resolve()}updateTargetData(t,n){return this.Pr(n),at.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,at.resolve()}removeTargets(t,n,s){let a=0;const l=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=n&&s.get(h.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)})),at.waitFor(l).next((()=>a))}getTargetCount(t){return at.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return at.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),at.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),at.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),at.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return at.resolve(s)}containsKey(t,n){return at.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(t,n){this.ui={},this.overlays={},this.ci=new ym(0),this.li=!1,this.li=!0,this.hi=new v3,this.referenceDelegate=t(this),this.Pi=new b3(this),this.indexManager=new a3,this.remoteDocumentCache=(function(a){return new T3(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new s3(n),this.Ii=new g3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new y3,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new _3(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){dt("MemoryPersistence","Starting transaction:",t);const a=new S3(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(t,n){return at.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class S3 extends X5{constructor(t){super(),this.currentSequenceNumber=t}}class x0{constructor(t){this.persistence=t,this.Ri=new w0,this.Vi=null}static mi(t){return new x0(t)}get fi(){if(this.Vi)return this.Vi;throw bt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),at.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),at.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),at.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.fi,(s=>{const a=_t.fromPath(s);return this.gi(t,a).next((l=>{l||n.removeEntry(a,wt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return at.or([()=>at.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Xd{constructor(t,n){this.persistence=t,this.pi=new xo((s=>J5(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=f3(this,n)}static mi(t,n){return new Xd(t,n)}Ei(){}di(t){return at.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((a=>s+a))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return at.forEach(this.pi,((s,a)=>this.br(t,s,a).next((l=>l?at.resolve():n(a)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,n).next((h=>{h||(s++,l.removeEntry(c,wt.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),at.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),at.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),at.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),at.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Rd(t.data.value)),n}br(t,n,s){return at.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.pi.get(n);return at.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(t,n,s,a){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=a}static As(t,n){let s=Bt(),a=Bt();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new R0(t,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return pP()?8:Z5(dP())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,a){const l={result:null};return this.ys(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(t,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new A3;return this.Ss(t,n,c).next((h=>{if(l.result=h,this.Vs)return this.bs(t,n,c,h.size)}))})).next((()=>l.result))}bs(t,n,s,a){return s.documentReadCount<this.fs?(Tl()<=Ut.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",El(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),at.resolve()):(Tl()<=Ut.DEBUG&&dt("QueryEngine","Query:",El(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Tl()<=Ut.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",El(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ys(n))):at.resolve())}ys(t,n){if(wS(n))return at.resolve(null);let s=ys(n);return this.indexManager.getIndexType(t,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Kd(n,null,"F"),s=ys(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const c=Bt(...l);return this.ps.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,s).next((d=>{const p=this.Ds(n,h);return this.Cs(n,p,c,d.readTime)?this.ys(t,Kd(n,null,"F")):this.vs(t,p,n,d)}))))})))))}ws(t,n,s,a){return wS(n)||a.isEqual(wt.min())?at.resolve(null):this.ps.getDocuments(t,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?at.resolve(null):(Tl()<=Ut.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),El(n)),this.vs(t,c,n,$5(a,Wc)).next((h=>h)))}))}Ds(t,n){let s=new Ye(FR(t));return n.forEach(((a,l)=>{bm(t,l)&&(s=s.add(l))})),s}Cs(t,n,s,a){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,n,s){return Tl()<=Ut.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",El(n)),this.ps.getDocumentsMatchingQuery(t,n,ra.min(),s)}vs(t,n,s,a){return this.ps.getDocumentsMatchingQuery(t,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="LocalStore",x3=3e8;class R3{constructor(t,n,s,a){this.persistence=t,this.Fs=n,this.serializer=a,this.Ms=new ve(zt),this.xs=new xo((l=>v0(l)),_0),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new p3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function C3(e,t,n,s){return new R3(e,t,n,s)}async function h2(e,t){const n=Rt(e);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],h=[];let d=Bt();for(const p of a){c.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(s,d).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:h})))}))}))}function I3(e,t){const n=Rt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=t.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,p,y){const v=p.batch,T=v.keys();let A=at.resolve();return T.forEach((M=>{A=A.next((()=>y.getEntry(d,M))).next((C=>{const D=p.docVersions.get(M);Wt(D!==null,48541),C.version.compareTo(D)<0&&(v.applyToRemoteDocument(C,p),C.isValidDocument()&&(C.setReadTime(p.commitVersion),y.addEntry(C)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(n,s,t,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let d=Bt();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d})(t)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function f2(e){const t=Rt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function M3(e,t){const n=Rt(e),s=t.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];t.targetChanges.forEach(((y,v)=>{const T=a.get(v);if(!T)return;h.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,v))));let A=T.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(v)!==null?A=A.withResumeToken(dn.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,s)),a=a.insert(v,A),(function(C,D,j){return C.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=x3?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(T,A,y)&&h.push(n.Pi.updateTargetData(l,A))}));let d=tr(),p=Bt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(N3(l,c,t.documentUpdates).next((y=>{d=y.ks,p=y.qs}))),!s.isEqual(wt.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((v=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));h.push(y)}return at.waitFor(h).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,d,p))).next((()=>d))})).then((l=>(n.Ms=a,l)))}function N3(e,t,n){let s=Bt(),a=Bt();return n.forEach((l=>s=s.add(l))),t.getEntries(e,s).next((l=>{let c=tr();return n.forEach(((h,d)=>{const p=l.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(wt.min())?(t.removeEntry(h,d.readTime),c=c.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(d),c=c.insert(h,d)):dt(C0,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)})),{ks:c,qs:a}}))}function D3(e,t){const n=Rt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=p0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function V3(e,t){const n=Rt(e);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,t).next((l=>l?(a=l,at.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new Jr(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function dv(e,t,n){const s=Rt(e),a=s.Ms.get(t),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!cu(c))throw c;dt(C0,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ms=s.Ms.remove(t),s.xs.delete(a.target)}function jS(e,t,n){const s=Rt(e);let a=wt.min(),l=Bt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,p,y){const v=Rt(d),T=v.xs.get(y);return T!==void 0?at.resolve(v.Ms.get(T)):v.Pi.getTargetData(p,y)})(s,c,ys(t)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,h.targetId).next((d=>{l=d}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,t,n?a:wt.min(),n?l:Bt()))).next((h=>(O3(s,v6(t),h),{documents:h,Qs:l})))))}function O3(e,t,n){let s=e.Os.get(t)||wt.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),e.Os.set(t,s)}class US{constructor(){this.activeTargetIds=A6()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class P3{constructor(){this.Mo=new US,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new US,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="ConnectivityMonitor";class BS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){dt(zS,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){dt(zS,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd=null;function mv(){return gd===null?gd=(function(){return 268435456+Math.round(2147483648*Math.random())})():gd++,"0x"+gd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny="RestConnection",L3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class j3{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Hd?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(t,n,s,a,l){const c=mv(),h=this.zo(t,n.toUriEncodedString());dt(ny,`Sending RPC '${t}' ${c}:`,h,s);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,l);const{host:p}=new URL(h),y=c0(p);return this.Jo(t,h,d,s,y).then((v=>(dt(ny,`Received RPC '${t}' ${c}: `,v),v)),(v=>{throw Yl(ny,`RPC '${t}' ${c} failed with error: `,v,"url: ",h,"request:",s),v}))}Ho(t,n,s,a,l,c){return this.Go(t,n,s,a,l)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+lu})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>t[l]=a)),s&&s.headers.forEach(((a,l)=>t[l]=a))}zo(t,n){const s=L3[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class z3 extends j3{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,a,l){const c=mv();return new Promise(((h,d)=>{const p=new pR;p.setWithCredentials(!0),p.listenOnce(gR.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case xd.NO_ERROR:const v=p.getResponseJson();dt(pn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(v)),h(v);break;case xd.TIMEOUT:dt(pn,`RPC '${t}' ${c} timed out`),d(new ht(nt.DEADLINE_EXCEEDED,"Request time out"));break;case xd.HTTP_ERROR:const T=p.getStatus();if(dt(pn,`RPC '${t}' ${c} failed with status:`,T,"response text:",p.getResponseText()),T>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const M=A==null?void 0:A.error;if(M&&M.status&&M.message){const C=(function(j){const q=j.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(q)>=0?q:nt.UNKNOWN})(M.status);d(new ht(C,M.message))}else d(new ht(nt.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ht(nt.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:t,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{dt(pn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);dt(pn,`RPC '${t}' ${c} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(t,n,s){const a=mv(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=_R(),h=vR(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,s),d.encodeInitMessageHeaders=!0;const y=l.join("");dt(pn,`Creating RPC '${t}' stream ${a}: ${y}`,d);const v=c.createWebChannel(y,d);this.I_(v);let T=!1,A=!1;const M=new U3({Yo:D=>{A?dt(pn,`Not sending because RPC '${t}' stream ${a} is closed:`,D):(T||(dt(pn,`Opening RPC '${t}' stream ${a} transport.`),v.open(),T=!0),dt(pn,`RPC '${t}' stream ${a} sending:`,D),v.send(D))},Zo:()=>v.close()}),C=(D,j,q)=>{D.listen(j,(U=>{try{q(U)}catch(st){setTimeout((()=>{throw st}),0)}}))};return C(v,Ic.EventType.OPEN,(()=>{A||(dt(pn,`RPC '${t}' stream ${a} transport opened.`),M.o_())})),C(v,Ic.EventType.CLOSE,(()=>{A||(A=!0,dt(pn,`RPC '${t}' stream ${a} transport closed`),M.a_(),this.E_(v))})),C(v,Ic.EventType.ERROR,(D=>{A||(A=!0,Yl(pn,`RPC '${t}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),M.a_(new ht(nt.UNAVAILABLE,"The operation could not be completed")))})),C(v,Ic.EventType.MESSAGE,(D=>{var j;if(!A){const q=D.data[0];Wt(!!q,16349);const U=q,st=(U==null?void 0:U.error)||((j=U[0])==null?void 0:j.error);if(st){dt(pn,`RPC '${t}' stream ${a} received error:`,st);const W=st.status;let ot=(function(N){const k=Ue[N];if(k!==void 0)return JR(k)})(W),I=st.message;ot===void 0&&(ot=nt.INTERNAL,I="Unknown error status: "+W+" with message "+st.message),A=!0,M.a_(new ht(ot,I)),v.close()}else dt(pn,`RPC '${t}' stream ${a} received:`,q),M.u_(q)}})),C(h,yR.STAT_EVENT,(D=>{D.stat===nv.PROXY?dt(pn,`RPC '${t}' stream ${a} detected buffering proxy`):D.stat===nv.NOPROXY&&dt(pn,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function iy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(e){return new H6(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(t,n,s=1e3,a=1.5,l=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&dt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="PersistentStream";class m2{constructor(t,n,s,a,l,c,h,d){this.Mi=t,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new d2(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===nt.RESOURCE_EXHAUSTED?(Js(n.toString()),Js("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{t((()=>{const a=new ht(nt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return dt(FS,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(dt(FS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class B3 extends m2{constructor(t,n,s,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=K6(this.serializer,t),s=(function(l){if(!("targetChange"in l))return wt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?wt.min():c.readTime?_s(c.readTime):wt.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=fv(this.serializer),n.addTarget=(function(l,c){let h;const d=c.target;if(h=ov(d)?{documents:X6(l,d)}:{query:Z6(l,d).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=n2(l,c.resumeToken);const p=uv(l,c.expectedCount);p!==null&&(h.expectedCount=p)}else if(c.snapshotVersion.compareTo(wt.min())>0){h.readTime=Yd(l,c.snapshotVersion.toTimestamp());const p=uv(l,c.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,t);const s=J6(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=fv(this.serializer),n.removeTarget=t,this.q_(n)}}class F3 extends m2{constructor(t,n,s,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Wt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Wt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Wt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=Y6(t.writeResults,t.commitTime),s=_s(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=fv(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>Q6(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{}class H3 extends q3{constructor(t,n,s,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ht(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(t,cv(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ht(nt.UNKNOWN,l.toString())}))}Ho(t,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(t,cv(n,s),a,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(nt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class G3{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Js(n),this.aa=!1):dt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="RemoteStore";class $3{constructor(t,n,s,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Co(this)&&(dt(_o,"Restarting streams for network reachability change."),await(async function(d){const p=Rt(d);p.Ea.add(4),await xh(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Rm(p)})(this))}))})),this.Ra=new G3(s,a)}}async function Rm(e){if(Co(e))for(const t of e.da)await t(!0)}async function xh(e){for(const t of e.da)await t(!1)}function p2(e,t){const n=Rt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),D0(n)?N0(n):fu(n).O_()&&M0(n,t))}function I0(e,t){const n=Rt(e),s=fu(n);n.Ia.delete(t),s.O_()&&g2(n,t),n.Ia.size===0&&(s.O_()?s.L_():Co(n)&&n.Ra.set("Unknown"))}function M0(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}fu(e).Y_(t)}function g2(e,t){e.Va.Ue(t),fu(e).Z_(t)}function N0(e){e.Va=new z6({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),fu(e).start(),e.Ra.ua()}function D0(e){return Co(e)&&!fu(e).x_()&&e.Ia.size>0}function Co(e){return Rt(e).Ea.size===0}function y2(e){e.Va=void 0}async function K3(e){e.Ra.set("Online")}async function Q3(e){e.Ia.forEach(((t,n)=>{M0(e,t)}))}async function Y3(e,t){y2(e),D0(e)?(e.Ra.ha(t),N0(e)):e.Ra.set("Unknown")}async function X3(e,t,n){if(e.Ra.set("Online"),t instanceof e2&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.Va.removeTarget(h))})(e,t)}catch(s){dt(_o,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Zd(e,s)}else if(t instanceof Md?e.Va.Ze(t):t instanceof t2?e.Va.st(t):e.Va.tt(t),!n.isEqual(wt.min()))try{const s=await f2(e.localStore);n.compareTo(s)>=0&&await(function(l,c){const h=l.Va.Tt(c);return h.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,p)=>{const y=l.Ia.get(d);if(!y)return;l.Ia.set(d,y.withResumeToken(dn.EMPTY_BYTE_STRING,y.snapshotVersion)),g2(l,d);const v=new Jr(y.target,d,p,y.sequenceNumber);M0(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(e,n)}catch(s){dt(_o,"Failed to raise snapshot:",s),await Zd(e,s)}}async function Zd(e,t,n){if(!cu(t))throw t;e.Ea.add(1),await xh(e),e.Ra.set("Offline"),n||(n=()=>f2(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{dt(_o,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Rm(e)}))}function v2(e,t){return t().catch((n=>Zd(e,n,t)))}async function Cm(e){const t=Rt(e),n=ua(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:p0;for(;Z3(t);)try{const a=await D3(t.localStore,s);if(a===null){t.Ta.length===0&&n.L_();break}s=a.batchId,W3(t,a)}catch(a){await Zd(t,a)}_2(t)&&T2(t)}function Z3(e){return Co(e)&&e.Ta.length<10}function W3(e,t){e.Ta.push(t);const n=ua(e);n.O_()&&n.X_&&n.ea(t.mutations)}function _2(e){return Co(e)&&!ua(e).x_()&&e.Ta.length>0}function T2(e){ua(e).start()}async function J3(e){ua(e).ra()}async function tk(e){const t=ua(e);for(const n of e.Ta)t.ea(n.mutations)}async function ek(e,t,n){const s=e.Ta.shift(),a=b0.from(s,t,n);await v2(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await Cm(e)}async function nk(e,t){t&&ua(e).X_&&await(async function(s,a){if((function(c){return L6(c)&&c!==nt.ABORTED})(a.code)){const l=s.Ta.shift();ua(s).B_(),await v2(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Cm(s)}})(e,t),_2(e)&&T2(e)}async function qS(e,t){const n=Rt(e);n.asyncQueue.verifyOperationInProgress(),dt(_o,"RemoteStore received new credentials");const s=Co(n);n.Ea.add(3),await xh(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Rm(n)}async function ik(e,t){const n=Rt(e);t?(n.Ea.delete(2),await Rm(n)):t||(n.Ea.add(2),await xh(n),n.Ra.set("Unknown"))}function fu(e){return e.ma||(e.ma=(function(n,s,a){const l=Rt(n);return l.sa(),new B3(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:K3.bind(null,e),t_:Q3.bind(null,e),r_:Y3.bind(null,e),H_:X3.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),D0(e)?N0(e):e.Ra.set("Unknown")):(await e.ma.stop(),y2(e))}))),e.ma}function ua(e){return e.fa||(e.fa=(function(n,s,a){const l=Rt(n);return l.sa(),new F3(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:J3.bind(null,e),r_:nk.bind(null,e),ta:tk.bind(null,e),na:ek.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await Cm(e)):(await e.fa.stop(),e.Ta.length>0&&(dt(_o,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(t,n,s,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,a,l){const c=Date.now()+s,h=new V0(t,n,c,a,l);return h.start(s),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function O0(e,t){if(Js("AsyncQueue",`${t}: ${e}`),cu(e))return new ht(nt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{static emptySet(t){return new Ml(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||_t.comparator(n.key,s.key):(n,s)=>_t.comparator(n.key,s.key),this.keyedMap=Mc(),this.sortedSet=new ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ml)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Ml;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.ga=new ve(_t.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):bt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class tu{constructor(t,n,s,a,l,c,h,d,p){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(t,n,s,a,l){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new tu(t,n,Ml.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Em(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class rk{constructor(){this.queries=GS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Rt(n),l=a.queries;a.queries=GS(),l.forEach(((c,h)=>{for(const d of h.Sa)d.onError(s)}))})(this,new ht(nt.ABORTED,"Firestore shutting down"))}}function GS(){return new xo((e=>BR(e)),Em)}async function P0(e,t){const n=Rt(e);let s=3;const a=t.query;let l=n.queries.get(a);l?!l.ba()&&t.Da()&&(s=2):(l=new sk,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=O0(c,`Initialization of query '${El(t.query)}' failed`);return void t.onError(h)}n.queries.set(a,l),l.Sa.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&L0(n)}async function k0(e,t){const n=Rt(e),s=t.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=t.Da()?0:1:!l.ba()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function ak(e,t){const n=Rt(e);let s=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const h of c.Sa)h.Fa(a)&&(s=!0);c.wa=a}}s&&L0(n)}function ok(e,t,n){const s=Rt(e),a=s.queries.get(t);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(t)}function L0(e){e.Ca.forEach((t=>{t.next()}))}var pv,$S;($S=pv||(pv={})).Ma="default",$S.Cache="cache";class j0{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new tu(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=tu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==pv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(t){this.key=t}}class b2{constructor(t){this.key=t}}class lk{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Bt(),this.mutatedKeys=Bt(),this.eu=FR(t),this.tu=new Ml(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new HS,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,v)=>{const T=a.get(y),A=bm(this.query,v)?v:null,M=!!T&&this.mutatedKeys.has(T.key),C=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let D=!1;T&&A?T.data.isEqual(A.data)?M!==C&&(s.track({type:3,doc:A}),D=!0):this.su(T,A)||(s.track({type:2,doc:A}),D=!0,(d&&this.eu(A,d)>0||p&&this.eu(A,p)<0)&&(h=!0)):!T&&A?(s.track({type:0,doc:A}),D=!0):T&&!A&&(s.track({type:1,doc:T}),D=!0,(d||p)&&(h=!0)),D&&(A?(c=c.add(A),l=C?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Cs:h,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,v)=>(function(A,M){const C=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Rt:D})}};return C(A)-C(M)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(s),a=a??!1;const h=n&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,p=d!==this.Za;return this.Za=d,c.length!==0||p?{snapshot:new tu(this.query,t.tu,l,c,t.mutatedKeys,d===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new HS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Bt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new b2(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new E2(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Bt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return tu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const U0="SyncEngine";class uk{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class ck{constructor(t){this.key=t,this.hu=!1}}class hk{constructor(t,n,s,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new xo((h=>BR(h)),Em),this.Iu=new Map,this.Eu=new Set,this.du=new ve(_t.comparator),this.Au=new Map,this.Ru=new w0,this.Vu={},this.mu=new Map,this.fu=Jl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fk(e,t,n=!0){const s=C2(e);let a;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await S2(s,t,n,!0),a}async function dk(e,t){const n=C2(e);await S2(n,t,!0,!1)}async function S2(e,t,n,s){const a=await V3(e.localStore,ys(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let h;return s&&(h=await mk(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&p2(e.remoteStore,a),h}async function mk(e,t,n,s,a){e.pu=(v,T,A)=>(async function(C,D,j,q){let U=D.view.ru(j);U.Cs&&(U=await jS(C.localStore,D.query,!1).then((({documents:I})=>D.view.ru(I,U))));const st=q&&q.targetChanges.get(D.targetId),W=q&&q.targetMismatches.get(D.targetId)!=null,ot=D.view.applyChanges(U,C.isPrimaryClient,st,W);return QS(C,D.targetId,ot.au),ot.snapshot})(e,v,T,A);const l=await jS(e.localStore,t,!0),c=new lk(t,l.Qs),h=c.ru(l.documents),d=wh.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",a),p=c.applyChanges(h,e.isPrimaryClient,d);QS(e,n,p.au);const y=new uk(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),p.snapshot}async function pk(e,t,n){const s=Rt(e),a=s.Tu.get(t),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Em(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await dv(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&I0(s.remoteStore,a.targetId),gv(s,a.targetId)})).catch(uu)):(gv(s,a.targetId),await dv(s.localStore,a.targetId,!0))}async function gk(e,t){const n=Rt(e),s=n.Tu.get(t),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),I0(n.remoteStore,s.targetId))}async function yk(e,t,n){const s=Ak(e);try{const a=await(function(c,h){const d=Rt(c),p=ue.now(),y=h.reduce(((A,M)=>A.add(M.key)),Bt());let v,T;return d.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let M=tr(),C=Bt();return d.Ns.getEntries(A,y).next((D=>{M=D,M.forEach(((j,q)=>{q.isValidDocument()||(C=C.add(j))}))})).next((()=>d.localDocuments.getOverlayedDocuments(A,M))).next((D=>{v=D;const j=[];for(const q of h){const U=D6(q,v.get(q.key).overlayedDocument);U!=null&&j.push(new Ro(q.key,U,VR(U.value.mapValue),vs.exists(!0)))}return d.mutationQueue.addMutationBatch(A,p,j,h)})).next((D=>{T=D;const j=D.applyToLocalDocumentSet(v,C);return d.documentOverlayCache.saveOverlays(A,D.batchId,j)}))})).then((()=>({batchId:T.batchId,changes:HR(v)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),(function(c,h,d){let p=c.Vu[c.currentUser.toKey()];p||(p=new ve(zt)),p=p.insert(h,d),c.Vu[c.currentUser.toKey()]=p})(s,a.batchId,n),await Rh(s,a.changes),await Cm(s.remoteStore)}catch(a){const l=O0(a,"Failed to persist write");n.reject(l)}}async function A2(e,t){const n=Rt(e);try{const s=await M3(n.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Wt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Wt(c.hu,14607):a.removedDocuments.size>0&&(Wt(c.hu,42227),c.hu=!1))})),await Rh(n,s,t)}catch(s){await uu(s)}}function KS(e,t,n){const s=Rt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const h=c.view.va(t);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const d=Rt(c);d.onlineState=h;let p=!1;d.queries.forEach(((y,v)=>{for(const T of v.Sa)T.va(h)&&(p=!0)})),p&&L0(d)})(s.eventManager,t),a.length&&s.Pu.H_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function vk(e,t,n){const s=Rt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const a=s.Au.get(t),l=a&&a.key;if(l){let c=new ve(_t.comparator);c=c.insert(l,vn.newNoDocument(l,wt.min()));const h=Bt().add(l),d=new wm(wt.min(),new Map,new ve(zt),c,h);await A2(s,d),s.du=s.du.remove(l),s.Au.delete(t),z0(s)}else await dv(s.localStore,t,!1).then((()=>gv(s,t,n))).catch(uu)}async function _k(e,t){const n=Rt(e),s=t.batch.batchId;try{const a=await I3(n.localStore,t);x2(n,s,null),w2(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Rh(n,a)}catch(a){await uu(a)}}async function Tk(e,t,n){const s=Rt(e);try{const a=await(function(c,h){const d=Rt(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return d.mutationQueue.lookupMutationBatch(p,h).next((v=>(Wt(v!==null,37113),y=v.keys(),d.mutationQueue.removeMutationBatch(p,v)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>d.localDocuments.getDocuments(p,y)))}))})(s.localStore,t);x2(s,t,n),w2(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Rh(s,a)}catch(a){await uu(a)}}function w2(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function x2(e,t,n){const s=Rt(e);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),s.Vu[s.currentUser.toKey()]=a}}function gv(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((s=>{e.Ru.containsKey(s)||R2(e,s)}))}function R2(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(I0(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),z0(e))}function QS(e,t,n){for(const s of n)s instanceof E2?(e.Ru.addReference(s.key,t),Ek(e,s)):s instanceof b2?(dt(U0,"Document no longer in limbo: "+s.key),e.Ru.removeReference(s.key,t),e.Ru.containsKey(s.key)||R2(e,s.key)):bt(19791,{wu:s})}function Ek(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Eu.has(s)||(dt(U0,"New document in limbo: "+n),e.Eu.add(s),z0(e))}function z0(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new _t(le.fromString(t)),s=e.fu.next();e.Au.set(s,new ck(n)),e.du=e.du.insert(n,s),p2(e.remoteStore,new Jr(ys(Tm(n.path)),s,"TargetPurposeLimboResolution",ym.ce))}}async function Rh(e,t,n){const s=Rt(e),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,d)=>{c.push(s.pu(d,t,n).then((p=>{var y;if((p||n)&&s.isPrimaryClient){const v=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(d.targetId))==null?void 0:y.current;s.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(p){a.push(p);const v=R0.As(d.targetId,p);l.push(v)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(d,p){const y=Rt(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>at.forEach(p,(T=>at.forEach(T.Es,(A=>y.persistence.referenceDelegate.addReference(v,T.targetId,A))).next((()=>at.forEach(T.ds,(A=>y.persistence.referenceDelegate.removeReference(v,T.targetId,A)))))))))}catch(v){if(!cu(v))throw v;dt(C0,"Failed to update sequence numbers: "+v)}for(const v of p){const T=v.targetId;if(!v.fromCache){const A=y.Ms.get(T),M=A.snapshotVersion,C=A.withLastLimboFreeSnapshotVersion(M);y.Ms=y.Ms.insert(T,C)}}})(s.localStore,l))}async function bk(e,t){const n=Rt(e);if(!n.currentUser.isEqual(t)){dt(U0,"User change. New user:",t.toKey());const s=await h2(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new ht(nt.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Rh(n,s.Ls)}}function Sk(e,t){const n=Rt(e),s=n.Au.get(t);if(s&&s.hu)return Bt().add(s.key);{let a=Bt();const l=n.Iu.get(t);if(!l)return a;for(const c of l){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function C2(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=A2.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vk.bind(null,t),t.Pu.H_=ak.bind(null,t.eventManager),t.Pu.yu=ok.bind(null,t.eventManager),t}function Ak(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_k.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Tk.bind(null,t),t}class Wd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=xm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return C3(this.persistence,new w3,t.initialUser,this.serializer)}Cu(t){return new c2(x0.mi,this.serializer)}Du(t){return new P3}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wd.provider={build:()=>new Wd};class wk extends Wd{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Wt(this.persistence.referenceDelegate instanceof Xd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new c3(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new c2((s=>Xd.mi(s,n)),this.serializer)}}class yv{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>KS(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=bk.bind(null,this.syncEngine),await ik(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new rk})()}createDatastore(t){const n=xm(t.databaseInfo.databaseId),s=(function(l){return new z3(l)})(t.databaseInfo);return(function(l,c,h,d){return new H3(l,c,h,d)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,a,l,c,h){return new $3(s,a,l,c,h)})(this.localStore,this.datastore,t.asyncQueue,(n=>KS(this.syncEngine,n,0)),(function(){return BS.v()?new BS:new k3})())}createSyncEngine(t,n){return(function(a,l,c,h,d,p,y){const v=new hk(a,l,c,h,d,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(a){const l=Rt(a);dt(_o,"RemoteStore shutting down."),l.Ea.add(5),await xh(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}yv.provider={build:()=>new yv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Js("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="FirestoreClient";class xk{constructor(t,n,s,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=gn.UNAUTHENTICATED,this.clientId=m0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{dt(ca,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(dt(ca,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=O0(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function sy(e,t){e.asyncQueue.verifyOperationInProgress(),dt(ca,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async a=>{s.isEqual(a)||(await h2(t.localStore,a),s=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function YS(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Rk(e);dt(ca,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((s=>qS(t.remoteStore,s))),e.setAppCheckTokenChangeListener(((s,a)=>qS(t.remoteStore,a))),e._onlineComponents=t}async function Rk(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){dt(ca,"Using user provided OfflineComponentProvider");try{await sy(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===nt.FAILED_PRECONDITION||a.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Yl("Error using user provided cache. Falling back to memory cache: "+n),await sy(e,new Wd)}}else dt(ca,"Using default OfflineComponentProvider"),await sy(e,new wk(void 0));return e._offlineComponents}async function I2(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(dt(ca,"Using user provided OnlineComponentProvider"),await YS(e,e._uninitializedComponentsProvider._online)):(dt(ca,"Using default OnlineComponentProvider"),await YS(e,new yv))),e._onlineComponents}function Ck(e){return I2(e).then((t=>t.syncEngine))}async function Jd(e){const t=await I2(e),n=t.eventManager;return n.onListen=fk.bind(null,t.syncEngine),n.onUnlisten=pk.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=dk.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=gk.bind(null,t.syncEngine),n}function Ik(e,t,n={}){const s=new Xs;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,d,p){const y=new B0({next:T=>{y.Nu(),c.enqueueAndForget((()=>k0(l,v)));const A=T.docs.has(h);!A&&T.fromCache?p.reject(new ht(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&T.fromCache&&d&&d.source==="server"?p.reject(new ht(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),v=new j0(Tm(h.path),y,{includeMetadataChanges:!0,qa:!0});return P0(l,v)})(await Jd(e),e.asyncQueue,t,n,s))),s.promise}function Mk(e,t,n={}){const s=new Xs;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,d,p){const y=new B0({next:T=>{y.Nu(),c.enqueueAndForget((()=>k0(l,v))),T.fromCache&&d.source==="server"?p.reject(new ht(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),v=new j0(h,y,{includeMetadataChanges:!0,qa:!0});return P0(l,v)})(await Jd(e),e.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="firestore.googleapis.com",ZS=!0;class WS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=N2,this.ssl=ZS}else this.host=t.host,this.ssl=t.ssl??ZS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=u2;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<l3)throw new ht(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}H5("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=M2(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ht(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ht(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ht(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Im{constructor(t,n,s,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new O5;switch(s.type){case"firstParty":return new j5(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=XS.get(n);s&&(dt("ComponentProvider","Removing Datastore"),XS.delete(n),s.terminate())})(this),Promise.resolve()}}function Nk(e,t,n,s={}){var p;e=Bi(e,Im);const a=c0(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},h=`${t}:${n}`;a&&(lP(`https://${h}`),fP("Firestore",!0)),l.host!==N2&&l.host!==h&&Yl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:h,ssl:a,emulatorOptions:s};if(!Ql(d,c)&&(e._setSettings(d),s.mockUserToken)){let y,v;if(typeof s.mockUserToken=="string")y=s.mockUserToken,v=gn.MOCK_USER;else{y=uP(s.mockUserToken,(p=e._app)==null?void 0:p.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ht(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new gn(T)}e._authCredentials=new P5(new ER(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ar(this.firestore,t,this._query)}}class Ie{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Sh(n,Ie._jsonSchema))return new Ie(t,s||null,new _t(le.fromString(n.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:qe("string",Ie._jsonSchemaVersion),referencePath:qe("string")};class sa extends ar{constructor(t,n,s){super(t,n,Tm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new _t(t))}withConverter(t){return new sa(this.firestore,t,this._path)}}function D2(e,t,...n){if(e=Tn(e),bR("collection","path",t),e instanceof Im){const s=le.fromString(t,...n);return hS(s),new sa(e,null,s)}{if(!(e instanceof Ie||e instanceof sa))throw new ht(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(le.fromString(t,...n));return hS(s),new sa(e.firestore,null,s)}}function V2(e,t,...n){if(e=Tn(e),arguments.length===1&&(t=m0.newId()),bR("doc","path",t),e instanceof Im){const s=le.fromString(t,...n);return cS(s),new Ie(e,null,new _t(s))}{if(!(e instanceof Ie||e instanceof sa))throw new ht(nt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(le.fromString(t,...n));return cS(s),new Ie(e.firestore,e instanceof sa?e.converter:null,new _t(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="AsyncQueue";class tA{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new d2(this,"async_queue_retry"),this._c=()=>{const s=iy();s&&dt(JS,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=iy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=iy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Xs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!cu(t))throw t;dt(JS,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Js("INTERNAL UNHANDLED ERROR: ",eA(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=V0.createAndSchedule(this,t,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&bt(47125,{Pc:eA(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function eA(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(e){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(e,["next","error","complete"])}class To extends Im{constructor(t,n,s,a){super(t,n,s,a),this.type="firestore",this._queue=new tA,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new tA(t),this._firestoreClient=void 0,await t}}}function Dk(e,t){const n=typeof e=="object"?e:bh(),s=typeof e=="string"?e:Hd,a=Ao(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=aP("firestore");l&&Nk(a,...l)}return a}function Mm(e){if(e._terminated)throw new ht(nt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Vk(e),e._firestoreClient}function Vk(e){var s,a,l;const t=e._freezeSettings(),n=(function(h,d,p,y){return new n6(h,d,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,M2(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(e._databaseId,((s=e._app)==null?void 0:s.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(a=t.localCache)!=null&&a._offlineComponentProvider&&((l=t.localCache)!=null&&l._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new xk(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}})(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new vi(dn.fromBase64String(t))}catch(n){throw new ht(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new vi(dn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:vi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Sh(t,vi._jsonSchema))return vi.fromBase64String(t.bytes)}}vi._jsonSchemaVersion="firestore/bytes/1.0",vi._jsonSchema={type:qe("string",vi._jsonSchemaVersion),bytes:qe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ht(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ht(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ht(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ts._jsonSchemaVersion}}static fromJSON(t){if(Sh(t,Ts._jsonSchema))return new Ts(t.latitude,t.longitude)}}Ts._jsonSchemaVersion="firestore/geoPoint/1.0",Ts._jsonSchema={type:qe("string",Ts._jsonSchemaVersion),latitude:qe("number"),longitude:qe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Es._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Sh(t,Es._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Es(t.vectorValues);throw new ht(nt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Es._jsonSchemaVersion="firestore/vectorValue/1.0",Es._jsonSchema={type:qe("string",Es._jsonSchemaVersion),vectorValues:qe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=/^__.*__$/;class Pk{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Ro(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ah(t,this.data,n,this.fieldTransforms)}}function O2(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{Ac:e})}}class H0{constructor(t,n,s,a,l,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new H0({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var a;const n=(a=this.path)==null?void 0:a.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){var a;const n=(a=this.path)==null?void 0:a.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return tm(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(O2(this.Ac)&&Ok.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class kk{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||xm(t)}Cc(t,n,s,a=!1){return new H0({Ac:t,methodName:n,Dc:s,path:fn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function P2(e){const t=e._freezeSettings(),n=xm(e._databaseId);return new kk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Lk(e,t,n,s,a,l={}){const c=e.Cc(l.merge||l.mergeFields?2:0,t,n,a);j2("Data must be an object, but it was:",c,s);const h=k2(s,c);let d,p;if(l.merge)d=new zi(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const T=Uk(t,v,n);if(!c.contains(T))throw new ht(nt.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Bk(y,T)||y.push(T)}d=new zi(y),p=c.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,p=c.fieldTransforms;return new Pk(new yi(h),d,p)}class G0 extends q0{_toFieldTransform(t){return new C6(t.path,new ih)}isEqual(t){return t instanceof G0}}function jk(e,t,n,s=!1){return $0(n,e.Cc(s?4:3,t))}function $0(e,t){if(L2(e=Tn(e)))return j2("Unsupported field value:",t,e),k2(e,t);if(e instanceof q0)return(function(s,a){if(!O2(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const h of s){let d=$0(h,a.wc(c));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),c++}return{arrayValue:{values:l}}})(e,t)}return(function(s,a){if((s=Tn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return w6(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ue.fromDate(s);return{timestampValue:Yd(a.serializer,l)}}if(s instanceof ue){const l=new ue(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yd(a.serializer,l)}}if(s instanceof Ts)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof vi)return{bytesValue:n2(a.serializer,s._byteString)};if(s instanceof Ie){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:A0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Es)return(function(c,h){return{mapValue:{fields:{[NR]:{stringValue:DR},[Gd]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return T0(h.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${gm(s)}`)})(e,t)}function k2(e,t){const n={};return wR(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wo(e,((s,a)=>{const l=$0(a,t.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function L2(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ue||e instanceof Ts||e instanceof vi||e instanceof Ie||e instanceof q0||e instanceof Es)}function j2(e,t,n){if(!L2(n)||!SR(n)){const s=gm(n);throw s==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+s)}}function Uk(e,t,n){if((t=Tn(t))instanceof F0)return t._internalPath;if(typeof t=="string")return U2(e,t);throw tm("Field path arguments must be of type string or ",e,!1,void 0,n)}const zk=new RegExp("[~\\*/\\[\\]]");function U2(e,t,n){if(t.search(zk)>=0)throw tm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new F0(...t.split("."))._internalPath}catch{throw tm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function tm(e,t,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let h=`Function ${t}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||c)&&(d+=" (found",l&&(d+=` in field ${s}`),c&&(d+=` in document ${a}`),d+=")"),new ht(nt.INVALID_ARGUMENT,h+e+d)}function Bk(e,t){return e.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(t,n,s,a,l){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Fk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Nm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Fk extends z2{data(){return super.data()}}function Nm(e,t){return typeof t=="string"?U2(e,t):t instanceof F0?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ht(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class K0{}class Q0 extends K0{}function F2(e,t,...n){let s=[];t instanceof K0&&s.push(t),s=s.concat(n),(function(l){const c=l.filter((d=>d instanceof Y0)).length,h=l.filter((d=>d instanceof Dm)).length;if(c>1||c>0&&h>0)throw new ht(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)e=a._apply(e);return e}class Dm extends Q0{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Dm(t,n,s)}_apply(t){const n=this._parse(t);return q2(t._query,n),new ar(t.firestore,t.converter,lv(t._query,n))}_parse(t){const n=P2(t.firestore);return(function(l,c,h,d,p,y,v){let T;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ht(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){aA(v,y);const M=[];for(const C of v)M.push(rA(d,l,C));T={arrayValue:{values:M}}}else T=rA(d,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||aA(v,y),T=jk(h,c,v,y==="in"||y==="not-in");return Fe.create(p,y,T)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function iA(e,t,n){const s=t,a=Nm("where",e);return Dm._create(a,s,n)}class Y0 extends K0{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Y0(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:qi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(a,l){let c=a;const h=l.getFlattenedFilters();for(const d of h)q2(c,d),c=lv(c,d)})(t._query,n),new ar(t.firestore,t.converter,lv(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class X0 extends Q0{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new X0(t,n)}_apply(t){const n=(function(a,l,c){if(a.startAt!==null)throw new ht(nt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ht(nt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nh(l,c)})(t._query,this._field,this._direction);return new ar(t.firestore,t.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new hu(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(t._query,n))}}function sA(e,t="asc"){const n=t,s=Nm("orderBy",e);return X0._create(s,n)}class Z0 extends Q0{constructor(t,n,s){super(),this.type=t,this._limit=n,this._limitType=s}static _create(t,n,s){return new Z0(t,n,s)}_apply(t){return new ar(t.firestore,t.converter,Kd(t._query,this._limit,this._limitType))}}function qk(e){return G5("limit",e),Z0._create("limit",e,"F")}function rA(e,t,n){if(typeof(n=Tn(n))=="string"){if(n==="")throw new ht(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zR(t)&&n.indexOf("/")!==-1)throw new ht(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(le.fromString(n));if(!_t.isDocumentKey(s))throw new ht(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return _S(e,new _t(s))}if(n instanceof Ie)return _S(e,n._key);throw new ht(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gm(n)}.`)}function aA(e,t){if(!Array.isArray(e)||e.length===0)throw new ht(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function q2(e,t){const n=(function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(e.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ht(nt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(nt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Hk{convertValue(t,n="none"){switch(la(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(oa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw bt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return wo(t,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(t){var s,a,l;const n=(l=(a=(s=t.fields)==null?void 0:s[Gd].arrayValue)==null?void 0:a.values)==null?void 0:l.map((c=>Ce(c.doubleValue)));return new Es(n)}convertGeoPoint(t){return new Ts(Ce(t.latitude),Ce(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=_m(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Jc(t));default:return null}}convertTimestamp(t){const n=aa(t);return new ue(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=le.fromString(t);Wt(l2(s),9688,{name:t});const a=new th(s.get(1),s.get(3)),l=new _t(s.popFirst(5));return a.isEqual(n)||Js(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}class Dc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class fo extends z2{constructor(t,n,s,a,l,c){super(t,n,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Nd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Nm("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(nt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=fo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}fo._jsonSchemaVersion="firestore/documentSnapshot/1.0",fo._jsonSchema={type:qe("string",fo._jsonSchemaVersion),bundleSource:qe("string","DocumentSnapshot"),bundleName:qe("string"),bundle:qe("string")};class Nd extends fo{data(t={}){return super.data(t)}}class mo{constructor(t,n,s,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Dc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Nd(this._firestore,this._userDataWriter,s.key,s,new Dc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ht(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const d=new Nd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Dc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new Nd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Dc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:$k(h.type),doc:d,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(nt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=mo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=m0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function $k(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(e){e=Bi(e,Ie);const t=Bi(e.firestore,To);return Ik(Mm(t),e._key).then((n=>G2(t,e,n)))}mo._jsonSchemaVersion="firestore/querySnapshot/1.0",mo._jsonSchema={type:qe("string",mo._jsonSchemaVersion),bundleSource:qe("string","QuerySnapshot"),bundleName:qe("string"),bundle:qe("string")};class W0 extends Hk{constructor(t){super(),this.firestore=t}convertBytes(t){return new vi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,n)}}function Qk(e){e=Bi(e,ar);const t=Bi(e.firestore,To),n=Mm(t),s=new W0(t);return B2(e._query),Mk(n,e._query).then((a=>new mo(t,s,e,a)))}function Yk(e,t,n){e=Bi(e,Ie);const s=Bi(e.firestore,To),a=Gk(e.converter,t,n);return H2(s,[Lk(P2(s),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,vs.none())])}function oA(e){return H2(Bi(e.firestore,To),[new E0(e._key,vs.none())])}function Xk(e,...t){var d,p,y;e=Tn(e);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||nA(t[s])||(n=t[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(nA(t[s])){const v=t[s];t[s]=(d=v.next)==null?void 0:d.bind(v),t[s+1]=(p=v.error)==null?void 0:p.bind(v),t[s+2]=(y=v.complete)==null?void 0:y.bind(v)}let l,c,h;if(e instanceof Ie)c=Bi(e.firestore,To),h=Tm(e._key.path),l={next:v=>{t[s]&&t[s](G2(c,e,v))},error:t[s+1],complete:t[s+2]};else{const v=Bi(e,ar);c=Bi(v.firestore,To),h=v._query;const T=new W0(c);l={next:A=>{t[s]&&t[s](new mo(c,T,v,A))},error:t[s+1],complete:t[s+2]},B2(e._query)}return(function(T,A,M,C){const D=new B0(C),j=new j0(A,D,M);return T.asyncQueue.enqueueAndForget((async()=>P0(await Jd(T),j))),()=>{D.Nu(),T.asyncQueue.enqueueAndForget((async()=>k0(await Jd(T),j)))}})(Mm(c),h,a,l)}function H2(e,t){return(function(s,a){const l=new Xs;return s.asyncQueue.enqueueAndForget((async()=>yk(await Ck(s),a,l))),l.promise})(Mm(e),t)}function G2(e,t,n){const s=n.docs.get(t._key),a=new W0(e);return new fo(e,a,t._key,s,new Dc(n.hasPendingWrites,n.fromCache),t.converter)}function Zk(){return new G0("serverTimestamp")}(function(t,n=!0){(function(a){lu=a})(ev),As(new Fi("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),h=new To(new k5(s.getProvider("auth-internal")),new U5(c,s.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ht(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new th(p.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),Bn(aS,oS,t),Bn(aS,oS,"esm2020")})();const $2="@firebase/installations",J0="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=1e4,Q2=`w:${J0}`,Y2="FIS_v2",Wk="https://firebaseinstallations.googleapis.com/v1",Jk=3600*1e3,tL="installations",eL="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Eo=new ou(tL,eL,nL);function X2(e){return e instanceof xs&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2({projectId:e}){return`${Wk}/projects/${e}/installations`}function W2(e){return{token:e.token,requestStatus:2,expiresIn:sL(e.expiresIn),creationTime:Date.now()}}async function J2(e,t){const s=(await t.json()).error;return Eo.create("request-failed",{requestName:e,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function tC({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function iL(e,{refreshToken:t}){const n=tC(e);return n.append("Authorization",rL(t)),n}async function eC(e){const t=await e();return t.status>=500&&t.status<600?e():t}function sL(e){return Number(e.replace("s","000"))}function rL(e){return`${Y2} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aL({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const s=Z2(e),a=tC(e),l=t.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const c={fid:n,authVersion:Y2,appId:e.appId,sdkVersion:Q2},h={method:"POST",headers:a,body:JSON.stringify(c)},d=await eC(()=>fetch(s,h));if(d.ok){const p=await d.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:W2(p.authToken)}}else throw await J2("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=/^[cdef][\w-]{21}$/,vv="";function uL(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=cL(e);return lL.test(n)?n:vv}catch{return vv}}function cL(e){return oL(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=new Map;function sC(e,t){const n=Vm(e);rC(n,t),hL(n,t)}function rC(e,t){const n=iC.get(e);if(n)for(const s of n)s(t)}function hL(e,t){const n=fL();n&&n.postMessage({key:e,fid:t}),dL()}let to=null;function fL(){return!to&&"BroadcastChannel"in self&&(to=new BroadcastChannel("[Firebase] FID Change"),to.onmessage=e=>{rC(e.data.key,e.data.fid)}),to}function dL(){iC.size===0&&to&&(to.close(),to=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL="firebase-installations-database",pL=1,bo="firebase-installations-store";let ry=null;function t_(){return ry||(ry=cR(mL,pL,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(bo)}}})),ry}async function em(e,t){const n=Vm(e),a=(await t_()).transaction(bo,"readwrite"),l=a.objectStore(bo),c=await l.get(n);return await l.put(t,n),await a.done,(!c||c.fid!==t.fid)&&sC(e,t.fid),t}async function aC(e){const t=Vm(e),s=(await t_()).transaction(bo,"readwrite");await s.objectStore(bo).delete(t),await s.done}async function Om(e,t){const n=Vm(e),a=(await t_()).transaction(bo,"readwrite"),l=a.objectStore(bo),c=await l.get(n),h=t(c);return h===void 0?await l.delete(n):await l.put(h,n),await a.done,h&&(!c||c.fid!==h.fid)&&sC(e,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e_(e){let t;const n=await Om(e.appConfig,s=>{const a=gL(s),l=yL(e,a);return t=l.registrationPromise,l.installationEntry});return n.fid===vv?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function gL(e){const t=e||{fid:uL(),registrationStatus:0};return oC(t)}function yL(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Eo.create("app-offline"));return{installationEntry:t,registrationPromise:a}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=vL(e,n);return{installationEntry:n,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:_L(e)}:{installationEntry:t}}async function vL(e,t){try{const n=await aL(e,t);return em(e.appConfig,n)}catch(n){throw X2(n)&&n.customData.serverCode===409?await aC(e.appConfig):await em(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function _L(e){let t=await lA(e.appConfig);for(;t.registrationStatus===1;)await nC(100),t=await lA(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await e_(e);return s||n}return t}function lA(e){return Om(e,t=>{if(!t)throw Eo.create("installation-not-found");return oC(t)})}function oC(e){return TL(e)?{fid:e.fid,registrationStatus:0}:e}function TL(e){return e.registrationStatus===1&&e.registrationTime+K2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EL({appConfig:e,heartbeatServiceProvider:t},n){const s=bL(e,n),a=iL(e,n),l=t.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const c={installation:{sdkVersion:Q2,appId:e.appId}},h={method:"POST",headers:a,body:JSON.stringify(c)},d=await eC(()=>fetch(s,h));if(d.ok){const p=await d.json();return W2(p)}else throw await J2("Generate Auth Token",d)}function bL(e,{fid:t}){return`${Z2(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n_(e,t=!1){let n;const s=await Om(e.appConfig,l=>{if(!lC(l))throw Eo.create("not-registered");const c=l.authToken;if(!t&&wL(c))return l;if(c.requestStatus===1)return n=SL(e,t),l;{if(!navigator.onLine)throw Eo.create("app-offline");const h=RL(l);return n=AL(e,h),h}});return n?await n:s.authToken}async function SL(e,t){let n=await uA(e.appConfig);for(;n.authToken.requestStatus===1;)await nC(100),n=await uA(e.appConfig);const s=n.authToken;return s.requestStatus===0?n_(e,t):s}function uA(e){return Om(e,t=>{if(!lC(t))throw Eo.create("not-registered");const n=t.authToken;return CL(n)?{...t,authToken:{requestStatus:0}}:t})}async function AL(e,t){try{const n=await EL(e,t),s={...t,authToken:n};return await em(e.appConfig,s),n}catch(n){if(X2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await aC(e.appConfig);else{const s={...t,authToken:{requestStatus:0}};await em(e.appConfig,s)}throw n}}function lC(e){return e!==void 0&&e.registrationStatus===2}function wL(e){return e.requestStatus===2&&!xL(e)}function xL(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Jk}function RL(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function CL(e){return e.requestStatus===1&&e.requestTime+K2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IL(e){const t=e,{installationEntry:n,registrationPromise:s}=await e_(t);return s?s.catch(console.error):n_(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML(e,t=!1){const n=e;return await NL(n),(await n_(n,t)).token}async function NL(e){const{registrationPromise:t}=await e_(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(e){if(!e||!e.options)throw ay("App Configuration");if(!e.name)throw ay("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw ay(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function ay(e){return Eo.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="installations",VL="installations-internal",OL=e=>{const t=e.getProvider("app").getImmediate(),n=DL(t),s=Ao(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},PL=e=>{const t=e.getProvider("app").getImmediate(),n=Ao(t,uC).getImmediate();return{getId:()=>IL(n),getToken:a=>ML(n,a)}};function kL(){As(new Fi(uC,OL,"PUBLIC")),As(new Fi(VL,PL,"PRIVATE"))}kL();Bn($2,J0);Bn($2,J0,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="analytics",LL="firebase_id",jL="origin",UL=60*1e3,zL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",i_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In=new Eh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Wn=new ou("analytics","Analytics",BL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(e){if(!e.startsWith(i_)){const t=Wn.create("invalid-gtag-resource",{gtagURL:e});return In.warn(t.message),""}return e}function cC(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function qL(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function HL(e,t){const n=qL("firebase-js-sdk-policy",{createScriptURL:FL}),s=document.createElement("script"),a=`${i_}?l=${e}&id=${t}`;s.src=n?n==null?void 0:n.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function GL(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function $L(e,t,n,s,a,l){const c=s[a];try{if(c)await t[c];else{const d=(await cC(n)).find(p=>p.measurementId===a);d&&await t[d.appId]}}catch(h){In.error(h)}e("config",a,l)}async function KL(e,t,n,s,a){try{let l=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const h=await cC(n);for(const d of c){const p=h.find(v=>v.measurementId===d),y=p&&t[p.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(t)),await Promise.all(l),e("event",s,a||{})}catch(l){In.error(l)}}function QL(e,t,n,s){async function a(l,...c){try{if(l==="event"){const[h,d]=c;await KL(e,t,n,h,d)}else if(l==="config"){const[h,d]=c;await $L(e,t,n,s,h,d)}else if(l==="consent"){const[h,d]=c;e("consent",h,d)}else if(l==="get"){const[h,d,p]=c;e("get",h,d,p)}else if(l==="set"){const[h]=c;e("set",h)}else e(l,...c)}catch(h){In.error(h)}}return a}function YL(e,t,n,s,a){let l=function(...c){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=QL(l,e,t,n),{gtagCore:l,wrappedGtag:window[a]}}function XL(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(i_)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=30,WL=1e3;class JL{constructor(t={},n=WL){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const hC=new JL;function tj(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function ej(e){var c;const{appId:t,apiKey:n}=e,s={method:"GET",headers:tj(n)},a=zL.replace("{app-id}",t),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let h="";try{const d=await l.json();(c=d.error)!=null&&c.message&&(h=d.error.message)}catch{}throw Wn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:h})}return l.json()}async function nj(e,t=hC,n){const{appId:s,apiKey:a,measurementId:l}=e.options;if(!s)throw Wn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:s};throw Wn.create("no-api-key")}const c=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new rj;return setTimeout(async()=>{h.abort()},UL),fC({appId:s,apiKey:a,measurementId:l},c,h,t)}async function fC(e,{throttleEndTimeMillis:t,backoffCount:n},s,a=hC){var h;const{appId:l,measurementId:c}=e;try{await ij(s,t)}catch(d){if(c)return In.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:l,measurementId:c};throw d}try{const d=await ej(e);return a.deleteThrottleMetadata(l),d}catch(d){const p=d;if(!sj(p)){if(a.deleteThrottleMetadata(l),c)return In.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:l,measurementId:c};throw d}const y=Number((h=p==null?void 0:p.customData)==null?void 0:h.httpStatus)===503?Fd(n,a.intervalMillis,ZL):Fd(n,a.intervalMillis),v={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return a.setThrottleMetadata(l,v),In.debug(`Calling attemptFetch again in ${y} millis`),fC(e,v,s,a)}}function ij(e,t){return new Promise((n,s)=>{const a=Math.max(t-Date.now(),0),l=setTimeout(n,a);e.addEventListener(()=>{clearTimeout(l),s(Wn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function sj(e){if(!(e instanceof xs)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class rj{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function aj(e,t,n,s,a){if(a&&a.global){e("event",n,s);return}else{const l=await t,c={...s,send_to:l};e("event",n,c)}}async function oj(e,t,n,s){if(s&&s.global){const a={};for(const l of Object.keys(n))a[`user_properties.${l}`]=n[l];return e("set",a),Promise.resolve()}else{const a=await t;e("config",a,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lj(){if(Th())try{await pm()}catch(e){return In.warn(Wn.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return In.warn(Wn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function uj(e,t,n,s,a,l,c){const h=nj(e);h.then(T=>{n[T.measurementId]=T.appId,e.options.measurementId&&T.measurementId!==e.options.measurementId&&In.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>In.error(T)),t.push(h);const d=lj().then(T=>{if(T)return s.getId()}),[p,y]=await Promise.all([h,d]);XL(l)||HL(l,p.measurementId),a("js",new Date);const v=(c==null?void 0:c.config)??{};return v[jL]="firebase",v.update=!0,y!=null&&(v[LL]=y),a("config",p.measurementId,v),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(t){this.app=t}_delete(){return delete Nl[this.app.options.appId],Promise.resolve()}}let Nl={},cA=[];const hA={};let oy="dataLayer",hj="gtag",fA,s_,dA=!1;function fj(){const e=[];if(oR()&&e.push("This is a browser extension environment."),h0()||e.push("Cookies are not available."),e.length>0){const t=e.map((s,a)=>`(${a+1}) ${s}`).join(" "),n=Wn.create("invalid-analytics-context",{errorInfo:t});In.warn(n.message)}}function dj(e,t,n){fj();const s=e.options.appId;if(!s)throw Wn.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)In.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Wn.create("no-api-key");if(Nl[s]!=null)throw Wn.create("already-exists",{id:s});if(!dA){GL(oy);const{wrappedGtag:l,gtagCore:c}=YL(Nl,cA,hA,oy,hj);s_=l,fA=c,dA=!0}return Nl[s]=uj(e,cA,hA,t,fA,oy,n),new cj(e)}function mj(e=bh()){e=Tn(e);const t=Ao(e,nm);return t.isInitialized()?t.getImmediate():pj(e)}function pj(e,t={}){const n=Ao(e,nm);if(n.isInitialized()){const a=n.getImmediate();if(Ql(t,n.getOptions()))return a;throw Wn.create("already-initialized")}return n.initialize({options:t})}async function gj(){if(oR()||!h0()||!Th())return!1;try{return await pm()}catch{return!1}}function yj(e,t,n){e=Tn(e),oj(s_,Nl[e.app.options.appId],t,n).catch(s=>In.error(s))}function vj(e,t,n,s){e=Tn(e),aj(s_,Nl[e.app.options.appId],t,n,s).catch(a=>In.error(a))}const mA="@firebase/analytics",pA="0.10.19";function _j(){As(new Fi(nm,(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("installations-internal").getImmediate();return dj(s,a,n)},"PUBLIC")),As(new Fi("analytics-internal",e,"PRIVATE")),Bn(mA,pA),Bn(mA,pA,"esm2020");function e(t){try{const n=t.getProvider(nm).getImmediate();return{logEvent:(s,a,l)=>vj(n,s,a,l),setUserProperties:(s,a)=>yj(n,s,a)}}catch(n){throw Wn.create("interop-component-reg-failed",{reason:n})}}}_j();const ly="@firebase/remote-config",gA="0.7.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="remote-config",yA=100;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj={"already-initialized":"Remote Config already initialized","registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser","custom-signal-max-allowed-signals":"Setting more than {$maxSignals} custom signals is not supported.","stream-error":"The stream was not able to connect to the backend: {$originalErrorMessage}.","realtime-unavailable":"The Realtime service is unavailable: {$originalErrorMessage}","update-message-invalid":"The stream invalidation message was unparsable: {$originalErrorMessage}","update-not-fetched":"Unable to fetch the latest config: {$originalErrorMessage}"},Be=new ou("remoteconfig","Remote Config",Tj);function Ej(e,t){return e instanceof xs&&e.code.indexOf(t)!==-1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(e=bh(),t={}){var a,l;e=Tn(e);const n=Ao(e,mC);if(n.isInitialized()){const c=n.getOptions();if(Ql(c,t))return n.getImmediate();throw Be.create("already-initialized")}n.initialize({options:t});const s=n.getImmediate();return t.initialFetchResponse&&(s._initializePromise=Promise.all([s._storage.setLastSuccessfulFetchResponse(t.initialFetchResponse),s._storage.setActiveConfigEtag(((a=t.initialFetchResponse)==null?void 0:a.eTag)||""),s._storage.setActiveConfigTemplateVersion(t.initialFetchResponse.templateVersion||0),s._storageCache.setLastSuccessfulFetchTimestampMillis(Date.now()),s._storageCache.setLastFetchStatus("success"),s._storageCache.setActiveConfig(((l=t.initialFetchResponse)==null?void 0:l.config)||{})]).then(),s._isInitializationComplete=!0),s}async function Sj(e){const t=Tn(e),[n,s]=await Promise.all([t._storage.getLastSuccessfulFetchResponse(),t._storage.getActiveConfigEtag()]);return!n||!n.config||!n.eTag||!n.templateVersion||n.eTag===s?!1:(await Promise.all([t._storageCache.setActiveConfig(n.config),t._storage.setActiveConfigEtag(n.eTag),t._storage.setActiveConfigTemplateVersion(n.templateVersion)]),!0)}function Aj(e){const t=Tn(e);return t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0})),t._initializePromise}async function wj(e){const t=Tn(e),n=new dC;setTimeout(async()=>{n.abort()},t.settings.fetchTimeoutMillis);const s=t._storageCache.getCustomSignals();s&&t._logger.debug(`Fetching config with custom signals: ${JSON.stringify(s)}`);try{await t._client.fetch({cacheMaxAgeMillis:t.settings.minimumFetchIntervalMillis,signal:n,customSignals:s}),await t._storageCache.setLastFetchStatus("success")}catch(a){const l=Ej(a,"fetch-throttle")?"throttle":"failure";throw await t._storageCache.setLastFetchStatus(l),a}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(t,n,s,a){this.client=t,this.storage=n,this.storageCache=s,this.logger=a}isCachedDataFresh(t,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const s=Date.now()-n,a=s<=t;return this.logger.debug(`Config fetch cache check. Cache age millis: ${s}. Cache max age millis (minimumFetchIntervalMillis setting): ${t}. Is cache hit: ${a}.`),a}async fetch(t){const[n,s]=await Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(s&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n))return s;t.eTag=s&&s.eTag;const a=await this.client.fetch(t),l=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return a.status===200&&l.push(this.storage.setLastSuccessfulFetchResponse(a)),await Promise.all(l),a}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(e=navigator){return e.languages&&e.languages[0]||e.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(t,n,s,a,l,c){this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=s,this.projectId=a,this.apiKey=l,this.appId=c}async fetch(t){const[n,s]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),l=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,c={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},h={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:s,app_id:this.appId,language_code:Rj(),custom_signals:t.customSignals},d={method:"POST",headers:c,body:JSON.stringify(h)},p=fetch(l,d),y=new Promise((j,q)=>{t.signal.addEventListener(()=>{const U=new Error("The operation was aborted.");U.name="AbortError",q(U)})});let v;try{await Promise.race([p,y]),v=await p}catch(j){let q="fetch-client-network";throw(j==null?void 0:j.name)==="AbortError"&&(q="fetch-timeout"),Be.create(q,{originalErrorMessage:j==null?void 0:j.message})}let T=v.status;const A=v.headers.get("ETag")||void 0;let M,C,D;if(v.status===200){let j;try{j=await v.json()}catch(q){throw Be.create("fetch-client-parse",{originalErrorMessage:q==null?void 0:q.message})}M=j.entries,C=j.state,D=j.templateVersion}if(C==="INSTANCE_STATE_UNSPECIFIED"?T=500:C==="NO_CHANGE"?T=304:(C==="NO_TEMPLATE"||C==="EMPTY_CONFIG")&&(M={}),T!==304&&T!==200)throw Be.create("fetch-status",{httpStatus:T});return{status:T,eTag:A,config:M,templateVersion:D}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ij(e,t){return new Promise((n,s)=>{const a=Math.max(t-Date.now(),0),l=setTimeout(n,a);e.addEventListener(()=>{clearTimeout(l),s(Be.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Mj(e){if(!(e instanceof xs)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class Nj{constructor(t,n){this.client=t,this.storage=n}async fetch(t){const n=await this.storage.getThrottleMetadata()||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(t,n)}async attemptFetch(t,{throttleEndTimeMillis:n,backoffCount:s}){await Ij(t.signal,n);try{const a=await this.client.fetch(t);return await this.storage.deleteThrottleMetadata(),a}catch(a){if(!Mj(a))throw a;const l={throttleEndTimeMillis:Date.now()+Fd(s),backoffCount:s+1};return await this.storage.setThrottleMetadata(l),this.attemptFetch(t,l)}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=60*1e3,Vj=720*60*1e3;class Oj{get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}constructor(t,n,s,a,l,c){this.app=t,this._client=n,this._storageCache=s,this._storage=a,this._logger=l,this._realtimeHandler=c,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:Dj,minimumFetchIntervalMillis:Vj},this.defaultConfig={}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(e,t){const n=e.target.error||void 0;return Be.create(t,{originalErrorMessage:n&&(n==null?void 0:n.message)})}const Fr="app_namespace_store",Pj="firebase_remote_config",kj=1;function Lj(){return new Promise((e,t)=>{try{const n=indexedDB.open(Pj,kj);n.onerror=s=>{t(Dd(s,"storage-open"))},n.onsuccess=s=>{e(s.target.result)},n.onupgradeneeded=s=>{const a=s.target.result;switch(s.oldVersion){case 0:a.createObjectStore(Fr,{keyPath:"compositeKey"})}}}catch(n){t(Be.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}})}class pC{getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(t){return this.set("last_fetch_status",t)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(t){return this.set("last_successful_fetch_timestamp_millis",t)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(t){return this.set("last_successful_fetch_response",t)}getActiveConfig(){return this.get("active_config")}setActiveConfig(t){return this.set("active_config",t)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(t){return this.set("active_config_etag",t)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(t){return this.set("throttle_metadata",t)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}getCustomSignals(){return this.get("custom_signals")}getRealtimeBackoffMetadata(){return this.get("realtime_backoff_metadata")}setRealtimeBackoffMetadata(t){return this.set("realtime_backoff_metadata",t)}getActiveConfigTemplateVersion(){return this.get("last_known_template_version")}setActiveConfigTemplateVersion(t){return this.set("last_known_template_version",t)}}class jj extends pC{constructor(t,n,s,a=Lj()){super(),this.appId=t,this.appName=n,this.namespace=s,this.openDbPromise=a}async setCustomSignals(t){const s=(await this.openDbPromise).transaction([Fr],"readwrite"),a=await this.getWithTransaction("custom_signals",s),l=gC(t,a||{});return await this.setWithTransaction("custom_signals",l,s),l}async getWithTransaction(t,n){return new Promise((s,a)=>{const l=n.objectStore(Fr),c=this.createCompositeKey(t);try{const h=l.get(c);h.onerror=d=>{a(Dd(d,"storage-get"))},h.onsuccess=d=>{const p=d.target.result;s(p?p.value:void 0)}}catch(h){a(Be.create("storage-get",{originalErrorMessage:h==null?void 0:h.message}))}})}async setWithTransaction(t,n,s){return new Promise((a,l)=>{const c=s.objectStore(Fr),h=this.createCompositeKey(t);try{const d=c.put({compositeKey:h,value:n});d.onerror=p=>{l(Dd(p,"storage-set"))},d.onsuccess=()=>{a()}}catch(d){l(Be.create("storage-set",{originalErrorMessage:d==null?void 0:d.message}))}})}async get(t){const s=(await this.openDbPromise).transaction([Fr],"readonly");return this.getWithTransaction(t,s)}async set(t,n){const a=(await this.openDbPromise).transaction([Fr],"readwrite");return this.setWithTransaction(t,n,a)}async delete(t){const n=await this.openDbPromise;return new Promise((s,a)=>{const c=n.transaction([Fr],"readwrite").objectStore(Fr),h=this.createCompositeKey(t);try{const d=c.delete(h);d.onerror=p=>{a(Dd(p,"storage-delete"))},d.onsuccess=()=>{s()}}catch(d){a(Be.create("storage-delete",{originalErrorMessage:d==null?void 0:d.message}))}})}createCompositeKey(t){return[this.appId,this.appName,this.namespace,t].join()}}class Uj extends pC{constructor(){super(...arguments),this.storage={}}async get(t){return Promise.resolve(this.storage[t])}async set(t,n){return this.storage[t]=n,Promise.resolve(void 0)}async delete(t){return this.storage[t]=void 0,Promise.resolve()}async setCustomSignals(t){const n=this.storage.custom_signals||{};return this.storage.custom_signals=gC(t,n),Promise.resolve(this.storage.custom_signals)}}function gC(e,t){const n={...t,...e},s=Object.fromEntries(Object.entries(n).filter(([a,l])=>l!==null).map(([a,l])=>typeof l=="number"?[a,l.toString()]:[a,l]));if(Object.keys(s).length>yA)throw Be.create("custom-signal-max-allowed-signals",{maxSignals:yA});return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(t){this.storage=t}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}getCustomSignals(){return this.customSignals}async loadFromStorage(){const t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),s=this.storage.getActiveConfig(),a=this.storage.getCustomSignals(),l=await t;l&&(this.lastFetchStatus=l);const c=await n;c&&(this.lastSuccessfulFetchTimestampMillis=c);const h=await s;h&&(this.activeConfig=h);const d=await a;d&&(this.customSignals=d)}setLastFetchStatus(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)}setLastSuccessfulFetchTimestampMillis(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)}setActiveConfig(t){return this.activeConfig=t,this.storage.setActiveConfig(t)}async setCustomSignals(t){this.customSignals=await this.storage.setCustomSignals(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(t){this.allowedEvents_=t,this.listeners_={},Yy(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const s=[...this.listeners_[t]];for(let a=0;a<s.length;a++)s[a].callback.apply(s[a].context,n)}}on(t,n,s){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:s});const a=this.getInitialEvent(t);a&&n.apply(s,a)}off(t,n,s){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let l=0;l<a.length;l++)if(a[l].callback===n&&(!s||s===a[l].context)){a.splice(l,1);return}}validateEventType_(t){Yy(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_ extends Bj{static getInstance(){return new r_}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[t];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(t){return Yy(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj="X-Goog-Api-Key",qj="X-Goog-Firebase-Installations-Auth",uy=8,vA=3,_A=-1,TA=0,EA="featureDisabled",bA="retryIntervalSeconds",SA="latestTemplateVersionNumber";class Hj{constructor(t,n,s,a,l,c,h,d,p,y){this.firebaseInstallations=t,this.storage=n,this.sdkVersion=s,this.namespace=a,this.projectId=l,this.apiKey=c,this.appId=h,this.logger=d,this.storageCache=p,this.cachingClient=y,this.observers=new Set,this.isConnectionActive=!1,this.isRealtimeDisabled=!1,this.httpRetriesRemaining=uy,this.isInBackground=!1,this.decoder=new TextDecoder("utf-8"),this.isClosingConnection=!1,this.propagateError=v=>this.observers.forEach(T=>{var A;return(A=T.error)==null?void 0:A.call(T,v)}),this.isStatusCodeRetryable=v=>!v||[408,429,502,503,504].includes(v),this.setRetriesRemaining(),r_.getInstance().on("visible",this.onVisibilityChange,this)}async setRetriesRemaining(){const t=await this.storage.getRealtimeBackoffMetadata(),n=(t==null?void 0:t.numFailedStreams)||0;this.httpRetriesRemaining=Math.max(uy-n,1)}async updateBackoffMetadataWithLastFailedStreamConnectionTime(t){var a;const n=(((a=await this.storage.getRealtimeBackoffMetadata())==null?void 0:a.numFailedStreams)||0)+1,s=Fd(n,6e4,2);await this.storage.setRealtimeBackoffMetadata({backoffEndTimeMillis:new Date(t.getTime()+s),numFailedStreams:n})}async updateBackoffMetadataWithRetryInterval(t){const n=Date.now(),s=t*1e3,a=new Date(n+s);await this.storage.setRealtimeBackoffMetadata({backoffEndTimeMillis:a,numFailedStreams:0}),await this.retryHttpConnectionWhenBackoffEnds()}async closeRealtimeHttpConnection(){if(!this.isClosingConnection){this.isClosingConnection=!0;try{this.reader&&await this.reader.cancel()}catch{this.logger.debug("Failed to cancel the reader, connection was lost.")}finally{this.reader=void 0}this.controller&&(await this.controller.abort(),this.controller=void 0),this.isClosingConnection=!1}}async resetRealtimeBackoff(){await this.storage.setRealtimeBackoffMetadata({backoffEndTimeMillis:new Date(-1),numFailedStreams:0})}resetRetryCount(){this.httpRetriesRemaining=uy}async establishRealtimeConnection(t,n,s,a){const l=await this.storage.getActiveConfigEtag(),c=await this.storage.getActiveConfigTemplateVersion(),h={[Fj]:this.apiKey,[qj]:s,"Content-Type":"application/json",Accept:"application/json","If-None-Match":l||"*","Content-Encoding":"gzip"},d={project:this.projectId,namespace:this.namespace,lastKnownVersionNumber:c,appId:this.appId,sdkVersion:this.sdkVersion,appInstanceId:n};return await fetch(t,{method:"POST",headers:h,body:JSON.stringify(d),signal:a})}getRealtimeUrl(){const n=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfigrealtime.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:streamFetchInvalidations?key=${this.apiKey}`;return new URL(n)}async createRealtimeConnection(){const[t,n]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken(!1)]);this.controller=new AbortController;const s=this.getRealtimeUrl();return await this.establishRealtimeConnection(s,t,n,this.controller.signal)}async retryHttpConnectionWhenBackoffEnds(){let t=await this.storage.getRealtimeBackoffMetadata();t||(t={backoffEndTimeMillis:new Date(_A),numFailedStreams:TA});const n=new Date(t.backoffEndTimeMillis).getTime(),s=Date.now(),a=Math.max(0,n-s);await this.makeRealtimeHttpConnection(a)}setIsHttpConnectionRunning(t){this.isConnectionActive=t}checkAndSetHttpConnectionFlagIfNotRunning(){const t=this.canEstablishStreamConnection();return t&&this.setIsHttpConnectionRunning(!0),t}fetchResponseIsUpToDate(t,n){return t.config!=null&&t.templateVersion?t.templateVersion>=n:this.storageCache.getLastFetchStatus()==="success"}parseAndValidateConfigUpdateMessage(t){const n=t.indexOf("{"),s=t.indexOf("}",n);return n<0||s<0||n>=s?"":t.substring(n,s+1)}isEventListenersEmpty(){return this.observers.size===0}getRandomInt(t){return Math.floor(Math.random()*t)}executeAllListenerCallbacks(t){this.observers.forEach(n=>n.next(t))}getChangedParams(t,n){const s=new Set,a=new Set(Object.keys(t||{})),l=new Set(Object.keys(n||{}));for(const c of a)(!l.has(c)||t[c]!==n[c])&&s.add(c);for(const c of l)a.has(c)||s.add(c);return s}async fetchLatestConfig(t,n){const s=t-1,a=vA-s,l=this.storageCache.getCustomSignals();l&&this.logger.debug(`Fetching config with custom signals: ${JSON.stringify(l)}`);const c=new dC;try{const h={cacheMaxAgeMillis:0,signal:c,customSignals:l,fetchType:"REALTIME",fetchAttempt:a},d=await this.cachingClient.fetch(h);let p=await this.storage.getActiveConfig();if(!this.fetchResponseIsUpToDate(d,n)){this.logger.debug("Fetched template version is the same as SDK's current version. Retrying fetch."),await this.autoFetch(s,n);return}if(d.config==null){this.logger.debug("The fetch succeeded, but the backend had no updates.");return}p==null&&(p={});const y=this.getChangedParams(d.config,p);if(y.size===0){this.logger.debug("Config was fetched, but no params changed.");return}const v={getUpdatedKeys(){return new Set(y)}};this.executeAllListenerCallbacks(v)}catch(h){const d=h instanceof Error?h.message:String(h),p=Be.create("update-not-fetched",{originalErrorMessage:`Failed to auto-fetch config update: ${d}`});this.propagateError(p)}}async autoFetch(t,n){if(t===0){const l=Be.create("update-not-fetched",{originalErrorMessage:"Unable to fetch the latest version of the template."});this.propagateError(l);return}const a=this.getRandomInt(4)*1e3;await new Promise(l=>setTimeout(l,a)),await this.fetchLatestConfig(t,n)}async handleNotifications(t){let n,s="";for(;;){const{done:a,value:l}=await t.read();if(a)break;if(n=this.decoder.decode(l,{stream:!0}),s+=n,n.includes("}")){if(s=this.parseAndValidateConfigUpdateMessage(s),s.length===0)continue;try{const c=JSON.parse(s);if(this.isEventListenersEmpty())break;if(EA in c&&c[EA]===!0){const h=Be.create("realtime-unavailable",{originalErrorMessage:"The server is temporarily unavailable. Try again in a few minutes."});this.propagateError(h);break}if(SA in c){const h=await this.storage.getActiveConfigTemplateVersion(),d=Number(c[SA]);h&&d>h&&await this.autoFetch(vA,d)}if(bA in c){const h=Number(c[bA]);await this.updateBackoffMetadataWithRetryInterval(h)}}catch(c){this.logger.debug("Unable to parse latest config update message.",c);const h=c instanceof Error?c.message:String(c);this.propagateError(Be.create("update-message-invalid",{originalErrorMessage:h}))}s=""}}}async listenForNotifications(t){try{await this.handleNotifications(t)}catch{this.isInBackground||this.logger.debug("Real-time connection was closed due to an exception.")}}async prepareAndBeginRealtimeHttpStream(){if(!this.checkAndSetHttpConnectionFlagIfNotRunning())return;let t=await this.storage.getRealtimeBackoffMetadata();t||(t={backoffEndTimeMillis:new Date(_A),numFailedStreams:TA});const n=t.backoffEndTimeMillis.getTime();if(Date.now()<n){await this.retryHttpConnectionWhenBackoffEnds();return}let s,a;try{if(s=await this.createRealtimeConnection(),a=s.status,s.ok&&s.body){this.resetRetryCount(),await this.resetRealtimeBackoff();const l=s.body.getReader();this.reader=l,await this.listenForNotifications(l)}}catch(l){this.isInBackground?this.resetRetryCount():this.logger.debug("Exception connecting to real-time RC backend. Retrying the connection...:",l)}finally{await this.closeRealtimeHttpConnection(),this.setIsHttpConnectionRunning(!1);const l=!this.isInBackground&&(a===void 0||this.isStatusCodeRetryable(a));if(l&&await this.updateBackoffMetadataWithLastFailedStreamConnectionTime(new Date),l||s!=null&&s.ok)await this.retryHttpConnectionWhenBackoffEnds();else{const c=`Unable to connect to the server. HTTP status code: ${a}`,h=Be.create("stream-error",{originalErrorMessage:c});this.propagateError(h)}}}canEstablishStreamConnection(){const t=this.observers.size>0,n=!this.isRealtimeDisabled,s=!this.isConnectionActive,a=!this.isInBackground;return t&&n&&s&&a}async makeRealtimeHttpConnection(t){if(this.canEstablishStreamConnection()){if(this.httpRetriesRemaining>0)this.httpRetriesRemaining--,await new Promise(n=>setTimeout(n,t)),this.prepareAndBeginRealtimeHttpStream();else if(!this.isInBackground){const n=Be.create("stream-error",{originalErrorMessage:"Unable to connect to the server. Check your connection and try again."});this.propagateError(n)}}}async beginRealtime(){this.observers.size>0&&await this.makeRealtimeHttpConnection(0)}addObserver(t){this.observers.add(t),this.beginRealtime()}removeObserver(t){this.observers.has(t)&&this.observers.delete(t)}async onVisibilityChange(t){this.isInBackground=!t,t?t&&await this.beginRealtime():await this.closeRealtimeHttpConnection()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(){As(new Fi(mC,e,"PUBLIC").setMultipleInstances(!0)),Bn(ly,gA),Bn(ly,gA,"esm2020");function e(t,{options:n}){const s=t.getProvider("app").getImmediate(),a=t.getProvider("installations-internal").getImmediate(),{projectId:l,apiKey:c,appId:h}=s.options;if(!l)throw Be.create("registration-project-id");if(!c)throw Be.create("registration-api-key");if(!h)throw Be.create("registration-app-id");const d=(n==null?void 0:n.templateId)||"firebase",p=Th()?new jj(h,s.name,d):new Uj,y=new zj(p),v=new Eh(ly);v.logLevel=Ut.ERROR;const T=new Cj(a,ev,d,l,c,h),A=new Nj(T,p),M=new xj(A,p,y,v),C=new Hj(a,p,ev,d,l,c,h,v,y,M),D=new Oj(s,M,y,p,v,C);return Aj(D),D}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $j(e){return e=Tn(e),await wj(e),Sj(e)}Gj();var _v,AA,Pm=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},yC=function(e){if(document.readyState==="loading")return"loading";var t=Pm();if(t){if(e<t.domInteractive)return"loading";if(t.domContentLoadedEventStart===0||e<t.domContentLoadedEventStart)return"dom-interactive";if(t.domComplete===0||e<t.domComplete)return"dom-content-loaded"}return"complete"},Kj=function(e){var t=e.nodeName;return e.nodeType===1?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},a_=function(e,t){var n="";try{for(;e&&e.nodeType!==9;){var s=e,a=s.id?"#"+s.id:Kj(s)+(s.classList&&s.classList.value&&s.classList.value.trim()&&s.classList.value.trim().length?"."+s.classList.value.trim().replace(/\s+/g,"."):"");if(n.length+a.length>(t||100)-1)return n||a;if(n=n?a+">"+n:a,s.id)break;e=s.parentNode}}catch{}return n},vC=-1,Qj=function(){return vC},Ch=function(e){addEventListener("pageshow",(function(t){t.persisted&&(vC=t.timeStamp,e(t))}),!0)},o_=function(){var e=Pm();return e&&e.activationStart||0},ha=function(e,t){var n=Pm(),s="navigate";return Qj()>=0?s="back-forward-cache":n&&(document.prerendering||o_()>0?s="prerender":document.wasDiscarded?s="restore":n.type&&(s=n.type.replace(/_/g,"-"))),{name:e,value:t===void 0?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:s}},du=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var s=new PerformanceObserver((function(a){Promise.resolve().then((function(){t(a.getEntries())}))}));return s.observe(Object.assign({type:e,buffered:!0},n||{})),s}}catch{}},fa=function(e,t,n,s){var a,l;return function(c){t.value>=0&&(c||s)&&((l=t.value-(a||0))||a===void 0)&&(a=t.value,t.delta=l,t.rating=(function(h,d){return h>d[1]?"poor":h>d[0]?"needs-improvement":"good"})(t.value,n),e(t))}},l_=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},km=function(e){document.addEventListener("visibilitychange",(function(){document.visibilityState==="hidden"&&e()}))},u_=function(e){var t=!1;return function(){t||(e(),t=!0)}},Al=-1,wA=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},im=function(e){document.visibilityState==="hidden"&&Al>-1&&(Al=e.type==="visibilitychange"?e.timeStamp:0,Yj())},xA=function(){addEventListener("visibilitychange",im,!0),addEventListener("prerenderingchange",im,!0)},Yj=function(){removeEventListener("visibilitychange",im,!0),removeEventListener("prerenderingchange",im,!0)},_C=function(){return Al<0&&(Al=wA(),xA(),Ch((function(){setTimeout((function(){Al=wA(),xA()}),0)}))),{get firstHiddenTime(){return Al}}},c_=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},RA=[1800,3e3],Xj=function(e,t){t=t||{},c_((function(){var n,s=_C(),a=ha("FCP"),l=du("paint",(function(c){c.forEach((function(h){h.name==="first-contentful-paint"&&(l.disconnect(),h.startTime<s.firstHiddenTime&&(a.value=Math.max(h.startTime-o_(),0),a.entries.push(h),n(!0)))}))}));l&&(n=fa(e,a,RA,t.reportAllChanges),Ch((function(c){a=ha("FCP"),n=fa(e,a,RA,t.reportAllChanges),l_((function(){a.value=performance.now()-c.timeStamp,n(!0)}))})))}))},CA=[.1,.25],Zj=function(e,t){(function(n,s){s=s||{},Xj(u_((function(){var a,l=ha("CLS",0),c=0,h=[],d=function(y){y.forEach((function(v){if(!v.hadRecentInput){var T=h[0],A=h[h.length-1];c&&v.startTime-A.startTime<1e3&&v.startTime-T.startTime<5e3?(c+=v.value,h.push(v)):(c=v.value,h=[v])}})),c>l.value&&(l.value=c,l.entries=h,a())},p=du("layout-shift",d);p&&(a=fa(n,l,CA,s.reportAllChanges),km((function(){d(p.takeRecords()),a(!0)})),Ch((function(){c=0,l=ha("CLS",0),a=fa(n,l,CA,s.reportAllChanges),l_((function(){return a()}))})),setTimeout(a,0))})))})((function(n){var s=(function(a){var l,c={};if(a.entries.length){var h=a.entries.reduce((function(p,y){return p&&p.value>y.value?p:y}));if(h&&h.sources&&h.sources.length){var d=(l=h.sources).find((function(p){return p.node&&p.node.nodeType===1}))||l[0];d&&(c={largestShiftTarget:a_(d.node),largestShiftTime:h.startTime,largestShiftValue:h.value,largestShiftSource:d,largestShiftEntry:h,loadState:yC(h.startTime)})}}return Object.assign(a,{attribution:c})})(n);e(s)}),t)},TC=0,cy=1/0,yd=0,Wj=function(e){e.forEach((function(t){t.interactionId&&(cy=Math.min(cy,t.interactionId),yd=Math.max(yd,t.interactionId),TC=yd?(yd-cy)/7+1:0)}))},EC=function(){return _v?TC:performance.interactionCount||0},Jj=function(){"interactionCount"in performance||_v||(_v=du("event",Wj,{type:"event",buffered:!0,durationThreshold:0}))},Ui=[],zc=new Map,bC=0,t9=function(){var e=Math.min(Ui.length-1,Math.floor((EC()-bC)/50));return Ui[e]},SC=[],e9=function(e){if(SC.forEach((function(a){return a(e)})),e.interactionId||e.entryType==="first-input"){var t=Ui[Ui.length-1],n=zc.get(e.interactionId);if(n||Ui.length<10||e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e);else{var s={id:e.interactionId,latency:e.duration,entries:[e]};zc.set(s.id,s),Ui.push(s)}Ui.sort((function(a,l){return l.latency-a.latency})),Ui.length>10&&Ui.splice(10).forEach((function(a){return zc.delete(a.id)}))}}},h_=function(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=u_(e),document.visibilityState==="hidden"?e():(n=t(e),km(e)),n},IA=[200,500],n9=function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},c_((function(){var n;Jj();var s,a=ha("INP"),l=function(h){h_((function(){h.forEach(e9);var d=t9();d&&d.latency!==a.value&&(a.value=d.latency,a.entries=d.entries,s())}))},c=du("event",l,{durationThreshold:(n=t.durationThreshold)!==null&&n!==void 0?n:40});s=fa(e,a,IA,t.reportAllChanges),c&&(c.observe({type:"first-input",buffered:!0}),km((function(){l(c.takeRecords()),s(!0)})),Ch((function(){bC=EC(),Ui.length=0,zc.clear(),a=ha("INP"),s=fa(e,a,IA,t.reportAllChanges)})))})))},Dl=[],Hr=[],Tv=0,f_=new WeakMap,Vl=new Map,Ev=-1,i9=function(e){Dl=Dl.concat(e),AC()},AC=function(){Ev<0&&(Ev=h_(s9))},s9=function(){Vl.size>10&&Vl.forEach((function(c,h){zc.has(h)||Vl.delete(h)}));var e=Ui.map((function(c){return f_.get(c.entries[0])})),t=Hr.length-50;Hr=Hr.filter((function(c,h){return h>=t||e.includes(c)}));for(var n=new Set,s=0;s<Hr.length;s++){var a=Hr[s];wC(a.startTime,a.processingEnd).forEach((function(c){n.add(c)}))}var l=Dl.length-1-50;Dl=Dl.filter((function(c,h){return c.startTime>Tv&&h>l||n.has(c)})),Ev=-1};SC.push((function(e){e.interactionId&&e.target&&!Vl.has(e.interactionId)&&Vl.set(e.interactionId,e.target)}),(function(e){var t,n=e.startTime+e.duration;Tv=Math.max(Tv,e.processingEnd);for(var s=Hr.length-1;s>=0;s--){var a=Hr[s];if(Math.abs(n-a.renderTime)<=8){(t=a).startTime=Math.min(e.startTime,t.startTime),t.processingStart=Math.min(e.processingStart,t.processingStart),t.processingEnd=Math.max(e.processingEnd,t.processingEnd),t.entries.push(e);break}}t||(t={startTime:e.startTime,processingStart:e.processingStart,processingEnd:e.processingEnd,renderTime:n,entries:[e]},Hr.push(t)),(e.interactionId||e.entryType==="first-input")&&f_.set(e,t),AC()}));var wC=function(e,t){for(var n,s=[],a=0;n=Dl[a];a++)if(!(n.startTime+n.duration<e)){if(n.startTime>t)break;s.push(n)}return s},r9=function(e,t){AA||(AA=du("long-animation-frame",i9)),n9((function(n){var s=(function(a){var l=a.entries[0],c=f_.get(l),h=l.processingStart,d=c.processingEnd,p=c.entries.sort((function(D,j){return D.processingStart-j.processingStart})),y=wC(l.startTime,d),v=a.entries.find((function(D){return D.target})),T=v&&v.target||Vl.get(l.interactionId),A=[l.startTime+l.duration,d].concat(y.map((function(D){return D.startTime+D.duration}))),M=Math.max.apply(Math,A),C={interactionTarget:a_(T),interactionTargetElement:T,interactionType:l.name.startsWith("key")?"keyboard":"pointer",interactionTime:l.startTime,nextPaintTime:M,processedEventEntries:p,longAnimationFrameEntries:y,inputDelay:h-l.startTime,processingDuration:d-h,presentationDelay:Math.max(M-d,0),loadState:yC(l.startTime)};return Object.assign(a,{attribution:C})})(n);e(s)}),t)},MA=[2500,4e3],hy={},a9=function(e,t){(function(n,s){s=s||{},c_((function(){var a,l=_C(),c=ha("LCP"),h=function(y){s.reportAllChanges||(y=y.slice(-1)),y.forEach((function(v){v.startTime<l.firstHiddenTime&&(c.value=Math.max(v.startTime-o_(),0),c.entries=[v],a())}))},d=du("largest-contentful-paint",h);if(d){a=fa(n,c,MA,s.reportAllChanges);var p=u_((function(){hy[c.id]||(h(d.takeRecords()),d.disconnect(),hy[c.id]=!0,a(!0))}));["keydown","click"].forEach((function(y){addEventListener(y,(function(){return h_(p)}),{once:!0,capture:!0})})),km(p),Ch((function(y){c=ha("LCP"),a=fa(n,c,MA,s.reportAllChanges),l_((function(){c.value=performance.now()-y.timeStamp,hy[c.id]=!0,a(!0)}))}))}}))})((function(n){var s=(function(a){var l={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:a.value};if(a.entries.length){var c=Pm();if(c){var h=c.activationStart||0,d=a.entries[a.entries.length-1],p=d.url&&performance.getEntriesByType("resource").filter((function(M){return M.name===d.url}))[0],y=Math.max(0,c.responseStart-h),v=Math.max(y,p?(p.requestStart||p.startTime)-h:0),T=Math.max(v,p?p.responseEnd-h:0),A=Math.max(T,d.startTime-h);l={element:a_(d.element),timeToFirstByte:y,resourceLoadDelay:v-y,resourceLoadDuration:T-v,elementRenderDelay:A-T,navigationEntry:c,lcpEntry:d},d.url&&(l.url=d.url),p&&(l.lcpResourceEntry=p)}}return Object.assign(a,{attribution:l})})(n);e(s)}),t)};const NA="@firebase/performance",bv="0.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=bv,o9="FB-PERF-TRACE-START",l9="FB-PERF-TRACE-STOP",Sv="FB-PERF-TRACE-MEASURE",RC="_wt_",CC="_fp",IC="_fcp",MC="_fid",NC="_lcp",u9="lcp_element",DC="_inp",c9="inp_interactionTarget",VC="_cls",h9="cls_largestShiftTarget",OC="@firebase/performance/config",PC="@firebase/performance/configexpire",f9="performance",kC="Performance";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9={"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."},yn=new ou(f9,kC,d9);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new Eh(kC);er.logLevel=Ut.INFO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fy,LC;class Xe{constructor(t){if(this.window=t,!t)throw yn.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay),this.onLCP=a9,this.onINP=r9,this.onCLS=Zj}getUrl(){return this.windowLocation.href.split("?")[0]}mark(t){!this.performance||!this.performance.mark||this.performance.mark(t)}measure(t,n,s){!this.performance||!this.performance.measure||this.performance.measure(t,n,s)}getEntriesByType(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)}getEntriesByName(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return!fetch||!Promise||!h0()?(er.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):Th()?!0:(er.info("IndexedDB is not supported by current browser"),!1)}setupObserver(t,n){if(!this.PerformanceObserver)return;new this.PerformanceObserver(a=>{for(const l of a.getEntries())n(l)}).observe({entryTypes:[t]})}static getInstance(){return fy===void 0&&(fy=new Xe(LC)),fy}}function m9(e){LC=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jC;function p9(e){const t=e.getId();return t.then(n=>{jC=n}),t}function d_(){return jC}function g9(e){const t=e.getToken();return t.then(n=>{}),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(e,t){const n=e.length-t.length;if(n<0||n>1)throw yn.create("invalid String merger input");const s=[];for(let a=0;a<e.length;a++)s.push(e.charAt(a)),t.length>a&&s.push(t.charAt(a));return s.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dy;class Rn{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=DA("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=DA("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12,this.logMaxFlushSize=40}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return dy===void 0&&(dy=new Rn),dy}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bc;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"})(Bc||(Bc={}));const y9=["firebase_","google_","ga_"],v9=new RegExp("^[a-zA-Z]\\w*$"),_9=40,Av=100;function T9(){const e=Xe.getInstance().navigator;return e!=null&&e.serviceWorker?e.serviceWorker.controller?2:3:1}function E9(){switch(Xe.getInstance().document.visibilityState){case"visible":return Bc.VISIBLE;case"hidden":return Bc.HIDDEN;default:return Bc.UNKNOWN}}function b9(){const t=Xe.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function S9(e){return e.length===0||e.length>_9?!1:!y9.some(n=>e.startsWith(n))&&!!e.match(v9)}function A9(e){return e.length!==0&&e.length<=Av}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(e){var n;const t=(n=e.options)==null?void 0:n.appId;if(!t)throw yn.create("no app id");return t}function w9(e){var n;const t=(n=e.options)==null?void 0:n.projectId;if(!t)throw yn.create("no project id");return t}function x9(e){var n;const t=(n=e.options)==null?void 0:n.apiKey;if(!t)throw yn.create("no api key");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9="0.0.1",Zn={loggingEnabled:!0},C9="FIREBASE_INSTALLATIONS_AUTH";function I9(e,t){const n=M9();return n?(VA(n),Promise.resolve()):V9(e,t).then(VA).then(s=>N9(s),()=>{})}function M9(){const e=Xe.getInstance().localStorage;if(!e)return;const t=e.getItem(PC);if(!t||!O9(t))return;const n=e.getItem(OC);if(n)try{return JSON.parse(n)}catch{return}}function N9(e){const t=Xe.getInstance().localStorage;!e||!t||(t.setItem(OC,JSON.stringify(e)),t.setItem(PC,String(Date.now()+Rn.getInstance().configTimeToLive*60*60*1e3)))}const D9="Could not fetch config, will use default configs";function V9(e,t){return g9(e.installations).then(n=>{const s=w9(e.app),a=x9(e.app),l=`https://firebaseremoteconfig.googleapis.com/v1/projects/${s}/namespaces/fireperf:fetch?key=${a}`,c=new Request(l,{method:"POST",headers:{Authorization:`${C9} ${n}`},body:JSON.stringify({app_instance_id:t,app_instance_id_token:n,app_id:UC(e.app),app_version:xC,sdk_version:R9})});return fetch(c).then(h=>{if(h.ok)return h.json();throw yn.create("RC response not ok")})}).catch(()=>{er.info(D9)})}function VA(e){if(!e)return e;const t=Rn.getInstance(),n=e.entries||{};return n.fpr_enabled!==void 0?t.loggingEnabled=String(n.fpr_enabled)==="true":t.loggingEnabled=Zn.loggingEnabled,n.fpr_log_source?t.logSource=Number(n.fpr_log_source):Zn.logSource&&(t.logSource=Zn.logSource),n.fpr_log_endpoint_url?t.logEndPointUrl=n.fpr_log_endpoint_url:Zn.logEndPointUrl&&(t.logEndPointUrl=Zn.logEndPointUrl),n.fpr_log_transport_key?t.transportKey=n.fpr_log_transport_key:Zn.transportKey&&(t.transportKey=Zn.transportKey),n.fpr_vc_network_request_sampling_rate!==void 0?t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate):Zn.networkRequestsSamplingRate!==void 0&&(t.networkRequestsSamplingRate=Zn.networkRequestsSamplingRate),n.fpr_vc_trace_sampling_rate!==void 0?t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate):Zn.tracesSamplingRate!==void 0&&(t.tracesSamplingRate=Zn.tracesSamplingRate),n.fpr_log_max_flush_size?t.logMaxFlushSize=Number(n.fpr_log_max_flush_size):Zn.logMaxFlushSize&&(t.logMaxFlushSize=Zn.logMaxFlushSize),t.logTraceAfterSampling=OA(t.tracesSamplingRate),t.logNetworkAfterSampling=OA(t.networkRequestsSamplingRate),e}function O9(e){return Number(e)>Date.now()}function OA(e){return Math.random()<=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m_=1,my;function zC(e){return m_=2,my=my||k9(e),my}function P9(){return m_===3}function k9(e){return L9().then(()=>p9(e.installations)).then(t=>I9(e,t)).then(()=>PA(),()=>PA())}function L9(){const e=Xe.getInstance().document;return new Promise(t=>{if(e&&e.readyState!=="complete"){const n=()=>{e.readyState==="complete"&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})}function PA(){m_=3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=10*1e3,j9=5.5*1e3,U9=1e3,FC=3,z9=65536,B9=new TextEncoder;let Vd=FC,gi=[],kA=!1;function F9(){kA||(p_(j9),kA=!0)}function p_(e){setTimeout(()=>{Vd<=0||(gi.length>0&&q9(),p_(BC))},e)}function q9(){const e=gi.splice(0,U9),t=wv(e);H9(t).then(()=>{Vd=FC}).catch(()=>{gi=[...e,...gi],Vd--,er.info(`Tries left: ${Vd}.`),p_(BC)})}function wv(e){const t=e.map(s=>({source_extension_json_proto3:s.message,event_time_ms:String(s.eventTime)})),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Rn.getInstance().logSource,log_event:t};return JSON.stringify(n)}function H9(e){const t=Rn.getInstance().getFlTransportFullUrl();return B9.encode(e).length<=z9&&navigator.sendBeacon&&navigator.sendBeacon(t,e)?Promise.resolve():fetch(t,{method:"POST",body:e})}function G9(e){if(!e.eventTime||!e.message)throw yn.create("invalid cc log");gi=[...gi,e]}function $9(e){return(...t)=>{const n=e(...t);G9({message:n,eventTime:Date.now()})}}function K9(){const e=Rn.getInstance().getFlTransportFullUrl();for(;gi.length>0;){const t=gi.splice(-Rn.getInstance().logMaxFlushSize),n=wv(t);if(!(navigator.sendBeacon&&navigator.sendBeacon(e,n))){gi=[...gi,...t];break}}if(gi.length>0){const t=wv(gi);fetch(e,{method:"POST",body:t}).catch(()=>{er.info("Failed flushing queued events.")})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc;function qC(e,t){Fc||(Fc={send:$9(X9),flush:K9}),Fc.send(e,t)}function vd(e){const t=Rn.getInstance();!t.instrumentationEnabled&&e.isAuto||!t.dataCollectionEnabled&&!e.isAuto||Xe.getInstance().requiredApisAvailable()&&(P9()?py(e):zC(e.performanceController).then(()=>py(e),()=>py(e)))}function Q9(){Fc&&Fc.flush()}function py(e){if(!d_())return;const t=Rn.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||qC(e,1)}function Y9(e){const t=Rn.getInstance();if(!t.instrumentationEnabled)return;const n=e.url,s=t.logEndPointUrl.split("?")[0],a=t.flTransportEndpointUrl.split("?")[0];n===s||n===a||!t.loggingEnabled||!t.logNetworkAfterSampling||qC(e,0)}function X9(e,t){return t===0?Z9(e):W9(e)}function Z9(e){const t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:HC(e.performanceController.app),network_request_metric:t};return JSON.stringify(n)}function W9(e){const t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};Object.keys(e.counters).length!==0&&(t.counters=e.counters);const n=e.getAttributes();Object.keys(n).length!==0&&(t.custom_attributes=n);const s={application_info:HC(e.performanceController.app),trace_metric:t};return JSON.stringify(s)}function HC(e){return{google_app_id:UC(e),app_instance_id:d_(),web_app_info:{sdk_version:xC,page_url:Xe.getInstance().getUrl(),service_worker_status:T9(),visibility_state:E9(),effective_connection_type:b9()},application_process_state:0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(e,t){const n=t;if(!n||n.responseStart===void 0)return;const s=Xe.getInstance().getTimeOrigin(),a=Math.floor((n.startTime+s)*1e3),l=n.responseStart?Math.floor((n.responseStart-n.startTime)*1e3):void 0,c=Math.floor((n.responseEnd-n.startTime)*1e3),h=n.name&&n.name.split("?")[0],d={performanceController:e,url:h,responsePayloadBytes:n.transferSize,startTimeUs:a,timeToResponseInitiatedUs:l,timeToResponseCompletedUs:c};Y9(d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=100,tU="_",eU=[CC,IC,MC,NC,VC,DC];function nU(e,t){return e.length===0||e.length>J9?!1:t&&t.startsWith(RC)&&eU.indexOf(e)>-1||!e.startsWith(tU)}function iU(e){const t=Math.floor(e);return t<e&&er.info(`Metric value should be an Integer, setting the value as : ${t}.`),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t,n,s=!1,a){this.performanceController=t,this.name=n,this.isAuto=s,this.state=1,this.customAttributes={},this.counters={},this.api=Xe.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=`${o9}-${this.randomId}-${this.name}`,this.traceStopMark=`${l9}-${this.randomId}-${this.name}`,this.traceMeasure=a||`${Sv}-${this.randomId}-${this.name}`,a&&this.calculateTraceMetrics())}start(){if(this.state!==1)throw yn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(this.state!==2)throw yn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),vd(this)}record(t,n,s){if(t<=0)throw yn.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw yn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(t*1e3),s&&s.attributes&&(this.customAttributes={...s.attributes}),s&&s.metrics)for(const a of Object.keys(s.metrics))isNaN(Number(s.metrics[a]))||(this.counters[a]=Math.floor(Number(s.metrics[a])));vd(this)}incrementMetric(t,n=1){this.counters[t]===void 0?this.putMetric(t,n):this.putMetric(t,this.counters[t]+n)}putMetric(t,n){if(nU(t,this.name))this.counters[t]=iU(n??0);else throw yn.create("invalid custom metric name",{customMetricName:t})}getMetric(t){return this.counters[t]||0}putAttribute(t,n){const s=S9(t),a=A9(n);if(s&&a){this.customAttributes[t]=n;return}if(!s)throw yn.create("invalid attribute name",{attributeName:t});if(!a)throw yn.create("invalid attribute value",{attributeValue:n})}getAttribute(t){return this.customAttributes[t]}removeAttribute(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]}getAttributes(){return{...this.customAttributes}}setStartTime(t){this.startTimeUs=t}setDuration(t){this.durationUs=t}calculateTraceMetrics(){const t=this.api.getEntriesByName(this.traceMeasure),n=t&&t[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))}static createOobTrace(t,n,s,a,l){const c=Xe.getInstance().getUrl();if(!c)return;const h=new ah(t,RC+c,!0),d=Math.floor(Xe.getInstance().getTimeOrigin()*1e3);h.setStartTime(d),n&&n[0]&&(h.setDuration(Math.floor(n[0].duration*1e3)),h.putMetric("domInteractive",Math.floor(n[0].domInteractive*1e3)),h.putMetric("domContentLoadedEventEnd",Math.floor(n[0].domContentLoadedEventEnd*1e3)),h.putMetric("loadEventEnd",Math.floor(n[0].loadEventEnd*1e3)));const p="first-paint",y="first-contentful-paint";if(s){const v=s.find(A=>A.name===p);v&&v.startTime&&h.putMetric(CC,Math.floor(v.startTime*1e3));const T=s.find(A=>A.name===y);T&&T.startTime&&h.putMetric(IC,Math.floor(T.startTime*1e3)),l&&h.putMetric(MC,Math.floor(l*1e3))}this.addWebVitalMetric(h,NC,u9,a.lcp),this.addWebVitalMetric(h,VC,h9,a.cls),this.addWebVitalMetric(h,DC,c9,a.inp),vd(h),Q9()}static addWebVitalMetric(t,n,s,a){a&&(t.putMetric(n,Math.floor(a.value*1e3)),a.elementAttribution&&(a.elementAttribution.length>Av?t.putAttribute(s,a.elementAttribution.substring(0,Av)):t.putAttribute(s,a.elementAttribution)))}static createUserTimingTrace(t,n){const s=new ah(t,n,!1,n);vd(s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od={},jA=!1,GC;function UA(e){d_()&&(setTimeout(()=>rU(e),0),setTimeout(()=>sU(e),0),setTimeout(()=>aU(e),0))}function sU(e){const t=Xe.getInstance(),n=t.getEntriesByType("resource");for(const s of n)LA(e,s);t.setupObserver("resource",s=>LA(e,s))}function rU(e){const t=Xe.getInstance();"onpagehide"in window?t.document.addEventListener("pagehide",()=>gy(e)):t.document.addEventListener("unload",()=>gy(e)),t.document.addEventListener("visibilitychange",()=>{t.document.visibilityState==="hidden"&&gy(e)}),t.onFirstInputDelay&&t.onFirstInputDelay(n=>{GC=n}),t.onLCP(n=>{var s;Od.lcp={value:n.value,elementAttribution:(s=n.attribution)==null?void 0:s.element}}),t.onCLS(n=>{var s;Od.cls={value:n.value,elementAttribution:(s=n.attribution)==null?void 0:s.largestShiftTarget}}),t.onINP(n=>{var s;Od.inp={value:n.value,elementAttribution:(s=n.attribution)==null?void 0:s.interactionTarget}})}function aU(e){const t=Xe.getInstance(),n=t.getEntriesByType("measure");for(const s of n)zA(e,s);t.setupObserver("measure",s=>zA(e,s))}function zA(e,t){const n=t.name;n.substring(0,Sv.length)!==Sv&&ah.createUserTimingTrace(e,n)}function gy(e){if(!jA){jA=!0;const t=Xe.getInstance(),n=t.getEntriesByType("navigation"),s=t.getEntriesByType("paint");setTimeout(()=>{ah.createOobTrace(e,n,s,Od,GC)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(t,n){this.app=t,this.installations=n,this.initialized=!1}_init(t){this.initialized||((t==null?void 0:t.dataCollectionEnabled)!==void 0&&(this.dataCollectionEnabled=t.dataCollectionEnabled),(t==null?void 0:t.instrumentationEnabled)!==void 0&&(this.instrumentationEnabled=t.instrumentationEnabled),Xe.getInstance().requiredApisAvailable()?pm().then(n=>{n&&(F9(),zC(this).then(()=>UA(this),()=>UA(this)),this.initialized=!0)}).catch(n=>{er.info(`Environment doesn't support IndexedDB: ${n}`)}):er.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(t){Rn.getInstance().instrumentationEnabled=t}get instrumentationEnabled(){return Rn.getInstance().instrumentationEnabled}set dataCollectionEnabled(t){Rn.getInstance().dataCollectionEnabled=t}get dataCollectionEnabled(){return Rn.getInstance().dataCollectionEnabled}}const lU="[DEFAULT]";function uU(e=bh()){return e=Tn(e),Ao(e,"performance").getImmediate()}const cU=(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();if(n.name!==lU)throw yn.create("FB not default");if(typeof window>"u")throw yn.create("no window");m9(window);const a=new oU(n,s);return a._init(t),a};function hU(){As(new Fi("performance",cU,"PUBLIC")),Bn(NA,bv),Bn(NA,bv,"esm2020")}hU();var Ka={};const Vc={apiKey:Ka.FIREBASE_API_KEY||"TU_API_KEY",authDomain:Ka.FIREBASE_AUTH_DOMAIN||"tu-app.firebaseapp.com",projectId:Ka.FIREBASE_PROJECT_ID||"tu-proyecto-id",storageBucket:Ka.FIREBASE_STORAGE_BUCKET||"tu-app.appspot.com",messagingSenderId:Ka.FIREBASE_MESSAGING_SENDER_ID||"tu-sender-id",appId:Ka.FIREBASE_APP_ID||"tu-app-id",measurementId:Ka.FIREBASE_MEASUREMENT_ID||"tu-measurement-id"},fU=!Vc.apiKey||Vc.apiKey==="TU_API_KEY"||Vc.apiKey.startsWith("TU_")||Vc.apiKey==="REPLACE_WITH_YOUR_API_KEY";let wc=null,nr=null,_d=null,dU=null,mU=null;if(!fU)try{if(wc=E5().length===0?hR(Vc):bh(),nr=Dk(wc),typeof window<"u"){try{mU=uU(wc)}catch{console.warn("Performance Monitoring no disponible")}_d=bj(wc),_d.settings.minimumFetchIntervalMillis=36e5,_d.defaultConfig={primary_rss_url:"https://anchor.fm/s/10d2ecf30/podcast/rss",maintenance_mode:!1,show_ads:!1},$j(_d).catch(e=>console.error("RemoteConfig Fetch Error:",e)),gj().then(e=>{e&&(dU=mj(wc),console.log("Firebase Analytics & Performance activados."))})}}catch(e){console.error("Error crtico al inicializar Firebase:",e)}const $C="presence",pU=3e4,gU=6e4,yU=(e,t=null)=>{if(!nr)return()=>{};const n=V2(nr,$C,e),s=async()=>{try{await Yk(n,{lastSeen:Zk(),episodeId:t,active:!0},{merge:!0})}catch(l){console.error("Error updating presence:",l)}};s();const a=setInterval(s,pU);return window.addEventListener("beforeunload",()=>{oA(n).catch(()=>{})}),()=>{clearInterval(a),oA(n).catch(()=>{})}},KC=(e,t)=>{if(!nr)return()=>{};const n=new Date(Date.now()-gU),s=F2(D2(nr,$C),iA("episodeId","==",e),iA("lastSeen",">=",ue.fromDate(n)));return Xk(s,a=>{t(a.size)})},xn=({className:e=""})=>S.jsx("div",{className:`animate-pulse bg-surface-hover rounded-2xl ${e}`}),g_=()=>S.jsxs("div",{className:"bg-surface border border-app rounded-2xl p-4 flex gap-4 items-center",children:[S.jsx(xn,{className:"w-20 h-20 flex-shrink-0"}),S.jsxs("div",{className:"flex-1 space-y-3",children:[S.jsxs("div",{className:"flex gap-2",children:[S.jsx(xn,{className:"h-2 w-12"}),S.jsx(xn,{className:"h-2 w-16"})]}),S.jsx(xn,{className:"h-4 w-full"}),S.jsx(xn,{className:"h-3 w-2/3"})]})]}),vU=()=>S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx(xn,{className:"w-12 h-12 rounded-2xl"}),S.jsxs("div",{className:"flex-1 space-y-2",children:[S.jsx(xn,{className:"h-4 w-1/3"}),S.jsx(xn,{className:"h-3 w-1/2"})]})]}),S.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>S.jsx(g_,{},e))})]}),BA=({src:e,alt:t,className:n="",aspectRatio:s="square",...a})=>{const[l,c]=O.useState(!1),[h,d]=O.useState(!1),p=()=>c(!0),y=()=>d(!0);return S.jsxs("div",{className:`relative overflow-hidden bg-surface ${n}`,children:[!l&&!h&&S.jsx("div",{className:"absolute inset-0 z-10",children:S.jsx(xn,{className:"w-full h-full"})}),h?S.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-surface border border-white/5 p-4 text-center",children:S.jsx("span",{className:"text-[10px] text-muted font-bold uppercase tracking-widest",children:"No imagen"})}):S.jsx("img",{src:e,alt:t,onLoad:p,onError:y,className:`w-full h-full object-cover transition-opacity duration-700 ease-in-out ${l?"opacity-100":"opacity-0"}`,...a})]})},y_=O.createContext({});function v_(e){const t=O.useRef(null);return t.current===null&&(t.current=e()),t.current}const __=typeof window<"u",QC=__?O.useLayoutEffect:O.useEffect,Lm=O.createContext(null);function T_(e,t){e.indexOf(t)===-1&&e.push(t)}function E_(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ir=(e,t,n)=>n>t?t:n<e?e:n;let b_=()=>{};const sr={},YC=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function XC(e){return typeof e=="object"&&e!==null}const ZC=e=>/^0[^.\s]+$/u.test(e);function S_(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ti=e=>e,_U=(e,t)=>n=>t(e(n)),Ih=(...e)=>e.reduce(_U),oh=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class A_{constructor(){this.subscriptions=[]}add(t){return T_(this.subscriptions,t),()=>E_(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const bs=e=>e*1e3,_i=e=>e/1e3;function WC(e,t){return t?e*(1e3/t):0}const JC=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,TU=1e-7,EU=12;function bU(e,t,n,s,a){let l,c,h=0;do c=t+(n-t)/2,l=JC(c,s,a)-e,l>0?n=c:t=c;while(Math.abs(l)>TU&&++h<EU);return c}function Mh(e,t,n,s){if(e===t&&n===s)return Ti;const a=l=>bU(l,0,1,e,n);return l=>l===0||l===1?l:JC(a(l),t,s)}const tI=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,eI=e=>t=>1-e(1-t),nI=Mh(.33,1.53,.69,.99),w_=eI(nI),iI=tI(w_),sI=e=>(e*=2)<1?.5*w_(e):.5*(2-Math.pow(2,-10*(e-1))),x_=e=>1-Math.sin(Math.acos(e)),rI=eI(x_),aI=tI(x_),SU=Mh(.42,0,1,1),AU=Mh(0,0,.58,1),oI=Mh(.42,0,.58,1),wU=e=>Array.isArray(e)&&typeof e[0]!="number",lI=e=>Array.isArray(e)&&typeof e[0]=="number",xU={linear:Ti,easeIn:SU,easeInOut:oI,easeOut:AU,circIn:x_,circInOut:aI,circOut:rI,backIn:w_,backInOut:iI,backOut:nI,anticipate:sI},RU=e=>typeof e=="string",FA=e=>{if(lI(e)){b_(e.length===4);const[t,n,s,a]=e;return Mh(t,n,s,a)}else if(RU(e))return xU[e];return e},Td=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function CU(e,t){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(y){c.has(y)&&(p.schedule(y),e()),y(h)}const p={schedule:(y,v=!1,T=!1)=>{const M=T&&a?n:s;return v&&c.add(y),M.has(y)||M.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const IU=40;function uI(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Td.reduce((U,st)=>(U[st]=CU(l),U),{}),{setup:h,read:d,resolveKeyframes:p,preUpdate:y,update:v,preRender:T,render:A,postRender:M}=c,C=()=>{const U=sr.useManualTiming?a.timestamp:performance.now();n=!1,sr.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(U-a.timestamp,IU),1)),a.timestamp=U,a.isProcessing=!0,h.process(a),d.process(a),p.process(a),y.process(a),v.process(a),T.process(a),A.process(a),M.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(C))},D=()=>{n=!0,s=!0,a.isProcessing||e(C)};return{schedule:Td.reduce((U,st)=>{const W=c[st];return U[st]=(ot,I=!1,x=!1)=>(n||D(),W.schedule(ot,I,x)),U},{}),cancel:U=>{for(let st=0;st<Td.length;st++)c[Td[st]].cancel(U)},state:a,steps:c}}const{schedule:pe,cancel:da,state:un,steps:yy}=uI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ti,!0);let Pd;function MU(){Pd=void 0}const zn={now:()=>(Pd===void 0&&zn.set(un.isProcessing||sr.useManualTiming?un.timestamp:performance.now()),Pd),set:e=>{Pd=e,queueMicrotask(MU)}},cI=e=>t=>typeof t=="string"&&t.startsWith(e),hI=cI("--"),NU=cI("var(--"),R_=e=>NU(e)?DU.test(e.split("/*")[0].trim()):!1,DU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,mu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},lh={...mu,transform:e=>ir(0,1,e)},Ed={...mu,default:1},qc=e=>Math.round(e*1e5)/1e5,C_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function VU(e){return e==null}const OU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,I_=(e,t)=>n=>!!(typeof n=="string"&&OU.test(n)&&n.startsWith(e)||t&&!VU(n)&&Object.prototype.hasOwnProperty.call(n,t)),fI=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,h]=s.match(C_);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},PU=e=>ir(0,255,e),vy={...mu,transform:e=>Math.round(PU(e))},eo={test:I_("rgb","red"),parse:fI("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+vy.transform(e)+", "+vy.transform(t)+", "+vy.transform(n)+", "+qc(lh.transform(s))+")"};function kU(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const xv={test:I_("#"),parse:kU,transform:eo.transform},Nh=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),qr=Nh("deg"),Ss=Nh("%"),St=Nh("px"),LU=Nh("vh"),jU=Nh("vw"),qA={...Ss,parse:e=>Ss.parse(e)/100,transform:e=>Ss.transform(e*100)},wl={test:I_("hsl","hue"),parse:fI("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Ss.transform(qc(t))+", "+Ss.transform(qc(n))+", "+qc(lh.transform(s))+")"},ze={test:e=>eo.test(e)||xv.test(e)||wl.test(e),parse:e=>eo.test(e)?eo.parse(e):wl.test(e)?wl.parse(e):xv.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?eo.transform(e):wl.transform(e),getAnimatableNone:e=>{const t=ze.parse(e);return t.alpha=0,ze.transform(t)}},UU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function zU(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(C_))==null?void 0:t.length)||0)+(((n=e.match(UU))==null?void 0:n.length)||0)>0}const dI="number",mI="color",BU="var",FU="var(",HA="${}",qU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uh(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const h=t.replace(qU,d=>(ze.test(d)?(s.color.push(l),a.push(mI),n.push(ze.parse(d))):d.startsWith(FU)?(s.var.push(l),a.push(BU),n.push(d)):(s.number.push(l),a.push(dI),n.push(parseFloat(d))),++l,HA)).split(HA);return{values:n,split:h,indexes:s,types:a}}function pI(e){return uh(e).values}function gI(e){const{split:t,types:n}=uh(e),s=t.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],a[c]!==void 0){const h=n[c];h===dI?l+=qc(a[c]):h===mI?l+=ze.transform(a[c]):l+=a[c]}return l}}const HU=e=>typeof e=="number"?0:ze.test(e)?ze.getAnimatableNone(e):e;function GU(e){const t=pI(e);return gI(e)(t.map(HU))}const ma={test:zU,parse:pI,createTransformer:gI,getAnimatableNone:GU};function _y(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function $U({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const h=n<.5?n*(1+t):n+t-n*t,d=2*n-h;a=_y(d,h,e+1/3),l=_y(d,h,e),c=_y(d,h,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function sm(e,t){return n=>n>0?t:e}const ye=(e,t,n)=>e+(t-e)*n,Ty=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},KU=[xv,eo,wl],QU=e=>KU.find(t=>t.test(e));function GA(e){const t=QU(e);if(!t)return!1;let n=t.parse(e);return t===wl&&(n=$U(n)),n}const $A=(e,t)=>{const n=GA(e),s=GA(t);if(!n||!s)return sm(e,t);const a={...n};return l=>(a.red=Ty(n.red,s.red,l),a.green=Ty(n.green,s.green,l),a.blue=Ty(n.blue,s.blue,l),a.alpha=ye(n.alpha,s.alpha,l),eo.transform(a))},Rv=new Set(["none","hidden"]);function YU(e,t){return Rv.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function XU(e,t){return n=>ye(e,t,n)}function M_(e){return typeof e=="number"?XU:typeof e=="string"?R_(e)?sm:ze.test(e)?$A:JU:Array.isArray(e)?yI:typeof e=="object"?ze.test(e)?$A:ZU:sm}function yI(e,t){const n=[...e],s=n.length,a=e.map((l,c)=>M_(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function ZU(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=M_(e[a])(e[a],t[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function WU(e,t){const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][s[l]],h=e.values[c]??0;n[a]=h,s[l]++}return n}const JU=(e,t)=>{const n=ma.createTransformer(t),s=uh(e),a=uh(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Rv.has(e)&&!a.values.length||Rv.has(t)&&!s.values.length?YU(e,t):Ih(yI(WU(s,a),a.values),n):sm(e,t)};function vI(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ye(e,t,n):M_(e)(e,t)}const tz=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>pe.update(t,n),stop:()=>da(t),now:()=>un.isProcessing?un.timestamp:zn.now()}},_I=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)s+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},rm=2e4;function N_(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<rm;)t+=n,s=e.next(t);return t>=rm?1/0:t}function ez(e,t=100,n){const s=n({...e,keyframes:[0,t]}),a=Math.min(N_(s),rm);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:_i(a)}}const nz=5;function TI(e,t,n){const s=Math.max(t-nz,0);return WC(n-e(s),t-s)}const Se={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ey=.001;function iz({duration:e=Se.duration,bounce:t=Se.bounce,velocity:n=Se.velocity,mass:s=Se.mass}){let a,l,c=1-t;c=ir(Se.minDamping,Se.maxDamping,c),e=ir(Se.minDuration,Se.maxDuration,_i(e)),c<1?(a=p=>{const y=p*c,v=y*e,T=y-n,A=Cv(p,c),M=Math.exp(-v);return Ey-T/A*M},l=p=>{const v=p*c*e,T=v*n+n,A=Math.pow(c,2)*Math.pow(p,2)*e,M=Math.exp(-v),C=Cv(Math.pow(p,2),c);return(-a(p)+Ey>0?-1:1)*((T-A)*M)/C}):(a=p=>{const y=Math.exp(-p*e),v=(p-n)*e+1;return-Ey+y*v},l=p=>{const y=Math.exp(-p*e),v=(n-p)*(e*e);return y*v});const h=5/e,d=rz(a,l,h);if(e=bs(e),isNaN(d))return{stiffness:Se.stiffness,damping:Se.damping,duration:e};{const p=Math.pow(d,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:e}}}const sz=12;function rz(e,t,n){let s=n;for(let a=1;a<sz;a++)s=s-e(s)/t(s);return s}function Cv(e,t){return e*Math.sqrt(1-t*t)}const az=["duration","bounce"],oz=["stiffness","damping","mass"];function KA(e,t){return t.some(n=>e[n]!==void 0)}function lz(e){let t={velocity:Se.velocity,stiffness:Se.stiffness,damping:Se.damping,mass:Se.mass,isResolvedFromDuration:!1,...e};if(!KA(e,oz)&&KA(e,az))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*ir(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Se.mass,stiffness:a,damping:l}}else{const n=iz(e);t={...t,...n,mass:Se.mass},t.isResolvedFromDuration=!0}return t}function am(e=Se.visualDuration,t=Se.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:p,mass:y,duration:v,velocity:T,isResolvedFromDuration:A}=lz({...n,velocity:-_i(n.velocity||0)}),M=T||0,C=p/(2*Math.sqrt(d*y)),D=c-l,j=_i(Math.sqrt(d/y)),q=Math.abs(D)<5;s||(s=q?Se.restSpeed.granular:Se.restSpeed.default),a||(a=q?Se.restDelta.granular:Se.restDelta.default);let U;if(C<1){const W=Cv(j,C);U=ot=>{const I=Math.exp(-C*j*ot);return c-I*((M+C*j*D)/W*Math.sin(W*ot)+D*Math.cos(W*ot))}}else if(C===1)U=W=>c-Math.exp(-j*W)*(D+(M+j*D)*W);else{const W=j*Math.sqrt(C*C-1);U=ot=>{const I=Math.exp(-C*j*ot),x=Math.min(W*ot,300);return c-I*((M+C*j*D)*Math.sinh(x)+W*D*Math.cosh(x))/W}}const st={calculatedDuration:A&&v||null,next:W=>{const ot=U(W);if(A)h.done=W>=v;else{let I=W===0?M:0;C<1&&(I=W===0?bs(M):TI(U,W,ot));const x=Math.abs(I)<=s,N=Math.abs(c-ot)<=a;h.done=x&&N}return h.value=h.done?c:ot,h},toString:()=>{const W=Math.min(N_(st),rm),ot=_I(I=>st.next(W*I).value,W,30);return W+"ms "+ot},toTransition:()=>{}};return st}am.applyToOptions=e=>{const t=ez(e,100,am);return e.ease=t.ease,e.duration=bs(t.duration),e.type="keyframes",e};function Iv({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:d,restDelta:p=.5,restSpeed:y}){const v=e[0],T={done:!1,value:v},A=x=>h!==void 0&&x<h||d!==void 0&&x>d,M=x=>h===void 0?d:d===void 0||Math.abs(h-x)<Math.abs(d-x)?h:d;let C=n*t;const D=v+C,j=c===void 0?D:c(D);j!==D&&(C=j-v);const q=x=>-C*Math.exp(-x/s),U=x=>j+q(x),st=x=>{const N=q(x),k=U(x);T.done=Math.abs(N)<=p,T.value=T.done?j:k};let W,ot;const I=x=>{A(T.value)&&(W=x,ot=am({keyframes:[T.value,M(T.value)],velocity:TI(U,x,T.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return I(0),{calculatedDuration:null,next:x=>{let N=!1;return!ot&&W===void 0&&(N=!0,st(x),I(x)),W!==void 0&&x>=W?ot.next(x-W):(!N&&st(x),T)}}}function uz(e,t,n){const s=[],a=n||sr.mix||vI,l=e.length-1;for(let c=0;c<l;c++){let h=a(e[c],e[c+1]);if(t){const d=Array.isArray(t)?t[c]||Ti:t;h=Ih(d,h)}s.push(h)}return s}function cz(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const l=e.length;if(b_(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const h=uz(t,s,a),d=h.length,p=y=>{if(c&&y<e[0])return t[0];let v=0;if(d>1)for(;v<e.length-2&&!(y<e[v+1]);v++);const T=oh(e[v],e[v+1],y);return h[v](T)};return n?y=>p(ir(e[0],e[l-1],y)):p}function hz(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=oh(0,t,s);e.push(ye(n,1,a))}}function fz(e){const t=[0];return hz(t,e.length-1),t}function dz(e,t){return e.map(n=>n*t)}function mz(e,t){return e.map(()=>t||oI).splice(0,e.length-1)}function Hc({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=wU(s)?s.map(FA):FA(s),l={done:!1,value:t[0]},c=dz(n&&n.length===t.length?n:fz(t),e),h=cz(c,t,{ease:Array.isArray(a)?a:mz(t,a)});return{calculatedDuration:e,next:d=>(l.value=h(d),l.done=d>=e,l)}}const pz=e=>e!==null;function D_(e,{repeat:t,repeatType:n="loop"},s,a=1){const l=e.filter(pz),h=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!h||s===void 0?l[h]:s}const gz={decay:Iv,inertia:Iv,tween:Hc,keyframes:Hc,spring:am};function EI(e){typeof e.type=="string"&&(e.type=gz[e.type])}class V_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const yz=e=>e/100;class O_ extends V_{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:n}=this.options;n&&n.updatedAt!==zn.now()&&this.tick(zn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;EI(t);const{type:n=Hc,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:h}=t;const d=n||Hc;d!==Hc&&typeof h[0]!="number"&&(this.mixKeyframes=Ih(yz,vI(h[0],h[1])),h=[0,100]);const p=d({...t,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...h].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=N_(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:T,repeatDelay:A,type:M,onUpdate:C,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const j=this.currentTime-p*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?j<0:j>a;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let U=this.currentTime,st=s;if(v){const x=Math.min(this.currentTime,a)/h;let N=Math.floor(x),k=x%1;!k&&x>=1&&(k=1),k===1&&N--,N=Math.min(N,v+1),!!(N%2)&&(T==="reverse"?(k=1-k,A&&(k-=A/h)):T==="mirror"&&(st=c)),U=ir(0,1,k)*h}const W=q?{done:!1,value:y[0]}:st.next(U);l&&(W.value=l(W.value));let{done:ot}=W;!q&&d!==null&&(ot=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ot);return I&&M!==Iv&&(W.value=D_(y,this.options,D,this.speed)),C&&C(W.value),I&&this.finish(),W}then(t,n){return this.finished.then(t,n)}get duration(){return _i(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+_i(t)}get time(){return _i(this.currentTime)}set time(t){var n;t=bs(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(zn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=_i(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:t=tz,startTime:n}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(zn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function vz(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const no=e=>e*180/Math.PI,Mv=e=>{const t=no(Math.atan2(e[1],e[0]));return Nv(t)},_z={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Mv,rotateZ:Mv,skewX:e=>no(Math.atan(e[1])),skewY:e=>no(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Nv=e=>(e=e%360,e<0&&(e+=360),e),QA=Mv,YA=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),XA=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Tz={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:YA,scaleY:XA,scale:e=>(YA(e)+XA(e))/2,rotateX:e=>Nv(no(Math.atan2(e[6],e[5]))),rotateY:e=>Nv(no(Math.atan2(-e[2],e[0]))),rotateZ:QA,rotate:QA,skewX:e=>no(Math.atan(e[4])),skewY:e=>no(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Dv(e){return e.includes("scale")?1:0}function Vv(e,t){if(!e||e==="none")return Dv(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=Tz,a=n;else{const h=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=_z,a=h}if(!a)return Dv(t);const l=s[t],c=a[1].split(",").map(bz);return typeof l=="function"?l(c):c[l]}const Ez=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Vv(n,t)};function bz(e){return parseFloat(e.trim())}const pu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gu=new Set(pu),ZA=e=>e===mu||e===St,Sz=new Set(["x","y","z"]),Az=pu.filter(e=>!Sz.has(e));function wz(e){const t=[];return Az.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const po={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Vv(t,"x"),y:(e,{transform:t})=>Vv(t,"y")};po.translateX=po.x;po.translateY=po.y;const go=new Set;let Ov=!1,Pv=!1,kv=!1;function bI(){if(Pv){const e=Array.from(go).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=wz(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{var h;(h=s.getValue(l))==null||h.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Pv=!1,Ov=!1,go.forEach(e=>e.complete(kv)),go.clear()}function SI(){go.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Pv=!0)})}function xz(){kv=!0,SI(),bI(),kv=!1}class P_{constructor(t,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(go.add(this),Ov||(Ov=!0,pe.read(SI),pe.resolveKeyframes(bI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;if(t[0]===null){const l=a==null?void 0:a.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const h=s.readValue(n,c);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}vz(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),go.delete(this)}cancel(){this.state==="scheduled"&&(go.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Rz=e=>e.startsWith("--");function Cz(e,t,n){Rz(t)?e.style.setProperty(t,n):e.style[t]=n}const Iz=S_(()=>window.ScrollTimeline!==void 0),Mz={};function Nz(e,t){const n=S_(e);return()=>Mz[t]??n()}const AI=Nz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Oc=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,WA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Oc([0,.65,.55,1]),circOut:Oc([.55,0,1,.45]),backIn:Oc([.31,.01,.66,-.59]),backOut:Oc([.33,1.53,.69,.99])};function wI(e,t){if(e)return typeof e=="function"?AI()?_I(e,t):"ease-out":lI(e)?Oc(e):Array.isArray(e)?e.map(n=>wI(n,t)||WA.easeOut):WA[e]}function Dz(e,t,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:d}={},p=void 0){const y={[t]:n};d&&(y.offset=d);const v=wI(h,a);Array.isArray(v)&&(y.easing=v);const T={delay:s,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(T.pseudoElement=p),e.animate(y,T)}function xI(e){return typeof e=="function"&&"applyToOptions"in e}function Vz({type:e,...t}){return xI(e)&&AI()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Oz extends V_{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:d}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,b_(typeof t.type!="string");const p=Vz(t);this.animation=Dz(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=D_(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):Cz(n,s,y),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return _i(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+_i(t)}get time(){return _i(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=bs(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Iz()?(this.animation.timeline=t,Ti):n(this)}}const RI={anticipate:sI,backInOut:iI,circInOut:aI};function Pz(e){return e in RI}function kz(e){typeof e.ease=="string"&&Pz(e.ease)&&(e.ease=RI[e.ease])}const JA=10;class Lz extends Oz{constructor(t){kz(t),EI(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const h=new O_({...c,autoplay:!1}),d=bs(this.finishedTime??this.time);n.setWithVelocity(h.sample(d-JA).value,h.sample(d).value,JA),h.stop()}}const tw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ma.test(e)||e==="0")&&!e.startsWith("url("));function jz(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Uz(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=tw(a,t),h=tw(l,t);return!c||!h?!1:jz(e)||(n==="spring"||xI(n))&&s}function Lv(e){e.duration=0,e.type="keyframes"}const zz=new Set(["opacity","clipPath","filter","transform"]),Bz=S_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Fz(e){var y;const{motionValue:t,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=e;if(!(((y=t==null?void 0:t.owner)==null?void 0:y.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=t.owner.getProps();return Bz()&&n&&zz.has(n)&&(n!=="transform"||!p)&&!d&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const qz=40;class Hz extends V_{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:d,motionValue:p,element:y,...v}){var M;super(),this.stop=()=>{var C,D;this._animation&&(this._animation.stop(),(C=this.stopTimeline)==null||C.call(this)),(D=this.keyframeResolver)==null||D.cancel()},this.createdAt=zn.now();const T={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:d,motionValue:p,element:y,...v},A=(y==null?void 0:y.KeyframeResolver)||P_;this.keyframeResolver=new A(h,(C,D,j)=>this.onKeyframesResolved(C,D,T,!j),d,p,y),(M=this.keyframeResolver)==null||M.scheduleResolve()}onKeyframesResolved(t,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:d,isHandoff:p,onUpdate:y}=s;this.resolvedAt=zn.now(),Uz(t,l,c,h)||((sr.instantAnimations||!d)&&(y==null||y(D_(t,s,n))),t[0]=t[t.length-1],Lv(s),s.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>qz?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},A=!p&&Fz(T)?new Lz({...T,element:T.motionValue.owner.current}):new O_(T);A.finished.then(()=>this.notifyFinished()).catch(Ti),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),xz()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Gz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $z(e){const t=Gz.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function CI(e,t,n=1){const[s,a]=$z(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return YC(c)?parseFloat(c):c}return R_(a)?CI(a,t,n+1):a}function k_(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const II=new Set(["width","height","top","left","right","bottom",...pu]),Kz={test:e=>e==="auto",parse:e=>e},MI=e=>t=>t.test(e),NI=[mu,St,Ss,qr,jU,LU,Kz],ew=e=>NI.find(MI(e));function Qz(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ZC(e):!0}const Yz=new Set(["brightness","contrast","saturate","opacity"]);function Xz(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(C_)||[];if(!s)return e;const a=n.replace(s,"");let l=Yz.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+a+")"}const Zz=/\b([a-z-]*)\(.*?\)/gu,jv={...ma,getAnimatableNone:e=>{const t=e.match(Zz);return t?t.map(Xz).join(" "):e}},nw={...mu,transform:Math.round},Wz={rotate:qr,rotateX:qr,rotateY:qr,rotateZ:qr,scale:Ed,scaleX:Ed,scaleY:Ed,scaleZ:Ed,skew:qr,skewX:qr,skewY:qr,distance:St,translateX:St,translateY:St,translateZ:St,x:St,y:St,z:St,perspective:St,transformPerspective:St,opacity:lh,originX:qA,originY:qA,originZ:St},L_={borderWidth:St,borderTopWidth:St,borderRightWidth:St,borderBottomWidth:St,borderLeftWidth:St,borderRadius:St,radius:St,borderTopLeftRadius:St,borderTopRightRadius:St,borderBottomRightRadius:St,borderBottomLeftRadius:St,width:St,maxWidth:St,height:St,maxHeight:St,top:St,right:St,bottom:St,left:St,padding:St,paddingTop:St,paddingRight:St,paddingBottom:St,paddingLeft:St,margin:St,marginTop:St,marginRight:St,marginBottom:St,marginLeft:St,backgroundPositionX:St,backgroundPositionY:St,...Wz,zIndex:nw,fillOpacity:lh,strokeOpacity:lh,numOctaves:nw},Jz={...L_,color:ze,backgroundColor:ze,outlineColor:ze,fill:ze,stroke:ze,borderColor:ze,borderTopColor:ze,borderRightColor:ze,borderBottomColor:ze,borderLeftColor:ze,filter:jv,WebkitFilter:jv},DI=e=>Jz[e];function VI(e,t){let n=DI(e);return n!==jv&&(n=ma),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const tB=new Set(["auto","none","0"]);function eB(e,t,n){let s=0,a;for(;s<e.length&&!a;){const l=e[s];typeof l=="string"&&!tB.has(l)&&uh(l).values.length&&(a=e[s]),s++}if(a&&n)for(const l of t)e[l]=VI(n,a)}class nB extends P_{constructor(t,n,s,a,l){super(t,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let p=t[d];if(typeof p=="string"&&(p=p.trim(),R_(p))){const y=CI(p,n.current);y!==void 0&&(t[d]=y),d===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!II.has(s)||t.length!==2)return;const[a,l]=t,c=ew(a),h=ew(l);if(c!==h)if(ZA(c)&&ZA(h))for(let d=0;d<t.length;d++){const p=t[d];typeof p=="string"&&(t[d]=parseFloat(p))}else po[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||Qz(t[a]))&&s.push(a);s.length&&eB(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=po[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){var h;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=po[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([d,p])=>{t.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function iB(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=(n==null?void 0:n[e])??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const OI=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function PI(e){return XC(e)&&"offsetHeight"in e}const iw=30,sB=e=>!isNaN(parseFloat(e));class rB{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var l;const a=zn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=zn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=sB(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new A_);const s=this.events[t].add(n);return t==="change"?()=>{s(),pe.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=zn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>iw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,iw);return WC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function eu(e,t){return new rB(e,t)}const{schedule:j_}=uI(queueMicrotask,!1),ki={x:!1,y:!1};function kI(){return ki.x||ki.y}function aB(e){return e==="x"||e==="y"?ki[e]?null:(ki[e]=!0,()=>{ki[e]=!1}):ki.x||ki.y?null:(ki.x=ki.y=!0,()=>{ki.x=ki.y=!1})}function LI(e,t){const n=iB(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function sw(e){return!(e.pointerType==="touch"||kI())}function oB(e,t,n={}){const[s,a,l]=LI(e,n),c=h=>{if(!sw(h))return;const{target:d}=h,p=t(d,h);if(typeof p!="function"||!d)return;const y=v=>{sw(v)&&(p(v),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,a)};return s.forEach(h=>{h.addEventListener("pointerenter",c,a)}),l}const jI=(e,t)=>t?e===t?!0:jI(e,t.parentElement):!1,U_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,lB=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function uB(e){return lB.has(e.tagName)||e.tabIndex!==-1}const kd=new WeakSet;function rw(e){return t=>{t.key==="Enter"&&e(t)}}function by(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const cB=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=rw(()=>{if(kd.has(n))return;by(n,"down");const a=rw(()=>{by(n,"up")}),l=()=>by(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function aw(e){return U_(e)&&!kI()}function hB(e,t,n={}){const[s,a,l]=LI(e,n),c=h=>{const d=h.currentTarget;if(!aw(h))return;kd.add(d);const p=t(d,h),y=(A,M)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",T),kd.has(d)&&kd.delete(d),aw(A)&&typeof p=="function"&&p(A,{success:M})},v=A=>{y(A,d===window||d===document||n.useGlobalTarget||jI(d,A.target))},T=A=>{y(A,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",T,a)};return s.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),PI(h)&&(h.addEventListener("focus",p=>cB(p,a)),!uB(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function UI(e){return XC(e)&&"ownerSVGElement"in e}function fB(e){return UI(e)&&e.tagName==="svg"}const _n=e=>!!(e&&e.getVelocity),dB=[...NI,ze,ma],mB=e=>dB.find(MI(e)),z_=O.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function ow(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function pB(...e){return t=>{let n=!1;const s=e.map(a=>{const l=ow(a,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():ow(e[a],null)}}}}function gB(...e){return O.useCallback(pB(...e),e)}class yB extends O.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=PI(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function vB({children:e,isPresent:t,anchorX:n,root:s}){const a=O.useId(),l=O.useRef(null),c=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=O.useContext(z_),d=gB(l,e==null?void 0:e.ref);return O.useInsertionEffect(()=>{const{width:p,height:y,top:v,left:T,right:A}=c.current;if(t||!l.current||!p||!y)return;const M=n==="left"?`left: ${T}`:`right: ${A}`;l.current.dataset.motionPopId=a;const C=document.createElement("style");h&&(C.nonce=h);const D=s??document.head;return D.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${M}px !important;
            top: ${v}px !important;
          }
        `),()=>{D.contains(C)&&D.removeChild(C)}},[t]),S.jsx(yB,{isPresent:t,childRef:l,sizeRef:c,children:O.cloneElement(e,{ref:d})})}const _B=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h,root:d})=>{const p=v_(TB),y=O.useId();let v=!0,T=O.useMemo(()=>(v=!1,{id:y,initial:t,isPresent:n,custom:a,onExitComplete:A=>{p.set(A,!0);for(const M of p.values())if(!M)return;s&&s()},register:A=>(p.set(A,!1),()=>p.delete(A))}),[n,p,s]);return l&&v&&(T={...T}),O.useMemo(()=>{p.forEach((A,M)=>p.set(M,!1))},[n]),O.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),c==="popLayout"&&(e=S.jsx(vB,{isPresent:n,anchorX:h,root:d,children:e})),S.jsx(Lm.Provider,{value:T,children:e})};function TB(){return new Map}function zI(e=!0){const t=O.useContext(Lm);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,l=O.useId();O.useEffect(()=>{if(e)return a(l)},[e]);const c=O.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const bd=e=>e.key||"";function lw(e){const t=[];return O.Children.forEach(e,n=>{O.isValidElement(n)&&t.push(n)}),t}const uw=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",root:d})=>{const[p,y]=zI(c),v=O.useMemo(()=>lw(e),[e]),T=c&&!p?[]:v.map(bd),A=O.useRef(!0),M=O.useRef(v),C=v_(()=>new Map),[D,j]=O.useState(v),[q,U]=O.useState(v);QC(()=>{A.current=!1,M.current=v;for(let ot=0;ot<q.length;ot++){const I=bd(q[ot]);T.includes(I)?C.delete(I):C.get(I)!==!0&&C.set(I,!1)}},[q,T.length,T.join("-")]);const st=[];if(v!==D){let ot=[...v];for(let I=0;I<q.length;I++){const x=q[I],N=bd(x);T.includes(N)||(ot.splice(I,0,x),st.push(x))}return l==="wait"&&st.length&&(ot=st),U(lw(ot)),j(v),null}const{forceRender:W}=O.useContext(y_);return S.jsx(S.Fragment,{children:q.map(ot=>{const I=bd(ot),x=c&&!p?!1:v===q||T.includes(I),N=()=>{if(C.has(I))C.set(I,!0);else return;let k=!0;C.forEach(P=>{P||(k=!1)}),k&&(W==null||W(),U(M.current),c&&(y==null||y()),s&&s())};return S.jsx(_B,{isPresent:x,initial:!A.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:x?void 0:N,anchorX:h,children:ot},I)})})},BI=O.createContext({strict:!1}),cw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nu={};for(const e in cw)nu[e]={isEnabled:t=>cw[e].some(n=>!!t[n])};function EB(e){for(const t in e)nu[t]={...nu[t],...e[t]}}const bB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function om(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||bB.has(e)}let FI=e=>!om(e);function SB(e){typeof e=="function"&&(FI=t=>t.startsWith("on")?!om(t):e(t))}try{SB(require("@emotion/is-prop-valid").default)}catch{}function AB(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(FI(a)||n===!0&&om(a)||!t&&!om(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const jm=O.createContext({});function Um(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ch(e){return typeof e=="string"||Array.isArray(e)}const B_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],F_=["initial",...B_];function zm(e){return Um(e.animate)||F_.some(t=>ch(e[t]))}function qI(e){return!!(zm(e)||e.variants)}function wB(e,t){if(zm(e)){const{initial:n,animate:s}=e;return{initial:n===!1||ch(n)?n:void 0,animate:ch(s)?s:void 0}}return e.inherit!==!1?t:{}}function xB(e){const{initial:t,animate:n}=wB(e,O.useContext(jm));return O.useMemo(()=>({initial:t,animate:n}),[hw(t),hw(n)])}function hw(e){return Array.isArray(e)?e.join(" "):e}function fw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const xc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(St.test(e))e=parseFloat(e);else return e;const n=fw(e,t.target.x),s=fw(e,t.target.y);return`${n}% ${s}%`}},RB={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=ma.parse(e);if(a.length>5)return s;const l=ma.createTransformer(e),c=typeof a[0]!="number"?1:0,h=n.x.scale*t.x,d=n.y.scale*t.y;a[0+c]/=h,a[1+c]/=d;const p=ye(h,d,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}},Uv={borderRadius:{...xc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xc,borderTopRightRadius:xc,borderBottomLeftRadius:xc,borderBottomRightRadius:xc,boxShadow:RB};function HI(e,{layout:t,layoutId:n}){return gu.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Uv[e]||e==="opacity")}const CB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},IB=pu.length;function MB(e,t,n){let s="",a=!0;for(let l=0;l<IB;l++){const c=pu[l],h=e[c];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(c.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const p=OI(h,L_[c]);if(!d){a=!1;const y=CB[c]||c;s+=`${y}(${p}) `}n&&(t[c]=p)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function q_(e,t,n){const{style:s,vars:a,transformOrigin:l}=e;let c=!1,h=!1;for(const d in t){const p=t[d];if(gu.has(d)){c=!0;continue}else if(hI(d)){a[d]=p;continue}else{const y=OI(p,L_[d]);d.startsWith("origin")?(h=!0,l[d]=y):s[d]=y}}if(t.transform||(c||n?s.transform=MB(t,e.transform,n):s.transform&&(s.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${d} ${p} ${y}`}}const H_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function GI(e,t,n){for(const s in t)!_n(t[s])&&!HI(s,n)&&(e[s]=t[s])}function NB({transformTemplate:e},t){return O.useMemo(()=>{const n=H_();return q_(n,t,e),Object.assign({},n.vars,n.style)},[t])}function DB(e,t){const n=e.style||{},s={};return GI(s,n,e),Object.assign(s,NB(e,t)),s}function VB(e,t){const n={},s=DB(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const OB={offset:"stroke-dashoffset",array:"stroke-dasharray"},PB={offset:"strokeDashoffset",array:"strokeDasharray"};function kB(e,t,n=1,s=0,a=!0){e.pathLength=1;const l=a?OB:PB;e[l.offset]=St.transform(-s);const c=St.transform(t),h=St.transform(n);e[l.array]=`${c} ${h}`}function $I(e,{attrX:t,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},d,p,y){if(q_(e,h,p),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:T}=e;v.transform&&(T.transform=v.transform,delete v.transform),(T.transform||v.transformOrigin)&&(T.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),T.transform&&(T.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),a!==void 0&&kB(v,a,l,c,!1)}const KI=()=>({...H_(),attrs:{}}),QI=e=>typeof e=="string"&&e.toLowerCase()==="svg";function LB(e,t,n,s){const a=O.useMemo(()=>{const l=KI();return $I(l,t,QI(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};GI(l,e.style,e),a.style={...l,...a.style}}return a}const jB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function G_(e){return typeof e!="string"||e.includes("-")?!1:!!(jB.indexOf(e)>-1||/[A-Z]/u.test(e))}function UB(e,t,n,{latestValues:s},a,l=!1){const h=(G_(e)?LB:VB)(t,s,a,e),d=AB(t,typeof e=="string",l),p=e!==O.Fragment?{...d,...h,ref:n}:{},{children:y}=t,v=O.useMemo(()=>_n(y)?y.get():y,[y]);return O.createElement(e,{...p,children:v})}function dw(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function $_(e,t,n,s){if(typeof t=="function"){const[a,l]=dw(s);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=dw(s);t=t(n!==void 0?n:e.custom,a,l)}return t}function Ld(e){return _n(e)?e.get():e}function zB({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,a){return{latestValues:BB(n,s,a,e),renderState:t()}}function BB(e,t,n,s){const a={},l=s(e,{});for(const T in l)a[T]=Ld(l[T]);let{initial:c,animate:h}=e;const d=zm(e),p=qI(e);t&&p&&!d&&e.inherit!==!1&&(c===void 0&&(c=t.initial),h===void 0&&(h=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const v=y?h:c;if(v&&typeof v!="boolean"&&!Um(v)){const T=Array.isArray(v)?v:[v];for(let A=0;A<T.length;A++){const M=$_(e,T[A]);if(M){const{transitionEnd:C,transition:D,...j}=M;for(const q in j){let U=j[q];if(Array.isArray(U)){const st=y?U.length-1:0;U=U[st]}U!==null&&(a[q]=U)}for(const q in C)a[q]=C[q]}}}return a}const YI=e=>(t,n)=>{const s=O.useContext(jm),a=O.useContext(Lm),l=()=>zB(e,t,s,a);return n?l():v_(l)};function K_(e,t,n){var l;const{style:s}=e,a={};for(const c in s)(_n(s[c])||t.style&&_n(t.style[c])||HI(c,e)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=s[c]);return a}const FB=YI({scrapeMotionValuesFromProps:K_,createRenderState:H_});function XI(e,t,n){const s=K_(e,t,n);for(const a in e)if(_n(e[a])||_n(t[a])){const l=pu.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=e[a]}return s}const qB=YI({scrapeMotionValuesFromProps:XI,createRenderState:KI}),HB=Symbol.for("motionComponentSymbol");function xl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function GB(e,t,n){return O.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):xl(n)&&(n.current=s))},[t])}const Q_=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$B="framerAppearId",ZI="data-"+Q_($B),WI=O.createContext({});function KB(e,t,n,s,a){var C,D;const{visualElement:l}=O.useContext(jm),c=O.useContext(BI),h=O.useContext(Lm),d=O.useContext(z_).reducedMotion,p=O.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(e,{visualState:t,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const y=p.current,v=O.useContext(WI);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&QB(p.current,n,a,v);const T=O.useRef(!1);O.useInsertionEffect(()=>{y&&T.current&&y.update(n,h)});const A=n[ZI],M=O.useRef(!!A&&!((C=window.MotionHandoffIsComplete)!=null&&C.call(window,A))&&((D=window.MotionHasOptimisedAnimation)==null?void 0:D.call(window,A)));return QC(()=>{y&&(T.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),M.current&&y.animationState&&y.animationState.animateChanges())}),O.useEffect(()=>{y&&(!M.current&&y.animationState&&y.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)==null||j.call(window,A)}),M.current=!1),y.enteringChildren=void 0)}),y}function QB(e,t,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:p,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:JI(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&xl(h),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:d,layoutRoot:p})}function JI(e){if(e)return e.options.allowProjection!==!1?e.projection:JI(e.parent)}function Sy(e,{forwardMotionProps:t=!1}={},n,s){n&&EB(n);const a=G_(e)?qB:FB;function l(h,d){let p;const y={...O.useContext(z_),...h,layoutId:YB(h)},{isStatic:v}=y,T=xB(h),A=a(h,v);if(!v&&__){XB();const M=ZB(y);p=M.MeasureLayout,T.visualElement=KB(e,A,y,s,M.ProjectionNode)}return S.jsxs(jm.Provider,{value:T,children:[p&&T.visualElement?S.jsx(p,{visualElement:T.visualElement,...y}):null,UB(e,h,GB(A,T.visualElement,d),A,v,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=O.forwardRef(l);return c[HB]=e,c}function YB({layoutId:e}){const t=O.useContext(y_).id;return t&&e!==void 0?t+"-"+e:e}function XB(e,t){O.useContext(BI).strict}function ZB(e){const{drag:t,layout:n}=nu;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function WB(e,t){if(typeof Proxy>"u")return Sy;const n=new Map,s=(l,c)=>Sy(l,c,e,t),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Sy(c,void 0,e,t)),n.get(c))})}function tM({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function JB({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function tF(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Ay(e){return e===void 0||e===1}function zv({scale:e,scaleX:t,scaleY:n}){return!Ay(e)||!Ay(t)||!Ay(n)}function Xa(e){return zv(e)||eM(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function eM(e){return mw(e.x)||mw(e.y)}function mw(e){return e&&e!=="0%"}function lm(e,t,n){const s=e-n,a=t*s;return n+a}function pw(e,t,n,s,a){return a!==void 0&&(e=lm(e,a,s)),lm(e,n,s)+t}function Bv(e,t=0,n=1,s,a){e.min=pw(e.min,t,n,s,a),e.max=pw(e.max,t,n,s,a)}function nM(e,{x:t,y:n}){Bv(e.x,t.translate,t.scale,t.originPoint),Bv(e.y,n.translate,n.scale,n.originPoint)}const gw=.999999999999,yw=1.0000000000001;function eF(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let h=0;h<a;h++){l=n[h],c=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Cl(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,nM(e,c)),s&&Xa(l.latestValues)&&Cl(e,l.latestValues))}t.x<yw&&t.x>gw&&(t.x=1),t.y<yw&&t.y>gw&&(t.y=1)}function Rl(e,t){e.min=e.min+t,e.max=e.max+t}function vw(e,t,n,s,a=.5){const l=ye(e.min,e.max,a);Bv(e,t,n,l,s)}function Cl(e,t){vw(e.x,t.x,t.scaleX,t.scale,t.originX),vw(e.y,t.y,t.scaleY,t.scale,t.originY)}function iM(e,t){return tM(tF(e.getBoundingClientRect(),t))}function nF(e,t,n){const s=iM(e,n),{scroll:a}=t;return a&&(Rl(s.x,a.offset.x),Rl(s.y,a.offset.y)),s}const _w=()=>({translate:0,scale:1,origin:0,originPoint:0}),Il=()=>({x:_w(),y:_w()}),Tw=()=>({min:0,max:0}),Ke=()=>({x:Tw(),y:Tw()}),Fv={current:null},sM={current:!1};function iF(){if(sM.current=!0,!!__)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Fv.current=e.matches;e.addEventListener("change",t),t()}else Fv.current=!1}const sF=new WeakMap;function rF(e,t,n){for(const s in t){const a=t[s],l=n[s];if(_n(a))e.addValue(s,a);else if(_n(l))e.addValue(s,eu(a,{owner:e}));else if(l!==a)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(s);e.addValue(s,eu(c!==void 0?c:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Ew=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class aF{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=P_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=zn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,pe.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=zm(n),this.isVariantNode=qI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in v){const A=v[T];d[T]!==void 0&&_n(A)&&A.set(d[T])}}mount(t){var n;this.current=t,sF.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),sM.current||iF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fv.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),da(this.notifyUpdate),da(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=gu.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&pe.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in nu){const n=nu[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ke()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Ew.length;s++){const a=Ew[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=rF(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=eu(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(YC(s)||ZC(s))?s=parseFloat(s):!mB(s)&&ma.test(n)&&(s=VI(t,n)),this.setBaseTarget(t,_n(s)?s.get():s)),_n(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=$_(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!_n(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new A_),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){j_.render(this.render)}}class rM extends aF{constructor(){super(...arguments),this.KeyframeResolver=nB}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;_n(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function aM(e,{style:t,vars:n},s,a){const l=e.style;let c;for(c in t)l[c]=t[c];a==null||a.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function oF(e){return window.getComputedStyle(e)}class lF extends rM{constructor(){super(...arguments),this.type="html",this.renderInstance=aM}readValueFromInstance(t,n){var s;if(gu.has(n))return(s=this.projection)!=null&&s.isProjecting?Dv(n):Ez(t,n);{const a=oF(t),l=(hI(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return iM(t,n)}build(t,n,s){q_(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return K_(t,n,s)}}const oM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function uF(e,t,n,s){aM(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(oM.has(a)?a:Q_(a),t.attrs[a])}class cF extends rM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ke}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(gu.has(n)){const s=DI(n);return s&&s.default||0}return n=oM.has(n)?n:Q_(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return XI(t,n,s)}build(t,n,s){$I(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,a){uF(t,n,s,a)}mount(t){this.isSVGTag=QI(t.tagName),super.mount(t)}}const hF=(e,t)=>G_(e)?new cF(t):new lF(t,{allowProjection:e!==O.Fragment});function Ol(e,t,n){const s=e.getProps();return $_(s,t,n!==void 0?n:s.custom,e)}const qv=e=>Array.isArray(e);function fF(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,eu(n))}function dF(e){return qv(e)?e[e.length-1]||0:e}function mF(e,t){const n=Ol(e,t);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const h=dF(l[c]);fF(e,c,h)}}function pF(e){return!!(_n(e)&&e.add)}function Hv(e,t){const n=e.getValue("willChange");if(pF(n))return n.add(t);if(!n&&sr.WillChange){const s=new sr.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function lM(e){return e.props[ZI]}const gF=e=>e!==null;function yF(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(gF),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}const vF={type:"spring",stiffness:500,damping:25,restSpeed:10},_F=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),TF={type:"keyframes",duration:.8},EF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bF=(e,{keyframes:t})=>t.length>2?TF:gu.has(e)?e.startsWith("scale")?_F(t[1]):vF:EF;function SF({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:d,elapsed:p,...y}){return!!Object.keys(y).length}const Y_=(e,t,n,s={},a,l)=>c=>{const h=k_(s,e)||{},d=h.delay||s.delay||0;let{elapsed:p=0}=s;p=p-bs(d);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-p,onUpdate:T=>{t.set(T),h.onUpdate&&h.onUpdate(T)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:e,motionValue:t,element:l?void 0:a};SF(h)||Object.assign(y,bF(e,y)),y.duration&&(y.duration=bs(y.duration)),y.repeatDelay&&(y.repeatDelay=bs(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Lv(y),y.delay===0&&(v=!0)),(sr.instantAnimations||sr.skipAnimations)&&(v=!0,Lv(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!l&&t.get()!==void 0){const T=yF(y.keyframes,h);if(T!==void 0){pe.update(()=>{y.onUpdate(T),y.onComplete()});return}}return h.isSync?new O_(y):new Hz(y)};function AF({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function uM(e,t,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...h}=t;s&&(l=s);const d=[],p=a&&e.animationState&&e.animationState.getState()[a];for(const y in h){const v=e.getValue(y,e.latestValues[y]??null),T=h[y];if(T===void 0||p&&AF(p,y))continue;const A={delay:n,...k_(l||{},y)},M=v.get();if(M!==void 0&&!v.isAnimating&&!Array.isArray(T)&&T===M&&!A.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const j=lM(e);if(j){const q=window.MotionHandoffAnimation(j,y,pe);q!==null&&(A.startTime=q,C=!0)}}Hv(e,y),v.start(Y_(y,v,T,e.shouldReduceMotion&&II.has(y)?{type:!1}:A,e,C));const D=v.animation;D&&d.push(D)}return c&&Promise.all(d).then(()=>{pe.update(()=>{c&&mF(e,c)})}),d}function cM(e,t,n,s=0,a=1){const l=Array.from(e).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),c=e.size,h=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:h-l*s}function Gv(e,t,n={}){var d;const s=Ol(e,t,n.type==="exit"?(d=e.presenceContext)==null?void 0:d.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(uM(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:v,staggerDirection:T}=a;return wF(e,t,p,y,v,T,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[p,y]=h==="beforeChildren"?[l,c]:[c,l];return p().then(()=>y())}else return Promise.all([l(),c(n.delay)])}function wF(e,t,n=0,s=0,a=0,l=1,c){const h=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),h.push(Gv(d,t,{...c,delay:n+(typeof s=="function"?0:s)+cM(e.variantChildren,d,s,a,l)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(h)}function xF(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>Gv(e,l,n));s=Promise.all(a)}else if(typeof t=="string")s=Gv(e,t,n);else{const a=typeof t=="function"?Ol(e,t,n.custom):t;s=Promise.all(uM(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function hM(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const RF=F_.length;function fM(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?fM(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<RF;n++){const s=F_[n],a=e.props[s];(ch(a)||a===!1)&&(t[s]=a)}return t}const CF=[...B_].reverse(),IF=B_.length;function MF(e){return t=>Promise.all(t.map(({animation:n,options:s})=>xF(e,n,s)))}function NF(e){let t=MF(e),n=bw(),s=!0;const a=d=>(p,y)=>{var T;const v=Ol(e,y,d==="exit"?(T=e.presenceContext)==null?void 0:T.custom:void 0);if(v){const{transition:A,transitionEnd:M,...C}=v;p={...p,...C,...M}}return p};function l(d){t=d(e)}function c(d){const{props:p}=e,y=fM(e.parent)||{},v=[],T=new Set;let A={},M=1/0;for(let D=0;D<IF;D++){const j=CF[D],q=n[j],U=p[j]!==void 0?p[j]:y[j],st=ch(U),W=j===d?q.isActive:null;W===!1&&(M=D);let ot=U===y[j]&&U!==p[j]&&st;if(ot&&s&&e.manuallyAnimateOnMount&&(ot=!1),q.protectedKeys={...A},!q.isActive&&W===null||!U&&!q.prevProp||Um(U)||typeof U=="boolean")continue;const I=DF(q.prevProp,U);let x=I||j===d&&q.isActive&&!ot&&st||D>M&&st,N=!1;const k=Array.isArray(U)?U:[U];let P=k.reduce(a(j),{});W===!1&&(P={});const{prevResolvedValues:H={}}=q,V={...H,...P},ae=lt=>{x=!0,T.has(lt)&&(N=!0,T.delete(lt)),q.needsAnimating[lt]=!0;const pt=e.getValue(lt);pt&&(pt.liveStyle=!1)};for(const lt in V){const pt=P[lt],Mt=H[lt];if(A.hasOwnProperty(lt))continue;let kt=!1;qv(pt)&&qv(Mt)?kt=!hM(pt,Mt):kt=pt!==Mt,kt?pt!=null?ae(lt):T.add(lt):pt!==void 0&&T.has(lt)?ae(lt):q.protectedKeys[lt]=!0}q.prevProp=U,q.prevResolvedValues=P,q.isActive&&(A={...A,...P}),s&&e.blockInitialAnimation&&(x=!1);const _e=ot&&I;x&&(!_e||N)&&v.push(...k.map(lt=>{const pt={type:j};if(typeof lt=="string"&&s&&!_e&&e.manuallyAnimateOnMount&&e.parent){const{parent:Mt}=e,kt=Ol(Mt,lt);if(Mt.enteringChildren&&kt){const{delayChildren:B}=kt.transition||{};pt.delay=cM(Mt.enteringChildren,e,B)}}return{animation:lt,options:pt}}))}if(T.size){const D={};if(typeof p.initial!="boolean"){const j=Ol(e,Array.isArray(p.initial)?p.initial[0]:p.initial);j&&j.transition&&(D.transition=j.transition)}T.forEach(j=>{const q=e.getBaseTarget(j),U=e.getValue(j);U&&(U.liveStyle=!0),D[j]=q??null}),v.push({animation:D})}let C=!!v.length;return s&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(C=!1),s=!1,C?t(v):Promise.resolve()}function h(d,p){var v;if(n[d].isActive===p)return Promise.resolve();(v=e.variantChildren)==null||v.forEach(T=>{var A;return(A=T.animationState)==null?void 0:A.setActive(d,p)}),n[d].isActive=p;const y=c(d);for(const T in n)n[T].protectedKeys={};return y}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=bw()}}}function DF(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!hM(t,e):!1}function Qa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bw(){return{animate:Qa(!0),whileInView:Qa(),whileHover:Qa(),whileTap:Qa(),whileDrag:Qa(),whileFocus:Qa(),exit:Qa()}}class pa{constructor(t){this.isMounted=!1,this.node=t}update(){}}class VF extends pa{constructor(t){super(t),t.animationState||(t.animationState=NF(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Um(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let OF=0;class PF extends pa{constructor(){super(...arguments),this.id=OF++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const kF={animation:{Feature:VF},exit:{Feature:PF}};function hh(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function Dh(e){return{point:{x:e.pageX,y:e.pageY}}}const LF=e=>t=>U_(t)&&e(t,Dh(t));function Gc(e,t,n,s){return hh(e,t,LF(n),s)}const dM=1e-4,jF=1-dM,UF=1+dM,mM=.01,zF=0-mM,BF=0+mM;function Cn(e){return e.max-e.min}function FF(e,t,n){return Math.abs(e-t)<=n}function Sw(e,t,n,s=.5){e.origin=s,e.originPoint=ye(t.min,t.max,e.origin),e.scale=Cn(n)/Cn(t),e.translate=ye(n.min,n.max,e.origin)-e.originPoint,(e.scale>=jF&&e.scale<=UF||isNaN(e.scale))&&(e.scale=1),(e.translate>=zF&&e.translate<=BF||isNaN(e.translate))&&(e.translate=0)}function $c(e,t,n,s){Sw(e.x,t.x,n.x,s?s.originX:void 0),Sw(e.y,t.y,n.y,s?s.originY:void 0)}function Aw(e,t,n){e.min=n.min+t.min,e.max=e.min+Cn(t)}function qF(e,t,n){Aw(e.x,t.x,n.x),Aw(e.y,t.y,n.y)}function ww(e,t,n){e.min=t.min-n.min,e.max=e.min+Cn(t)}function um(e,t,n){ww(e.x,t.x,n.x),ww(e.y,t.y,n.y)}function di(e){return[e("x"),e("y")]}const pM=({current:e})=>e?e.ownerDocument.defaultView:null,xw=(e,t)=>Math.abs(e-t);function HF(e,t){const n=xw(e.x,t.x),s=xw(e.y,t.y);return Math.sqrt(n**2+s**2)}class gM{constructor(t,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=xy(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,M=HF(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!M)return;const{point:C}=T,{timestamp:D}=un;this.history.push({...C,timestamp:D});const{onStart:j,onMove:q}=this.handlers;A||(j&&j(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,T)},this.handlePointerMove=(T,A)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=wy(A,this.transformPagePoint),pe.update(this.updatePoint,!0)},this.handlePointerUp=(T,A)=>{this.end();const{onEnd:M,onSessionEnd:C,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=xy(T.type==="pointercancel"?this.lastMoveEventInfo:wy(A,this.transformPagePoint),this.history);this.startEvent&&M&&M(T,j),C&&C(T,j)},!U_(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const h=Dh(t),d=wy(h,this.transformPagePoint),{point:p}=d,{timestamp:y}=un;this.history=[{...p,timestamp:y}];const{onSessionStart:v}=n;v&&v(t,xy(d,this.history)),this.removeListeners=Ih(Gc(this.contextWindow,"pointermove",this.handlePointerMove),Gc(this.contextWindow,"pointerup",this.handlePointerUp),Gc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),da(this.updatePoint)}}function wy(e,t){return t?{point:t(e.point)}:e}function Rw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function xy({point:e},t){return{point:e,delta:Rw(e,yM(t)),offset:Rw(e,GF(t)),velocity:$F(t,.1)}}function GF(e){return e[0]}function yM(e){return e[e.length-1]}function $F(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=yM(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>bs(t)));)n--;if(!s)return{x:0,y:0};const l=_i(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function KF(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?ye(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?ye(n,e,s.max):Math.min(e,n)),e}function Cw(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function QF(e,{top:t,left:n,bottom:s,right:a}){return{x:Cw(e.x,n,a),y:Cw(e.y,t,s)}}function Iw(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function YF(e,t){return{x:Iw(e.x,t.x),y:Iw(e.y,t.y)}}function XF(e,t){let n=.5;const s=Cn(e),a=Cn(t);return a>s?n=oh(t.min,t.max-s,e.min):s>a&&(n=oh(e.min,e.max-a,t.min)),ir(0,1,n)}function ZF(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const $v=.35;function WF(e=$v){return e===!1?e=0:e===!0&&(e=$v),{x:Mw(e,"left","right"),y:Mw(e,"top","bottom")}}function Mw(e,t,n){return{min:Nw(e,t),max:Nw(e,n)}}function Nw(e,t){return typeof e=="number"?e:e[t]||0}const JF=new WeakMap;class t8{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ke(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Dh(v).point)},c=(v,T)=>{const{drag:A,dragPropagation:M,onDragStart:C}=this.getProps();if(A&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=aB(A),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),di(j=>{let q=this.getAxisMotionValue(j).get()||0;if(Ss.test(q)){const{projection:U}=this.visualElement;if(U&&U.layout){const st=U.layout.layoutBox[j];st&&(q=Cn(st)*(parseFloat(q)/100))}}this.originPoint[j]=q}),C&&pe.postRender(()=>C(v,T)),Hv(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},h=(v,T)=>{this.latestPointerEvent=v,this.latestPanInfo=T;const{dragPropagation:A,dragDirectionLock:M,onDirectionLock:C,onDrag:D}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:j}=T;if(M&&this.currentDirection===null){this.currentDirection=e8(j),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",T.point,j),this.updateAxis("y",T.point,j),this.visualElement.render(),D&&D(v,T)},d=(v,T)=>{this.latestPointerEvent=v,this.latestPanInfo=T,this.stop(v,T),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>di(v=>{var T;return this.getAnimationState(v)==="paused"&&((T=this.getAxisMotionValue(v).animation)==null?void 0:T.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new gM(t,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:pM(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&pe.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!Sd(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=KF(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;t&&xl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=QF(s.layoutBox,t):this.constraints=!1,this.elastic=WF(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&di(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=ZF(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!xl(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=nF(s,a.root,this.visualElement.getTransformPagePoint());let c=YF(a.layout.layoutBox,l);if(n){const h=n(JB(c));this.hasMutatedConstraints=!!h,h&&(c=tM(h))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=di(y=>{if(!Sd(y,n,this.currentDirection))return;let v=d&&d[y]||{};c&&(v={min:0,max:0});const T=a?200:1e6,A=a?40:1e7,M={type:"inertia",velocity:s?t[y]:0,bounceStiffness:T,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,M)});return Promise.all(p).then(h)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Hv(this.visualElement,t),s.start(Y_(t,s,0,n,this.visualElement,!1))}stopAnimation(){di(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){di(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){di(n=>{const{drag:s}=this.getProps();if(!Sd(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n];l.set(t[n]-ye(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!xl(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};di(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const d=h.get();a[c]=XF({min:d,max:d},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),di(c=>{if(!Sd(c,t,null))return;const h=this.getAxisMotionValue(c),{min:d,max:p}=this.constraints[c];h.set(ye(d,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;JF.set(this.visualElement,this);const t=this.visualElement.current,n=Gc(t,"pointerdown",d=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();xl(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),pe.read(s);const c=hh(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(di(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=d[y].translate,v.set(v.get()+d[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=$v,dragMomentum:h=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function Sd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function e8(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class n8 extends pa{constructor(t){super(t),this.removeGroupControls=Ti,this.removeListeners=Ti,this.controls=new t8(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ti}unmount(){this.removeGroupControls(),this.removeListeners()}}const Dw=e=>(t,n)=>{e&&pe.postRender(()=>e(t,n))};class i8 extends pa{constructor(){super(...arguments),this.removePointerDownListener=Ti}onPointerDown(t){this.session=new gM(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:pM(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Dw(t),onStart:Dw(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&pe.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Gc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const jd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Ry=!1;class s8 extends O.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Ry&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),jd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Ry=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||pe.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),j_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;Ry=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function vM(e){const[t,n]=zI(),s=O.useContext(y_);return S.jsx(s8,{...e,layoutGroup:s,switchLayoutGroup:O.useContext(WI),isPresent:t,safeToRemove:n})}function r8(e,t,n){const s=_n(e)?e:eu(e);return s.start(Y_("",s,t,n)),s.animation}const a8=(e,t)=>e.depth-t.depth;class o8{constructor(){this.children=[],this.isDirty=!1}add(t){T_(this.children,t),this.isDirty=!0}remove(t){E_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(a8),this.isDirty=!1,this.children.forEach(t)}}function l8(e,t){const n=zn.now(),s=({timestamp:a})=>{const l=a-n;l>=t&&(da(s),e(l-t))};return pe.setup(s,!0),()=>da(s)}const _M=["TopLeft","TopRight","BottomLeft","BottomRight"],u8=_M.length,Vw=e=>typeof e=="string"?parseFloat(e):e,Ow=e=>typeof e=="number"||St.test(e);function c8(e,t,n,s,a,l){a?(e.opacity=ye(0,n.opacity??1,h8(s)),e.opacityExit=ye(t.opacity??1,0,f8(s))):l&&(e.opacity=ye(t.opacity??1,n.opacity??1,s));for(let c=0;c<u8;c++){const h=`border${_M[c]}Radius`;let d=Pw(t,h),p=Pw(n,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||Ow(d)===Ow(p)?(e[h]=Math.max(ye(Vw(d),Vw(p),s),0),(Ss.test(p)||Ss.test(d))&&(e[h]+="%")):e[h]=p}(t.rotate||n.rotate)&&(e.rotate=ye(t.rotate||0,n.rotate||0,s))}function Pw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const h8=TM(0,.5,rI),f8=TM(.5,.95,Ti);function TM(e,t,n){return s=>s<e?0:s>t?1:n(oh(e,t,s))}function kw(e,t){e.min=t.min,e.max=t.max}function Pi(e,t){kw(e.x,t.x),kw(e.y,t.y)}function Lw(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function jw(e,t,n,s,a){return e-=t,e=lm(e,1/n,s),a!==void 0&&(e=lm(e,1/a,s)),e}function d8(e,t=0,n=1,s=.5,a,l=e,c=e){if(Ss.test(t)&&(t=parseFloat(t),t=ye(c.min,c.max,t/100)-c.min),typeof t!="number")return;let h=ye(l.min,l.max,s);e===l&&(h-=t),e.min=jw(e.min,t,n,h,a),e.max=jw(e.max,t,n,h,a)}function Uw(e,t,[n,s,a],l,c){d8(e,t[n],t[s],t[a],t.scale,l,c)}const m8=["x","scaleX","originX"],p8=["y","scaleY","originY"];function zw(e,t,n,s){Uw(e.x,t,m8,n?n.x:void 0,s?s.x:void 0),Uw(e.y,t,p8,n?n.y:void 0,s?s.y:void 0)}function Bw(e){return e.translate===0&&e.scale===1}function EM(e){return Bw(e.x)&&Bw(e.y)}function Fw(e,t){return e.min===t.min&&e.max===t.max}function g8(e,t){return Fw(e.x,t.x)&&Fw(e.y,t.y)}function qw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function bM(e,t){return qw(e.x,t.x)&&qw(e.y,t.y)}function Hw(e){return Cn(e.x)/Cn(e.y)}function Gw(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class y8{constructor(){this.members=[]}add(t){T_(this.members,t),t.scheduleRender()}remove(t){if(E_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function v8(e,t,n){let s="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:T,skewX:A,skewY:M}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),v&&(s+=`rotateX(${v}deg) `),T&&(s+=`rotateY(${T}deg) `),A&&(s+=`skewX(${A}deg) `),M&&(s+=`skewY(${M}deg) `)}const h=e.x.scale*t.x,d=e.y.scale*t.y;return(h!==1||d!==1)&&(s+=`scale(${h}, ${d})`),s||"none"}const Cy=["","X","Y","Z"],_8=1e3;let T8=0;function Iy(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function SM(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=lM(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",pe,!(a||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&SM(s)}function AM({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},h=t==null?void 0:t()){this.id=T8++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(S8),this.nodes.forEach(R8),this.nodes.forEach(C8),this.nodes.forEach(A8)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new o8)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new A_),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const d=this.eventHandlers.get(c);d&&d.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=UI(c)&&!fB(c),this.instance=c;const{layoutId:h,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),e){let y,v=0;const T=()=>this.root.updateBlockedByResize=!1;pe.read(()=>{v=window.innerWidth}),e(c,()=>{const A=window.innerWidth;A!==v&&(v=A,this.root.updateBlockedByResize=!0,y&&y(),y=l8(T,250),jd.hasAnimatedSinceResize&&(jd.hasAnimatedSinceResize=!1,this.nodes.forEach(Qw)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:T,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||p.getDefaultTransition()||V8,{onLayoutAnimationStart:C,onLayoutAnimationComplete:D}=p.getProps(),j=!this.targetLayout||!bM(this.targetLayout,A),q=!v&&T;if(this.options.layoutRoot||this.resumeFrom||q||v&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const U={...k_(M,"layout"),onPlay:C,onComplete:D};(p.shouldReduceMotion||this.options.layoutRoot)&&(U.delay=0,U.type=!1),this.startAnimation(U),this.setAnimationOrigin(y,q)}else v||Qw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),da(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(I8),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&SM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($w);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Kw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(x8),this.nodes.forEach(E8),this.nodes.forEach(b8)):this.nodes.forEach(Kw),this.clearAllSnapshots();const h=zn.now();un.delta=ir(0,1e3/60,h-un.timestamp),un.timestamp=h,un.isProcessing=!0,yy.update.process(un),yy.preRender.process(un),yy.render.process(un),un.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,j_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(w8),this.sharedNodes.forEach(M8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Cn(this.snapshot.measuredBox.x)&&!Cn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ke(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!EM(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(h||Xa(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return c&&(d=this.removeTransform(d)),O8(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return Ke();const h=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(P8))){const{scroll:y}=this.root;y&&(Rl(h.x,y.offset.x),Rl(h.y,y.offset.y))}return h}removeElementScroll(c){var d;const h=Ke();if(Pi(h,c),(d=this.scroll)!=null&&d.wasRoot)return h;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:v,options:T}=y;y!==this.root&&v&&T.layoutScroll&&(v.wasRoot&&Pi(h,c),Rl(h.x,v.offset.x),Rl(h.y,v.offset.y))}return h}applyTransform(c,h=!1){const d=Ke();Pi(d,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Cl(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Xa(y.latestValues)&&Cl(d,y.latestValues)}return Xa(this.latestValues)&&Cl(d,this.latestValues),d}removeTransform(c){const h=Ke();Pi(h,c);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Xa(p.latestValues))continue;zv(p.latestValues)&&p.updateSnapshot();const y=Ke(),v=p.measurePageBox();Pi(y,v),zw(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Xa(this.latestValues)&&zw(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==un.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var A;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=un.timestamp;const T=this.getClosestProjectingParent();T&&this.linkedParentVersion!==T.layoutVersion&&!T.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(T&&T.layout?this.createRelativeTarget(T,this.layout.layoutBox,T.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ke(),this.targetWithTransforms=Ke()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qF(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pi(this.target,this.layout.layoutBox),nM(this.target,this.targetDelta)):Pi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?this.createRelativeTarget(T,this.target,T.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||zv(this.parent.latestValues)||eM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,d){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ke(),this.relativeTargetOrigin=Ke(),um(this.relativeTargetOrigin,h,d),Pi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var M;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||(M=this.parent)!=null&&M.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===un.timestamp&&(d=!1),d)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Pi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,T=this.treeScale.y;eF(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ke());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Lw(this.prevProjectionDelta.x,this.projectionDelta.x),Lw(this.prevProjectionDelta.y,this.projectionDelta.y)),$c(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==T||!Gw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Gw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Il(),this.projectionDelta=Il(),this.projectionDeltaWithTransform=Il()}setAnimationOrigin(c,h=!1){const d=this.snapshot,p=d?d.latestValues:{},y={...this.latestValues},v=Il();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const T=Ke(),A=d?d.source:void 0,M=this.layout?this.layout.source:void 0,C=A!==M,D=this.getStack(),j=!D||D.members.length<=1,q=!!(C&&!j&&this.options.crossfade===!0&&!this.path.some(D8));this.animationProgress=0;let U;this.mixTargetDelta=st=>{const W=st/1e3;Yw(v.x,c.x,W),Yw(v.y,c.y,W),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(um(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),N8(this.relativeTarget,this.relativeTargetOrigin,T,W),U&&g8(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=Ke()),Pi(U,this.relativeTarget)),C&&(this.animationValues=y,c8(y,p,this.latestValues,W,q,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=W},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var h,d,p;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(p=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||p.stop(),this.pendingAnimation&&(da(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pe.update(()=>{jd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=eu(0)),this.currentAnimation=r8(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:y}=c;if(!(!h||!d||!p)){if(this!==c&&this.layout&&p&&wM(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||Ke();const v=Cn(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+v;const T=Cn(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+T}Pi(h,d),Cl(h,y),$c(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new y8),this.sharedNodes.get(c).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&Iy("z",c,p,this.animationValues);for(let y=0;y<Cy.length;y++)Iy(`rotate${Cy[y]}`,c,p,this.animationValues),Iy(`skew${Cy[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Ld(h==null?void 0:h.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Ld(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Xa(this.latestValues)&&(c.transform=d?d({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=v8(this.projectionDeltaWithTransform,this.treeScale,y);d&&(v=d(y,v)),c.transform=v;const{x:T,y:A}=this.projectionDelta;c.transformOrigin=`${T.origin*100}% ${A.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const M in Uv){if(y[M]===void 0)continue;const{correct:C,applyTo:D,isCSSVariable:j}=Uv[M],q=v==="none"?y[M]:C(y[M],p);if(D){const U=D.length;for(let st=0;st<U;st++)c[D[st]]=q}else j?this.options.visualElement.renderState.vars[M]=q:c[M]=q}this.options.layoutId&&(c.pointerEvents=p===this?Ld(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach($w),this.root.sharedNodes.clear()}}}function E8(e){e.updateLayout()}function b8(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?di(v=>{const T=c?t.measuredBox[v]:t.layoutBox[v],A=Cn(T);T.min=s[v].min,T.max=T.min+A}):wM(l,t.layoutBox,s)&&di(v=>{const T=c?t.measuredBox[v]:t.layoutBox[v],A=Cn(s[v]);T.max=T.min+A,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[v].max=e.relativeTarget[v].min+A)});const h=Il();$c(h,s,t.layoutBox);const d=Il();c?$c(d,e.applyTransform(a,!0),t.measuredBox):$c(d,s,t.layoutBox);const p=!EM(h);let y=!1;if(!e.resumeFrom){const v=e.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:T,layout:A}=v;if(T&&A){const M=Ke();um(M,t.layoutBox,T.layoutBox);const C=Ke();um(C,s,A.layoutBox),bM(M,C)||(y=!0),v.options.layoutRoot&&(e.relativeTarget=C,e.relativeTargetOrigin=M,e.relativeParent=v)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:d,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function S8(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function A8(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function w8(e){e.clearSnapshot()}function $w(e){e.clearMeasurements()}function Kw(e){e.isLayoutDirty=!1}function x8(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Qw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function R8(e){e.resolveTargetDelta()}function C8(e){e.calcProjection()}function I8(e){e.resetSkewAndRotation()}function M8(e){e.removeLeadSnapshot()}function Yw(e,t,n){e.translate=ye(t.translate,0,n),e.scale=ye(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Xw(e,t,n,s){e.min=ye(t.min,n.min,s),e.max=ye(t.max,n.max,s)}function N8(e,t,n,s){Xw(e.x,t.x,n.x,s),Xw(e.y,t.y,n.y,s)}function D8(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const V8={duration:.45,ease:[.4,0,.1,1]},Zw=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Ww=Zw("applewebkit/")&&!Zw("chrome/")?Math.round:Ti;function Jw(e){e.min=Ww(e.min),e.max=Ww(e.max)}function O8(e){Jw(e.x),Jw(e.y)}function wM(e,t,n){return e==="position"||e==="preserve-aspect"&&!FF(Hw(t),Hw(n),.2)}function P8(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const k8=AM({attachResizeListener:(e,t)=>hh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),My={current:void 0},xM=AM({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!My.current){const e=new k8({});e.mount(window),e.setOptions({layoutScroll:!0}),My.current=e}return My.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),L8={pan:{Feature:i8},drag:{Feature:n8,ProjectionNode:xM,MeasureLayout:vM}};function tx(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&pe.postRender(()=>l(t,Dh(t)))}class j8 extends pa{mount(){const{current:t}=this.node;t&&(this.unmount=oB(t,(n,s)=>(tx(this.node,s,"Start"),a=>tx(this.node,a,"End"))))}unmount(){}}class U8 extends pa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ih(hh(this.node.current,"focus",()=>this.onFocus()),hh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ex(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&pe.postRender(()=>l(t,Dh(t)))}class z8 extends pa{mount(){const{current:t}=this.node;t&&(this.unmount=hB(t,(n,s)=>(ex(this.node,s,"Start"),(a,{success:l})=>ex(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Kv=new WeakMap,Ny=new WeakMap,B8=e=>{const t=Kv.get(e.target);t&&t(e)},F8=e=>{e.forEach(B8)};function q8({root:e,...t}){const n=e||document;Ny.has(n)||Ny.set(n,{});const s=Ny.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(F8,{root:e,...t})),s[a]}function H8(e,t,n){const s=q8(t);return Kv.set(e,n),s.observe(e),()=>{Kv.delete(e),s.unobserve(e)}}const G8={some:0,all:1};class $8 extends pa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:G8[a]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),T=p?y:v;T&&T(d)};return H8(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(K8(t,n))&&this.startObserver()}unmount(){}}function K8({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Q8={inView:{Feature:$8},tap:{Feature:z8},focus:{Feature:U8},hover:{Feature:j8}},Y8={layout:{ProjectionNode:xM,MeasureLayout:vM}},X8={...kF,...Q8,...L8,...Y8},nx=WB(X8,hF),Z8=({currentEpisode:e,onClose:t,isBottomNavVisible:n,onEpisodeComplete:s})=>{const a=O.useRef(null),[l,c]=O.useState(Qe.STOPPED),[h,d]=O.useState(0),[p,y]=O.useState(0),[v,T]=O.useState(!1),[A,M]=O.useState(1),[C]=O.useState(()=>Math.random().toString(36).substring(7));O.useEffect(()=>{if(e&&a.current){a.current.src=e.enclosure.url,a.current.play().catch(st=>console.error(st)),c(Qe.PLAYING);const q=yU(C,e.guid),U=KC(e.guid,st=>{M(Math.max(1,st))});return()=>{q(),U()}}else c(Qe.STOPPED)},[e,C]);const D=q=>{q==null||q.stopPropagation(),a.current&&(l===Qe.PLAYING?(a.current.pause(),c(Qe.PAUSED)):(a.current.play(),c(Qe.PLAYING)))},j=q=>{if(isNaN(q))return"00:00";const U=Math.floor(q/60),st=Math.floor(q%60);return`${U}:${st.toString().padStart(2,"0")}`};return e?S.jsxs(S.Fragment,{children:[S.jsx(uw,{children:!v&&S.jsxs(nx.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:`fixed left-0 right-0 bg-nav/95 backdrop-blur-2xl border-t border-app p-3 z-50 shadow-2xl ${n?"bottom-[72px]":"bottom-0 pb-safe"}`,children:[S.jsxs("div",{className:"max-w-3xl mx-auto flex items-center justify-between gap-3",children:[S.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0 cursor-pointer",onClick:()=>T(!0),children:[S.jsx("div",{className:"w-11 h-11 rounded-xl overflow-hidden bg-surface border border-app shadow-lg",children:S.jsx(BA,{src:e.image,alt:"Art",className:"w-full h-full object-cover"})}),S.jsxs("div",{className:"truncate",children:[S.jsx("div",{className:"flex items-center gap-2 mb-0.5",children:S.jsx("h4",{className:"text-sm font-black text-primary truncate leading-none",children:e.title})}),S.jsx("div",{className:"flex items-center gap-2",children:S.jsxs("div",{className:"flex items-center gap-1 text-[9px] text-emerald-500 font-black uppercase tracking-widest",children:[S.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"}),A," oyentes en vivo"]})})]})]}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx(Cc,{variant:"ghost",size:"icon",onClick:D,className:"text-primary bg-surface border border-app",children:l===Qe.PLAYING?S.jsx(Kb,{size:20,fill:"currentColor"}):S.jsx(Kl,{size:20,fill:"currentColor"})}),S.jsx(Cc,{variant:"ghost",size:"icon",onClick:t,className:"text-muted",children:S.jsx(Qy,{size:20})})]})]}),S.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] bg-surface",children:S.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-300",style:{width:`${h/(p||1)*100}%`}})})]})}),S.jsx(uw,{children:v&&S.jsxs(nx.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-0 bg-app z-[110] flex flex-col",children:[S.jsxs("div",{className:"flex items-center justify-between p-6",children:[S.jsx(Cc,{variant:"icon",onClick:()=>T(!1),className:"bg-surface border border-app",children:S.jsx(J4,{size:24,className:"text-muted"})}),S.jsxs("div",{className:"flex flex-col items-center",children:[S.jsx("span",{className:"text-[10px] font-black tracking-[0.2em] text-muted uppercase",children:"Reproduciendo"}),S.jsxs("div",{className:"flex items-center gap-1.5 mt-1 bg-emerald-500/10 px-3 py-1 rounded-full border border-emerald-500/20",children:[S.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-ping"}),S.jsxs("span",{className:"text-[9px] font-black text-emerald-500 uppercase tracking-widest",children:[A," oyentes en lnea"]})]})]}),S.jsx(Cc,{variant:"icon",onClick:t,className:"bg-surface border border-app",children:S.jsx(Qy,{size:24,className:"text-muted"})})]}),S.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center space-y-8 overflow-y-auto no-scrollbar pb-12",children:[S.jsx("div",{className:"w-full max-w-[300px] aspect-square rounded-[56px] overflow-hidden shadow-2xl border-app border transform hover:scale-105 transition-transform duration-700",children:S.jsx(BA,{src:e.image,alt:e.title,className:"w-full h-full object-cover"})}),S.jsxs("div",{className:"space-y-4 w-full max-w-md",children:[S.jsx("h2",{className:"text-2xl md:text-4xl font-black text-primary leading-tight px-2 tracking-tighter",children:e.title}),S.jsxs("div",{className:"flex items-center justify-center gap-4",children:[S.jsx("span",{className:"text-[10px] font-black text-indigo-500 bg-indigo-500/5 px-4 py-2 rounded-xl uppercase tracking-widest border border-indigo-500/10",children:"Podcast Premium"}),S.jsxs("span",{className:"text-xs font-bold text-muted",children:[j(h)," / ",j(p)]})]}),S.jsx("div",{className:"max-h-32 overflow-y-auto px-4 py-2 no-scrollbar",children:S.jsx("p",{className:"text-muted text-sm leading-relaxed font-medium opacity-80",children:e.description})})]}),S.jsxs("div",{className:"w-full max-w-md space-y-8 pt-4",children:[S.jsx("div",{className:"px-2",children:S.jsx("input",{type:"range",min:"0",max:p||100,value:h,onChange:q=>{a.current&&(a.current.currentTime=parseFloat(q.target.value))},className:"w-full h-1.5 bg-surface rounded-lg appearance-none cursor-pointer accent-indigo-500"})}),S.jsxs("div",{className:"flex items-center justify-around px-4 pb-8",children:[S.jsx("button",{className:"text-muted hover:text-primary transition-colors active:scale-90",onClick:()=>{a.current&&(a.current.currentTime-=15)},children:S.jsx(IO,{size:40})}),S.jsx("button",{className:"w-24 h-24 bg-indigo-600 text-white rounded-[32px] flex items-center justify-center shadow-2xl shadow-indigo-600/40 active:scale-90 transition-all hover:bg-indigo-500",onClick:q=>D(q),children:l===Qe.PLAYING?S.jsx(Kb,{size:44,fill:"currentColor"}):S.jsx(Kl,{size:44,fill:"currentColor",className:"ml-2"})}),S.jsx("button",{className:"text-muted hover:text-primary transition-colors active:scale-90",onClick:()=>{a.current&&(a.current.currentTime+=15)},children:S.jsx(NO,{size:40})})]})]})]})]})}),S.jsx("audio",{ref:a,onTimeUpdate:()=>{a.current&&(d(a.current.currentTime),y(a.current.duration||0))},onEnded:()=>{c(Qe.STOPPED),s&&s(e.guid)}})]}):null},W8=O.memo(({activeTab:e,onTabChange:t,notificationCount:n=0})=>{const s=[{id:"search",label:"Buscar",icon:eR},{id:"favorites",label:"Favoritos",icon:au},{id:"home",label:"Inicio",icon:lO},{id:"share",label:"Compartir",icon:nR},{id:"notifications",label:"Notific.",icon:Xx}];return S.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-nav backdrop-blur-lg border-t border-app pb-safe z-40",children:S.jsx("div",{className:"flex items-center justify-around max-w-2xl mx-auto relative",children:s.map(a=>{const l=a.icon,c=e===a.id;return S.jsxs("button",{onClick:()=>t(a.id),className:`flex flex-col items-center justify-center py-3 px-2 w-full transition-colors relative ${c?"text-indigo-500":"text-muted hover:text-primary"}`,children:[S.jsxs("div",{className:"relative",children:[S.jsx(l,{size:24,strokeWidth:c?2.5:2,className:c?"animate-bounce-subtle":""}),a.id==="notifications"&&n>0&&S.jsx("div",{className:"absolute -top-1.5 -right-1.5 min-w-[16px] h-[16px] bg-red-600 text-white text-[9px] font-black rounded-full flex items-center justify-center px-1 border-2 border-app",children:n})]}),S.jsx("span",{className:"text-[10px] font-medium mt-1",children:a.label})]},a.id)})})})}),J8=({onClose:e,currentTheme:t,onThemeChange:n})=>{const s=[{id:"deep",name:"TeoVoz Deep",description:"Estilo clsico e ndigo",icon:S.jsx(VO,{size:20}),preview:"bg-[#0f172a] border-[#6366f1]"},{id:"dark-pure",name:"Oscuro Puro",description:"Negro real para AMOLED",icon:S.jsx(vO,{size:20}),preview:"bg-black border-[#262626]"},{id:"light",name:"Claro Puro",description:"Blanco limpio y minimalista",icon:S.jsx(iR,{size:20}),preview:"bg-white border-[#e2e8f0]"}];return S.jsx("div",{className:"fixed inset-0 z-[65] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in",children:S.jsxs("div",{className:"bg-surface border-app border rounded-[32px] w-full max-w-sm p-8 shadow-2xl relative",children:[S.jsxs("div",{className:"flex items-center justify-between mb-8",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"p-2 bg-indigo-500/10 rounded-lg text-indigo-500",children:S.jsx(tR,{size:18})}),S.jsx("h2",{className:"text-xs font-black text-muted uppercase tracking-[0.2em]",children:"Aspecto Visual"})]}),S.jsx(Cc,{variant:"icon",onClick:e,className:"hover:bg-app rounded-full text-muted",children:S.jsx(Qy,{size:20})})]}),S.jsx("div",{className:"space-y-3",children:s.map(a=>S.jsxs("button",{onClick:()=>n(a.id),className:`w-full flex items-center gap-4 p-4 rounded-2xl border transition-all text-left ${t===a.id?"border-indigo-500 bg-indigo-500/5":"border-transparent hover:border-app"}`,children:[S.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center border ${a.preview} shadow-sm transition-transform active:scale-90`,children:S.jsx("span",{className:a.id==="light"?"text-slate-900":"text-white",children:a.icon})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("p",{className:"font-bold text-sm text-primary",children:a.name}),S.jsx("p",{className:"text-[10px] text-muted uppercase font-black tracking-wider",children:a.description})]}),t===a.id&&S.jsx(Wx,{size:20,className:"text-indigo-500"})]},a.id))})]})})},ix=e=>{let t;const n=new Set,s=(p,y)=>{const v=typeof p=="function"?p(t):p;if(!Object.is(v,t)){const T=t;t=y??(typeof v!="object"||v===null)?v:Object.assign({},t,v),n.forEach(A=>A(t,T))}},a=()=>t,h={setState:s,getState:a,getInitialState:()=>d,subscribe:p=>(n.add(p),()=>n.delete(p))},d=t=e(s,a,h);return h},t7=(e=>e?ix(e):ix),e7=e=>e;function n7(e,t=e7){const n=Za.useSyncExternalStore(e.subscribe,Za.useCallback(()=>t(e.getState()),[e,t]),Za.useCallback(()=>t(e.getInitialState()),[e,t]));return Za.useDebugValue(n),n}const i7=e=>{const t=t7(e),n=s=>n7(t,s);return Object.assign(n,t),n},s7=(e=>i7);function r7(e,t){let n;try{n=e()}catch{return}return{getItem:a=>{var l;const c=d=>d===null?null:JSON.parse(d,void 0),h=(l=n.getItem(a))!=null?l:null;return h instanceof Promise?h.then(c):c(h)},setItem:(a,l)=>n.setItem(a,JSON.stringify(l,void 0)),removeItem:a=>n.removeItem(a)}}const Qv=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(s){return Qv(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return Qv(s)(n)}}}},a7=(e,t)=>(n,s,a)=>{let l={storage:r7(()=>localStorage),partialize:C=>C,version:0,merge:(C,D)=>({...D,...C}),...t},c=!1;const h=new Set,d=new Set;let p=l.storage;if(!p)return e((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...C)},s,a);const y=()=>{const C=l.partialize({...s()});return p.setItem(l.name,{state:C,version:l.version})},v=a.setState;a.setState=(C,D)=>(v(C,D),y());const T=e((...C)=>(n(...C),y()),s,a);a.getInitialState=()=>T;let A;const M=()=>{var C,D;if(!p)return;c=!1,h.forEach(q=>{var U;return q((U=s())!=null?U:T)});const j=((D=l.onRehydrateStorage)==null?void 0:D.call(l,(C=s())!=null?C:T))||void 0;return Qv(p.getItem.bind(p))(l.name).then(q=>{if(q)if(typeof q.version=="number"&&q.version!==l.version){if(l.migrate){const U=l.migrate(q.state,q.version);return U instanceof Promise?U.then(st=>[!0,st]):[!0,U]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,q.state];return[!1,void 0]}).then(q=>{var U;const[st,W]=q;if(A=l.merge(W,(U=s())!=null?U:T),n(A,!0),st)return y()}).then(()=>{j==null||j(A,void 0),A=s(),c=!0,d.forEach(q=>q(A))}).catch(q=>{j==null||j(void 0,q)})};return a.persist={setOptions:C=>{l={...l,...C},C.storage&&(p=C.storage)},clearStorage:()=>{p==null||p.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>M(),hasHydrated:()=>c,onHydrate:C=>(h.add(C),()=>{h.delete(C)}),onFinishHydration:C=>(d.add(C),()=>{d.delete(C)})},l.skipHydration||M(),A||T},o7=a7,Io=s7()(o7((e,t)=>({currentEpisode:null,playerState:Qe.STOPPED,isExpanded:!1,favorites:[],listenedGuids:[],viewedNotifications:[],playEpisode:n=>{const{currentEpisode:s}=t();(s==null?void 0:s.guid)===n.guid?e(a=>({playerState:a.playerState===Qe.PLAYING?Qe.PAUSED:Qe.PLAYING})):e({currentEpisode:n,playerState:Qe.PLAYING,isExpanded:!0})},togglePlay:()=>{e(n=>({playerState:n.playerState===Qe.PLAYING?Qe.PAUSED:Qe.PLAYING}))},setPlayerState:n=>e({playerState:n}),closePlayer:()=>e({currentEpisode:null,playerState:Qe.STOPPED,isExpanded:!1}),expandPlayer:n=>e({isExpanded:n}),toggleFavorite:n=>e(s=>({favorites:s.favorites.some(l=>l.guid===n.guid)?s.favorites.filter(l=>l.guid!==n.guid):[...s.favorites,n]})),markListened:n=>e(s=>s.listenedGuids.includes(n)?{}:{listenedGuids:[...s.listenedGuids,n]}),markNotificationViewed:n=>e(s=>s.viewedNotifications.includes(n)?{}:{viewedNotifications:[...s.viewedNotifications,n]})}),{name:"teovoz-storage",partialize:e=>({currentEpisode:e.currentEpisode,favorites:e.favorites,listenedGuids:e.listenedGuids,viewedNotifications:e.viewedNotifications})})),l7=()=>{const e=fm(),t=rr(),{currentEpisode:n,closePlayer:s}=Io(),[a,l]=O.useState(!1),[c,h]=O.useState(()=>localStorage.getItem("teovoz_theme")||"deep"),[d,p]=O.useState(navigator.onLine);Za.useEffect(()=>{const M=()=>p(!0),C=()=>p(!1);return window.addEventListener("online",M),window.addEventListener("offline",C),()=>{window.removeEventListener("online",M),window.removeEventListener("offline",C)}},[]),Za.useEffect(()=>{c==="deep"?document.documentElement.removeAttribute("data-theme"):document.documentElement.setAttribute("data-theme",c),localStorage.setItem("teovoz_theme",c)},[c]);const y=()=>{window.location.href="http://action_offices"},v=t.pathname!=="/"&&t.pathname!=="/home",T=()=>t.pathname==="/search"?"search":t.pathname==="/favorites"?"favorites":t.pathname==="/notifications"?"notifications":t.pathname==="/settings"?"settings":"home",A=M=>{if(M==="share"){window.location.href="http://action_share";return}e(M==="home"?"/":`/${M}`)};return S.jsxs("div",{className:"min-h-screen bg-app text-primary transition-colors duration-500 pb-44 overflow-x-hidden pt-[72px]",children:[S.jsx("header",{className:"fixed top-0 left-0 right-0 z-[100] bg-app/95 backdrop-blur-xl border-b border-app h-[72px]",children:S.jsxs("div",{className:"max-w-2xl mx-auto px-5 h-full flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[v&&S.jsx("button",{onClick:()=>e(-1),className:"p-2.5 rounded-xl bg-surface border border-app text-muted active:scale-90 transition-transform",children:S.jsx(F4,{size:18})}),S.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>e("/"),children:[S.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-600 flex items-center justify-center shadow-lg shadow-indigo-600/20",children:S.jsx(Jx,{className:"text-white",size:16})}),S.jsxs("h1",{className:"text-lg font-black tracking-tighter uppercase leading-none text-primary",children:["TEO",S.jsx("span",{className:"text-indigo-500",children:"VOZ"})]})]})]}),S.jsxs("div",{className:"flex items-center gap-1.5",children:[S.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-3.5 py-2.5 rounded-xl bg-indigo-600 text-white shadow-lg shadow-indigo-600/20 active:scale-95 transition-all",children:[S.jsx(K4,{size:14}),S.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Pedir Libro"})]}),S.jsx("button",{onClick:()=>l(!0),className:"p-2.5 rounded-xl bg-surface border-app border text-muted hover:text-primary",children:S.jsx(tR,{size:16})}),S.jsx("button",{onClick:()=>e("/settings"),className:`p-2.5 rounded-xl bg-surface border-app border hover:text-primary ${t.pathname==="/settings"?"text-indigo-500 border-indigo-500/50":"text-muted"}`,children:S.jsx(cO,{size:16})})]})]})}),!d&&S.jsx("div",{className:"fixed top-[72px] left-0 right-0 bg-red-600 text-white py-1 px-4 text-center text-[9px] font-black uppercase tracking-[0.2em] z-[90] animate-in slide-in-from-top duration-300",children:"Modo Sin Conexin Activo"}),S.jsx("main",{className:"max-w-2xl mx-auto",children:!d&&T()!=="favorites"&&T()!=="settings"?S.jsxs("div",{className:"flex flex-col items-center justify-center py-28 px-10 text-center animate-in fade-in zoom-in-95 duration-500",children:[S.jsx("div",{className:"w-24 h-24 bg-red-500/10 rounded-[38px] flex items-center justify-center text-red-500 mb-8 shadow-2xl shadow-red-500/10 border border-red-500/20",children:S.jsx(HO,{size:44})}),S.jsx("h2",{className:"text-2xl font-black text-primary tracking-tighter mb-3",children:"Sin Conexin"}),S.jsxs("p",{className:"text-muted text-sm font-medium leading-relaxed mb-10 max-w-[240px] mx-auto",children:["TEOVOZ necesita internet para sincronizar nuevos libros. Mientras tanto, puedes escuchar tus ",S.jsx("span",{className:"text-indigo-500 font-bold",children:"favoritos"}),"."]}),S.jsxs("button",{onClick:()=>window.location.reload(),className:"flex items-center gap-3 bg-surface border border-app px-8 py-4 rounded-[24px] text-primary font-black text-xs uppercase tracking-[0.2em] active:scale-95 transition-all shadow-xl",children:[S.jsx(SO,{size:14})," Reintentar"]})]}):S.jsx(WV,{})}),S.jsx(Z8,{currentEpisode:n,onClose:s,isBottomNavVisible:!0}),S.jsx(W8,{activeTab:T(),onTabChange:A,notificationCount:0}),a&&S.jsx(J8,{currentTheme:c,onThemeChange:h,onClose:()=>l(!1)})]})},u7={zap:KO,banknote:H4,brain:Y4,heart:au,activity:z4,briefcase:Z4,"scroll-text":wO,sun:iR},c7=O.memo(({categories:e,onSelect:t,counts:n={}})=>S.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 p-4 pt-0",children:e.map((s,a)=>{const l=u7[s.icon]||fO,c=!s.rss,h=n[s.id]||0;return S.jsxs("button",{disabled:c,onClick:()=>t(s),style:{animationDelay:`${a*50}ms`,animationFillMode:"backwards"},className:`
              ${c?"bg-slate-900/50 border-slate-800 opacity-60 grayscale":s.color+" border-white/10"} 
              group relative h-40 rounded-[32px] p-5 
              flex flex-col justify-between items-start text-white 
              shadow-lg shadow-black/20
              transition-all duration-300 ease-out
              ${!c&&"hover:-translate-y-1 hover:shadow-indigo-500/10 active:scale-95 active:translate-y-0"}
              overflow-hidden border
              animate-in fade-in slide-in-from-bottom-4
            `,children:[S.jsx("div",{className:"absolute -right-3 -bottom-3 opacity-10 rotate-[-15deg] group-hover:scale-125 group-hover:rotate-0 transition-transform duration-500",children:c?S.jsx($b,{size:100}):S.jsx(l,{size:100})}),S.jsx("div",{className:`
              ${c?"bg-slate-800":"bg-black/20"} 
              p-2.5 rounded-2xl backdrop-blur-md z-10 border border-white/10 group-hover:bg-black/40 transition-colors
            `,children:c?S.jsx($b,{size:18,className:"text-slate-600"}):S.jsx(l,{size:18})}),S.jsxs("div",{className:"z-10 text-left w-full mt-2",children:[S.jsx("span",{className:"font-black text-[16px] uppercase leading-[1.1] block tracking-tighter group-hover:text-white transition-colors",children:s.name}),!c&&S.jsxs("span",{className:"text-[8px] uppercase tracking-[0.25em] text-white/50 font-black mt-2 block group-hover:text-white/80",children:[h," Episodios"]}),c&&S.jsx("span",{className:"text-[8px] uppercase tracking-[0.2em] text-slate-500 font-black mt-2 block",children:"Prximamente"})]}),S.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/0 via-white/5 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000 ease-in-out"})]},s.id)})})),So=[{id:"productivity",name:"Productividad y xito",icon:"zap",color:"bg-gradient-to-br from-indigo-600 to-blue-700",rss:"https://anchor.fm/s/10d2ecf30/podcast/rss"},{id:"money",name:"Dinero y Libertad Financiera",icon:"banknote",color:"bg-gradient-to-br from-emerald-500 to-green-700",rss:""},{id:"mind",name:"Mente y Psicologa",icon:"brain",color:"bg-gradient-to-br from-purple-600 to-indigo-800",rss:""},{id:"love",name:"Amor, Sexo y Relaciones",icon:"heart",color:"bg-gradient-to-br from-rose-500 to-red-700",rss:""},{id:"health",name:"Salud y Bienestar",icon:"activity",color:"bg-gradient-to-br from-teal-500 to-emerald-600",rss:""},{id:"business",name:"Liderazgo y Negocios",icon:"briefcase",color:"bg-gradient-to-br from-slate-700 to-slate-900",rss:""},{id:"history",name:"Historia y Cultura",icon:"scroll-text",color:"bg-gradient-to-br from-amber-600 to-orange-800",rss:""},{id:"spirituality",name:"Espiritualidad y Filosofa",icon:"sun",color:"bg-gradient-to-br from-violet-500 to-purple-700",rss:""}],RM="episode_ratings",CM=async e=>{if(!nr)return null;try{const t=V2(nr,RM,btoa(e).substring(0,50)),n=await Kk(t);return n.exists()?n.data():null}catch(t){return console.error("Error fetching episode rating:",t),null}},h7=async(e=5)=>{if(!nr)return[];try{const t=F2(D2(nr,RM),sA("average","desc"),sA("count","desc"),qk(e));return(await Qk(t)).docs.map(s=>s.data())}catch(t){return console.error("Error fetching top ratings:",t),[]}},f7=Object.freeze(Object.defineProperty({__proto__:null,getEpisodeRating:CM,getTopRatedEpisodes:h7},Symbol.toStringTag,{value:"Module"})),d7=({data:e,onClick:t})=>S.jsxs("button",{onClick:t,className:"flex-shrink-0 w-48 group text-left focus:outline-none",children:[S.jsxs("div",{className:"relative aspect-[4/5] rounded-[40px] overflow-hidden mb-4 border-app border bg-surface shadow-lg group-hover:shadow-indigo-500/20 transition-all duration-500",children:[S.jsx("img",{src:e.image,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",alt:e.title}),S.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-60 group-hover:opacity-80 transition-opacity"}),S.jsxs("div",{className:"absolute top-4 left-4 bg-white/10 backdrop-blur-md border border-white/20 px-3 py-1.5 rounded-2xl flex items-center gap-1.5 shadow-xl",children:[S.jsx(l0,{size:12,className:"text-amber-400 fill-amber-400"}),S.jsx("span",{className:"text-[11px] font-black text-white",children:e.average.toFixed(1)})]}),S.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-500 scale-75 group-hover:scale-100",children:S.jsx("div",{className:"w-14 h-14 bg-white rounded-full flex items-center justify-center text-indigo-600 shadow-2xl",children:S.jsx(Kl,{size:24,fill:"currentColor",className:"ml-1"})})}),S.jsx("div",{className:"absolute bottom-4 left-4",children:S.jsxs("span",{className:"text-[8px] font-black text-white/50 uppercase tracking-[0.2em]",children:[e.count," valoraciones"]})})]}),S.jsx("div",{className:"px-2",children:S.jsx("h3",{className:"text-sm font-black text-primary line-clamp-2 leading-tight tracking-tight group-hover:text-indigo-500 transition-colors",children:e.title})})]}),m7="modulepreload",p7=function(e){return"/"+e},sx={},g7=function(t,n,s){let a=Promise.resolve();if(n&&n.length>0){let c=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),d=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));a=c(n.map(p=>{if(p=p7(p),p in sx)return;sx[p]=!0;const y=p.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const T=document.createElement("link");if(T.rel=y?"stylesheet":m7,y||(T.as="script"),T.crossOrigin="",T.href=p,d&&T.setAttribute("nonce",d),document.head.appendChild(T),y)return new Promise((A,M)=>{T.addEventListener("load",A),T.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return t().catch(l)})},zr=(e,t)=>{if(!e)return"";const n=Array.isArray(t)?t:[t];for(const s of n){let a=e.getElementsByTagName(s);if(a&&a.length>0&&a[0].textContent)return a[0].textContent.trim();const l=s.includes(":")?s.split(":")[1]:s;if(a=e.getElementsByTagName(l),a&&a.length>0&&a[0].textContent)return a[0].textContent.trim()}return""},y7=e=>{if(!e)return"";if(!e.includes(":")){const t=parseInt(e,10);if(!isNaN(t)){const n=Math.floor(t/3600),s=Math.floor(t%3600/60),a=t%60;return n>0?`${n}:${s.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`:`${s}:${a.toString().padStart(2,"0")}`}}return e},v7=e=>{const t=e.replace(/^\uFEFF/,"").trim(),s=new DOMParser().parseFromString(t,"text/xml");if(s.querySelector("parsererror"))throw new Error("El servidor devolvi un formato incompatible.");const a=s.querySelector("channel")||s.getElementsByTagName("channel")[0];if(!a)throw new Error("No se encontr contenido vlido en este canal.");const l=Array.from(a.querySelectorAll("item")),c=a.getElementsByTagName("itunes:image"),h=(c.length>0?c[0].getAttribute("href"):"")||"",d=l.map(p=>{const y=p.querySelector("enclosure"),v=p.getElementsByTagName("media:content")[0],T=(y==null?void 0:y.getAttribute("url"))||(v==null?void 0:v.getAttribute("url"))||"",A=p.getElementsByTagName("itunes:image"),M=(A.length>0?A[0].getAttribute("href"):"")||h,C=zr(p,["itunes:duration","duration"]),D=zr(p,["itunes:summary","content:encoded","description","itunes:subtitle"]);return{guid:zr(p,["guid","link"])||Math.random().toString(36).substring(7),title:zr(p,["title","itunes:title"]),description:D.replace(/<[^>]*>?/gm,"").substring(0,1500),contentSnippet:D,pubDate:zr(p,"pubDate"),image:M,duration:y7(C),enclosure:{url:T,length:(y==null?void 0:y.getAttribute("length"))||"0",type:(y==null?void 0:y.getAttribute("type"))||"audio/mpeg"}}}).filter(p=>p.enclosure.url&&p.title);return{title:zr(a,["title","itunes:title"]),description:zr(a,["description","itunes:summary"]),image:h,author:zr(a,["itunes:author","author"])||"TEOVOZ",episodes:d}},yu=async e=>{const t=`${e}${e.includes("?")?"&":"?"}t=${Date.now()}`,n=[a=>`https://corsproxy.io/?${encodeURIComponent(a)}`,a=>`https://api.allorigins.win/raw?url=${encodeURIComponent(a)}`,a=>`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(a)}`];let s=null;for(const a of n)try{const l=await fetch(a(t));if(!l.ok)continue;const c=await l.text();if(!c||c.trim()==="Not Found"||!c.includes("<channel>"))continue;return v7(c)}catch(l){s=l;continue}throw s||new Error("No se pudo obtener el podcast. Por favor, reintenta en unos segundos.")},X_=1e3*60*5,_7=e=>cm({queryKey:["podcast",e],queryFn:()=>yu(e),staleTime:X_,retry:2}),T7=()=>cm({queryKey:["topRated"],queryFn:async()=>{const{getTopRatedEpisodes:e}=await g7(async()=>{const{getTopRatedEpisodes:t}=await Promise.resolve().then(()=>f7);return{getTopRatedEpisodes:t}},[]);return e(8)},staleTime:X_}),E7=()=>cm({queryKey:["categoryCounts"],queryFn:async()=>{const e=So.filter(n=>n.rss);return(await Promise.all(e.map(async n=>{try{const s=await yu(n.rss);return{id:n.id,count:s.episodes.length}}catch{return{id:n.id,count:0}}}))).reduce((n,s)=>(n[s.id]=s.count,n),{})},staleTime:X_*2}),b7=()=>cm({queryKey:["recommendation"],queryFn:async()=>{const e=So.filter(s=>s.rss),t=e[Math.floor(Math.random()*e.length)],n=await yu(t.rss);return n.episodes.length>0?n.episodes[Math.floor(Math.random()*n.episodes.length)]:null},staleTime:1/0,refetchOnMount:!1,refetchOnWindowFocus:!1}),S7=({onCategorySelect:e,onEpisodeSelect:t,listenedCount:n,lastPlayed:s})=>{const{data:a=[],isLoading:l}=T7(),{data:c={},isLoading:h}=E7(),{data:d,isLoading:p}=b7(),{data:y}=_7(So[0].rss),v=(y==null?void 0:y.episodes)||[],[T,A]=O.useState(1),[M,C]=O.useState(null),D=l||h||p;return O.useEffect(()=>{if(d){(async()=>{const U=await CM(d.guid);U&&C({average:U.average,count:U.count})})();const q=KC(d.guid,U=>{A(Math.max(1,U))});return()=>q()}},[d]),D?S.jsxs("div",{className:"py-6 px-6 space-y-8 animate-in fade-in duration-300",children:[S.jsx(xn,{className:"w-full h-32 rounded-[32px]"}),S.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[S.jsx(xn,{className:"h-32 rounded-[32px]"}),S.jsx(xn,{className:"h-32 rounded-[32px]"})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx(xn,{className:"h-4 w-32"}),S.jsxs("div",{className:"flex gap-4 overflow-hidden -mx-6 px-6",children:[S.jsx(xn,{className:"w-48 h-64 flex-shrink-0 rounded-[40px]"}),S.jsx(xn,{className:"w-48 h-64 flex-shrink-0 rounded-[40px]"})]})]})]}):S.jsxs("div",{className:"animate-in fade-in duration-300 py-6",children:[d&&S.jsx("div",{className:"px-6 mb-8",children:S.jsxs("button",{onClick:()=>t(d),className:"w-full relative overflow-hidden rounded-[32px] p-5 text-left transition-all hover:scale-[1.01] active:scale-95 group shadow-xl shadow-indigo-500/10 border border-white/5",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600 to-violet-800 z-0"}),S.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/10 rounded-full -mr-10 -mt-10 blur-2xl group-hover:bg-white/20 transition-all duration-1000"}),S.jsxs("div",{className:"relative z-10 flex items-center justify-between gap-4",children:[S.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[S.jsxs("div",{className:"relative w-16 h-16 flex-shrink-0",children:[S.jsx("img",{src:d.image,className:"w-full h-full object-cover rounded-2xl border border-white/20 shadow-lg transform group-hover:scale-105 transition-transform",alt:"Rec"}),S.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white text-indigo-600 p-1 rounded-md shadow-lg",children:S.jsx(mm,{size:10,className:"animate-pulse"})})]}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("span",{className:"text-[7px] font-black uppercase tracking-[0.3em] text-white/60 mb-1 block",children:"Recomendado por TEOVOZ"}),S.jsx("h3",{className:"text-base font-black text-white leading-tight mb-2 line-clamp-1 tracking-tight",children:d.title}),S.jsxs("div",{className:"bg-white/20 backdrop-blur-md text-white px-3 py-1.5 rounded-xl font-black text-[8px] uppercase tracking-widest inline-flex items-center gap-1.5 border border-white/10 group-hover:bg-white group-hover:text-indigo-600 transition-colors",children:[S.jsx(Kl,{size:8,fill:"currentColor"})," Escuchar ahora"]})]})]}),S.jsxs("div",{className:"flex flex-col justify-center items-end border-l border-white/15 pl-4 py-1 flex-shrink-0 h-16 min-w-[70px]",children:[S.jsxs("div",{className:"flex flex-col items-end",children:[S.jsxs("div",{className:"flex items-center gap-1.5 text-emerald-400",children:[S.jsx("span",{className:"text-sm font-black tabular-nums tracking-tighter leading-none",children:T}),S.jsx(FO,{size:14,strokeWidth:2.5})]}),S.jsx("span",{className:"text-[6px] font-black text-white/50 uppercase tracking-[0.15em] mt-0.5 leading-none",children:"Oyentes"})]}),S.jsx("div",{className:"h-2"}),S.jsxs("div",{className:"flex flex-col items-end",children:[S.jsxs("div",{className:"flex items-center gap-1.5 text-amber-400",children:[S.jsx("span",{className:"text-sm font-black tabular-nums tracking-tighter leading-none",children:(M==null?void 0:M.average.toFixed(1))||"5.0"}),S.jsx(l0,{size:14,fill:"currentColor"})]}),S.jsx("span",{className:"text-[6px] font-black text-white/50 uppercase tracking-[0.15em] mt-0.5 leading-none",children:"Rating"})]})]})]})]})}),S.jsx("div",{className:"px-6 mb-10",children:S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{className:"bg-surface border-app border rounded-[32px] p-5 flex flex-col gap-3 shadow-sm shadow-black/5",children:[S.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-indigo-600/10",children:S.jsx(rO,{size:20})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.2em] text-muted mb-1 leading-none",children:"Mi Progreso"}),S.jsxs("div",{className:"flex items-baseline gap-1.5",children:[S.jsx("span",{className:"text-2xl font-black text-primary tracking-tighter",children:n}),S.jsx("span",{className:"text-[9px] font-bold text-muted uppercase tracking-widest",children:"Temas"})]})]})]}),S.jsxs("button",{onClick:()=>s&&t(s),disabled:!s,className:`bg-surface border-app border rounded-[32px] p-5 flex flex-col gap-3 shadow-sm shadow-black/5 text-left transition-all ${s?"hover:border-indigo-500/50 active:scale-95 group":"opacity-50"}`,children:[S.jsx("div",{className:"w-10 h-10 bg-amber-500/10 rounded-xl flex items-center justify-center text-amber-500 group-hover:bg-amber-500 group-hover:text-white transition-colors",children:S.jsx(iO,{size:20})}),S.jsxs("div",{className:"truncate w-full",children:[S.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.2em] text-muted mb-1 leading-none",children:"Continuar"}),S.jsx("p",{className:"text-[10px] font-bold text-primary truncate tracking-tight",children:s?s.title:"Nada an"})]})]})]})}),a.length>0&&S.jsxs("div",{className:"mb-10",children:[S.jsxs("div",{className:"px-6 flex items-center justify-between mb-5",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"p-2 bg-amber-500/10 rounded-lg text-amber-500 shadow-sm",children:S.jsx(zO,{size:16})}),S.jsx("h2",{className:"text-[10px] font-black text-muted uppercase tracking-[0.25em]",children:"Los ms valorados"})]}),S.jsx("div",{className:"h-[1px] flex-1 bg-app ml-3"})]}),S.jsx("div",{className:"flex overflow-x-auto gap-4 no-scrollbar pb-4 px-6",children:a.map(j=>S.jsx(d7,{data:j,onClick:()=>{const q=v.find(U=>U.guid===j.guid);t(q||{guid:j.guid,title:j.title,image:j.image,description:"Cargando detalles...",pubDate:new Date().toISOString(),enclosure:{url:"",length:"0",type:"audio/mpeg"}})}},j.guid))})]}),S.jsxs("div",{className:"px-6 mb-5 flex items-center gap-2",children:[S.jsx("h2",{className:"text-[10px] font-black text-muted uppercase tracking-[0.25em]",children:"Bibliotecas"}),S.jsx("div",{className:"h-[1px] flex-1 bg-app"})]}),S.jsx(c7,{categories:So,onSelect:e,counts:c})]})},IM=({initialRating:e=0,onRate:t,interactive:n=!1,size:s=16,showCount:a})=>{const[l,c]=O.useState(0),h=n&&l>0?l:e;return S.jsxs("div",{className:"flex items-center gap-1.5",children:[S.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(d=>S.jsx("button",{disabled:!n,onMouseEnter:()=>n&&c(d),onMouseLeave:()=>n&&c(0),onClick:p=>{p.stopPropagation(),n&&t&&t(d)},className:`transition-all duration-200 ${n?"hover:scale-125 active:scale-90":""}`,children:S.jsx(l0,{size:s,strokeWidth:2,className:`${d<=h?"text-amber-400 fill-amber-400 shadow-amber-500/50":"text-slate-700"}`})},d))}),a!==void 0&&S.jsxs("span",{className:"text-[10px] font-bold text-slate-500 bg-slate-800/50 px-1.5 py-0.5 rounded ml-1",children:[e.toFixed(1)," (",a,")"]})]})},A7=O.memo(({episode:e,onPlay:t,onToggleFavorite:n,onRate:s,userRating:a,isFavorite:l,isListened:c,isActive:h,podcastImage:d,showPodcastTitle:p})=>{const y=e.image||d||"";return S.jsx("div",{onClick:()=>t(e),className:`group relative bg-surface border border-app hover:border-indigo-500/30 rounded-2xl p-4 transition-all active:scale-[0.98] cursor-pointer ${h?"border-indigo-500/50":""}`,children:S.jsxs("div",{className:"flex gap-4 items-center",children:[S.jsxs("div",{className:"relative flex-shrink-0 w-20 h-20 rounded-xl overflow-hidden bg-app border border-app",children:[S.jsx("img",{src:y,alt:e.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",loading:"lazy"}),S.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/40 flex items-center justify-center transition-colors",children:S.jsx(Kl,{size:18,className:"text-white opacity-0 group-hover:opacity-100 transition-opacity",fill:"currentColor"})})]}),S.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[S.jsxs("div",{className:"flex items-center gap-2 text-[9px] font-black text-muted uppercase tracking-widest mb-1",children:[c&&S.jsxs("span",{className:"flex items-center gap-1 text-emerald-500 bg-emerald-500/10 px-1.5 py-0.5 rounded",children:[S.jsx(Wx,{size:10}),"VISTO"]}),p&&e.contentSnippet&&S.jsx("span",{className:"text-indigo-500 truncate max-w-[120px]",children:e.contentSnippet.split("|||")[1]||"Podcast"}),S.jsx("span",{children:""}),S.jsx("span",{children:new Date(e.pubDate).toLocaleDateString(void 0,{day:"numeric",month:"short"})})]}),S.jsx("h3",{className:`font-bold text-sm leading-tight line-clamp-2 mb-2 ${h?"text-indigo-500":"text-primary"}`,children:e.title}),S.jsx(IM,{interactive:a===0,initialRating:a,onRate:v=>s&&s(e,v),size:14})]}),S.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n&&S.jsx("button",{onClick:v=>{v.stopPropagation(),n(e)},className:`p-2 rounded-full transition-colors ${l?"text-red-500 bg-red-500/10":"text-muted hover:text-primary"}`,children:S.jsx(au,{size:18,fill:l?"currentColor":"none"})}),S.jsx(Zx,{size:16,className:"text-muted group-hover:text-indigo-400 transition-colors"})]})]})})}),Bm=O.memo(({episodes:e,onPlay:t,onToggleFavorite:n,onRate:s,userRatings:a={},favorites:l=new Set,listened:c=new Set,currentEpisodeId:h,emptyMessage:d="No hay episodios disponibles.",podcastImage:p,showPodcastTitle:y=!1})=>e.length===0?S.jsx("div",{className:"text-center py-12 text-muted",children:S.jsx("p",{children:d})}):S.jsx("div",{className:"space-y-4 pb-32",children:e.map(v=>S.jsx(A7,{episode:v,onPlay:t,onToggleFavorite:n,onRate:s,userRating:a[v.guid]||0,isFavorite:l.has(v.guid),isListened:c.has(v.guid),isActive:h===v.guid,podcastImage:p,showPodcastTitle:y},v.guid))})),rx=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim(),ax=(e,t)=>{const n=rx(e),s=rx(t);if(n.includes(s))return!0;if(s.length<4)return!1;let a=0,l=0;for(let h=0;h<s.length&&l<n.length;h++)s[h]!==n[l]&&(a++,s[h]===n[l+1]&&l++),l++;const c=s.length>6?2:1;return a<=c},w7=({onEpisodeSelect:e,favorites:t,listened:n})=>{const[s,a]=O.useState(""),[l,c]=O.useState([]),[h,d]=O.useState(!1);O.useEffect(()=>{(async()=>{d(!0);try{const v=So.filter(M=>M.rss).slice(0,5),A=(await Promise.all(v.map(M=>yu(M.rss)))).flatMap(M=>M.episodes.map(C=>({...C,contentSnippet:`${C.contentSnippet||""}|||${M.title}`})));c(A.sort((M,C)=>new Date(C.pubDate).getTime()-new Date(M.pubDate).getTime()))}catch(v){console.error(v)}finally{d(!1)}})()},[]);const p=O.useMemo(()=>!s||s.length<2?l.slice(0,15):l.filter(y=>{const v=ax(y.title,s),T=y.description&&ax(y.description.substring(0,100),s);return v||T}).slice(0,30),[s,l]);return S.jsxs("div",{className:"animate-in fade-in duration-300 px-6",children:[S.jsx("div",{className:"sticky top-0 bg-app z-30 py-4 mb-6",children:S.jsxs("div",{className:"relative group",children:[S.jsx(eR,{className:`absolute left-4 top-1/2 -translate-y-1/2 transition-colors ${s?"text-indigo-500":"text-muted"}`,size:20}),S.jsx("input",{type:"text",placeholder:"Libros, autores o temas...",value:s,onChange:y=>a(y.target.value),className:"w-full bg-surface border-app border rounded-2xl py-4 pl-12 pr-4 text-primary focus:outline-none focus:border-indigo-500 transition-all shadow-lg shadow-black/10 text-base"}),s&&S.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-2",children:S.jsx("span",{className:"text-[8px] font-black text-indigo-500 uppercase tracking-widest bg-indigo-500/10 px-2 py-1 rounded-md animate-pulse",children:"Bsqueda Inteligente"})})]})}),h&&l.length===0?S.jsx("div",{className:"space-y-4",children:[1,2,3,4,5,6].map(y=>S.jsx(g_,{},y))}):S.jsxs("div",{className:"relative",children:[s&&p.length>0&&S.jsxs("div",{className:"flex items-center gap-2 mb-4 px-2",children:[S.jsx(mm,{size:12,className:"text-indigo-500"}),S.jsxs("p",{className:"text-[10px] font-black text-muted uppercase tracking-widest",children:["Resultados encontrados (",p.length,")"]})]}),S.jsx(Bm,{episodes:p,onPlay:e,favorites:t,listened:n,showPodcastTitle:!0,emptyMessage:s?`No encontramos nada parecido a "${s}". Prueba con otra palabra.`:"Cargando biblioteca..."})]})]})},x7=({episodes:e,onEpisodeSelect:t,favorites:n,listened:s})=>S.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500 px-6",children:[S.jsxs("div",{className:"mb-10 mt-2",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[S.jsx(au,{className:"text-red-500 fill-red-500",size:24}),S.jsx("h2",{className:"text-3xl font-black text-primary uppercase tracking-tighter",children:"Tus Favoritos"})]}),S.jsxs("p",{className:"text-xs text-muted font-bold uppercase tracking-widest",children:[e.length," episodios guardados en tu biblioteca"]})]}),S.jsx(Bm,{episodes:e,onPlay:t,favorites:n,listened:s,emptyMessage:"An no tienes episodios favoritos. Explora las categoras para aadir contenido."})]}),R7=({onEpisodeSelect:e,viewedGuids:t,setViewedGuids:n,listened:s})=>{const[a,l]=O.useState([]),[c,h]=O.useState(!0);O.useEffect(()=>{(async()=>{h(!0);try{const y=await yu(So[0].rss);l(y.episodes.slice(0,15));const v=new Set(t);y.episodes.slice(0,15).forEach(T=>v.add(T.guid)),n(v)}catch(y){console.error(y)}finally{h(!1)}})()},[]);const d=()=>{window.location.href="http://action_notifications"};return c?S.jsx("div",{className:"px-6 py-6",children:S.jsx(vU,{})}):S.jsxs("div",{className:"animate-in fade-in slide-in-from-right duration-500 px-6 py-6",children:[S.jsxs("div",{className:"mb-10 mt-2",children:[S.jsx("div",{className:"flex items-center justify-between mb-2",children:S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsxs("div",{className:"relative",children:[S.jsx(Xx,{className:"text-indigo-500",size:24}),S.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-indigo-500 rounded-full animate-ping"})]}),S.jsx("h2",{className:"text-3xl font-black text-primary uppercase tracking-tighter",children:"Novedades"})]})}),S.jsx("p",{className:"text-xs text-muted font-bold uppercase tracking-widest",children:"Lo ltimo en TEOVOZ"})]}),S.jsx("div",{className:"mb-8",children:S.jsxs("button",{onClick:d,className:"w-full bg-indigo-600 rounded-[32px] p-6 flex items-center justify-between shadow-xl shadow-indigo-600/20 active:scale-95 transition-all text-left",children:[S.jsxs("div",{className:"flex items-start gap-4",children:[S.jsx("div",{className:"p-3 bg-white/20 rounded-2xl text-white",children:S.jsx(pO,{size:24})}),S.jsxs("div",{children:[S.jsx("h4",{className:"text-white font-black text-lg leading-none mb-2",children:"Buzn de Respuestas"}),S.jsx("p",{className:"text-white/70 text-xs font-medium",children:"Mira aqu si hemos respondido a tus pedidos de libros."})]})]}),S.jsx(Zx,{size:24,className:"text-white/50"})]})}),S.jsxs("div",{className:"bg-surface border border-app rounded-3xl p-6 mb-8 flex items-start gap-4",children:[S.jsx("div",{className:"p-3 bg-indigo-500/10 rounded-2xl text-indigo-500",children:S.jsx(mm,{size:20})}),S.jsxs("div",{children:[S.jsx("h4",{className:"text-sm font-bold text-primary mb-1 tracking-tight",children:"Contenido nuevo cada da!"}),S.jsx("p",{className:"text-xs text-muted leading-relaxed",children:"Sumamos nuevos resmenes diariamente. No te pierdas nada."})]})]}),S.jsxs("div",{className:"mb-6",children:[S.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-muted mb-4",children:"ltimos Lanzamientos"}),S.jsx(Bm,{episodes:a,onPlay:e,favorites:new Set,listened:s,showPodcastTitle:!0})]})]})},C7=()=>S.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500 px-6 pb-20 py-6",children:[S.jsxs("div",{className:"text-center py-10",children:[S.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-indigo-600 to-violet-600 rounded-[32px] flex items-center justify-center shadow-2xl shadow-indigo-500/30 mb-6 mx-auto transform rotate-6",children:S.jsx(Jx,{className:"text-white",size:48})}),S.jsxs("h1",{className:"text-4xl font-black text-primary mb-1 tracking-tighter",children:["TEO",S.jsx("span",{className:"text-indigo-500",children:"VOZ"})]}),S.jsx("p",{className:"text-[10px] text-muted font-bold uppercase tracking-[0.4em]",children:"Premium v1.1.0"})]}),S.jsxs("div",{className:"space-y-12 max-w-xl mx-auto",children:[S.jsxs("section",{className:"space-y-4",children:[S.jsxs("div",{className:"flex items-center gap-2 text-indigo-500",children:[S.jsx(jO,{size:18}),S.jsx("h3",{className:"font-black uppercase text-xs tracking-widest",children:"Nuestra Visin"})]}),S.jsxs("div",{className:"text-muted text-sm leading-relaxed space-y-4 font-medium bg-surface p-6 rounded-[32px] border border-app",children:[S.jsx("p",{children:"En un mundo que nunca se detiene, TeoVoz nace para ser el puente entre las ideas ms grandes y tu apretada agenda."}),S.jsxs("p",{children:["Transformamos los libros ms influyentes en experiencias de audio inmersivas de ",S.jsx("span",{className:"text-primary font-bold",children:"15 minutos"}),"."]})]})]}),S.jsxs("section",{className:"space-y-4",children:[S.jsxs("div",{className:"flex items-center gap-2 text-indigo-500",children:[S.jsx(mm,{size:18}),S.jsx("h3",{className:"font-black uppercase text-xs tracking-widest",children:"Qu es TeoVoz?"})]}),S.jsx("div",{className:"grid gap-3",children:[{t:" Conciso",d:"Solo las ideas que realmente importan."},{t:" Prctico",d:"Incluye el Reto TeoVoz para aplicar hoy."},{t:" Humano",d:"Narraciones que se sienten como un mentor."}].map((e,t)=>S.jsxs("div",{className:"bg-surface p-4 rounded-2xl border border-app",children:[S.jsx("p",{className:"text-primary font-bold text-xs mb-1",children:e.t}),S.jsx("p",{className:"text-muted text-xs",children:e.d})]},t))})]}),S.jsxs("div",{className:"text-center pt-10 border-t border-app",children:[S.jsxs("div",{className:"flex items-center justify-center gap-1.5 text-indigo-500 font-black bg-indigo-500/10 px-6 py-3 rounded-full border border-indigo-500/20 w-fit mx-auto mb-4",children:[S.jsx(au,{size:16,fill:"currentColor",className:"animate-pulse"}),"Escucha. Aprende. Crece."]}),S.jsx("p",{className:"text-[10px] text-muted font-black uppercase tracking-[0.2em]",children:"Creado con amor por MigoCreativo"})]})]})]}),I7=({category:e,onEpisodeSelect:t,favorites:n,listened:s,currentEpisodeId:a})=>{const[l,c]=O.useState(null),[h,d]=O.useState(!0);return O.useEffect(()=>{const p=async()=>{d(!0);try{const y=await yu(e.rss);c(y)}catch(y){console.error(y)}finally{d(!1)}};e.rss&&p()},[e]),S.jsxs("div",{className:"animate-in fade-in slide-in-from-right duration-300 px-6",children:[S.jsxs("div",{className:"mb-8 mt-2",children:[S.jsx("h2",{className:"text-3xl font-black text-primary uppercase tracking-tighter mb-2",children:e.name}),S.jsxs("p",{className:"text-xs text-muted font-bold uppercase tracking-widest",children:[(l==null?void 0:l.episodes.length)||0," Episodios disponibles"]})]}),h?S.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(p=>S.jsx(g_,{},p))}):S.jsx(Bm,{episodes:(l==null?void 0:l.episodes)||[],onPlay:t,favorites:n,listened:s,currentEpisodeId:a,podcastImage:l==null?void 0:l.image})]})},M7=({episode:e,currentEpisode:t,onPlay:n,favorites:s,onToggleFavorite:a})=>{const l=(t==null?void 0:t.guid)===e.guid,c=s.has(e.guid),h=()=>{const d="https://play.google.com/store/apps/details?id=com.teovoz.app",p=e.description.replace(/<[^>]*>?/gm,"").trim(),y=p.length>180?p.substring(0,177)+"...":p,v=` TEOVOZ: ${e.title}

"${y}"

 Escucha el resumen completo descargando la App original en Google Play:
${d}`;if(navigator.share)navigator.share({title:e.title,text:v}).catch(console.error);else{const T=`https://api.whatsapp.com/send?text=${encodeURIComponent(v)}`;window.open(T,"_blank")}};return S.jsx("div",{className:"animate-in fade-in slide-in-from-right duration-500 pb-32",children:S.jsxs("div",{className:"px-6 flex flex-col items-center",children:[S.jsxs("div",{className:"relative w-full max-w-sm aspect-square rounded-[48px] overflow-hidden shadow-2xl mb-10 border-app border group",children:[S.jsx("img",{src:e.image,className:"w-full h-full object-cover transform transition-transform duration-[2000ms] group-hover:scale-110",alt:e.title}),S.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 group-hover:bg-black/40 transition-all duration-500",children:S.jsx("button",{onClick:()=>n(e),className:`w-28 h-28 rounded-full backdrop-blur-xl border border-white/30 flex items-center justify-center text-white shadow-2xl transform transition-all duration-500 hover:scale-110 active:scale-95 ${l?"bg-indigo-600":"bg-white/20"}`,children:S.jsx(Kl,{size:44,fill:"currentColor",className:`ml-2 ${l?"animate-pulse":""}`})})})]}),S.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[S.jsxs("button",{onClick:()=>a(e),className:`flex items-center gap-2 px-6 py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest transition-all active:scale-95 ${c?"bg-red-500 text-white shadow-lg shadow-red-500/20":"bg-surface border border-app text-primary"}`,children:[S.jsx(au,{size:16,fill:c?"currentColor":"none"}),c?"Guardado":"Favorito"]}),S.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-6 py-3 rounded-2xl bg-indigo-600 text-white font-black text-[10px] uppercase tracking-widest shadow-lg shadow-indigo-600/20 active:scale-95 transition-all",children:[S.jsx(nR,{size:16}),"Compartir"]})]}),S.jsxs("div",{className:"w-full max-w-2xl text-center",children:[S.jsxs("div",{className:"flex flex-col items-center gap-2 mb-8 bg-surface p-6 rounded-[32px] border border-app",children:[S.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-muted",children:"Valoracin de la comunidad"}),S.jsx(IM,{interactive:!0,size:24})]}),S.jsx("h2",{className:"text-3xl sm:text-5xl font-black text-primary mb-6 leading-tight tracking-tighter",children:e.title}),S.jsx("div",{className:"prose prose-invert max-w-none text-left",children:S.jsx("div",{className:"text-muted text-lg leading-relaxed whitespace-pre-line bg-surface p-10 rounded-[40px] border border-app shadow-sm",children:e.description})})]})]})})},N7=()=>S.jsx(t4,{children:S.jsxs(fs,{path:"/",element:S.jsx(l7,{}),children:[S.jsx(fs,{index:!0,element:S.jsx(D7,{})}),S.jsx(fs,{path:"search",element:S.jsx(V7,{})}),S.jsx(fs,{path:"favorites",element:S.jsx(O7,{})}),S.jsx(fs,{path:"notifications",element:S.jsx(P7,{})}),S.jsx(fs,{path:"settings",element:S.jsx(C7,{})}),S.jsx(fs,{path:"category/:id",element:S.jsx(k7,{})}),S.jsx(fs,{path:"episode/:guid",element:S.jsx(L7,{})}),S.jsx(fs,{path:"*",element:S.jsx(qx,{to:"/",replace:!0})})]})}),D7=()=>{const{playEpisode:e,listenedGuids:t,currentEpisode:n}=Io(),s=fm();return S.jsx(S7,{onCategorySelect:a=>s(`/category/${a.id}`),onEpisodeSelect:a=>e(a),listenedCount:t.length,lastPlayed:n})},V7=()=>{const{playEpisode:e,favorites:t,listenedGuids:n}=Io();return S.jsx(w7,{onEpisodeSelect:s=>e(s),favorites:new Set(t.map(s=>s.guid)),listened:new Set(n)})},O7=()=>{const{playEpisode:e,favorites:t,listenedGuids:n}=Io();return S.jsx(x7,{episodes:t,onEpisodeSelect:s=>e(s),favorites:new Set(t.map(s=>s.guid)),listened:new Set(n)})},P7=()=>{const{playEpisode:e,viewedNotifications:t,markNotificationViewed:n,listenedGuids:s}=Io();return S.jsx(R7,{onEpisodeSelect:a=>e(a),viewedGuids:new Set(t),setViewedGuids:a=>{},listened:new Set(s)})},k7=()=>{const{id:e}=Ux(),{playEpisode:t,favorites:n,listenedGuids:s,currentEpisode:a}=Io(),l=So.find(c=>c.id===e);return l?S.jsx(I7,{category:l,onEpisodeSelect:c=>t(c),favorites:new Set(n.map(c=>c.guid)),listened:new Set(s),currentEpisodeId:a==null?void 0:a.guid}):S.jsx(qx,{to:"/"})},L7=()=>{const{guid:e}=Ux(),{currentEpisode:t,toggleFavorite:n,favorites:s,playEpisode:a}=Io();return!t||t.guid!==e?S.jsx("div",{className:"p-10 text-center",children:"Selecciona un episodio desde el inicio."}):S.jsx(M7,{episode:t,currentEpisode:t,onPlay:a,favorites:new Set(s.map(l=>l.guid)),onToggleFavorite:n})},j7=new BD({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),MM=document.getElementById("root");if(!MM)throw new Error("Could not find root element to mount to");const U7=yD.createRoot(MM);U7.render(S.jsx(Za.StrictMode,{children:S.jsx(qD,{client:j7,children:S.jsx(A4,{children:S.jsx(N7,{})})})}));
