(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function M1(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var kd={exports:{}},El={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function cA(){if(v_)return El;v_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:a,type:s,key:f,ref:o!==void 0?o:null,props:c}}return El.Fragment=t,El.jsx=i,El.jsxs=i,El}var E_;function uA(){return E_||(E_=1,kd.exports=cA()),kd.exports}var E=uA(),jd={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function hA(){if(T_)return Et;T_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),R=Symbol.iterator;function B(O){return O===null||typeof O!="object"?null:(O=R&&O[R]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,Z={};function st(O,$,it){this.props=O,this.context=$,this.refs=Z,this.updater=it||J}st.prototype.isReactComponent={},st.prototype.setState=function(O,$){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,$,"setState")},st.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function et(){}et.prototype=st.prototype;function ct(O,$,it){this.props=O,this.context=$,this.refs=Z,this.updater=it||J}var pt=ct.prototype=new et;pt.constructor=ct,W(pt,st.prototype),pt.isPureReactComponent=!0;var Lt=Array.isArray;function At(){}var I={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(O,$,it){var ot=it.ref;return{$$typeof:a,type:O,key:$,ref:ot!==void 0?ot:null,props:it}}function V(O,$){return C(O.type,$,O.props)}function M(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function j(O){var $={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(it){return $[it]})}var w=/\/+/g;function Ut(O,$){return typeof O=="object"&&O!==null&&O.key!=null?j(""+O.key):$.toString(36)}function le(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(At,At):(O.status="pending",O.then(function($){O.status==="pending"&&(O.status="fulfilled",O.value=$)},function($){O.status==="pending"&&(O.status="rejected",O.reason=$)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,$,it,ot,_t){var wt=typeof O;(wt==="undefined"||wt==="boolean")&&(O=null);var jt=!1;if(O===null)jt=!0;else switch(wt){case"bigint":case"string":case"number":jt=!0;break;case"object":switch(O.$$typeof){case a:case t:jt=!0;break;case T:return jt=O._init,G(jt(O._payload),$,it,ot,_t)}}if(jt)return _t=_t(O),jt=ot===""?"."+Ut(O,0):ot,Lt(_t)?(it="",jt!=null&&(it=jt.replace(w,"$&/")+"/"),G(_t,$,it,"",function(rs){return rs})):_t!=null&&(M(_t)&&(_t=V(_t,it+(_t.key==null||O&&O.key===_t.key?"":(""+_t.key).replace(w,"$&/")+"/")+jt)),$.push(_t)),1;jt=0;var Me=ot===""?".":ot+":";if(Lt(O))for(var se=0;se<O.length;se++)ot=O[se],wt=Me+Ut(ot,se),jt+=G(ot,$,it,wt,_t);else if(se=B(O),typeof se=="function")for(O=se.call(O),se=0;!(ot=O.next()).done;)ot=ot.value,wt=Me+Ut(ot,se++),jt+=G(ot,$,it,wt,_t);else if(wt==="object"){if(typeof O.then=="function")return G(le(O),$,it,ot,_t);throw $=String(O),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return jt}function nt(O,$,it){if(O==null)return O;var ot=[],_t=0;return G(O,ot,"","",function(wt){return $.call(it,wt,_t++)}),ot}function mt(O){if(O._status===-1){var $=O._result;$=$(),$.then(function(it){(O._status===0||O._status===-1)&&(O._status=1,O._result=it)},function(it){(O._status===0||O._status===-1)&&(O._status=2,O._result=it)}),O._status===-1&&(O._status=0,O._result=$)}if(O._status===1)return O._result.default;throw O._result}var Pt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Qt={map:nt,forEach:function(O,$,it){nt(O,function(){$.apply(this,arguments)},it)},count:function(O){var $=0;return nt(O,function(){$++}),$},toArray:function(O){return nt(O,function($){return $})||[]},only:function(O){if(!M(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Et.Activity=S,Et.Children=Qt,Et.Component=st,Et.Fragment=i,Et.Profiler=o,Et.PureComponent=ct,Et.StrictMode=s,Et.Suspense=p,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Et.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Et.cache=function(O){return function(){return O.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(O,$,it){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ot=W({},O.props),_t=O.key;if($!=null)for(wt in $.key!==void 0&&(_t=""+$.key),$)!x.call($,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&$.ref===void 0||(ot[wt]=$[wt]);var wt=arguments.length-2;if(wt===1)ot.children=it;else if(1<wt){for(var jt=Array(wt),Me=0;Me<wt;Me++)jt[Me]=arguments[Me+2];ot.children=jt}return C(O.type,_t,ot)},Et.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Et.createElement=function(O,$,it){var ot,_t={},wt=null;if($!=null)for(ot in $.key!==void 0&&(wt=""+$.key),$)x.call($,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(_t[ot]=$[ot]);var jt=arguments.length-2;if(jt===1)_t.children=it;else if(1<jt){for(var Me=Array(jt),se=0;se<jt;se++)Me[se]=arguments[se+2];_t.children=Me}if(O&&O.defaultProps)for(ot in jt=O.defaultProps,jt)_t[ot]===void 0&&(_t[ot]=jt[ot]);return C(O,wt,_t)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(O){return{$$typeof:m,render:O}},Et.isValidElement=M,Et.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:mt}},Et.memo=function(O,$){return{$$typeof:y,type:O,compare:$===void 0?null:$}},Et.startTransition=function(O){var $=I.T,it={};I.T=it;try{var ot=O(),_t=I.S;_t!==null&&_t(it,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(At,Pt)}catch(wt){Pt(wt)}finally{$!==null&&it.types!==null&&($.types=it.types),I.T=$}},Et.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Et.use=function(O){return I.H.use(O)},Et.useActionState=function(O,$,it){return I.H.useActionState(O,$,it)},Et.useCallback=function(O,$){return I.H.useCallback(O,$)},Et.useContext=function(O){return I.H.useContext(O)},Et.useDebugValue=function(){},Et.useDeferredValue=function(O,$){return I.H.useDeferredValue(O,$)},Et.useEffect=function(O,$){return I.H.useEffect(O,$)},Et.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Et.useId=function(){return I.H.useId()},Et.useImperativeHandle=function(O,$,it){return I.H.useImperativeHandle(O,$,it)},Et.useInsertionEffect=function(O,$){return I.H.useInsertionEffect(O,$)},Et.useLayoutEffect=function(O,$){return I.H.useLayoutEffect(O,$)},Et.useMemo=function(O,$){return I.H.useMemo(O,$)},Et.useOptimistic=function(O,$){return I.H.useOptimistic(O,$)},Et.useReducer=function(O,$,it){return I.H.useReducer(O,$,it)},Et.useRef=function(O){return I.H.useRef(O)},Et.useState=function(O){return I.H.useState(O)},Et.useSyncExternalStore=function(O,$,it){return I.H.useSyncExternalStore(O,$,it)},Et.useTransition=function(){return I.H.useTransition()},Et.version="19.2.3",Et}var b_;function Fm(){return b_||(b_=1,jd.exports=hA()),jd.exports}var ht=Fm();const fA=M1(ht);var zd={exports:{}},Tl={},Ld={exports:{}},Ud={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function dA(){return S_||(S_=1,(function(a){function t(G,nt){var mt=G.length;G.push(nt);t:for(;0<mt;){var Pt=mt-1>>>1,Qt=G[Pt];if(0<o(Qt,nt))G[Pt]=nt,G[mt]=Qt,mt=Pt;else break t}}function i(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var nt=G[0],mt=G.pop();if(mt!==nt){G[0]=mt;t:for(var Pt=0,Qt=G.length,O=Qt>>>1;Pt<O;){var $=2*(Pt+1)-1,it=G[$],ot=$+1,_t=G[ot];if(0>o(it,mt))ot<Qt&&0>o(_t,it)?(G[Pt]=_t,G[ot]=mt,Pt=ot):(G[Pt]=it,G[$]=mt,Pt=$);else if(ot<Qt&&0>o(_t,mt))G[Pt]=_t,G[ot]=mt,Pt=ot;else break t}}return nt}function o(G,nt){var mt=G.sortIndex-nt.sortIndex;return mt!==0?mt:G.id-nt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();a.unstable_now=function(){return f.now()-m}}var p=[],y=[],T=1,S=null,R=3,B=!1,J=!1,W=!1,Z=!1,st=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function pt(G){for(var nt=i(y);nt!==null;){if(nt.callback===null)s(y);else if(nt.startTime<=G)s(y),nt.sortIndex=nt.expirationTime,t(p,nt);else break;nt=i(y)}}function Lt(G){if(W=!1,pt(G),!J)if(i(p)!==null)J=!0,At||(At=!0,j());else{var nt=i(y);nt!==null&&le(Lt,nt.startTime-G)}}var At=!1,I=-1,x=5,C=-1;function V(){return Z?!0:!(a.unstable_now()-C<x)}function M(){if(Z=!1,At){var G=a.unstable_now();C=G;var nt=!0;try{t:{J=!1,W&&(W=!1,et(I),I=-1),B=!0;var mt=R;try{e:{for(pt(G),S=i(p);S!==null&&!(S.expirationTime>G&&V());){var Pt=S.callback;if(typeof Pt=="function"){S.callback=null,R=S.priorityLevel;var Qt=Pt(S.expirationTime<=G);if(G=a.unstable_now(),typeof Qt=="function"){S.callback=Qt,pt(G),nt=!0;break e}S===i(p)&&s(p),pt(G)}else s(p);S=i(p)}if(S!==null)nt=!0;else{var O=i(y);O!==null&&le(Lt,O.startTime-G),nt=!1}}break t}finally{S=null,R=mt,B=!1}nt=void 0}}finally{nt?j():At=!1}}}var j;if(typeof ct=="function")j=function(){ct(M)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Ut=w.port2;w.port1.onmessage=M,j=function(){Ut.postMessage(null)}}else j=function(){st(M,0)};function le(G,nt){I=st(function(){G(a.unstable_now())},nt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return R},a.unstable_next=function(G){switch(R){case 1:case 2:case 3:var nt=3;break;default:nt=R}var mt=R;R=nt;try{return G()}finally{R=mt}},a.unstable_requestPaint=function(){Z=!0},a.unstable_runWithPriority=function(G,nt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var mt=R;R=G;try{return nt()}finally{R=mt}},a.unstable_scheduleCallback=function(G,nt,mt){var Pt=a.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Pt+mt:Pt):mt=Pt,G){case 1:var Qt=-1;break;case 2:Qt=250;break;case 5:Qt=1073741823;break;case 4:Qt=1e4;break;default:Qt=5e3}return Qt=mt+Qt,G={id:T++,callback:nt,priorityLevel:G,startTime:mt,expirationTime:Qt,sortIndex:-1},mt>Pt?(G.sortIndex=mt,t(y,G),i(p)===null&&G===i(y)&&(W?(et(I),I=-1):W=!0,le(Lt,mt-Pt))):(G.sortIndex=Qt,t(p,G),J||B||(J=!0,At||(At=!0,j()))),G},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(G){var nt=R;return function(){var mt=R;R=nt;try{return G.apply(this,arguments)}finally{R=mt}}}})(Ud)),Ud}var A_;function mA(){return A_||(A_=1,Ld.exports=dA()),Ld.exports}var Pd={exports:{}},$e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function gA(){if(w_)return $e;w_=1;var a=Fm();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:y,implementation:T}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$e.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(p,y,null,T)},$e.flushSync=function(p){var y=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=T,s.d.f()}},$e.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},$e.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},$e.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,S=m(T,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:B}):T==="script"&&s.d.X(p,{crossOrigin:S,integrity:R,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$e.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},$e.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=m(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$e.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},$e.requestFormReset=function(p){s.d.r(p)},$e.unstable_batchedUpdates=function(p,y){return p(y)},$e.useFormState=function(p,y,T){return f.H.useFormState(p,y,T)},$e.useFormStatus=function(){return f.H.useHostTransitionStatus()},$e.version="19.2.3",$e}var x_;function pA(){if(x_)return Pd.exports;x_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Pd.exports=gA(),Pd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function yA(){if(R_)return Tl;R_=1;var a=mA(),t=Fm(),i=pA();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(s(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,l=n;;){var h=r.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===r)return p(h),e;if(d===l)return p(h),n;d=d.sibling}throw Error(s(188))}if(r.return!==l.return)r=h,l=d;else{for(var _=!1,b=h.child;b;){if(b===r){_=!0,r=h,l=d;break}if(b===l){_=!0,l=h,r=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===r){_=!0,r=d,l=h;break}if(b===l){_=!0,l=d,r=h;break}b=b.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,R=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),st=Symbol.for("react.profiler"),et=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),pt=Symbol.for("react.forward_ref"),Lt=Symbol.for("react.suspense"),At=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function j(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Ut(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case st:return"Profiler";case Z:return"StrictMode";case Lt:return"Suspense";case At:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case ct:return e.displayName||"Context";case et:return(e._context.displayName||"Context")+".Consumer";case pt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:Ut(e.type)||"Memo";case x:n=e._payload,e=e._init;try{return Ut(e(n))}catch{}}return null}var le=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Pt=[],Qt=-1;function O(e){return{current:e}}function $(e){0>Qt||(e.current=Pt[Qt],Pt[Qt]=null,Qt--)}function it(e,n){Qt++,Pt[Qt]=e.current,e.current=n}var ot=O(null),_t=O(null),wt=O(null),jt=O(null);function Me(e,n){switch(it(wt,n),it(_t,e),it(ot,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?q0(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=q0(n),e=F0(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(ot),it(ot,e)}function se(){$(ot),$(_t),$(wt)}function rs(e){e.memoizedState!==null&&it(jt,e);var n=ot.current,r=F0(n,e.type);n!==r&&(it(_t,e),it(ot,r))}function Js(e){_t.current===e&&($(ot),$(_t)),jt.current===e&&($(jt),pl._currentValue=mt)}var Ws,tr;function li(e){if(Ws===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ws=n&&n[1]||"",tr=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ws+e+tr}var po=!1;function os(e,n){if(!e||po)return"";po=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(F){var P=F}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(F){P=F}e.call(Y.prototype)}}else{try{throw Error()}catch(F){P=F}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(F){if(F&&P&&typeof F.stack=="string")return[F.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var N=_.split(`
`),U=b.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===U.length)for(l=N.length-1,h=U.length-1;1<=l&&0<=h&&N[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==U[h]){var H=`
`+N[l].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=l&&0<=h);break}}}finally{po=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?li(r):""}function yo(e,n){switch(e.tag){case 26:case 27:case 5:return li(e.type);case 16:return li("Lazy");case 13:return e.child!==n&&n!==null?li("Suspense Fallback"):li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return os(e.type,!1);case 11:return os(e.type.render,!1);case 1:return os(e.type,!0);case 31:return li("Activity");default:return""}}function _o(e){try{var n="",r=null;do n+=yo(e,r),r=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _e=Object.prototype.hasOwnProperty,De=a.unstable_scheduleCallback,ha=a.unstable_cancelCallback,jh=a.unstable_shouldYield,ic=a.unstable_requestPaint,en=a.unstable_now,ls=a.unstable_getCurrentPriorityLevel,vo=a.unstable_ImmediatePriority,Eo=a.unstable_UserBlockingPriority,fa=a.unstable_NormalPriority,zh=a.unstable_LowPriority,ac=a.unstable_IdlePriority,sc=a.log,rc=a.unstable_setDisableYieldValue,Hn=null,Pe=null;function Cn(e){if(typeof sc=="function"&&rc(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Hn,e)}catch{}}var fe=Math.clz32?Math.clz32:lc,oc=Math.log,er=Math.LN2;function lc(e){return e>>>=0,e===0?32:31-(oc(e)/er|0)|0}var ci=256,cs=262144,ve=4194304;function ui(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function hi(e,n,r){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=ui(l):(_&=b,_!==0?h=ui(_):r||(r=b&~e,r!==0&&(h=ui(r))))):(b=l&~d,b!==0?h=ui(b):_!==0?h=ui(_):r||(r=l&~e,r!==0&&(h=ui(r)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,r=n&-n,d>=r||d===32&&(r&4194048)!==0)?n:h}function Gn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Lh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cc(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function fi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function us(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Uh(e,n,r,l,h,d){var _=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var b=e.entanglements,N=e.expirationTimes,U=e.hiddenUpdates;for(r=_&~r;0<r;){var H=31-fe(r),Y=1<<H;b[H]=0,N[H]=-1;var P=U[H];if(P!==null)for(U[H]=null,H=0;H<P.length;H++){var F=P[H];F!==null&&(F.lane&=-536870913)}r&=~Y}l!==0&&hs(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~n))}function hs(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-fe(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function To(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-fe(r),h=1<<l;h&n|e[l]&n&&(e[l]|=n),r&=~h}}function bo(e,n){var r=n&-n;return r=(r&42)!==0?1:fs(r),(r&(e.suspendedLanes|n))!==0?0:r}function fs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ui(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function uc(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:f_(e.type))}function Qn(e,n){var r=nt.p;try{return nt.p=e,n()}finally{nt.p=r}}var Kn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Kn,je="__reactProps$"+Kn,di="__reactContainer$"+Kn,nr="__reactEvents$"+Kn,Ph="__reactListeners$"+Kn,hc="__reactHandles$"+Kn,fc="__reactResources$"+Kn,mi="__reactMarker$"+Kn;function ir(e){delete e[Ee],delete e[je],delete e[nr],delete e[Ph],delete e[hc]}function gi(e){var n=e[Ee];if(n)return n;for(var r=e.parentNode;r;){if(n=r[di]||r[Ee]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=X0(e);e!==null;){if(r=e[Ee])return r;e=X0(e)}return n}e=r,r=e.parentNode}return null}function Nn(e){if(e=e[Ee]||e[di]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function yn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function pi(e){var n=e[fc];return n||(n=e[fc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[mi]=!0}var So=new Set,Ao={};function yi(e,n){_i(e,n),_i(e+"Capture",n)}function _i(e,n){for(Ao[e]=n,e=0;e<n.length;e++)So.add(n[e])}var wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xo={},Ro={};function dc(e){return _e.call(Ro,e)?!0:_e.call(xo,e)?!1:wo.test(e)?Ro[e]=!0:(xo[e]=!0,!1)}function ar(e,n,r){if(dc(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function _n(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function be(e,n,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+l)}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function da(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Co(e,n,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){r=""+_,d.call(this,_)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(_){r=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Kt(e){if(!e._valueTracker){var n=da(e)?"checked":"value";e._valueTracker=Co(e,n,""+e[n])}}function ds(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=da(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function vi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ms=/[\n"\\]/g;function on(e){return e.replace(ms,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sr(e,n,r,l,h,d,_,b){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ze(n)):e.value!==""+ze(n)&&(e.value=""+ze(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?No(e,_,ze(n)):r!=null?No(e,_,ze(r)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+ze(b):e.removeAttribute("name")}function mc(e,n,r,l,h,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){Kt(e);return}r=r!=null?""+ze(r):"",n=n!=null?""+ze(n):r,b||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Kt(e)}function No(e,n,r){n==="number"&&vi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function ma(e,n,r,l){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&l&&(e[r].defaultSelected=!0)}else{for(r=""+ze(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function gc(e,n,r){if(n!=null&&(n=""+ze(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+ze(r):""}function ga(e,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(le(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=ze(n),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),Kt(e)}function ln(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var pc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Io(e,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,r):typeof r!="number"||r===0||pc.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Mo(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Io(e,h,l)}else for(var d in n)n.hasOwnProperty(d)&&Io(e,d,n[d])}function rr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function or(e){return pa.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Yn(){}var Do=null;function In(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ya=null,Ei=null;function gs(e){var n=Nn(e);if(n&&(e=n.stateNode)){var r=e[je]||null;t:switch(e=n.stateNode,n.type){case"input":if(sr(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+on(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var h=l[je]||null;if(!h)throw Error(s(90));sr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===e.form&&ds(l)}break t;case"textarea":gc(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ma(e,!!r.multiple,n,!1)}}}var lr=!1;function _a(e,n,r){if(lr)return e(n,r);lr=!0;try{var l=e(n);return l}finally{if(lr=!1,(ya!==null||Ei!==null)&&(uu(),ya&&(n=ya,e=Ei,Ei=ya=null,gs(n),e)))for(n=0;n<e.length;n++)gs(e[n])}}function $n(e,n){var r=e.stateNode;if(r===null)return null;var l=r[je]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ps=!1;if(Mn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){ps=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{ps=!1}var Ti=null,Vo=null,ys=null;function Oo(){if(ys)return ys;var e,n=Vo,r=n.length,l,h="value"in Ti?Ti.value:Ti.textContent,d=h.length;for(e=0;e<r&&n[e]===h[e];e++);var _=r-e;for(l=1;l<=_&&n[r-l]===h[d-l];l++);return ys=h.slice(e,1<l?1-l:void 0)}function _s(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Pi(){return!0}function Xn(){return!1}function Be(e){function n(r,l,h,d,_){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(r=e[b],this[b]=r?r(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Pi:Xn,this.isPropagationStopped=Xn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),n}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=Be(Bi),va=S({},Bi,{view:0,detail:0}),ko=Be(va),Ea,cr,Si,ur=S({},va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ta,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Si&&(Si&&e.type==="mousemove"?(Ea=e.screenX-Si.screenX,cr=e.screenY-Si.screenY):cr=Ea=0,Si=e),Ea)},movementY:function(e){return"movementY"in e?e.movementY:cr}}),jo=Be(ur),vs=S({},ur,{dataTransfer:0}),_c=Be(vs),vc=S({},va,{relatedTarget:0}),Es=Be(vc),zo=S({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ec=Be(zo),hr=S({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tc=Be(hr),bc=S({},Bi,{data:0}),Ai=Be(bc),Sc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ac={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xc(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=wc[e])?!!n[e]:!1}function Ta(){return xc}var nn=S({},va,{key:function(e){if(e.key){var n=Sc[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=_s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ac[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ta,charCode:function(e){return e.type==="keypress"?_s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rc=Be(nn),Cc=S({},ur,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=Be(Cc),u=S({},va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ta}),g=Be(u),v=S({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Be(v),z=S({},ur,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Be(z),tt=S({},Bi,{newState:0,oldState:0}),bt=Be(tt),de=[9,13,27,32],Ft=Mn&&"CompositionEvent"in window,re=null;Mn&&"documentMode"in document&&(re=document.documentMode);var Dn=Mn&&"TextEvent"in window&&!re,wi=Mn&&(!Ft||re&&8<re&&11>=re),Zn=" ",Jn=!1;function Ts(e,n){switch(e){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dr=!1;function Vb(e,n){switch(e){case"compositionend":return fr(n);case"keypress":return n.which!==32?null:(Jn=!0,Zn);case"textInput":return e=n.data,e===Zn&&Jn?null:e;default:return null}}function Ob(e,n){if(dr)return e==="compositionend"||!Ft&&Ts(e,n)?(e=Oo(),ys=Vo=Ti=null,dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return wi&&n.locale!=="ko"?null:n.data;default:return null}}var kb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!kb[e.type]:n==="textarea"}function tp(e,n,r,l){ya?Ei?Ei.push(l):Ei=[l]:ya=l,n=yu(n,"onChange"),0<n.length&&(r=new bi("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var Lo=null,Uo=null;function jb(e){j0(e,0)}function Nc(e){var n=yn(e);if(ds(n))return e}function ep(e,n){if(e==="change")return n}var np=!1;if(Mn){var Bh;if(Mn){var qh="oninput"in document;if(!qh){var ip=document.createElement("div");ip.setAttribute("oninput","return;"),qh=typeof ip.oninput=="function"}Bh=qh}else Bh=!1;np=Bh&&(!document.documentMode||9<document.documentMode)}function ap(){Lo&&(Lo.detachEvent("onpropertychange",sp),Uo=Lo=null)}function sp(e){if(e.propertyName==="value"&&Nc(Uo)){var n=[];tp(n,Uo,e,In(e)),_a(jb,n)}}function zb(e,n,r){e==="focusin"?(ap(),Lo=n,Uo=r,Lo.attachEvent("onpropertychange",sp)):e==="focusout"&&ap()}function Lb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nc(Uo)}function Ub(e,n){if(e==="click")return Nc(n)}function Pb(e,n){if(e==="input"||e==="change")return Nc(n)}function Bb(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var vn=typeof Object.is=="function"?Object.is:Bb;function Po(e,n){if(vn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!_e.call(n,h)||!vn(e[h],n[h]))return!1}return!0}function rp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function op(e,n){var r=rp(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=rp(r)}}function lp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?lp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function cp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=vi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=vi(e.document)}return n}function Fh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var qb=Mn&&"documentMode"in document&&11>=document.documentMode,mr=null,Hh=null,Bo=null,Gh=!1;function up(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gh||mr==null||mr!==vi(l)||(l=mr,"selectionStart"in l&&Fh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Bo&&Po(Bo,l)||(Bo=l,l=yu(Hh,"onSelect"),0<l.length&&(n=new bi("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=mr)))}function bs(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var gr={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},Qh={},hp={};Mn&&(hp=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function Ss(e){if(Qh[e])return Qh[e];if(!gr[e])return e;var n=gr[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in hp)return Qh[e]=n[r];return e}var fp=Ss("animationend"),dp=Ss("animationiteration"),mp=Ss("animationstart"),Fb=Ss("transitionrun"),Hb=Ss("transitionstart"),Gb=Ss("transitioncancel"),gp=Ss("transitionend"),pp=new Map,Kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kh.push("scrollEnd");function Wn(e,n){pp.set(e,n),yi(n,[e])}var Ic=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vn=[],pr=0,Yh=0;function Mc(){for(var e=pr,n=Yh=pr=0;n<e;){var r=Vn[n];Vn[n++]=null;var l=Vn[n];Vn[n++]=null;var h=Vn[n];Vn[n++]=null;var d=Vn[n];if(Vn[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&yp(r,h,d)}}function Dc(e,n,r,l){Vn[pr++]=e,Vn[pr++]=n,Vn[pr++]=r,Vn[pr++]=l,Yh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function $h(e,n,r,l){return Dc(e,n,r,l),Vc(e)}function As(e,n){return Dc(e,null,null,n),Vc(e)}function yp(e,n,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var h=!1,d=e.return;d!==null;)d.childLanes|=r,l=d.alternate,l!==null&&(l.childLanes|=r),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&n!==null&&(h=31-fe(r),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=r|536870912),d):null}function Vc(e){if(50<cl)throw cl=0,sd=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var yr={};function Qb(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,n,r,l){return new Qb(e,n,r,l)}function Xh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fi(e,n){var r=e.alternate;return r===null?(r=En(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function _p(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Oc(e,n,r,l,h,d){var _=0;if(l=e,typeof e=="function")Xh(e)&&(_=1);else if(typeof e=="string")_=ZS(e,r,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=En(31,r,n,h),e.elementType=C,e.lanes=d,e;case W:return ws(r.children,h,d,n);case Z:_=8,h|=24;break;case st:return e=En(12,r,n,h|2),e.elementType=st,e.lanes=d,e;case Lt:return e=En(13,r,n,h),e.elementType=Lt,e.lanes=d,e;case At:return e=En(19,r,n,h),e.elementType=At,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ct:_=10;break t;case et:_=9;break t;case pt:_=11;break t;case I:_=14;break t;case x:_=16,l=null;break t}_=29,r=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=En(_,r,n,h),n.elementType=e,n.type=l,n.lanes=d,n}function ws(e,n,r,l){return e=En(7,e,l,n),e.lanes=r,e}function Zh(e,n,r){return e=En(6,e,null,n),e.lanes=r,e}function vp(e){var n=En(18,null,null,0);return n.stateNode=e,n}function Jh(e,n,r){return n=En(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ep=new WeakMap;function On(e,n){if(typeof e=="object"&&e!==null){var r=Ep.get(e);return r!==void 0?r:(n={value:e,source:n,stack:_o(n)},Ep.set(e,n),n)}return{value:e,source:n,stack:_o(n)}}var _r=[],vr=0,kc=null,qo=0,kn=[],jn=0,ba=null,xi=1,Ri="";function Hi(e,n){_r[vr++]=qo,_r[vr++]=kc,kc=e,qo=n}function Tp(e,n,r){kn[jn++]=xi,kn[jn++]=Ri,kn[jn++]=ba,ba=e;var l=xi;e=Ri;var h=32-fe(l)-1;l&=~(1<<h),r+=1;var d=32-fe(n)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,xi=1<<32-fe(n)+h|r<<h|l,Ri=d+e}else xi=1<<d|r<<h|l,Ri=e}function Wh(e){e.return!==null&&(Hi(e,1),Tp(e,1,0))}function tf(e){for(;e===kc;)kc=_r[--vr],_r[vr]=null,qo=_r[--vr],_r[vr]=null;for(;e===ba;)ba=kn[--jn],kn[jn]=null,Ri=kn[--jn],kn[jn]=null,xi=kn[--jn],kn[jn]=null}function bp(e,n){kn[jn++]=xi,kn[jn++]=Ri,kn[jn++]=ba,xi=n.id,Ri=n.overflow,ba=e}var qe=null,ie=null,kt=!1,Sa=null,zn=!1,ef=Error(s(519));function Aa(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fo(On(n,e)),ef}function Sp(e){var n=e.stateNode,r=e.type,l=e.memoizedProps;switch(n[Ee]=e,n[je]=l,r){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(r=0;r<hl.length;r++)Nt(hl[r],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),mc(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),ga(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||P0(n.textContent,r)?(l.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),l.onScroll!=null&&Nt("scroll",n),l.onScrollEnd!=null&&Nt("scrollend",n),l.onClick!=null&&(n.onclick=Yn),n=!0):n=!1,n||Aa(e,!0)}function Ap(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:qe=qe.return}}function Er(e){if(e!==qe)return!1;if(!kt)return Ap(e),kt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Ed(e.type,e.memoizedProps)),r=!r),r&&ie&&Aa(e),Ap(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ie=$0(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ie=$0(e)}else n===27?(n=ie,La(e.type)?(e=wd,wd=null,ie=e):ie=n):ie=qe?Un(e.stateNode.nextSibling):null;return!0}function xs(){ie=qe=null,kt=!1}function nf(){var e=Sa;return e!==null&&(fn===null?fn=e:fn.push.apply(fn,e),Sa=null),e}function Fo(e){Sa===null?Sa=[e]:Sa.push(e)}var af=O(null),Rs=null,Gi=null;function wa(e,n,r){it(af,n._currentValue),n._currentValue=r}function Qi(e){e._currentValue=af.current,$(af)}function sf(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function rf(e,n,r,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var b=d;d=h;for(var N=0;N<n.length;N++)if(b.context===n[N]){d.lanes|=r,b=d.alternate,b!==null&&(b.lanes|=r),sf(d.return,r,e),l||(_=null);break t}d=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=r,d=_.alternate,d!==null&&(d.lanes|=r),sf(_,r,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Tr(e,n,r,l){e=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=h.type;vn(h.pendingProps.value,_.value)||(e!==null?e.push(b):e=[b])}}else if(h===jt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(pl):e=[pl])}h=h.return}e!==null&&rf(n,e,r,l),n.flags|=262144}function jc(e){for(e=e.firstContext;e!==null;){if(!vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cs(e){Rs=e,Gi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return wp(Rs,e)}function zc(e,n){return Rs===null&&Cs(e),wp(e,n)}function wp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Gi===null){if(e===null)throw Error(s(308));Gi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Gi=Gi.next=n;return r}var Kb=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},Yb=a.unstable_scheduleCallback,$b=a.unstable_NormalPriority,Se={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function of(){return{controller:new Kb,data:new Map,refCount:0}}function Ho(e){e.refCount--,e.refCount===0&&Yb($b,function(){e.controller.abort()})}var Go=null,lf=0,br=0,Sr=null;function Xb(e,n){if(Go===null){var r=Go=[];lf=0,br=hd(),Sr={status:"pending",value:void 0,then:function(l){r.push(l)}}}return lf++,n.then(xp,xp),n}function xp(){if(--lf===0&&Go!==null){Sr!==null&&(Sr.status="fulfilled");var e=Go;Go=null,br=0,Sr=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Zb(e,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Rp=G.S;G.S=function(e,n){u0=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Xb(e,n),Rp!==null&&Rp(e,n)};var Ns=O(null);function cf(){var e=Ns.current;return e!==null?e:te.pooledCache}function Lc(e,n){n===null?it(Ns,Ns.current):it(Ns,n.pool)}function Cp(){var e=cf();return e===null?null:{parent:Se._currentValue,pool:e}}var Ar=Error(s(460)),uf=Error(s(474)),Uc=Error(s(542)),Pc={then:function(){}};function Np(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ip(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Yn,Yn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Dp(e),e;default:if(typeof n.status=="string")n.then(Yn,Yn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Dp(e),e}throw Ms=n,Ar}}function Is(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ms=r,Ar):r}}var Ms=null;function Mp(){if(Ms===null)throw Error(s(459));var e=Ms;return Ms=null,e}function Dp(e){if(e===Ar||e===Uc)throw Error(s(483))}var wr=null,Qo=0;function Bc(e){var n=Qo;return Qo+=1,wr===null&&(wr=[]),Ip(wr,e,n)}function Ko(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function qc(e,n){throw n.$$typeof===R?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Vp(e){function n(k,D){if(e){var L=k.deletions;L===null?(k.deletions=[D],k.flags|=16):L.push(D)}}function r(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Fi(k,D),k.index=0,k.sibling=null,k}function d(k,D,L){return k.index=L,e?(L=k.alternate,L!==null?(L=L.index,L<D?(k.flags|=67108866,D):L):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function _(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function b(k,D,L,Q){return D===null||D.tag!==6?(D=Zh(L,k.mode,Q),D.return=k,D):(D=h(D,L),D.return=k,D)}function N(k,D,L,Q){var ft=L.type;return ft===W?H(k,D,L.props.children,Q,L.key):D!==null&&(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===x&&Is(ft)===D.type)?(D=h(D,L.props),Ko(D,L),D.return=k,D):(D=Oc(L.type,L.key,L.props,null,k.mode,Q),Ko(D,L),D.return=k,D)}function U(k,D,L,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Jh(L,k.mode,Q),D.return=k,D):(D=h(D,L.children||[]),D.return=k,D)}function H(k,D,L,Q,ft){return D===null||D.tag!==7?(D=ws(L,k.mode,Q,ft),D.return=k,D):(D=h(D,L),D.return=k,D)}function Y(k,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Zh(""+D,k.mode,L),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case B:return L=Oc(D.type,D.key,D.props,null,k.mode,L),Ko(L,D),L.return=k,L;case J:return D=Jh(D,k.mode,L),D.return=k,D;case x:return D=Is(D),Y(k,D,L)}if(le(D)||j(D))return D=ws(D,k.mode,L,null),D.return=k,D;if(typeof D.then=="function")return Y(k,Bc(D),L);if(D.$$typeof===ct)return Y(k,zc(k,D),L);qc(k,D)}return null}function P(k,D,L,Q){var ft=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ft!==null?null:b(k,D,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case B:return L.key===ft?N(k,D,L,Q):null;case J:return L.key===ft?U(k,D,L,Q):null;case x:return L=Is(L),P(k,D,L,Q)}if(le(L)||j(L))return ft!==null?null:H(k,D,L,Q,null);if(typeof L.then=="function")return P(k,D,Bc(L),Q);if(L.$$typeof===ct)return P(k,D,zc(k,L),Q);qc(k,L)}return null}function F(k,D,L,Q,ft){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(L)||null,b(D,k,""+Q,ft);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case B:return k=k.get(Q.key===null?L:Q.key)||null,N(D,k,Q,ft);case J:return k=k.get(Q.key===null?L:Q.key)||null,U(D,k,Q,ft);case x:return Q=Is(Q),F(k,D,L,Q,ft)}if(le(Q)||j(Q))return k=k.get(L)||null,H(D,k,Q,ft,null);if(typeof Q.then=="function")return F(k,D,L,Bc(Q),ft);if(Q.$$typeof===ct)return F(k,D,L,zc(D,Q),ft);qc(D,Q)}return null}function lt(k,D,L,Q){for(var ft=null,Bt=null,ut=D,xt=D=0,Mt=null;ut!==null&&xt<L.length;xt++){ut.index>xt?(Mt=ut,ut=null):Mt=ut.sibling;var qt=P(k,ut,L[xt],Q);if(qt===null){ut===null&&(ut=Mt);break}e&&ut&&qt.alternate===null&&n(k,ut),D=d(qt,D,xt),Bt===null?ft=qt:Bt.sibling=qt,Bt=qt,ut=Mt}if(xt===L.length)return r(k,ut),kt&&Hi(k,xt),ft;if(ut===null){for(;xt<L.length;xt++)ut=Y(k,L[xt],Q),ut!==null&&(D=d(ut,D,xt),Bt===null?ft=ut:Bt.sibling=ut,Bt=ut);return kt&&Hi(k,xt),ft}for(ut=l(ut);xt<L.length;xt++)Mt=F(ut,k,xt,L[xt],Q),Mt!==null&&(e&&Mt.alternate!==null&&ut.delete(Mt.key===null?xt:Mt.key),D=d(Mt,D,xt),Bt===null?ft=Mt:Bt.sibling=Mt,Bt=Mt);return e&&ut.forEach(function(Fa){return n(k,Fa)}),kt&&Hi(k,xt),ft}function gt(k,D,L,Q){if(L==null)throw Error(s(151));for(var ft=null,Bt=null,ut=D,xt=D=0,Mt=null,qt=L.next();ut!==null&&!qt.done;xt++,qt=L.next()){ut.index>xt?(Mt=ut,ut=null):Mt=ut.sibling;var Fa=P(k,ut,qt.value,Q);if(Fa===null){ut===null&&(ut=Mt);break}e&&ut&&Fa.alternate===null&&n(k,ut),D=d(Fa,D,xt),Bt===null?ft=Fa:Bt.sibling=Fa,Bt=Fa,ut=Mt}if(qt.done)return r(k,ut),kt&&Hi(k,xt),ft;if(ut===null){for(;!qt.done;xt++,qt=L.next())qt=Y(k,qt.value,Q),qt!==null&&(D=d(qt,D,xt),Bt===null?ft=qt:Bt.sibling=qt,Bt=qt);return kt&&Hi(k,xt),ft}for(ut=l(ut);!qt.done;xt++,qt=L.next())qt=F(ut,k,xt,qt.value,Q),qt!==null&&(e&&qt.alternate!==null&&ut.delete(qt.key===null?xt:qt.key),D=d(qt,D,xt),Bt===null?ft=qt:Bt.sibling=qt,Bt=qt);return e&&ut.forEach(function(lA){return n(k,lA)}),kt&&Hi(k,xt),ft}function Wt(k,D,L,Q){if(typeof L=="object"&&L!==null&&L.type===W&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case B:t:{for(var ft=L.key;D!==null;){if(D.key===ft){if(ft=L.type,ft===W){if(D.tag===7){r(k,D.sibling),Q=h(D,L.props.children),Q.return=k,k=Q;break t}}else if(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===x&&Is(ft)===D.type){r(k,D.sibling),Q=h(D,L.props),Ko(Q,L),Q.return=k,k=Q;break t}r(k,D);break}else n(k,D);D=D.sibling}L.type===W?(Q=ws(L.props.children,k.mode,Q,L.key),Q.return=k,k=Q):(Q=Oc(L.type,L.key,L.props,null,k.mode,Q),Ko(Q,L),Q.return=k,k=Q)}return _(k);case J:t:{for(ft=L.key;D!==null;){if(D.key===ft)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){r(k,D.sibling),Q=h(D,L.children||[]),Q.return=k,k=Q;break t}else{r(k,D);break}else n(k,D);D=D.sibling}Q=Jh(L,k.mode,Q),Q.return=k,k=Q}return _(k);case x:return L=Is(L),Wt(k,D,L,Q)}if(le(L))return lt(k,D,L,Q);if(j(L)){if(ft=j(L),typeof ft!="function")throw Error(s(150));return L=ft.call(L),gt(k,D,L,Q)}if(typeof L.then=="function")return Wt(k,D,Bc(L),Q);if(L.$$typeof===ct)return Wt(k,D,zc(k,L),Q);qc(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(r(k,D.sibling),Q=h(D,L),Q.return=k,k=Q):(r(k,D),Q=Zh(L,k.mode,Q),Q.return=k,k=Q),_(k)):r(k,D)}return function(k,D,L,Q){try{Qo=0;var ft=Wt(k,D,L,Q);return wr=null,ft}catch(ut){if(ut===Ar||ut===Uc)throw ut;var Bt=En(29,ut,null,k.mode);return Bt.lanes=Q,Bt.return=k,Bt}finally{}}}var Ds=Vp(!0),Op=Vp(!1),xa=!1;function hf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ra(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ca(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Vc(e),yp(e,null,r),n}return Dc(e,l,n,r),Vc(e)}function Yo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,To(e,r)}}function df(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,r=r.next}while(r!==null);d===null?h=d=n:d=d.next=n}else h=d=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var mf=!1;function $o(){if(mf){var e=Sr;if(e!==null)throw e}}function Xo(e,n,r,l){mf=!1;var h=e.updateQueue;xa=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var N=b,U=N.next;N.next=null,_===null?d=U:_.next=U,_=N;var H=e.alternate;H!==null&&(H=H.updateQueue,b=H.lastBaseUpdate,b!==_&&(b===null?H.firstBaseUpdate=U:b.next=U,H.lastBaseUpdate=N))}if(d!==null){var Y=h.baseState;_=0,H=U=N=null,b=d;do{var P=b.lane&-536870913,F=P!==b.lane;if(F?(It&P)===P:(l&P)===P){P!==0&&P===br&&(mf=!0),H!==null&&(H=H.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var lt=e,gt=b;P=n;var Wt=r;switch(gt.tag){case 1:if(lt=gt.payload,typeof lt=="function"){Y=lt.call(Wt,Y,P);break t}Y=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=gt.payload,P=typeof lt=="function"?lt.call(Wt,Y,P):lt,P==null)break t;Y=S({},Y,P);break t;case 2:xa=!0}}P=b.callback,P!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[P]:F.push(P))}else F={lane:P,tag:b.tag,payload:b.payload,callback:b.callback,next:null},H===null?(U=H=F,N=Y):H=H.next=F,_|=P;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;F=b,b=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);H===null&&(N=Y),h.baseState=N,h.firstBaseUpdate=U,h.lastBaseUpdate=H,d===null&&(h.shared.lanes=0),Va|=_,e.lanes=_,e.memoizedState=Y}}function kp(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function jp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)kp(r[e],n)}var xr=O(null),Fc=O(0);function zp(e,n){e=ea,it(Fc,e),it(xr,n),ea=e|n.baseLanes}function gf(){it(Fc,ea),it(xr,xr.current)}function pf(){ea=Fc.current,$(xr),$(Fc)}var Tn=O(null),Ln=null;function Na(e){var n=e.alternate;it(me,me.current&1),it(Tn,e),Ln===null&&(n===null||xr.current!==null||n.memoizedState!==null)&&(Ln=e)}function yf(e){it(me,me.current),it(Tn,e),Ln===null&&(Ln=e)}function Lp(e){e.tag===22?(it(me,me.current),it(Tn,e),Ln===null&&(Ln=e)):Ia()}function Ia(){it(me,me.current),it(Tn,Tn.current)}function bn(e){$(Tn),Ln===e&&(Ln=null),$(me)}var me=O(0);function Hc(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Sd(r)||Ad(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ki=0,St=null,Zt=null,Ae=null,Gc=!1,Rr=!1,Vs=!1,Qc=0,Zo=0,Cr=null,Jb=0;function ue(){throw Error(s(321))}function _f(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!vn(e[r],n[r]))return!1;return!0}function vf(e,n,r,l,h,d){return Ki=d,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Ty:Of,Vs=!1,d=r(l,h),Vs=!1,Rr&&(d=Pp(n,r,l,h)),Up(e),d}function Up(e){G.H=tl;var n=Zt!==null&&Zt.next!==null;if(Ki=0,Ae=Zt=St=null,Gc=!1,Zo=0,Cr=null,n)throw Error(s(300));e===null||we||(e=e.dependencies,e!==null&&jc(e)&&(we=!0))}function Pp(e,n,r,l){St=e;var h=0;do{if(Rr&&(Cr=null),Zo=0,Rr=!1,25<=h)throw Error(s(301));if(h+=1,Ae=Zt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=by,d=n(r,l)}while(Rr);return d}function Wb(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Jo(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(St.flags|=1024),n}function Ef(){var e=Qc!==0;return Qc=0,e}function Tf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function bf(e){if(Gc){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Gc=!1}Ki=0,Ae=Zt=St=null,Rr=!1,Zo=Qc=0,Cr=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?St.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function ge(){if(Zt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=Ae===null?St.memoizedState:Ae.next;if(n!==null)Ae=n,Zt=e;else{if(e===null)throw St.alternate===null?Error(s(467)):Error(s(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ae===null?St.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(e){var n=Zo;return Zo+=1,Cr===null&&(Cr=[]),e=Ip(Cr,e,n),n=St,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Ty:Of),e}function Yc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jo(e);if(e.$$typeof===ct)return Fe(e)}throw Error(s(438,String(e)))}function Sf(e){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Kc(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),l=0;l<e;l++)r[l]=V;return n.index++,r}function Yi(e,n){return typeof n=="function"?n(e):n}function $c(e){var n=ge();return Af(n,Zt,e)}function Af(e,n,r){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}n.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{n=h.next;var b=_=null,N=null,U=n,H=!1;do{var Y=U.lane&-536870913;if(Y!==U.lane?(It&Y)===Y:(Ki&Y)===Y){var P=U.revertLane;if(P===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Y===br&&(H=!0);else if((Ki&P)===P){U=U.next,P===br&&(H=!0);continue}else Y={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(b=N=Y,_=d):N=N.next=Y,St.lanes|=P,Va|=P;Y=U.action,Vs&&r(d,Y),d=U.hasEagerState?U.eagerState:r(d,Y)}else P={lane:Y,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(b=N=P,_=d):N=N.next=P,St.lanes|=Y,Va|=Y;U=U.next}while(U!==null&&U!==n);if(N===null?_=d:N.next=b,!vn(d,e.memoizedState)&&(we=!0,H&&(r=Sr,r!==null)))throw r;e.memoizedState=d,e.baseState=_,e.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function wf(e){var n=ge(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var l=r.dispatch,h=r.pending,d=n.memoizedState;if(h!==null){r.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);vn(d,n.memoizedState)||(we=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),r.lastRenderedState=d}return[d,l]}function Bp(e,n,r){var l=St,h=ge(),d=kt;if(d){if(r===void 0)throw Error(s(407));r=r()}else r=n();var _=!vn((Zt||h).memoizedState,r);if(_&&(h.memoizedState=r,we=!0),h=h.queue,Cf(Hp.bind(null,l,h,e),[e]),h.getSnapshot!==n||_||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,Nr(9,{destroy:void 0},Fp.bind(null,l,h,r,n),null),te===null)throw Error(s(349));d||(Ki&127)!==0||qp(l,n,r)}return r}function qp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=Kc(),St.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Fp(e,n,r,l){n.value=r,n.getSnapshot=l,Gp(n)&&Qp(e)}function Hp(e,n,r){return r(function(){Gp(n)&&Qp(e)})}function Gp(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!vn(e,r)}catch{return!0}}function Qp(e){var n=As(e,2);n!==null&&dn(n,e,2)}function xf(e){var n=an();if(typeof e=="function"){var r=e;if(e=r(),Vs){Cn(!0);try{r()}finally{Cn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:e},n}function Kp(e,n,r,l){return e.baseState=r,Af(e,Zt,typeof l=="function"?l:Yi)}function tS(e,n,r,l,h){if(Jc(e))throw Error(s(485));if(e=n.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};G.T!==null?r(!0):d.isTransition=!1,l(d),r=n.pending,r===null?(d.next=n.pending=d,Yp(n,d)):(d.next=r.next,n.pending=r.next=d)}}function Yp(e,n){var r=n.action,l=n.payload,h=e.state;if(n.isTransition){var d=G.T,_={};G.T=_;try{var b=r(h,l),N=G.S;N!==null&&N(_,b),$p(e,n,b)}catch(U){Rf(e,n,U)}finally{d!==null&&_.types!==null&&(d.types=_.types),G.T=d}}else try{d=r(h,l),$p(e,n,d)}catch(U){Rf(e,n,U)}}function $p(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Xp(e,n,l)},function(l){return Rf(e,n,l)}):Xp(e,n,r)}function Xp(e,n,r){n.status="fulfilled",n.value=r,Zp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Yp(e,r)))}function Rf(e,n,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Zp(n),n=n.next;while(n!==l)}e.action=null}function Zp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Jp(e,n){return n}function Wp(e,n){if(kt){var r=te.formState;if(r!==null){t:{var l=St;if(kt){if(ie){e:{for(var h=ie,d=zn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Un(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ie=Un(h.nextSibling),l=h.data==="F!";break t}}Aa(l)}l=!1}l&&(n=r[0])}}return r=an(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jp,lastRenderedState:n},r.queue=l,r=_y.bind(null,St,l),l.dispatch=r,l=xf(!1),d=Vf.bind(null,St,!1,l.queue),l=an(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,r=tS.bind(null,St,h,d,r),h.dispatch=r,l.memoizedState=e,[n,r,!1]}function ty(e){var n=ge();return ey(n,Zt,e)}function ey(e,n,r){if(n=Af(e,n,Jp)[0],e=$c(Yi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Jo(n)}catch(_){throw _===Ar?Uc:_}else l=n;n=ge();var h=n.queue,d=h.dispatch;return r!==n.memoizedState&&(St.flags|=2048,Nr(9,{destroy:void 0},eS.bind(null,h,r),null)),[l,d,e]}function eS(e,n){e.action=n}function ny(e){var n=ge(),r=Zt;if(r!==null)return ey(n,r,e);ge(),n=n.memoizedState,r=ge();var l=r.queue.dispatch;return r.memoizedState=e,[n,l,!1]}function Nr(e,n,r,l){return e={tag:e,create:r,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=Kc(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e),e}function iy(){return ge().memoizedState}function Xc(e,n,r,l){var h=an();St.flags|=e,h.memoizedState=Nr(1|n,{destroy:void 0},r,l===void 0?null:l)}function Zc(e,n,r,l){var h=ge();l=l===void 0?null:l;var d=h.memoizedState.inst;Zt!==null&&l!==null&&_f(l,Zt.memoizedState.deps)?h.memoizedState=Nr(n,d,r,l):(St.flags|=e,h.memoizedState=Nr(1|n,d,r,l))}function ay(e,n){Xc(8390656,8,e,n)}function Cf(e,n){Zc(2048,8,e,n)}function nS(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=Kc(),St.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function sy(e){var n=ge().memoizedState;return nS({ref:n,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function ry(e,n){return Zc(4,2,e,n)}function oy(e,n){return Zc(4,4,e,n)}function ly(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function cy(e,n,r){r=r!=null?r.concat([e]):null,Zc(4,4,ly.bind(null,n,e),r)}function Nf(){}function uy(e,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&_f(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function hy(e,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&_f(n,l[1]))return l[0];if(l=e(),Vs){Cn(!0);try{e()}finally{Cn(!1)}}return r.memoizedState=[l,n],l}function If(e,n,r){return r===void 0||(Ki&1073741824)!==0&&(It&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=f0(),St.lanes|=e,Va|=e,r)}function fy(e,n,r,l){return vn(r,n)?r:xr.current!==null?(e=If(e,r,l),vn(e,n)||(we=!0),e):(Ki&42)===0||(Ki&1073741824)!==0&&(It&261930)===0?(we=!0,e.memoizedState=r):(e=f0(),St.lanes|=e,Va|=e,n)}function dy(e,n,r,l,h){var d=nt.p;nt.p=d!==0&&8>d?d:8;var _=G.T,b={};G.T=b,Vf(e,!1,n,r);try{var N=h(),U=G.S;if(U!==null&&U(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var H=Zb(N,l);Wo(e,n,H,wn(e))}else Wo(e,n,l,wn(e))}catch(Y){Wo(e,n,{then:function(){},status:"rejected",reason:Y},wn())}finally{nt.p=d,_!==null&&b.types!==null&&(_.types=b.types),G.T=_}}function iS(){}function Mf(e,n,r,l){if(e.tag!==5)throw Error(s(476));var h=my(e).queue;dy(e,h,n,mt,r===null?iS:function(){return gy(e),r(l)})}function my(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:mt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function gy(e){var n=my(e);n.next===null&&(n=e.alternate.memoizedState),Wo(e,n.next.queue,{},wn())}function Df(){return Fe(pl)}function py(){return ge().memoizedState}function yy(){return ge().memoizedState}function aS(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=wn();e=Ra(r);var l=Ca(n,e,r);l!==null&&(dn(l,n,r),Yo(l,n,r)),n={cache:of()},e.payload=n;return}n=n.return}}function sS(e,n,r){var l=wn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Jc(e)?vy(n,r):(r=$h(e,n,r,l),r!==null&&(dn(r,e,l),Ey(r,n,l)))}function _y(e,n,r){var l=wn();Wo(e,n,r,l)}function Wo(e,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Jc(e))vy(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var _=n.lastRenderedState,b=d(_,r);if(h.hasEagerState=!0,h.eagerState=b,vn(b,_))return Dc(e,n,h,0),te===null&&Mc(),!1}catch{}finally{}if(r=$h(e,n,h,l),r!==null)return dn(r,e,l),Ey(r,n,l),!0}return!1}function Vf(e,n,r,l){if(l={lane:2,revertLane:hd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Jc(e)){if(n)throw Error(s(479))}else n=$h(e,r,l,2),n!==null&&dn(n,e,2)}function Jc(e){var n=e.alternate;return e===St||n!==null&&n===St}function vy(e,n){Rr=Gc=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Ey(e,n,r){if((r&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,To(e,r)}}var tl={readContext:Fe,use:Yc,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};tl.useEffectEvent=ue;var Ty={readContext:Fe,use:Yc,useCallback:function(e,n){return an().memoizedState=[e,n===void 0?null:n],e},useContext:Fe,useEffect:ay,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Xc(4194308,4,ly.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Xc(4194308,4,e,n)},useInsertionEffect:function(e,n){Xc(4,2,e,n)},useMemo:function(e,n){var r=an();n=n===void 0?null:n;var l=e();if(Vs){Cn(!0);try{e()}finally{Cn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(e,n,r){var l=an();if(r!==void 0){var h=r(n);if(Vs){Cn(!0);try{r(n)}finally{Cn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=sS.bind(null,St,e),[l.memoizedState,e]},useRef:function(e){var n=an();return e={current:e},n.memoizedState=e},useState:function(e){e=xf(e);var n=e.queue,r=_y.bind(null,St,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Nf,useDeferredValue:function(e,n){var r=an();return If(r,e,n)},useTransition:function(){var e=xf(!1);return e=dy.bind(null,St,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var l=St,h=an();if(kt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),te===null)throw Error(s(349));(It&127)!==0||qp(l,n,r)}h.memoizedState=r;var d={value:r,getSnapshot:n};return h.queue=d,ay(Hp.bind(null,l,d,e),[e]),l.flags|=2048,Nr(9,{destroy:void 0},Fp.bind(null,l,d,r,n),null),r},useId:function(){var e=an(),n=te.identifierPrefix;if(kt){var r=Ri,l=xi;r=(l&~(1<<32-fe(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Qc++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=Jb++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Df,useFormState:Wp,useActionState:Wp,useOptimistic:function(e){var n=an();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Vf.bind(null,St,!0,r),r.dispatch=n,[e,n]},useMemoCache:Sf,useCacheRefresh:function(){return an().memoizedState=aS.bind(null,St)},useEffectEvent:function(e){var n=an(),r={impl:e};return n.memoizedState=r,function(){if((Ht&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},Of={readContext:Fe,use:Yc,useCallback:uy,useContext:Fe,useEffect:Cf,useImperativeHandle:cy,useInsertionEffect:ry,useLayoutEffect:oy,useMemo:hy,useReducer:$c,useRef:iy,useState:function(){return $c(Yi)},useDebugValue:Nf,useDeferredValue:function(e,n){var r=ge();return fy(r,Zt.memoizedState,e,n)},useTransition:function(){var e=$c(Yi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:Bp,useId:py,useHostTransitionStatus:Df,useFormState:ty,useActionState:ty,useOptimistic:function(e,n){var r=ge();return Kp(r,Zt,e,n)},useMemoCache:Sf,useCacheRefresh:yy};Of.useEffectEvent=sy;var by={readContext:Fe,use:Yc,useCallback:uy,useContext:Fe,useEffect:Cf,useImperativeHandle:cy,useInsertionEffect:ry,useLayoutEffect:oy,useMemo:hy,useReducer:wf,useRef:iy,useState:function(){return wf(Yi)},useDebugValue:Nf,useDeferredValue:function(e,n){var r=ge();return Zt===null?If(r,e,n):fy(r,Zt.memoizedState,e,n)},useTransition:function(){var e=wf(Yi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:Bp,useId:py,useHostTransitionStatus:Df,useFormState:ny,useActionState:ny,useOptimistic:function(e,n){var r=ge();return Zt!==null?Kp(r,Zt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:yy};by.useEffectEvent=sy;function kf(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:S({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var jf={enqueueSetState:function(e,n,r){e=e._reactInternals;var l=wn(),h=Ra(l);h.payload=n,r!=null&&(h.callback=r),n=Ca(e,h,l),n!==null&&(dn(n,e,l),Yo(n,e,l))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=wn(),h=Ra(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ca(e,h,l),n!==null&&(dn(n,e,l),Yo(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=wn(),l=Ra(r);l.tag=2,n!=null&&(l.callback=n),n=Ca(e,l,r),n!==null&&(dn(n,e,r),Yo(n,e,r))}};function Sy(e,n,r,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):n.prototype&&n.prototype.isPureReactComponent?!Po(r,l)||!Po(h,d):!0}function Ay(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&jf.enqueueReplaceState(n,n.state,null)}function Os(e,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(e=e.defaultProps){r===n&&(r=S({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function wy(e){Ic(e)}function xy(e){console.error(e)}function Ry(e){Ic(e)}function Wc(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Cy(e,n,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zf(e,n,r){return r=Ra(r),r.tag=3,r.payload={element:null},r.callback=function(){Wc(e,n)},r}function Ny(e){return e=Ra(e),e.tag=3,e}function Iy(e,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Cy(n,r,l)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Cy(n,r,l),typeof h!="function"&&(Oa===null?Oa=new Set([this]):Oa.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function rS(e,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Tr(n,r,h,!0),r=Tn.current,r!==null){switch(r.tag){case 31:case 13:return Ln===null?hu():r.alternate===null&&he===0&&(he=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Pc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),ld(e,l,h)),!1;case 22:return r.flags|=65536,l===Pc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),ld(e,l,h)),!1}throw Error(s(435,r.tag))}return ld(e,l,h),hu(),!1}if(kt)return n=Tn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==ef&&(e=Error(s(422),{cause:l}),Fo(On(e,r)))):(l!==ef&&(n=Error(s(423),{cause:l}),Fo(On(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=On(l,r),h=zf(e.stateNode,l,h),df(e,h),he!==4&&(he=2)),!1;var d=Error(s(520),{cause:l});if(d=On(d,r),ll===null?ll=[d]:ll.push(d),he!==4&&(he=2),n===null)return!0;l=On(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=zf(r.stateNode,l,e),df(r,e),!1;case 1:if(n=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Oa===null||!Oa.has(d))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Ny(h),Iy(h,e,r,l),df(r,h),!1}r=r.return}while(r!==null);return!1}var Lf=Error(s(461)),we=!1;function He(e,n,r,l){n.child=e===null?Op(n,null,r,l):Ds(n,e.child,r,l)}function My(e,n,r,l,h){r=r.render;var d=n.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return Cs(n),l=vf(e,n,r,_,d,h),b=Ef(),e!==null&&!we?(Tf(e,n,h),$i(e,n,h)):(kt&&b&&Wh(n),n.flags|=1,He(e,n,l,h),n.child)}function Dy(e,n,r,l,h){if(e===null){var d=r.type;return typeof d=="function"&&!Xh(d)&&d.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=d,Vy(e,n,d,l,h)):(e=Oc(r.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Qf(e,h)){var _=d.memoizedProps;if(r=r.compare,r=r!==null?r:Po,r(_,l)&&e.ref===n.ref)return $i(e,n,h)}return n.flags|=1,e=Fi(d,l),e.ref=n.ref,e.return=n,n.child=e}function Vy(e,n,r,l,h){if(e!==null){var d=e.memoizedProps;if(Po(d,l)&&e.ref===n.ref)if(we=!1,n.pendingProps=l=d,Qf(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,$i(e,n,h)}return Uf(e,n,r,l,h)}function Oy(e,n,r,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,n.child=null;return ky(e,n,d,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lc(n,d!==null?d.cachePool:null),d!==null?zp(n,d):gf(),Lp(n);else return l=n.lanes=536870912,ky(e,n,d!==null?d.baseLanes|r:r,r,l)}else d!==null?(Lc(n,d.cachePool),zp(n,d),Ia(),n.memoizedState=null):(e!==null&&Lc(n,null),gf(),Ia());return He(e,n,h,r),n.child}function el(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ky(e,n,r,l,h){var d=cf();return d=d===null?null:{parent:Se._currentValue,pool:d},n.memoizedState={baseLanes:r,cachePool:d},e!==null&&Lc(n,null),gf(),Lp(n),e!==null&&Tr(e,n,l,!0),n.childLanes=h,null}function tu(e,n){return n=nu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function jy(e,n,r){return Ds(n,e.child,null,r),e=tu(n,n.pendingProps),e.flags|=2,bn(n),n.memoizedState=null,e}function oS(e,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(kt){if(l.mode==="hidden")return e=tu(n,l),n.lanes=536870912,el(null,e);if(yf(n),(e=ie)?(e=Y0(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ba!==null?{id:xi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},r=vp(e),r.return=n,n.child=r,qe=n,ie=null)):e=null,e===null)throw Aa(n);return n.lanes=536870912,null}return tu(n,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(yf(n),h)if(n.flags&256)n.flags&=-257,n=jy(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(we||Tr(e,n,r,!1),h=(r&e.childLanes)!==0,we||h){if(l=te,l!==null&&(_=bo(l,r),_!==0&&_!==d.retryLane))throw d.retryLane=_,As(e,_),dn(l,e,_),Lf;hu(),n=jy(e,n,r)}else e=d.treeContext,ie=Un(_.nextSibling),qe=n,kt=!0,Sa=null,zn=!1,e!==null&&bp(n,e),n=tu(n,l),n.flags|=4096;return n}return e=Fi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function eu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Uf(e,n,r,l,h){return Cs(n),r=vf(e,n,r,l,void 0,h),l=Ef(),e!==null&&!we?(Tf(e,n,h),$i(e,n,h)):(kt&&l&&Wh(n),n.flags|=1,He(e,n,r,h),n.child)}function zy(e,n,r,l,h,d){return Cs(n),n.updateQueue=null,r=Pp(n,l,r,h),Up(e),l=Ef(),e!==null&&!we?(Tf(e,n,d),$i(e,n,d)):(kt&&l&&Wh(n),n.flags|=1,He(e,n,r,d),n.child)}function Ly(e,n,r,l,h){if(Cs(n),n.stateNode===null){var d=yr,_=r.contextType;typeof _=="object"&&_!==null&&(d=Fe(_)),d=new r(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=jf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},hf(n),_=r.contextType,d.context=typeof _=="object"&&_!==null?Fe(_):yr,d.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(kf(n,r,_,l),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&jf.enqueueReplaceState(d,d.state,null),Xo(n,l,d,h),$o(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){d=n.stateNode;var b=n.memoizedProps,N=Os(r,b);d.props=N;var U=d.context,H=r.contextType;_=yr,typeof H=="object"&&H!==null&&(_=Fe(H));var Y=r.getDerivedStateFromProps;H=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,H||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||U!==_)&&Ay(n,d,l,_),xa=!1;var P=n.memoizedState;d.state=P,Xo(n,l,d,h),$o(),U=n.memoizedState,b||P!==U||xa?(typeof Y=="function"&&(kf(n,r,Y,l),U=n.memoizedState),(N=xa||Sy(n,r,N,l,P,U,_))?(H||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=U),d.props=l,d.state=U,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,ff(e,n),_=n.memoizedProps,H=Os(r,_),d.props=H,Y=n.pendingProps,P=d.context,U=r.contextType,N=yr,typeof U=="object"&&U!==null&&(N=Fe(U)),b=r.getDerivedStateFromProps,(U=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Y||P!==N)&&Ay(n,d,l,N),xa=!1,P=n.memoizedState,d.state=P,Xo(n,l,d,h),$o();var F=n.memoizedState;_!==Y||P!==F||xa||e!==null&&e.dependencies!==null&&jc(e.dependencies)?(typeof b=="function"&&(kf(n,r,b,l),F=n.memoizedState),(H=xa||Sy(n,r,H,l,P,F,N)||e!==null&&e.dependencies!==null&&jc(e.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,N)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),d.props=l,d.state=F,d.context=N,l=H):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),l=!1)}return d=l,eu(e,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&l?(n.child=Ds(n,e.child,null,h),n.child=Ds(n,null,r,h)):He(e,n,r,h),n.memoizedState=d.state,e=n.child):e=$i(e,n,h),e}function Uy(e,n,r,l){return xs(),n.flags|=256,He(e,n,r,l),n.child}var Pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bf(e){return{baseLanes:e,cachePool:Cp()}}function qf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=An),e}function Py(e,n,r){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(kt){if(h?Na(n):Ia(),(e=ie)?(e=Y0(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ba!==null?{id:xi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},r=vp(e),r.return=n,n.child=r,qe=n,ie=null)):e=null,e===null)throw Aa(n);return Ad(e)?n.lanes=32:n.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(Ia(),h=n.mode,b=nu({mode:"hidden",children:b},h),l=ws(l,h,r,null),b.return=n,l.return=n,b.sibling=l,n.child=b,l=n.child,l.memoizedState=Bf(r),l.childLanes=qf(e,_,r),n.memoizedState=Pf,el(null,l)):(Na(n),Ff(n,b))}var N=e.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(d)n.flags&256?(Na(n),n.flags&=-257,n=Hf(e,n,r)):n.memoizedState!==null?(Ia(),n.child=e.child,n.flags|=128,n=null):(Ia(),b=l.fallback,h=n.mode,l=nu({mode:"visible",children:l.children},h),b=ws(b,h,r,null),b.flags|=2,l.return=n,b.return=n,l.sibling=b,n.child=l,Ds(n,e.child,null,r),l=n.child,l.memoizedState=Bf(r),l.childLanes=qf(e,_,r),n.memoizedState=Pf,n=el(null,l));else if(Na(n),Ad(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var U=_.dgst;_=U,l=Error(s(419)),l.stack="",l.digest=_,Fo({value:l,source:null,stack:null}),n=Hf(e,n,r)}else if(we||Tr(e,n,r,!1),_=(r&e.childLanes)!==0,we||_){if(_=te,_!==null&&(l=bo(_,r),l!==0&&l!==N.retryLane))throw N.retryLane=l,As(e,l),dn(_,e,l),Lf;Sd(b)||hu(),n=Hf(e,n,r)}else Sd(b)?(n.flags|=192,n.child=e.child,n=null):(e=N.treeContext,ie=Un(b.nextSibling),qe=n,kt=!0,Sa=null,zn=!1,e!==null&&bp(n,e),n=Ff(n,l.children),n.flags|=4096);return n}return h?(Ia(),b=l.fallback,h=n.mode,N=e.child,U=N.sibling,l=Fi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,U!==null?b=Fi(U,b):(b=ws(b,h,r,null),b.flags|=2),b.return=n,l.return=n,l.sibling=b,n.child=l,el(null,l),l=n.child,b=e.child.memoizedState,b===null?b=Bf(r):(h=b.cachePool,h!==null?(N=Se._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Cp(),b={baseLanes:b.baseLanes|r,cachePool:h}),l.memoizedState=b,l.childLanes=qf(e,_,r),n.memoizedState=Pf,el(e.child,l)):(Na(n),r=e.child,e=r.sibling,r=Fi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=r,n.memoizedState=null,r)}function Ff(e,n){return n=nu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function nu(e,n){return e=En(22,e,null,n),e.lanes=0,e}function Hf(e,n,r){return Ds(n,e.child,null,r),e=Ff(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function By(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),sf(e.return,n,r)}function Gf(e,n,r,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:d}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=r,_.tailMode=h,_.treeForkCount=d)}function qy(e,n,r){var l=n.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=me.current,b=(_&2)!==0;if(b?(_=_&1|2,n.flags|=128):_&=1,it(me,_),He(e,n,l,r),l=kt?qo:0,!b&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&By(e,r,n);else if(e.tag===19)By(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Hc(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Gf(n,!1,h,r,d,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Hc(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Gf(n,!0,r,null,d,l);break;case"together":Gf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function $i(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Va|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Tr(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=Fi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Fi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Qf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&jc(e)))}function lS(e,n,r){switch(n.tag){case 3:Me(n,n.stateNode.containerInfo),wa(n,Se,e.memoizedState.cache),xs();break;case 27:case 5:rs(n);break;case 4:Me(n,n.stateNode.containerInfo);break;case 10:wa(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,yf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Na(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Py(e,n,r):(Na(n),e=$i(e,n,r),e!==null?e.sibling:null);Na(n);break;case 19:var h=(e.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Tr(e,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return qy(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(me,me.current),l)break;return null;case 22:return n.lanes=0,Oy(e,n,r,n.pendingProps);case 24:wa(n,Se,e.memoizedState.cache)}return $i(e,n,r)}function Fy(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!Qf(e,r)&&(n.flags&128)===0)return we=!1,lS(e,n,r);we=(e.flags&131072)!==0}else we=!1,kt&&(n.flags&1048576)!==0&&Tp(n,qo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Is(n.elementType),n.type=e,typeof e=="function")Xh(e)?(l=Os(e,l),n.tag=1,n=Ly(null,n,e,l,r)):(n.tag=0,n=Uf(null,n,e,l,r));else{if(e!=null){var h=e.$$typeof;if(h===pt){n.tag=11,n=My(null,n,e,l,r);break t}else if(h===I){n.tag=14,n=Dy(null,n,e,l,r);break t}}throw n=Ut(e)||e,Error(s(306,n,""))}}return n;case 0:return Uf(e,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Os(l,n.pendingProps),Ly(e,n,l,h,r);case 3:t:{if(Me(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,ff(e,n),Xo(n,l,null,r);var _=n.memoizedState;if(l=_.cache,wa(n,Se,l),l!==d.cache&&rf(n,[Se],r,!0),$o(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Uy(e,n,l,r);break t}else if(l!==h){h=On(Error(s(424)),n),Fo(h),n=Uy(e,n,l,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ie=Un(e.firstChild),qe=n,kt=!0,Sa=null,zn=!0,r=Op(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(xs(),l===h){n=$i(e,n,r);break t}He(e,n,l,r)}n=n.child}return n;case 26:return eu(e,n),e===null?(r=t_(n.type,null,n.pendingProps,null))?n.memoizedState=r:kt||(r=n.type,e=n.pendingProps,l=_u(wt.current).createElement(r),l[Ee]=n,l[je]=e,Ge(l,r,e),Te(l),n.stateNode=l):n.memoizedState=t_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return rs(n),e===null&&kt&&(l=n.stateNode=Z0(n.type,n.pendingProps,wt.current),qe=n,zn=!0,h=ie,La(n.type)?(wd=h,ie=Un(l.firstChild)):ie=h),He(e,n,n.pendingProps.children,r),eu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&kt&&((h=l=ie)&&(l=LS(l,n.type,n.pendingProps,zn),l!==null?(n.stateNode=l,qe=n,ie=Un(l.firstChild),zn=!1,h=!0):h=!1),h||Aa(n)),rs(n),h=n.type,d=n.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Ed(h,d)?l=null:_!==null&&Ed(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=vf(e,n,Wb,null,null,r),pl._currentValue=h),eu(e,n),He(e,n,l,r),n.child;case 6:return e===null&&kt&&((e=r=ie)&&(r=US(r,n.pendingProps,zn),r!==null?(n.stateNode=r,qe=n,ie=null,e=!0):e=!1),e||Aa(n)),null;case 13:return Py(e,n,r);case 4:return Me(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ds(n,null,l,r):He(e,n,l,r),n.child;case 11:return My(e,n,n.type,n.pendingProps,r);case 7:return He(e,n,n.pendingProps,r),n.child;case 8:return He(e,n,n.pendingProps.children,r),n.child;case 12:return He(e,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,wa(n,n.type,l.value),He(e,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Cs(n),h=Fe(h),l=l(h),n.flags|=1,He(e,n,l,r),n.child;case 14:return Dy(e,n,n.type,n.pendingProps,r);case 15:return Vy(e,n,n.type,n.pendingProps,r);case 19:return qy(e,n,r);case 31:return oS(e,n,r);case 22:return Oy(e,n,r,n.pendingProps);case 24:return Cs(n),l=Fe(Se),e===null?(h=cf(),h===null&&(h=te,d=of(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=r),h=d),n.memoizedState={parent:l,cache:h},hf(n),wa(n,Se,h)):((e.lanes&r)!==0&&(ff(e,n),Xo(n,null,null,r),$o()),h=e.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),wa(n,Se,l)):(l=d.cache,wa(n,Se,l),l!==h.cache&&rf(n,[Se],r,!0))),He(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Xi(e){e.flags|=4}function Kf(e,n,r,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(p0())e.flags|=8192;else throw Ms=Pc,uf}else e.flags&=-16777217}function Hy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!s_(n))if(p0())e.flags|=8192;else throw Ms=Pc,uf}function iu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?cc():536870912,e.lanes|=n,Vr|=n)}function nl(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ae(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function cS(e,n,r){var l=n.pendingProps;switch(tf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(n),null;case 1:return ae(n),null;case 3:return r=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Qi(Se),se(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Er(n)?Xi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,nf())),ae(n),null;case 26:var h=n.type,d=n.memoizedState;return e===null?(Xi(n),d!==null?(ae(n),Hy(n,d)):(ae(n),Kf(n,h,null,l,r))):d?d!==e.memoizedState?(Xi(n),ae(n),Hy(n,d)):(ae(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Xi(n),ae(n),Kf(n,h,e,l,r)),null;case 27:if(Js(n),r=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Xi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ae(n),null}e=ot.current,Er(n)?Sp(n):(e=Z0(h,l,r),n.stateNode=e,Xi(n))}return ae(n),null;case 5:if(Js(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Xi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ae(n),null}if(d=ot.current,Er(n))Sp(n);else{var _=_u(wt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Ee]=n,d[je]=l;t:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break t;for(;_.sibling===null;){if(_.return===null||_.return===n)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=d;t:switch(Ge(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Xi(n)}}return ae(n),Kf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Xi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=wt.current,Er(n)){if(e=n.stateNode,r=n.memoizedProps,l=null,h=qe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||P0(e.nodeValue,r)),e||Aa(n,!0)}else e=_u(e).createTextNode(l),e[Ee]=n,n.stateNode=e}return ae(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(l=Er(n),r!==null){if(e===null){if(!l)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ee]=n}else xs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),e=!1}else r=nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(bn(n),n):(bn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ae(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Er(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ee]=n}else xs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),h=!1}else h=nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(bn(n),n):(bn(n),null)}return bn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),iu(n,n.updateQueue),ae(n),null);case 4:return se(),e===null&&gd(n.stateNode.containerInfo),ae(n),null;case 10:return Qi(n.type),ae(n),null;case 19:if($(me),l=n.memoizedState,l===null)return ae(n),null;if(h=(n.flags&128)!==0,d=l.rendering,d===null)if(h)nl(l,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Hc(e),d!==null){for(n.flags|=128,nl(l,!1),e=d.updateQueue,n.updateQueue=e,iu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)_p(r,e),r=r.sibling;return it(me,me.current&1|2),kt&&Hi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&en()>lu&&(n.flags|=128,h=!0,nl(l,!1),n.lanes=4194304)}else{if(!h)if(e=Hc(d),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,iu(n,e),nl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!kt)return ae(n),null}else 2*en()-l.renderingStartTime>lu&&r!==536870912&&(n.flags|=128,h=!0,nl(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(e=l.last,e!==null?e.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=en(),e.sibling=null,r=me.current,it(me,h?r&1|2:r&1),kt&&Hi(n,l.treeForkCount),e):(ae(n),null);case 22:case 23:return bn(n),pf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ae(n),n.subtreeFlags&6&&(n.flags|=8192)):ae(n),r=n.updateQueue,r!==null&&iu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),e!==null&&$(Ns),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Qi(Se),ae(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function uS(e,n){switch(tf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Qi(Se),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Js(n),null;case 31:if(n.memoizedState!==null){if(bn(n),n.alternate===null)throw Error(s(340));xs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(bn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));xs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return $(me),null;case 4:return se(),null;case 10:return Qi(n.type),null;case 22:case 23:return bn(n),pf(),e!==null&&$(Ns),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Qi(Se),null;case 25:return null;default:return null}}function Gy(e,n){switch(tf(n),n.tag){case 3:Qi(Se),se();break;case 26:case 27:case 5:Js(n);break;case 4:se();break;case 31:n.memoizedState!==null&&bn(n);break;case 13:bn(n);break;case 19:$(me);break;case 10:Qi(n.type);break;case 22:case 23:bn(n),pf(),e!==null&&$(Ns);break;case 24:Qi(Se)}}function il(e,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&e)===e){l=void 0;var d=r.create,_=r.inst;l=d(),_.destroy=l}r=r.next}while(r!==h)}}catch(b){$t(n,n.return,b)}}function Ma(e,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=n;var N=r,U=b;try{U()}catch(H){$t(h,N,H)}}}l=l.next}while(l!==d)}}catch(H){$t(n,n.return,H)}}function Qy(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{jp(n,r)}catch(l){$t(e,e.return,l)}}}function Ky(e,n,r){r.props=Os(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){$t(e,n,l)}}function al(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(h){$t(e,n,h)}}function Ci(e,n){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){$t(e,n,h)}else r.current=null}function Yy(e){var n=e.type,r=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){$t(e,e.return,h)}}function Yf(e,n,r){try{var l=e.stateNode;DS(l,e.type,r,n),l[je]=n}catch(h){$t(e,e.return,h)}}function $y(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&La(e.type)||e.tag===4}function $f(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||$y(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&La(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xf(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Yn));else if(l!==4&&(l===27&&La(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Xf(e,n,r),e=e.sibling;e!==null;)Xf(e,n,r),e=e.sibling}function au(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&(l===27&&La(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(au(e,n,r),e=e.sibling;e!==null;)au(e,n,r),e=e.sibling}function Xy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,l,r),n[Ee]=e,n[je]=r}catch(d){$t(e,e.return,d)}}var Zi=!1,xe=!1,Zf=!1,Zy=typeof WeakSet=="function"?WeakSet:Set,Le=null;function hS(e,n){if(e=e.containerInfo,_d=wu,e=cp(e),Fh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break t}var _=0,b=-1,N=-1,U=0,H=0,Y=e,P=null;e:for(;;){for(var F;Y!==r||h!==0&&Y.nodeType!==3||(b=_+h),Y!==d||l!==0&&Y.nodeType!==3||(N=_+l),Y.nodeType===3&&(_+=Y.nodeValue.length),(F=Y.firstChild)!==null;)P=Y,Y=F;for(;;){if(Y===e)break e;if(P===r&&++U===h&&(b=_),P===d&&++H===l&&(N=_),(F=Y.nextSibling)!==null)break;Y=P,P=Y.parentNode}Y=F}r=b===-1||N===-1?null:{start:b,end:N}}else r=null}r=r||{start:0,end:0}}else r=null;for(vd={focusedElem:e,selectionRange:r},wu=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,d=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,r=n,h=d.memoizedProps,d=d.memoizedState,l=r.stateNode;try{var lt=Os(r.type,h);e=l.getSnapshotBeforeUpdate(lt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(gt){$t(r,r.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)bd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function Jy(e,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Wi(e,r),l&4&&il(5,r);break;case 1:if(Wi(e,r),l&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(_){$t(r,r.return,_)}else{var h=Os(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){$t(r,r.return,_)}}l&64&&Qy(r),l&512&&al(r,r.return);break;case 3:if(Wi(e,r),l&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{jp(e,n)}catch(_){$t(r,r.return,_)}}break;case 27:n===null&&l&4&&Xy(r);case 26:case 5:Wi(e,r),n===null&&l&4&&Yy(r),l&512&&al(r,r.return);break;case 12:Wi(e,r);break;case 31:Wi(e,r),l&4&&e0(e,r);break;case 13:Wi(e,r),l&4&&n0(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=ES.bind(null,r),PS(e,r))));break;case 22:if(l=r.memoizedState!==null||Zi,!l){n=n!==null&&n.memoizedState!==null||xe,h=Zi;var d=xe;Zi=l,(xe=n)&&!d?ta(e,r,(r.subtreeFlags&8772)!==0):Wi(e,r),Zi=h,xe=d}break;case 30:break;default:Wi(e,r)}}function Wy(e){var n=e.alternate;n!==null&&(e.alternate=null,Wy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ir(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,cn=!1;function Ji(e,n,r){for(r=r.child;r!==null;)t0(e,n,r),r=r.sibling}function t0(e,n,r){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Hn,r)}catch{}switch(r.tag){case 26:xe||Ci(r,n),Ji(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:xe||Ci(r,n);var l=oe,h=cn;La(r.type)&&(oe=r.stateNode,cn=!1),Ji(e,n,r),dl(r.stateNode),oe=l,cn=h;break;case 5:xe||Ci(r,n);case 6:if(l=oe,h=cn,oe=null,Ji(e,n,r),oe=l,cn=h,oe!==null)if(cn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(r.stateNode)}catch(d){$t(r,n,d)}else try{oe.removeChild(r.stateNode)}catch(d){$t(r,n,d)}break;case 18:oe!==null&&(cn?(e=oe,Q0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Br(e)):Q0(oe,r.stateNode));break;case 4:l=oe,h=cn,oe=r.stateNode.containerInfo,cn=!0,Ji(e,n,r),oe=l,cn=h;break;case 0:case 11:case 14:case 15:Ma(2,r,n),xe||Ma(4,r,n),Ji(e,n,r);break;case 1:xe||(Ci(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Ky(r,n,l)),Ji(e,n,r);break;case 21:Ji(e,n,r);break;case 22:xe=(l=xe)||r.memoizedState!==null,Ji(e,n,r),xe=l;break;default:Ji(e,n,r)}}function e0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Br(e)}catch(r){$t(n,n.return,r)}}}function n0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Br(e)}catch(r){$t(n,n.return,r)}}function fS(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Zy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Zy),n;default:throw Error(s(435,e.tag))}}function su(e,n){var r=fS(e);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=TS.bind(null,e,l);l.then(h,h)}})}function un(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],d=e,_=n,b=_;t:for(;b!==null;){switch(b.tag){case 27:if(La(b.type)){oe=b.stateNode,cn=!1;break t}break;case 5:oe=b.stateNode,cn=!1;break t;case 3:case 4:oe=b.stateNode.containerInfo,cn=!0;break t}b=b.return}if(oe===null)throw Error(s(160));t0(d,_,h),oe=null,cn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)i0(n,e),n=n.sibling}var ti=null;function i0(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(n,e),hn(e),l&4&&(Ma(3,e,e.return),il(3,e),Ma(5,e,e.return));break;case 1:un(n,e),hn(e),l&512&&(xe||r===null||Ci(r,r.return)),l&64&&Zi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=ti;if(un(n,e),hn(e),l&512&&(xe||r===null||Ci(r,r.return)),l&4){var d=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){t:{l=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[mi]||d[Ee]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ge(d,l,r),d[Ee]=e,Te(d),l=d;break t;case"link":var _=i_("link","href",h).get(l+(r.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(b,1);break e}}d=h.createElement(l),Ge(d,l,r),h.head.appendChild(d);break;case"meta":if(_=i_("meta","content",h).get(l+(r.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(b,1);break e}}d=h.createElement(l),Ge(d,l,r),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ee]=e,Te(d),l=d}e.stateNode=l}else a_(h,e.type,e.stateNode);else e.stateNode=n_(h,l,e.memoizedProps);else d!==l?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,l===null?a_(h,e.type,e.stateNode):n_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Yf(e,e.memoizedProps,r.memoizedProps)}break;case 27:un(n,e),hn(e),l&512&&(xe||r===null||Ci(r,r.return)),r!==null&&l&4&&Yf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(un(n,e),hn(e),l&512&&(xe||r===null||Ci(r,r.return)),e.flags&32){h=e.stateNode;try{ln(h,"")}catch(lt){$t(e,e.return,lt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Yf(e,h,r!==null?r.memoizedProps:h)),l&1024&&(Zf=!0);break;case 6:if(un(n,e),hn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(lt){$t(e,e.return,lt)}}break;case 3:if(Tu=null,h=ti,ti=vu(n.containerInfo),un(n,e),ti=h,hn(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Br(n.containerInfo)}catch(lt){$t(e,e.return,lt)}Zf&&(Zf=!1,a0(e));break;case 4:l=ti,ti=vu(e.stateNode.containerInfo),un(n,e),hn(e),ti=l;break;case 12:un(n,e),hn(e);break;case 31:un(n,e),hn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,su(e,l)));break;case 13:un(n,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ou=en()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,su(e,l)));break;case 22:h=e.memoizedState!==null;var N=r!==null&&r.memoizedState!==null,U=Zi,H=xe;if(Zi=U||h,xe=H||N,un(n,e),xe=H,Zi=U,hn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||N||Zi||xe||ks(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){N=r=n;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=N.stateNode;var Y=N.memoizedProps.style,P=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;b.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(lt){$t(N,N.return,lt)}}}else if(n.tag===6){if(r===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(lt){$t(N,N.return,lt)}}}else if(n.tag===18){if(r===null){N=n;try{var F=N.stateNode;h?K0(F,!0):K0(N.stateNode,!1)}catch(lt){$t(N,N.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,su(e,r))));break;case 19:un(n,e),hn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,su(e,l)));break;case 30:break;case 21:break;default:un(n,e),hn(e)}}function hn(e){var n=e.flags;if(n&2){try{for(var r,l=e.return;l!==null;){if($y(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,d=$f(e);au(e,d,h);break;case 5:var _=r.stateNode;r.flags&32&&(ln(_,""),r.flags&=-33);var b=$f(e);au(e,b,_);break;case 3:case 4:var N=r.stateNode.containerInfo,U=$f(e);Xf(e,U,N);break;default:throw Error(s(161))}}catch(H){$t(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function a0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;a0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Wi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Jy(e,n.alternate,n),n=n.sibling}function ks(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ma(4,n,n.return),ks(n);break;case 1:Ci(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Ky(n,n.return,r),ks(n);break;case 27:dl(n.stateNode);case 26:case 5:Ci(n,n.return),ks(n);break;case 22:n.memoizedState===null&&ks(n);break;case 30:ks(n);break;default:ks(n)}e=e.sibling}}function ta(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,d=n,_=d.flags;switch(d.tag){case 0:case 11:case 15:ta(h,d,r),il(4,d);break;case 1:if(ta(h,d,r),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){$t(l,l.return,U)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)kp(N[h],b)}catch(U){$t(l,l.return,U)}}r&&_&64&&Qy(d),al(d,d.return);break;case 27:Xy(d);case 26:case 5:ta(h,d,r),r&&l===null&&_&4&&Yy(d),al(d,d.return);break;case 12:ta(h,d,r);break;case 31:ta(h,d,r),r&&_&4&&e0(h,d);break;case 13:ta(h,d,r),r&&_&4&&n0(h,d);break;case 22:d.memoizedState===null&&ta(h,d,r),al(d,d.return);break;case 30:break;default:ta(h,d,r)}n=n.sibling}}function Jf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Ho(r))}function Wf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e))}function ei(e,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)s0(e,n,r,l),n=n.sibling}function s0(e,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ei(e,n,r,l),h&2048&&il(9,n);break;case 1:ei(e,n,r,l);break;case 3:ei(e,n,r,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e)));break;case 12:if(h&2048){ei(e,n,r,l),e=n.stateNode;try{var d=n.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){$t(n,n.return,N)}}else ei(e,n,r,l);break;case 31:ei(e,n,r,l);break;case 13:ei(e,n,r,l);break;case 23:break;case 22:d=n.stateNode,_=n.alternate,n.memoizedState!==null?d._visibility&2?ei(e,n,r,l):sl(e,n):d._visibility&2?ei(e,n,r,l):(d._visibility|=2,Ir(e,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Jf(_,n);break;case 24:ei(e,n,r,l),h&2048&&Wf(n.alternate,n);break;default:ei(e,n,r,l)}}function Ir(e,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=e,_=n,b=r,N=l,U=_.flags;switch(_.tag){case 0:case 11:case 15:Ir(d,_,b,N,h),il(8,_);break;case 23:break;case 22:var H=_.stateNode;_.memoizedState!==null?H._visibility&2?Ir(d,_,b,N,h):sl(d,_):(H._visibility|=2,Ir(d,_,b,N,h)),h&&U&2048&&Jf(_.alternate,_);break;case 24:Ir(d,_,b,N,h),h&&U&2048&&Wf(_.alternate,_);break;default:Ir(d,_,b,N,h)}n=n.sibling}}function sl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,l=n,h=l.flags;switch(l.tag){case 22:sl(r,l),h&2048&&Jf(l.alternate,l);break;case 24:sl(r,l),h&2048&&Wf(l.alternate,l);break;default:sl(r,l)}n=n.sibling}}var rl=8192;function Mr(e,n,r){if(e.subtreeFlags&rl)for(e=e.child;e!==null;)r0(e,n,r),e=e.sibling}function r0(e,n,r){switch(e.tag){case 26:Mr(e,n,r),e.flags&rl&&e.memoizedState!==null&&JS(r,ti,e.memoizedState,e.memoizedProps);break;case 5:Mr(e,n,r);break;case 3:case 4:var l=ti;ti=vu(e.stateNode.containerInfo),Mr(e,n,r),ti=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=rl,rl=16777216,Mr(e,n,r),rl=l):Mr(e,n,r));break;default:Mr(e,n,r)}}function o0(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ol(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Le=l,c0(l,e)}o0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)l0(e),e=e.sibling}function l0(e){switch(e.tag){case 0:case 11:case 15:ol(e),e.flags&2048&&Ma(9,e,e.return);break;case 3:ol(e);break;case 12:ol(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ru(e)):ol(e);break;default:ol(e)}}function ru(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Le=l,c0(l,e)}o0(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ma(8,n,n.return),ru(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ru(n));break;default:ru(n)}e=e.sibling}}function c0(e,n){for(;Le!==null;){var r=Le;switch(r.tag){case 0:case 11:case 15:Ma(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ho(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Le=l;else t:for(r=e;Le!==null;){l=Le;var h=l.sibling,d=l.return;if(Wy(l),l===r){Le=null;break t}if(h!==null){h.return=d,Le=h;break t}Le=d}}}var dS={getCacheForType:function(e){var n=Fe(Se),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Fe(Se).controller.signal}},mS=typeof WeakMap=="function"?WeakMap:Map,Ht=0,te=null,Ct=null,It=0,Yt=0,Sn=null,Da=!1,Dr=!1,td=!1,ea=0,he=0,Va=0,js=0,ed=0,An=0,Vr=0,ll=null,fn=null,nd=!1,ou=0,u0=0,lu=1/0,cu=null,Oa=null,Ve=0,ka=null,Or=null,na=0,id=0,ad=null,h0=null,cl=0,sd=null;function wn(){return(Ht&2)!==0&&It!==0?It&-It:G.T!==null?hd():uc()}function f0(){if(An===0)if((It&536870912)===0||kt){var e=cs;cs<<=1,(cs&3932160)===0&&(cs=262144),An=e}else An=536870912;return e=Tn.current,e!==null&&(e.flags|=32),An}function dn(e,n,r){(e===te&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(kr(e,0),ja(e,It,An,!1)),us(e,r),((Ht&2)===0||e!==te)&&(e===te&&((Ht&2)===0&&(js|=r),he===4&&ja(e,It,An,!1)),Ni(e))}function d0(e,n,r){if((Ht&6)!==0)throw Error(s(327));var l=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Gn(e,n),h=l?yS(e,n):od(e,n,!0),d=l;do{if(h===0){Dr&&!l&&ja(e,n,0,!1);break}else{if(r=e.current.alternate,d&&!gS(r)){h=od(e,n,!1),d=!1;continue}if(h===2){if(d=n,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var b=e;h=ll;var N=b.current.memoizedState.isDehydrated;if(N&&(kr(b,_).flags|=256),_=od(b,_,!1),_!==2){if(td&&!N){b.errorRecoveryDisabledLanes|=d,js|=d,h=4;break t}d=fn,fn=h,d!==null&&(fn===null?fn=d:fn.push.apply(fn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){kr(e,0),ja(e,n,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ja(l,n,An,!Da);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=ou+300-en(),10<h)){if(ja(l,n,An,!Da),hi(l,0,!0)!==0)break t;na=n,l.timeoutHandle=H0(m0.bind(null,l,r,fn,cu,nd,n,An,js,Vr,Da,d,"Throttled",-0,0),h);break t}m0(l,r,fn,cu,nd,n,An,js,Vr,Da,d,null,-0,0)}}break}while(!0);Ni(e)}function m0(e,n,r,l,h,d,_,b,N,U,H,Y,P,F){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},r0(n,d,Y);var lt=(d&62914560)===d?ou-en():(d&4194048)===d?u0-en():0;if(lt=WS(Y,lt),lt!==null){na=d,e.cancelPendingCommit=lt(b0.bind(null,e,n,d,r,l,h,_,b,N,H,Y,null,P,F)),ja(e,d,_,!U);return}}b0(e,n,d,r,l,h,_,b,N)}function gS(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],d=h.getSnapshot;h=h.value;try{if(!vn(d(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ja(e,n,r,l){n&=~ed,n&=~js,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var d=31-fe(h),_=1<<d;l[d]=-1,h&=~_}r!==0&&hs(e,r,n)}function uu(){return(Ht&6)===0?(ul(0),!1):!0}function rd(){if(Ct!==null){if(Yt===0)var e=Ct.return;else e=Ct,Gi=Rs=null,bf(e),wr=null,Qo=0,e=Ct;for(;e!==null;)Gy(e.alternate,e),e=e.return;Ct=null}}function kr(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,kS(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),na=0,rd(),te=e,Ct=r=Fi(e.current,null),It=n,Yt=0,Sn=null,Da=!1,Dr=Gn(e,n),td=!1,Vr=An=ed=js=Va=he=0,fn=ll=null,nd=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-fe(l),d=1<<h;n|=e[h],l&=~d}return ea=n,Mc(),r}function g0(e,n){St=null,G.H=tl,n===Ar||n===Uc?(n=Mp(),Yt=3):n===uf?(n=Mp(),Yt=4):Yt=n===Lf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Sn=n,Ct===null&&(he=1,Wc(e,On(n,e.current)))}function p0(){var e=Tn.current;return e===null?!0:(It&4194048)===It?Ln===null:(It&62914560)===It||(It&536870912)!==0?e===Ln:!1}function y0(){var e=G.H;return G.H=tl,e===null?tl:e}function _0(){var e=G.A;return G.A=dS,e}function hu(){he=4,Da||(It&4194048)!==It&&Tn.current!==null||(Dr=!0),(Va&134217727)===0&&(js&134217727)===0||te===null||ja(te,It,An,!1)}function od(e,n,r){var l=Ht;Ht|=2;var h=y0(),d=_0();(te!==e||It!==n)&&(cu=null,kr(e,n)),n=!1;var _=he;t:do try{if(Yt!==0&&Ct!==null){var b=Ct,N=Sn;switch(Yt){case 8:rd(),_=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(n=!0);var U=Yt;if(Yt=0,Sn=null,jr(e,b,N,U),r&&Dr){_=0;break t}break;default:U=Yt,Yt=0,Sn=null,jr(e,b,N,U)}}pS(),_=he;break}catch(H){g0(e,H)}while(!0);return n&&e.shellSuspendCounter++,Gi=Rs=null,Ht=l,G.H=h,G.A=d,Ct===null&&(te=null,It=0,Mc()),_}function pS(){for(;Ct!==null;)v0(Ct)}function yS(e,n){var r=Ht;Ht|=2;var l=y0(),h=_0();te!==e||It!==n?(cu=null,lu=en()+500,kr(e,n)):Dr=Gn(e,n);t:do try{if(Yt!==0&&Ct!==null){n=Ct;var d=Sn;e:switch(Yt){case 1:Yt=0,Sn=null,jr(e,n,d,1);break;case 2:case 9:if(Np(d)){Yt=0,Sn=null,E0(n);break}n=function(){Yt!==2&&Yt!==9||te!==e||(Yt=7),Ni(e)},d.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Np(d)?(Yt=0,Sn=null,E0(n)):(Yt=0,Sn=null,jr(e,n,d,7));break;case 5:var _=null;switch(Ct.tag){case 26:_=Ct.memoizedState;case 5:case 27:var b=Ct;if(_?s_(_):b.stateNode.complete){Yt=0,Sn=null;var N=b.sibling;if(N!==null)Ct=N;else{var U=b.return;U!==null?(Ct=U,fu(U)):Ct=null}break e}}Yt=0,Sn=null,jr(e,n,d,5);break;case 6:Yt=0,Sn=null,jr(e,n,d,6);break;case 8:rd(),he=6;break t;default:throw Error(s(462))}}_S();break}catch(H){g0(e,H)}while(!0);return Gi=Rs=null,G.H=l,G.A=h,Ht=r,Ct!==null?0:(te=null,It=0,Mc(),he)}function _S(){for(;Ct!==null&&!jh();)v0(Ct)}function v0(e){var n=Fy(e.alternate,e,ea);e.memoizedProps=e.pendingProps,n===null?fu(e):Ct=n}function E0(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=zy(r,n,n.pendingProps,n.type,void 0,It);break;case 11:n=zy(r,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:bf(n);default:Gy(r,n),n=Ct=_p(n,ea),n=Fy(r,n,ea)}e.memoizedProps=e.pendingProps,n===null?fu(e):Ct=n}function jr(e,n,r,l){Gi=Rs=null,bf(n),wr=null,Qo=0;var h=n.return;try{if(rS(e,h,n,r,It)){he=1,Wc(e,On(r,e.current)),Ct=null;return}}catch(d){if(h!==null)throw Ct=h,d;he=1,Wc(e,On(r,e.current)),Ct=null;return}n.flags&32768?(kt||l===1?e=!0:Dr||(It&536870912)!==0?e=!1:(Da=e=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),T0(n,e)):fu(n)}function fu(e){var n=e;do{if((n.flags&32768)!==0){T0(n,Da);return}e=n.return;var r=cS(n.alternate,n,ea);if(r!==null){Ct=r;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);he===0&&(he=5)}function T0(e,n){do{var r=uS(e.alternate,e);if(r!==null){r.flags&=32767,Ct=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=r}while(e!==null);he=6,Ct=null}function b0(e,n,r,l,h,d,_,b,N){e.cancelPendingCommit=null;do du();while(Ve!==0);if((Ht&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=Yh,Uh(e,r,d,_,b,N),e===te&&(Ct=te=null,It=0),Or=n,ka=e,na=r,id=d,ad=h,h0=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,bS(fa,function(){return R0(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=nt.p,nt.p=2,_=Ht,Ht|=4;try{hS(e,n,r)}finally{Ht=_,nt.p=h,G.T=l}}Ve=1,S0(),A0(),w0()}}function S0(){if(Ve===1){Ve=0;var e=ka,n=Or,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=nt.p;nt.p=2;var h=Ht;Ht|=4;try{i0(n,e);var d=vd,_=cp(e.containerInfo),b=d.focusedElem,N=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&lp(b.ownerDocument.documentElement,b)){if(N!==null&&Fh(b)){var U=N.start,H=N.end;if(H===void 0&&(H=U),"selectionStart"in b)b.selectionStart=U,b.selectionEnd=Math.min(H,b.value.length);else{var Y=b.ownerDocument||document,P=Y&&Y.defaultView||window;if(P.getSelection){var F=P.getSelection(),lt=b.textContent.length,gt=Math.min(N.start,lt),Wt=N.end===void 0?gt:Math.min(N.end,lt);!F.extend&&gt>Wt&&(_=Wt,Wt=gt,gt=_);var k=op(b,gt),D=op(b,Wt);if(k&&D&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==D.node||F.focusOffset!==D.offset)){var L=Y.createRange();L.setStart(k.node,k.offset),F.removeAllRanges(),gt>Wt?(F.addRange(L),F.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),F.addRange(L))}}}}for(Y=[],F=b;F=F.parentNode;)F.nodeType===1&&Y.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Y.length;b++){var Q=Y[b];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}wu=!!_d,vd=_d=null}finally{Ht=h,nt.p=l,G.T=r}}e.current=n,Ve=2}}function A0(){if(Ve===2){Ve=0;var e=ka,n=Or,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=nt.p;nt.p=2;var h=Ht;Ht|=4;try{Jy(e,n.alternate,n)}finally{Ht=h,nt.p=l,G.T=r}}Ve=3}}function w0(){if(Ve===4||Ve===3){Ve=0,ic();var e=ka,n=Or,r=na,l=h0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,Or=ka=null,x0(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Oa=null),Ui(r),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Hn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=nt.p,nt.p=2,G.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{G.T=n,nt.p=h}}(na&3)!==0&&du(),Ni(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===sd?cl++:(cl=0,sd=e):cl=0,ul(0)}}function x0(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ho(n)))}function du(){return S0(),A0(),w0(),R0()}function R0(){if(Ve!==5)return!1;var e=ka,n=id;id=0;var r=Ui(na),l=G.T,h=nt.p;try{nt.p=32>r?32:r,G.T=null,r=ad,ad=null;var d=ka,_=na;if(Ve=0,Or=ka=null,na=0,(Ht&6)!==0)throw Error(s(331));var b=Ht;if(Ht|=4,l0(d.current),s0(d,d.current,_,r),Ht=b,ul(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Hn,d)}catch{}return!0}finally{nt.p=h,G.T=l,x0(e,n)}}function C0(e,n,r){n=On(r,n),n=zf(e.stateNode,n,2),e=Ca(e,n,2),e!==null&&(us(e,2),Ni(e))}function $t(e,n,r){if(e.tag===3)C0(e,e,r);else for(;n!==null;){if(n.tag===3){C0(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Oa===null||!Oa.has(l))){e=On(r,e),r=Ny(2),l=Ca(n,r,2),l!==null&&(Iy(r,l,n,e),us(l,2),Ni(l));break}}n=n.return}}function ld(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new mS;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(td=!0,h.add(r),e=vS.bind(null,e,n,r),n.then(e,e))}function vS(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,te===e&&(It&r)===r&&(he===4||he===3&&(It&62914560)===It&&300>en()-ou?(Ht&2)===0&&kr(e,0):ed|=r,Vr===It&&(Vr=0)),Ni(e)}function N0(e,n){n===0&&(n=cc()),e=As(e,n),e!==null&&(us(e,n),Ni(e))}function ES(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),N0(e,r)}function TS(e,n){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),N0(e,r)}function bS(e,n){return De(e,n)}var mu=null,zr=null,cd=!1,gu=!1,ud=!1,za=0;function Ni(e){e!==zr&&e.next===null&&(zr===null?mu=zr=e:zr=zr.next=e),gu=!0,cd||(cd=!0,AS())}function ul(e,n){if(!ud&&gu){ud=!0;do for(var r=!1,l=mu;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-fe(42|e)+1)-1,d&=h&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,V0(l,d))}else d=It,d=hi(l,l===te?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Gn(l,d)||(r=!0,V0(l,d));l=l.next}while(r);ud=!1}}function SS(){I0()}function I0(){gu=cd=!1;var e=0;za!==0&&OS()&&(e=za);for(var n=en(),r=null,l=mu;l!==null;){var h=l.next,d=M0(l,n);d===0?(l.next=null,r===null?mu=h:r.next=h,h===null&&(zr=r)):(r=l,(e!==0||(d&3)!==0)&&(gu=!0)),l=h}Ve!==0&&Ve!==5||ul(e),za!==0&&(za=0)}function M0(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-fe(d),b=1<<_,N=h[_];N===-1?((b&r)===0||(b&l)!==0)&&(h[_]=Lh(b,n)):N<=n&&(e.expiredLanes|=b),d&=~b}if(n=te,r=It,r=hi(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===n&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ha(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Gn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(l!==null&&ha(l),Ui(r)){case 2:case 8:r=Eo;break;case 32:r=fa;break;case 268435456:r=ac;break;default:r=fa}return l=D0.bind(null,e),r=De(r,l),e.callbackPriority=n,e.callbackNode=r,n}return l!==null&&l!==null&&ha(l),e.callbackPriority=2,e.callbackNode=null,2}function D0(e,n){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(du()&&e.callbackNode!==r)return null;var l=It;return l=hi(e,e===te?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(d0(e,l,n),M0(e,en()),e.callbackNode!=null&&e.callbackNode===r?D0.bind(null,e):null)}function V0(e,n){if(du())return null;d0(e,n,!0)}function AS(){jS(function(){(Ht&6)!==0?De(vo,SS):I0()})}function hd(){if(za===0){var e=br;e===0&&(e=ci,ci<<=1,(ci&261888)===0&&(ci=256)),za=e}return za}function O0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:or(""+e)}function k0(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function wS(e,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var d=O0((h[je]||null).action),_=l.submitter;_&&(n=(n=_[je]||null)?O0(n.formAction):_.getAttribute("formAction"),n!==null&&(d=n,_=null));var b=new bi("action","action",null,l,h);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(za!==0){var N=_?k0(h,_):new FormData(h);Mf(r,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(b.preventDefault(),N=_?k0(h,_):new FormData(h),Mf(r,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var fd=0;fd<Kh.length;fd++){var dd=Kh[fd],xS=dd.toLowerCase(),RS=dd[0].toUpperCase()+dd.slice(1);Wn(xS,"on"+RS)}Wn(fp,"onAnimationEnd"),Wn(dp,"onAnimationIteration"),Wn(mp,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(Fb,"onTransitionRun"),Wn(Hb,"onTransitionStart"),Wn(Gb,"onTransitionCancel"),Wn(gp,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function j0(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],h=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var _=l.length-1;0<=_;_--){var b=l[_],N=b.instance,U=b.currentTarget;if(b=b.listener,N!==d&&h.isPropagationStopped())break t;d=b,h.currentTarget=U;try{d(h)}catch(H){Ic(H)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(b=l[_],N=b.instance,U=b.currentTarget,b=b.listener,N!==d&&h.isPropagationStopped())break t;d=b,h.currentTarget=U;try{d(h)}catch(H){Ic(H)}h.currentTarget=null,d=N}}}}function Nt(e,n){var r=n[nr];r===void 0&&(r=n[nr]=new Set);var l=e+"__bubble";r.has(l)||(z0(n,e,2,!1),r.add(l))}function md(e,n,r){var l=0;n&&(l|=4),z0(r,e,l,n)}var pu="_reactListening"+Math.random().toString(36).slice(2);function gd(e){if(!e[pu]){e[pu]=!0,So.forEach(function(r){r!=="selectionchange"&&(CS.has(r)||md(r,!1,e),md(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[pu]||(n[pu]=!0,md("selectionchange",!1,n))}}function z0(e,n,r,l){switch(f_(n)){case 2:var h=nA;break;case 8:h=iA;break;default:h=Id}r=h.bind(null,n,r,e),h=void 0,!ps||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function pd(e,n,r,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=gi(b),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue t}b=b.parentNode}}l=l.return}_a(function(){var U=d,H=In(r),Y=[];t:{var P=pp.get(e);if(P!==void 0){var F=bi,lt=e;switch(e){case"keypress":if(_s(r)===0)break t;case"keydown":case"keyup":F=Rc;break;case"focusin":lt="focus",F=Es;break;case"focusout":lt="blur",F=Es;break;case"beforeblur":case"afterblur":F=Es;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=_c;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=g;break;case fp:case dp:case mp:F=Ec;break;case gp:F=A;break;case"scroll":case"scrollend":F=ko;break;case"wheel":F=q;break;case"copy":case"cut":case"paste":F=Tc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=qi;break;case"toggle":case"beforetoggle":F=bt}var gt=(n&4)!==0,Wt=!gt&&(e==="scroll"||e==="scrollend"),k=gt?P!==null?P+"Capture":null:P;gt=[];for(var D=U,L;D!==null;){var Q=D;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||k===null||(Q=$n(D,k),Q!=null&&gt.push(fl(D,Q,L))),Wt)break;D=D.return}0<gt.length&&(P=new F(P,lt,null,r,H),Y.push({event:P,listeners:gt}))}}if((n&7)===0){t:{if(P=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",P&&r!==Do&&(lt=r.relatedTarget||r.fromElement)&&(gi(lt)||lt[di]))break t;if((F||P)&&(P=H.window===H?H:(P=H.ownerDocument)?P.defaultView||P.parentWindow:window,F?(lt=r.relatedTarget||r.toElement,F=U,lt=lt?gi(lt):null,lt!==null&&(Wt=c(lt),gt=lt.tag,lt!==Wt||gt!==5&&gt!==27&&gt!==6)&&(lt=null)):(F=null,lt=U),F!==lt)){if(gt=jo,Q="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(gt=qi,Q="onPointerLeave",k="onPointerEnter",D="pointer"),Wt=F==null?P:yn(F),L=lt==null?P:yn(lt),P=new gt(Q,D+"leave",F,r,H),P.target=Wt,P.relatedTarget=L,Q=null,gi(H)===U&&(gt=new gt(k,D+"enter",lt,r,H),gt.target=L,gt.relatedTarget=Wt,Q=gt),Wt=Q,F&&lt)e:{for(gt=NS,k=F,D=lt,L=0,Q=k;Q;Q=gt(Q))L++;Q=0;for(var ft=D;ft;ft=gt(ft))Q++;for(;0<L-Q;)k=gt(k),L--;for(;0<Q-L;)D=gt(D),Q--;for(;L--;){if(k===D||D!==null&&k===D.alternate){gt=k;break e}k=gt(k),D=gt(D)}gt=null}else gt=null;F!==null&&L0(Y,P,F,gt,!1),lt!==null&&Wt!==null&&L0(Y,Wt,lt,gt,!0)}}t:{if(P=U?yn(U):window,F=P.nodeName&&P.nodeName.toLowerCase(),F==="select"||F==="input"&&P.type==="file")var Bt=ep;else if(Wg(P))if(np)Bt=Pb;else{Bt=Lb;var ut=zb}else F=P.nodeName,!F||F.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?U&&rr(U.elementType)&&(Bt=ep):Bt=Ub;if(Bt&&(Bt=Bt(e,U))){tp(Y,Bt,r,H);break t}ut&&ut(e,P,U),e==="focusout"&&U&&P.type==="number"&&U.memoizedProps.value!=null&&No(P,"number",P.value)}switch(ut=U?yn(U):window,e){case"focusin":(Wg(ut)||ut.contentEditable==="true")&&(mr=ut,Hh=U,Bo=null);break;case"focusout":Bo=Hh=mr=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,up(Y,r,H);break;case"selectionchange":if(qb)break;case"keydown":case"keyup":up(Y,r,H)}var xt;if(Ft)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else dr?Ts(e,r)&&(Mt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Mt="onCompositionStart");Mt&&(wi&&r.locale!=="ko"&&(dr||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&dr&&(xt=Oo()):(Ti=H,Vo="value"in Ti?Ti.value:Ti.textContent,dr=!0)),ut=yu(U,Mt),0<ut.length&&(Mt=new Ai(Mt,e,null,r,H),Y.push({event:Mt,listeners:ut}),xt?Mt.data=xt:(xt=fr(r),xt!==null&&(Mt.data=xt)))),(xt=Dn?Vb(e,r):Ob(e,r))&&(Mt=yu(U,"onBeforeInput"),0<Mt.length&&(ut=new Ai("onBeforeInput","beforeinput",null,r,H),Y.push({event:ut,listeners:Mt}),ut.data=xt)),wS(Y,e,U,r,H)}j0(Y,n)})}function fl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function yu(e,n){for(var r=n+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=$n(e,r),h!=null&&l.unshift(fl(e,h,d)),h=$n(e,n),h!=null&&l.push(fl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function NS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function L0(e,n,r,l,h){for(var d=n._reactName,_=[];r!==null&&r!==l;){var b=r,N=b.alternate,U=b.stateNode;if(b=b.tag,N!==null&&N===l)break;b!==5&&b!==26&&b!==27||U===null||(N=U,h?(U=$n(r,d),U!=null&&_.unshift(fl(r,U,N))):h||(U=$n(r,d),U!=null&&_.push(fl(r,U,N)))),r=r.return}_.length!==0&&e.push({event:n,listeners:_})}var IS=/\r\n?/g,MS=/\u0000|\uFFFD/g;function U0(e){return(typeof e=="string"?e:""+e).replace(IS,`
`).replace(MS,"")}function P0(e,n){return n=U0(n),U0(e)===n}function Jt(e,n,r,l,h,d){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||ln(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&ln(e,""+l);break;case"className":_n(e,"class",l);break;case"tabIndex":_n(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(e,r,l);break;case"style":Mo(e,l,d);break;case"data":if(n!=="object"){_n(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=or(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(n!=="input"&&Jt(e,n,"name",h.name,h,null),Jt(e,n,"formEncType",h.formEncType,h,null),Jt(e,n,"formMethod",h.formMethod,h,null),Jt(e,n,"formTarget",h.formTarget,h,null)):(Jt(e,n,"encType",h.encType,h,null),Jt(e,n,"method",h.method,h,null),Jt(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=or(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=Yn);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=or(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),ar(e,"popover",l);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ar(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=yc.get(r)||r,ar(e,r,l))}}function yd(e,n,r,l,h,d){switch(r){case"style":Mo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof l=="string"?ln(e,l):(typeof l=="number"||typeof l=="bigint")&&ln(e,""+l);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ao.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),d=e[je]||null,d=d!=null?d[r]:null,typeof d=="function"&&e.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,l,h);break t}r in e?e[r]=l:l===!0?e.setAttribute(r,""):ar(e,r,l)}}}function Ge(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var l=!1,h=!1,d;for(d in r)if(r.hasOwnProperty(d)){var _=r[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(e,n,d,_,r,null)}}h&&Jt(e,n,"srcSet",r.srcSet,r,null),l&&Jt(e,n,"src",r.src,r,null);return;case"input":Nt("invalid",e);var b=d=_=h=null,N=null,U=null;for(l in r)if(r.hasOwnProperty(l)){var H=r[l];if(H!=null)switch(l){case"name":h=H;break;case"type":_=H;break;case"checked":N=H;break;case"defaultChecked":U=H;break;case"value":d=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Jt(e,n,l,H,r,null)}}mc(e,d,b,N,U,_,h,!1);return;case"select":Nt("invalid",e),l=_=d=null;for(h in r)if(r.hasOwnProperty(h)&&(b=r[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:Jt(e,n,h,b,r,null)}n=d,r=_,e.multiple=!!l,n!=null?ma(e,!!l,n,!1):r!=null&&ma(e,!!l,r,!0);return;case"textarea":Nt("invalid",e),d=h=l=null;for(_ in r)if(r.hasOwnProperty(_)&&(b=r[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Jt(e,n,_,b,r,null)}ga(e,l,h,d);return;case"option":for(N in r)if(r.hasOwnProperty(N)&&(l=r[N],l!=null))switch(N){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Jt(e,n,N,l,r,null)}return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(l=0;l<hl.length;l++)Nt(hl[l],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in r)if(r.hasOwnProperty(U)&&(l=r[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(e,n,U,l,r,null)}return;default:if(rr(n)){for(H in r)r.hasOwnProperty(H)&&(l=r[H],l!==void 0&&yd(e,n,H,l,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(l=r[b],l!=null&&Jt(e,n,b,l,r,null))}function DS(e,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,b=null,N=null,U=null,H=null;for(F in r){var Y=r[F];if(r.hasOwnProperty(F)&&Y!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=Y;default:l.hasOwnProperty(F)||Jt(e,n,F,null,l,Y)}}for(var P in l){var F=l[P];if(Y=r[P],l.hasOwnProperty(P)&&(F!=null||Y!=null))switch(P){case"type":d=F;break;case"name":h=F;break;case"checked":U=F;break;case"defaultChecked":H=F;break;case"value":_=F;break;case"defaultValue":b=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:F!==Y&&Jt(e,n,P,F,l,Y)}}sr(e,_,b,N,U,H,d,h);return;case"select":F=_=b=P=null;for(d in r)if(N=r[d],r.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":F=N;default:l.hasOwnProperty(d)||Jt(e,n,d,null,l,N)}for(h in l)if(d=l[h],N=r[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":P=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==N&&Jt(e,n,h,d,l,N)}n=b,r=_,l=F,P!=null?ma(e,!!r,P,!1):!!l!=!!r&&(n!=null?ma(e,!!r,n,!0):ma(e,!!r,r?[]:"",!1));return;case"textarea":F=P=null;for(b in r)if(h=r[b],r.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Jt(e,n,b,null,l,h)}for(_ in l)if(h=l[_],d=r[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":P=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Jt(e,n,_,h,l,d)}gc(e,P,F);return;case"option":for(var lt in r)if(P=r[lt],r.hasOwnProperty(lt)&&P!=null&&!l.hasOwnProperty(lt))switch(lt){case"selected":e.selected=!1;break;default:Jt(e,n,lt,null,l,P)}for(N in l)if(P=l[N],F=r[N],l.hasOwnProperty(N)&&P!==F&&(P!=null||F!=null))switch(N){case"selected":e.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Jt(e,n,N,P,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in r)P=r[gt],r.hasOwnProperty(gt)&&P!=null&&!l.hasOwnProperty(gt)&&Jt(e,n,gt,null,l,P);for(U in l)if(P=l[U],F=r[U],l.hasOwnProperty(U)&&P!==F&&(P!=null||F!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,n));break;default:Jt(e,n,U,P,l,F)}return;default:if(rr(n)){for(var Wt in r)P=r[Wt],r.hasOwnProperty(Wt)&&P!==void 0&&!l.hasOwnProperty(Wt)&&yd(e,n,Wt,void 0,l,P);for(H in l)P=l[H],F=r[H],!l.hasOwnProperty(H)||P===F||P===void 0&&F===void 0||yd(e,n,H,P,l,F);return}}for(var k in r)P=r[k],r.hasOwnProperty(k)&&P!=null&&!l.hasOwnProperty(k)&&Jt(e,n,k,null,l,P);for(Y in l)P=l[Y],F=r[Y],!l.hasOwnProperty(Y)||P===F||P==null&&F==null||Jt(e,n,Y,P,l,F)}function B0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function VS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],d=h.transferSize,_=h.initiatorType,b=h.duration;if(d&&b&&B0(_)){for(_=0,b=h.responseEnd,l+=1;l<r.length;l++){var N=r[l],U=N.startTime;if(U>b)break;var H=N.transferSize,Y=N.initiatorType;H&&B0(Y)&&(N=N.responseEnd,_+=H*(N<b?1:(b-U)/(N-U)))}if(--l,n+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var _d=null,vd=null;function _u(e){return e.nodeType===9?e:e.ownerDocument}function q0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F0(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ed(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Td=null;function OS(){var e=window.event;return e&&e.type==="popstate"?e===Td?!1:(Td=e,!0):(Td=null,!1)}var H0=typeof setTimeout=="function"?setTimeout:void 0,kS=typeof clearTimeout=="function"?clearTimeout:void 0,G0=typeof Promise=="function"?Promise:void 0,jS=typeof queueMicrotask=="function"?queueMicrotask:typeof G0<"u"?function(e){return G0.resolve(null).then(e).catch(zS)}:H0;function zS(e){setTimeout(function(){throw e})}function La(e){return e==="head"}function Q0(e,n){var r=n,l=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(h),Br(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")dl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,dl(r);for(var d=r.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[mi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=_}}else r==="body"&&dl(e.ownerDocument.body);r=h}while(r);Br(n)}function K0(e,n){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function bd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":bd(r),ir(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function LS(e,n,r,l){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[mi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function US(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Un(e.nextSibling),e===null))return null;return e}function Y0(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Un(e.nextSibling),e===null))return null;return e}function Sd(e){return e.data==="$?"||e.data==="$~"}function Ad(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function PS(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Un(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var wd=null;function $0(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Un(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function X0(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Z0(e,n,r){switch(n=_u(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function dl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ir(e)}var Pn=new Map,J0=new Set;function vu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ia=nt.d;nt.d={f:BS,r:qS,D:FS,C:HS,L:GS,m:QS,X:YS,S:KS,M:$S};function BS(){var e=ia.f(),n=uu();return e||n}function qS(e){var n=Nn(e);n!==null&&n.tag===5&&n.type==="form"?gy(n):ia.r(e)}var Lr=typeof document>"u"?null:document;function W0(e,n,r){var l=Lr;if(l&&typeof n=="string"&&n){var h=on(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),J0.has(h)||(J0.add(h),e={rel:e,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ge(n,"link",e),Te(n),l.head.appendChild(n)))}}function FS(e){ia.D(e),W0("dns-prefetch",e,null)}function HS(e,n){ia.C(e,n),W0("preconnect",e,n)}function GS(e,n,r){ia.L(e,n,r);var l=Lr;if(l&&e&&n){var h='link[rel="preload"][as="'+on(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+on(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+on(r.imageSizes)+'"]')):h+='[href="'+on(e)+'"]';var d=h;switch(n){case"style":d=Ur(e);break;case"script":d=Pr(e)}Pn.has(d)||(e=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Pn.set(d,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(ml(d))||n==="script"&&l.querySelector(gl(d))||(n=l.createElement("link"),Ge(n,"link",e),Te(n),l.head.appendChild(n)))}}function QS(e,n){ia.m(e,n);var r=Lr;if(r&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Pr(e)}if(!Pn.has(d)&&(e=S({rel:"modulepreload",href:e},n),Pn.set(d,e),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(gl(d)))return}l=r.createElement("link"),Ge(l,"link",e),Te(l),r.head.appendChild(l)}}}function KS(e,n,r){ia.S(e,n,r);var l=Lr;if(l&&e){var h=pi(l).hoistableStyles,d=Ur(e);n=n||"default";var _=h.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(ml(d)))b.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Pn.get(d))&&xd(e,r);var N=_=l.createElement("link");Te(N),Ge(N,"link",e),N._p=new Promise(function(U,H){N.onload=U,N.onerror=H}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Eu(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(d,_)}}}function YS(e,n){ia.X(e,n);var r=Lr;if(r&&e){var l=pi(r).hoistableScripts,h=Pr(e),d=l.get(h);d||(d=r.querySelector(gl(h)),d||(e=S({src:e,async:!0},n),(n=Pn.get(h))&&Rd(e,n),d=r.createElement("script"),Te(d),Ge(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function $S(e,n){ia.M(e,n);var r=Lr;if(r&&e){var l=pi(r).hoistableScripts,h=Pr(e),d=l.get(h);d||(d=r.querySelector(gl(h)),d||(e=S({src:e,async:!0,type:"module"},n),(n=Pn.get(h))&&Rd(e,n),d=r.createElement("script"),Te(d),Ge(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function t_(e,n,r,l){var h=(h=wt.current)?vu(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ur(r.href),r=pi(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ur(r.href);var d=pi(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(ml(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Pn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Pn.set(e,r),d||XS(h,e,r,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Pr(r),r=pi(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ur(e){return'href="'+on(e)+'"'}function ml(e){return'link[rel="stylesheet"]['+e+"]"}function e_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function XS(e,n,r,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ge(n,"link",r),Te(n),e.head.appendChild(n))}function Pr(e){return'[src="'+on(e)+'"]'}function gl(e){return"script[async]"+e}function n_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+on(r.href)+'"]');if(l)return n.instance=l,Te(l),l;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Te(l),Ge(l,"style",h),Eu(l,r.precedence,e),n.instance=l;case"stylesheet":h=Ur(r.href);var d=e.querySelector(ml(h));if(d)return n.state.loading|=4,n.instance=d,Te(d),d;l=e_(r),(h=Pn.get(h))&&xd(l,h),d=(e.ownerDocument||e).createElement("link"),Te(d);var _=d;return _._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),Ge(d,"link",l),n.state.loading|=4,Eu(d,r.precedence,e),n.instance=d;case"script":return d=Pr(r.src),(h=e.querySelector(gl(d)))?(n.instance=h,Te(h),h):(l=r,(h=Pn.get(d))&&(l=S({},r),Rd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Ge(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Eu(l,r.precedence,e));return n.instance}function Eu(e,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===n)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function xd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Rd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Tu=null;function i_(e,n,r){if(Tu===null){var l=new Map,h=Tu=new Map;h.set(r,l)}else h=Tu,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var d=r[h];if(!(d[mi]||d[Ee]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(n)||"";_=e+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function a_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function ZS(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function s_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function JS(e,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ur(l.href),d=n.querySelector(ml(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=bu.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=d,Te(d);return}d=n.ownerDocument||n,l=e_(l),(h=Pn.get(h))&&xd(l,h),d=d.createElement("link"),Te(d);var _=d;_._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),Ge(d,"link",l),r.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=bu.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Cd=0;function WS(e,n){return e.stylesheets&&e.count===0&&Au(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&Au(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+n);0<e.imgBytes&&Cd===0&&(Cd=62500*VS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Au(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Cd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function bu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Au(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Su=null;function Au(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Su=new Map,n.forEach(tA,e),Su=null,bu.call(e))}function tA(e,n){if(!(n.state.loading&4)){var r=Su.get(e);if(r)var l=r.get(null);else{r=new Map,Su.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),l=_)}l&&r.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),d=r.get(_)||l,d===l&&r.set(null,h),r.set(_,h),this.count++,l=bu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var pl={$$typeof:ct,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function eA(e,n,r,l,h,d,_,b,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function r_(e,n,r,l,h,d,_,b,N,U,H,Y){return e=new eA(e,n,r,_,N,U,H,Y,b),n=1,d===!0&&(n|=24),d=En(3,null,null,n),e.current=d,d.stateNode=e,n=of(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:r,cache:n},hf(d),e}function o_(e){return e?(e=yr,e):yr}function l_(e,n,r,l,h,d){h=o_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ra(n),l.payload={element:r},d=d===void 0?null:d,d!==null&&(l.callback=d),r=Ca(e,l,n),r!==null&&(dn(r,e,n),Yo(r,e,n))}function c_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Nd(e,n){c_(e,n),(e=e.alternate)&&c_(e,n)}function u_(e){if(e.tag===13||e.tag===31){var n=As(e,67108864);n!==null&&dn(n,e,67108864),Nd(e,67108864)}}function h_(e){if(e.tag===13||e.tag===31){var n=wn();n=fs(n);var r=As(e,n);r!==null&&dn(r,e,n),Nd(e,n)}}var wu=!0;function nA(e,n,r,l){var h=G.T;G.T=null;var d=nt.p;try{nt.p=2,Id(e,n,r,l)}finally{nt.p=d,G.T=h}}function iA(e,n,r,l){var h=G.T;G.T=null;var d=nt.p;try{nt.p=8,Id(e,n,r,l)}finally{nt.p=d,G.T=h}}function Id(e,n,r,l){if(wu){var h=Md(l);if(h===null)pd(e,n,l,xu,r),d_(e,l);else if(sA(h,e,n,r,l))l.stopPropagation();else if(d_(e,l),n&4&&-1<aA.indexOf(e)){for(;h!==null;){var d=Nn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ui(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var N=1<<31-fe(_);b.entanglements[1]|=N,_&=~N}Ni(d),(Ht&6)===0&&(lu=en()+500,ul(0))}}break;case 31:case 13:b=As(d,2),b!==null&&dn(b,d,2),uu(),Nd(d,2)}if(d=Md(l),d===null&&pd(e,n,l,xu,r),d===h)break;h=d}h!==null&&l.stopPropagation()}else pd(e,n,l,null,r)}}function Md(e){return e=In(e),Dd(e)}var xu=null;function Dd(e){if(xu=null,e=gi(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=f(n),e!==null)return e;e=null}else if(r===31){if(e=m(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return xu=e,null}function f_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ls()){case vo:return 2;case Eo:return 8;case fa:case zh:return 32;case ac:return 268435456;default:return 32}default:return 32}}var Vd=!1,Ua=null,Pa=null,Ba=null,yl=new Map,_l=new Map,qa=[],aA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function d_(e,n){switch(e){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":yl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(n.pointerId)}}function vl(e,n,r,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Nn(n),n!==null&&u_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function sA(e,n,r,l,h){switch(n){case"focusin":return Ua=vl(Ua,e,n,r,l,h),!0;case"dragenter":return Pa=vl(Pa,e,n,r,l,h),!0;case"mouseover":return Ba=vl(Ba,e,n,r,l,h),!0;case"pointerover":var d=h.pointerId;return yl.set(d,vl(yl.get(d)||null,e,n,r,l,h)),!0;case"gotpointercapture":return d=h.pointerId,_l.set(d,vl(_l.get(d)||null,e,n,r,l,h)),!0}return!1}function m_(e){var n=gi(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=f(r),n!==null){e.blockedOn=n,Qn(e.priority,function(){h_(r)});return}}else if(n===31){if(n=m(r),n!==null){e.blockedOn=n,Qn(e.priority,function(){h_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ru(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Md(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Do=l,r.target.dispatchEvent(l),Do=null}else return n=Nn(r),n!==null&&u_(n),e.blockedOn=r,!1;n.shift()}return!0}function g_(e,n,r){Ru(e)&&r.delete(n)}function rA(){Vd=!1,Ua!==null&&Ru(Ua)&&(Ua=null),Pa!==null&&Ru(Pa)&&(Pa=null),Ba!==null&&Ru(Ba)&&(Ba=null),yl.forEach(g_),_l.forEach(g_)}function Cu(e,n){e.blockedOn===n&&(e.blockedOn=null,Vd||(Vd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,rA)))}var Nu=null;function p_(e){Nu!==e&&(Nu=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Nu===e&&(Nu=null);for(var n=0;n<e.length;n+=3){var r=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Dd(l||r)===null)continue;break}var d=Nn(r);d!==null&&(e.splice(n,3),n-=3,Mf(d,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Br(e){function n(N){return Cu(N,e)}Ua!==null&&Cu(Ua,e),Pa!==null&&Cu(Pa,e),Ba!==null&&Cu(Ba,e),yl.forEach(n),_l.forEach(n);for(var r=0;r<qa.length;r++){var l=qa[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<qa.length&&(r=qa[0],r.blockedOn===null);)m_(r),r.blockedOn===null&&qa.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],d=r[l+1],_=h[je]||null;if(typeof d=="function")_||p_(r);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[je]||null)b=_.formAction;else if(Dd(h)!==null)continue}else b=_.action;typeof b=="function"?r[l+1]=b:(r.splice(l,3),l-=3),p_(r)}}}function y_(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Od(e){this._internalRoot=e}Iu.prototype.render=Od.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=wn();l_(r,l,e,n,null,null)},Iu.prototype.unmount=Od.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;l_(e.current,2,null,e,null,null),uu(),n[di]=null}};function Iu(e){this._internalRoot=e}Iu.prototype.unstable_scheduleHydration=function(e){if(e){var n=uc();e={blockedOn:null,target:e,priority:n};for(var r=0;r<qa.length&&n!==0&&n<qa[r].priority;r++);qa.splice(r,0,e),r===0&&m_(e)}};var __=t.version;if(__!=="19.2.3")throw Error(s(527,__,"19.2.3"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var oA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{Hn=Mu.inject(oA),Pe=Mu}catch{}}return Tl.createRoot=function(e,n){if(!o(e))throw Error(s(299));var r=!1,l="",h=wy,d=xy,_=Ry;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=r_(e,1,!1,null,null,r,l,null,h,d,_,y_),e[di]=n.current,gd(e),new Od(n)},Tl.hydrateRoot=function(e,n,r){if(!o(e))throw Error(s(299));var l=!1,h="",d=wy,_=xy,b=Ry,N=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.formState!==void 0&&(N=r.formState)),n=r_(e,1,!0,n,r??null,l,h,N,d,_,b,y_),n.context=o_(null),r=n.current,l=wn(),l=fs(l),h=Ra(l),h.callback=null,Ca(r,h,l),r=l,n.current.lanes=r,us(n,r),Ni(n),e[di]=n.current,gd(e),new Iu(n)},Tl.version="19.2.3",Tl}var C_;function _A(){if(C_)return zd.exports;C_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),zd.exports=yA(),zd.exports}var vA=_A();const EA=M1(vA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bA=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,s)=>s?s.toUpperCase():i.toLowerCase()),N_=a=>{const t=bA(a);return t.charAt(0).toUpperCase()+t.slice(1)},D1=(...a)=>a.filter((t,i,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===i).join(" ").trim(),SA=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=ht.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:f,...m},p)=>ht.createElement("svg",{ref:p,...AA,width:t,height:t,stroke:a,strokeWidth:s?Number(i)*24/Number(t):i,className:D1("lucide",o),...!c&&!SA(m)&&{"aria-hidden":"true"},...m},[...f.map(([y,T])=>ht.createElement(y,T)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=(a,t)=>{const i=ht.forwardRef(({className:s,...o},c)=>ht.createElement(wA,{ref:c,iconNode:t,className:D1(`lucide-${TA(N_(a))}`,`lucide-${a}`,s),...o}));return i.displayName=N_(a),i};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],RA=Rt("activity",xA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],NA=Rt("arrow-left",CA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],MA=Rt("banknote",IA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],V1=Rt("bell",DA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],OA=Rt("book-open",VA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],jA=Rt("brain",kA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],LA=Rt("briefcase",zA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],PA=Rt("chevron-down",UA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],O1=Rt("chevron-right",BA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],k1=Rt("circle-check",qA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],HA=Rt("clock",FA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],QA=Rt("download",GA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],YA=Rt("headphones",KA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],oo=Rt("heart",$A);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],ZA=Rt("house",XA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],WA=Rt("info",JA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]],e2=Rt("laptop",t2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],cm=Rt("lock",n2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],a2=Rt("message-square",i2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]],um=Rt("mic-vocal",s2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],o2=Rt("moon",r2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],j1=Rt("palette",l2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],I_=Rt("pause",c2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Wr=Rt("play",u2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],f2=Rt("refresh-cw",h2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],m2=Rt("scroll-text",d2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],z1=Rt("search",g2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],L1=Rt("share-2",p2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],_2=Rt("skip-back",y2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],E2=Rt("skip-forward",v2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],b2=Rt("smartphone",T2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],fh=Rt("sparkles",S2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Hm=Rt("star",A2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],U1=Rt("sun",w2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],R2=Rt("target",x2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],N2=Rt("trophy",C2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],M2=Rt("users",I2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],V2=Rt("wifi-off",D2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hm=Rt("x",O2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],j2=Rt("zap",k2),z2={zap:j2,banknote:MA,brain:jA,heart:oo,activity:RA,briefcase:LA,"scroll-text":m2,sun:U1},L2=ht.memo(({categories:a,onSelect:t,counts:i={}})=>E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 p-4 pt-0",children:a.map((s,o)=>{const c=z2[s.icon]||e2,f=!s.rss,m=i[s.id]||0;return E.jsxs("button",{disabled:f,onClick:()=>t(s),style:{animationDelay:`${o*50}ms`,animationFillMode:"backwards"},className:`
              ${f?"bg-slate-900/50 border-slate-800 opacity-60 grayscale":s.color+" border-white/10"} 
              group relative h-40 rounded-[32px] p-5 
              flex flex-col justify-between items-start text-white 
              shadow-lg shadow-black/20
              transition-all duration-300 ease-out
              ${!f&&"hover:-translate-y-1 hover:shadow-indigo-500/10 active:scale-95 active:translate-y-0"}
              overflow-hidden border
              animate-in fade-in slide-in-from-bottom-4
            `,children:[E.jsx("div",{className:"absolute -right-3 -bottom-3 opacity-10 rotate-[-15deg] group-hover:scale-125 group-hover:rotate-0 transition-transform duration-500",children:f?E.jsx(cm,{size:100}):E.jsx(c,{size:100})}),E.jsx("div",{className:`
              ${f?"bg-slate-800":"bg-black/20"} 
              p-2.5 rounded-2xl backdrop-blur-md z-10 border border-white/10 group-hover:bg-black/40 transition-colors
            `,children:f?E.jsx(cm,{size:18,className:"text-slate-600"}):E.jsx(c,{size:18})}),E.jsxs("div",{className:"z-10 text-left w-full mt-2",children:[E.jsx("span",{className:"font-black text-[16px] uppercase leading-[1.1] block tracking-tighter group-hover:text-white transition-colors",children:s.name}),!f&&E.jsxs("span",{className:"text-[8px] uppercase tracking-[0.25em] text-white/50 font-black mt-2 block group-hover:text-white/80",children:[m," Episodios"]}),f&&E.jsx("span",{className:"text-[8px] uppercase tracking-[0.2em] text-slate-500 font-black mt-2 block",children:"Prximamente"})]}),E.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/0 via-white/5 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000 ease-in-out"})]},s.id)})})),Cl=[{id:"productivity",name:"Productividad y xito",icon:"zap",color:"bg-gradient-to-br from-indigo-600 to-blue-700",rss:"https://anchor.fm/s/10d2ecf30/podcast/rss"},{id:"money",name:"Dinero y Libertad Financiera",icon:"banknote",color:"bg-gradient-to-br from-emerald-500 to-green-700",rss:""},{id:"mind",name:"Mente y Psicologa",icon:"brain",color:"bg-gradient-to-br from-purple-600 to-indigo-800",rss:""},{id:"love",name:"Amor, Sexo y Relaciones",icon:"heart",color:"bg-gradient-to-br from-rose-500 to-red-700",rss:""},{id:"health",name:"Salud y Bienestar",icon:"activity",color:"bg-gradient-to-br from-teal-500 to-emerald-600",rss:""},{id:"business",name:"Liderazgo y Negocios",icon:"briefcase",color:"bg-gradient-to-br from-slate-700 to-slate-900",rss:""},{id:"history",name:"Historia y Cultura",icon:"scroll-text",color:"bg-gradient-to-br from-amber-600 to-orange-800",rss:""},{id:"spirituality",name:"Espiritualidad y Filosofa",icon:"sun",color:"bg-gradient-to-br from-violet-500 to-purple-700",rss:""}],U2=()=>{};var M_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2={SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm=function(a,t){if(!a)throw B2(t)},B2=function(a){return new Error("Firebase Database ("+P2.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=function(a){const t=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},q2=function(a){const t=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=a[i++];t[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=a[i++],f=a[i++],m=a[i++],p=((o&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=a[i++],f=a[i++];t[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return t.join("")},B1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const c=a[o],f=o+1<a.length,m=f?a[o+1]:0,p=o+2<a.length,y=p?a[o+2]:0,T=c>>2,S=(c&3)<<4|m>>4;let R=(m&15)<<2|y>>6,B=y&63;p||(B=64,f||(R=64)),s.push(i[T],i[S],i[R],i[B])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(P1(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):q2(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const c=i[a.charAt(o++)],m=o<a.length?i[a.charAt(o)]:0;++o;const y=o<a.length?i[a.charAt(o)]:64;++o;const S=o<a.length?i[a.charAt(o)]:64;if(++o,c==null||m==null||y==null||S==null)throw new F2;const R=c<<2|m>>4;if(s.push(R),y!==64){const B=m<<4&240|y>>2;if(s.push(B),S!==64){const J=y<<6&192|S;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class F2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const H2=function(a){const t=P1(a);return B1.encodeByteArray(t,!0)},$u=function(a){return H2(a).replace(/\./g,"")},G2=function(a){try{return B1.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=()=>Q2().__FIREBASE_DEFAULTS__,Y2=()=>{if(typeof process>"u"||typeof M_>"u")return;const a=M_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},$2=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&G2(a[1]);return t&&JSON.parse(t)},Gm=()=>{try{return U2()||K2()||Y2()||$2()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},X2=a=>{var t,i;return(i=(t=Gm())==null?void 0:t.emulatorHosts)==null?void 0:i[a]},Z2=a=>{const t=X2(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},q1=()=>{var a;return(a=Gm())==null?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function W2(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",o=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[$u(JSON.stringify(i)),$u(JSON.stringify(f)),""].join(".")}const Nl={};function ew(){const a={prod:[],emulator:[]};for(const t of Object.keys(Nl))Nl[t]?a.emulator.push(t):a.prod.push(t);return a}function nw(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let D_=!1;function iw(a,t){if(typeof window>"u"||typeof document>"u"||!Qm(window.location.host)||Nl[a]===t||Nl[a]||D_)return;Nl[a]=t;function i(R){return`__firebase__banner__${R}`}const s="__firebase__banner",c=ew().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function p(R,B){R.setAttribute("width","24"),R.setAttribute("id",B),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{D_=!0,f()},R}function T(R,B){R.setAttribute("id",B),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function S(){const R=nw(s),B=i("text"),J=document.getElementById(B)||document.createElement("span"),W=i("learnmore"),Z=document.getElementById(W)||document.createElement("a"),st=i("preprendIcon"),et=document.getElementById(st)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const ct=R.element;m(ct),T(Z,W);const pt=y();p(et,st),ct.append(et,J,Z,pt),document.body.appendChild(ct)}c?(J.innerText="Preview backend disconnected.",et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sw(){var t;const a=(t=Gm())==null?void 0:t.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function F1(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function rw(){return!sw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yl(){try{return typeof indexedDB=="object"}catch{return!1}}function dh(){return new Promise((a,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;t(((c=o.error)==null?void 0:c.message)||"")}}catch(i){t(i)}})}function Km(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="FirebaseError";class Li extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=ow,Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lo.prototype.create)}}class lo{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],f=c?lw(c,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Li(o,m,s)}}function lw(a,t){return a.replace(cw,(i,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const cw=/\{\$([^}]+)}/g;function to(a,t){if(a===t)return!0;const i=Object.keys(a),s=Object.keys(t);for(const o of i){if(!s.includes(o))return!1;const c=a[o],f=t[o];if(V_(c)&&V_(f)){if(!to(c,f))return!1}else if(c!==f)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function V_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=1e3,hw=2,fw=14400*1e3,dw=.5;function Xu(a,t=uw,i=hw){const s=t*Math.pow(i,a),o=Math.round(dw*s*(Math.random()-.5)*2);return Math.min(fw,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(a){return a&&a._delegate?a._delegate:a}class ri{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new J2;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(t==null?void 0:t.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(pw(t))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(t=zs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zs){return this.instances.has(t)}getOptions(t=zs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(o)}return o}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&t(c,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:gw(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=zs){return this.component?this.component.multipleInstances?t:zs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gw(a){return a===zs?void 0:a}function pw(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new mw(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Dt||(Dt={}));const _w={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},vw=Dt.INFO,Ew={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},Tw=(a,t,...i)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),o=Ew[t];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $l{constructor(t){this.name=t,this._logLevel=vw,this._logHandler=Tw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?_w[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const bw=(a,t)=>t.some(i=>a instanceof i);let O_,k_;function Sw(){return O_||(O_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Aw(){return k_||(k_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H1=new WeakMap,dm=new WeakMap,G1=new WeakMap,Bd=new WeakMap,Ym=new WeakMap;function ww(a){const t=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",c),a.removeEventListener("error",f)},c=()=>{i(Ya(a.result)),o()},f=()=>{s(a.error),o()};a.addEventListener("success",c),a.addEventListener("error",f)});return t.then(i=>{i instanceof IDBCursor&&H1.set(i,a)}).catch(()=>{}),Ym.set(t,a),t}function xw(a){if(dm.has(a))return;const t=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",f),a.removeEventListener("abort",f)},c=()=>{i(),o()},f=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",c),a.addEventListener("error",f),a.addEventListener("abort",f)});dm.set(a,t)}let mm={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return dm.get(a);if(t==="objectStoreNames")return a.objectStoreNames||G1.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ya(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function Rw(a){mm=a(mm)}function Cw(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=a.call(qd(this),t,...i);return G1.set(s,t.sort?t.sort():[t]),Ya(s)}:Aw().includes(a)?function(...t){return a.apply(qd(this),t),Ya(H1.get(this))}:function(...t){return Ya(a.apply(qd(this),t))}}function Nw(a){return typeof a=="function"?Cw(a):(a instanceof IDBTransaction&&xw(a),bw(a,Sw())?new Proxy(a,mm):a)}function Ya(a){if(a instanceof IDBRequest)return ww(a);if(Bd.has(a))return Bd.get(a);const t=Nw(a);return t!==a&&(Bd.set(a,t),Ym.set(t,a)),t}const qd=a=>Ym.get(a);function Q1(a,t,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const f=indexedDB.open(a,t),m=Ya(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Ya(f.result),p.oldVersion,p.newVersion,Ya(f.transaction),p)}),i&&f.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Iw=["get","getKey","getAll","getAllKeys","count"],Mw=["put","add","delete","clear"],Fd=new Map;function j_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Fd.get(t))return Fd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,o=Mw.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Iw.includes(i)))return;const c=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[i](...m),o&&p.done]))[0]};return Fd.set(t,c),c}Rw(a=>({...a,get:(t,i,s)=>j_(t,i)||a.get(t,i,s),has:(t,i)=>!!j_(t,i)||a.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Vw(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function Vw(a){const t=a.getComponent();return(t==null?void 0:t.type)==="VERSION"}const gm="@firebase/app",z_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new $l("@firebase/app"),Ow="@firebase/app-compat",kw="@firebase/analytics-compat",jw="@firebase/analytics",zw="@firebase/app-check-compat",Lw="@firebase/app-check",Uw="@firebase/auth",Pw="@firebase/auth-compat",Bw="@firebase/database",qw="@firebase/data-connect",Fw="@firebase/database-compat",Hw="@firebase/functions",Gw="@firebase/functions-compat",Qw="@firebase/installations",Kw="@firebase/installations-compat",Yw="@firebase/messaging",$w="@firebase/messaging-compat",Xw="@firebase/performance",Zw="@firebase/performance-compat",Jw="@firebase/remote-config",Ww="@firebase/remote-config-compat",tx="@firebase/storage",ex="@firebase/storage-compat",nx="@firebase/firestore",ix="@firebase/ai",ax="@firebase/firestore-compat",sx="firebase",rx="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="[DEFAULT]",ox={[gm]:"fire-core",[Ow]:"fire-core-compat",[jw]:"fire-analytics",[kw]:"fire-analytics-compat",[Lw]:"fire-app-check",[zw]:"fire-app-check-compat",[Uw]:"fire-auth",[Pw]:"fire-auth-compat",[Bw]:"fire-rtdb",[qw]:"fire-data-connect",[Fw]:"fire-rtdb-compat",[Hw]:"fire-fn",[Gw]:"fire-fn-compat",[Qw]:"fire-iid",[Kw]:"fire-iid-compat",[Yw]:"fire-fcm",[$w]:"fire-fcm-compat",[Xw]:"fire-perf",[Zw]:"fire-perf-compat",[Jw]:"fire-rc",[Ww]:"fire-rc-compat",[tx]:"fire-gcs",[ex]:"fire-gcs-compat",[nx]:"fire-fst",[ax]:"fire-fst-compat",[ix]:"fire-vertex","fire-js":"fire-js",[sx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=new Map,lx=new Map,ym=new Map;function L_(a,t){try{a.container.addComponent(t)}catch(i){sa.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function ji(a){const t=a.name;if(ym.has(t))return sa.debug(`There were multiple attempts to register component ${t}.`),!1;ym.set(t,a);for(const i of zl.values())L_(i,a);for(const i of lx.values())L_(i,a);return!0}function Ks(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function cx(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$a=new lo("app","Firebase",ux);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ri("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw $a.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m=rx;function K1(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const s={name:pm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw $a.create("bad-app-name",{appName:String(o)});if(i||(i=q1()),!i)throw $a.create("no-options");const c=zl.get(o);if(c){if(to(i,c.options)&&to(s,c.config))return c;throw $a.create("duplicate-app",{appName:o})}const f=new yw(o);for(const p of ym.values())f.addComponent(p);const m=new hx(i,s,f);return zl.set(o,m),m}function Xl(a=pm){const t=zl.get(a);if(!t&&a===pm&&q1())return K1();if(!t)throw $a.create("no-app",{appName:a});return t}function fx(){return Array.from(zl.values())}function pn(a,t,i){let s=ox[a]??a;i&&(s+=`-${i}`);const o=s.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),sa.warn(f.join(" "));return}ji(new ri(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="firebase-heartbeat-database",mx=1,Ll="firebase-heartbeat-store";let Hd=null;function Y1(){return Hd||(Hd=Q1(dx,mx,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Ll)}catch(i){console.warn(i)}}}}).catch(a=>{throw $a.create("idb-open",{originalErrorMessage:a.message})})),Hd}async function gx(a){try{const i=(await Y1()).transaction(Ll),s=await i.objectStore(Ll).get($1(a));return await i.done,s}catch(t){if(t instanceof Li)sa.warn(t.message);else{const i=$a.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});sa.warn(i.message)}}}async function U_(a,t){try{const s=(await Y1()).transaction(Ll,"readwrite");await s.objectStore(Ll).put(t,$1(a)),await s.done}catch(i){if(i instanceof Li)sa.warn(i.message);else{const s=$a.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});sa.warn(s.message)}}}function $1(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=1024,yx=30;class _x{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Ex(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=P_();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>yx){const f=Tx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){sa.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=P_(),{heartbeatsToSend:s,unsentEntries:o}=vx(this._heartbeatsCache.heartbeats),c=$u(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return sa.warn(i),""}}}function P_(){return new Date().toISOString().substring(0,10)}function vx(a,t=px){const i=[];let s=a.slice();for(const o of a){const c=i.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),B_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),B_(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Ex{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yl()?dh().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await gx(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return U_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return U_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function B_(a){return $u(JSON.stringify({version:2,heartbeats:a})).length}function Tx(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(a){ji(new ri("platform-logger",t=>new Dw(t),"PRIVATE")),ji(new ri("heartbeat",t=>new _x(t),"PRIVATE")),pn(gm,z_,a),pn(gm,z_,"esm2020"),pn("fire-js","")}bx("");var Sx="firebase",Ax="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn(Sx,Ax,"app");var q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xa,X1;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,x){function C(){}C.prototype=x.prototype,I.F=x.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,M,j){for(var w=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)w[Ut-2]=arguments[Ut];return x.prototype[M].apply(V,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,x,C){C||(C=0);const V=Array(16);if(typeof x=="string")for(var M=0;M<16;++M)V[M]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(M=0;M<16;++M)V[M]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=I.g[0],C=I.g[1],M=I.g[2];let j=I.g[3],w;w=x+(j^C&(M^j))+V[0]+3614090360&4294967295,x=C+(w<<7&4294967295|w>>>25),w=j+(M^x&(C^M))+V[1]+3905402710&4294967295,j=x+(w<<12&4294967295|w>>>20),w=M+(C^j&(x^C))+V[2]+606105819&4294967295,M=j+(w<<17&4294967295|w>>>15),w=C+(x^M&(j^x))+V[3]+3250441966&4294967295,C=M+(w<<22&4294967295|w>>>10),w=x+(j^C&(M^j))+V[4]+4118548399&4294967295,x=C+(w<<7&4294967295|w>>>25),w=j+(M^x&(C^M))+V[5]+1200080426&4294967295,j=x+(w<<12&4294967295|w>>>20),w=M+(C^j&(x^C))+V[6]+2821735955&4294967295,M=j+(w<<17&4294967295|w>>>15),w=C+(x^M&(j^x))+V[7]+4249261313&4294967295,C=M+(w<<22&4294967295|w>>>10),w=x+(j^C&(M^j))+V[8]+1770035416&4294967295,x=C+(w<<7&4294967295|w>>>25),w=j+(M^x&(C^M))+V[9]+2336552879&4294967295,j=x+(w<<12&4294967295|w>>>20),w=M+(C^j&(x^C))+V[10]+4294925233&4294967295,M=j+(w<<17&4294967295|w>>>15),w=C+(x^M&(j^x))+V[11]+2304563134&4294967295,C=M+(w<<22&4294967295|w>>>10),w=x+(j^C&(M^j))+V[12]+1804603682&4294967295,x=C+(w<<7&4294967295|w>>>25),w=j+(M^x&(C^M))+V[13]+4254626195&4294967295,j=x+(w<<12&4294967295|w>>>20),w=M+(C^j&(x^C))+V[14]+2792965006&4294967295,M=j+(w<<17&4294967295|w>>>15),w=C+(x^M&(j^x))+V[15]+1236535329&4294967295,C=M+(w<<22&4294967295|w>>>10),w=x+(M^j&(C^M))+V[1]+4129170786&4294967295,x=C+(w<<5&4294967295|w>>>27),w=j+(C^M&(x^C))+V[6]+3225465664&4294967295,j=x+(w<<9&4294967295|w>>>23),w=M+(x^C&(j^x))+V[11]+643717713&4294967295,M=j+(w<<14&4294967295|w>>>18),w=C+(j^x&(M^j))+V[0]+3921069994&4294967295,C=M+(w<<20&4294967295|w>>>12),w=x+(M^j&(C^M))+V[5]+3593408605&4294967295,x=C+(w<<5&4294967295|w>>>27),w=j+(C^M&(x^C))+V[10]+38016083&4294967295,j=x+(w<<9&4294967295|w>>>23),w=M+(x^C&(j^x))+V[15]+3634488961&4294967295,M=j+(w<<14&4294967295|w>>>18),w=C+(j^x&(M^j))+V[4]+3889429448&4294967295,C=M+(w<<20&4294967295|w>>>12),w=x+(M^j&(C^M))+V[9]+568446438&4294967295,x=C+(w<<5&4294967295|w>>>27),w=j+(C^M&(x^C))+V[14]+3275163606&4294967295,j=x+(w<<9&4294967295|w>>>23),w=M+(x^C&(j^x))+V[3]+4107603335&4294967295,M=j+(w<<14&4294967295|w>>>18),w=C+(j^x&(M^j))+V[8]+1163531501&4294967295,C=M+(w<<20&4294967295|w>>>12),w=x+(M^j&(C^M))+V[13]+2850285829&4294967295,x=C+(w<<5&4294967295|w>>>27),w=j+(C^M&(x^C))+V[2]+4243563512&4294967295,j=x+(w<<9&4294967295|w>>>23),w=M+(x^C&(j^x))+V[7]+1735328473&4294967295,M=j+(w<<14&4294967295|w>>>18),w=C+(j^x&(M^j))+V[12]+2368359562&4294967295,C=M+(w<<20&4294967295|w>>>12),w=x+(C^M^j)+V[5]+4294588738&4294967295,x=C+(w<<4&4294967295|w>>>28),w=j+(x^C^M)+V[8]+2272392833&4294967295,j=x+(w<<11&4294967295|w>>>21),w=M+(j^x^C)+V[11]+1839030562&4294967295,M=j+(w<<16&4294967295|w>>>16),w=C+(M^j^x)+V[14]+4259657740&4294967295,C=M+(w<<23&4294967295|w>>>9),w=x+(C^M^j)+V[1]+2763975236&4294967295,x=C+(w<<4&4294967295|w>>>28),w=j+(x^C^M)+V[4]+1272893353&4294967295,j=x+(w<<11&4294967295|w>>>21),w=M+(j^x^C)+V[7]+4139469664&4294967295,M=j+(w<<16&4294967295|w>>>16),w=C+(M^j^x)+V[10]+3200236656&4294967295,C=M+(w<<23&4294967295|w>>>9),w=x+(C^M^j)+V[13]+681279174&4294967295,x=C+(w<<4&4294967295|w>>>28),w=j+(x^C^M)+V[0]+3936430074&4294967295,j=x+(w<<11&4294967295|w>>>21),w=M+(j^x^C)+V[3]+3572445317&4294967295,M=j+(w<<16&4294967295|w>>>16),w=C+(M^j^x)+V[6]+76029189&4294967295,C=M+(w<<23&4294967295|w>>>9),w=x+(C^M^j)+V[9]+3654602809&4294967295,x=C+(w<<4&4294967295|w>>>28),w=j+(x^C^M)+V[12]+3873151461&4294967295,j=x+(w<<11&4294967295|w>>>21),w=M+(j^x^C)+V[15]+530742520&4294967295,M=j+(w<<16&4294967295|w>>>16),w=C+(M^j^x)+V[2]+3299628645&4294967295,C=M+(w<<23&4294967295|w>>>9),w=x+(M^(C|~j))+V[0]+4096336452&4294967295,x=C+(w<<6&4294967295|w>>>26),w=j+(C^(x|~M))+V[7]+1126891415&4294967295,j=x+(w<<10&4294967295|w>>>22),w=M+(x^(j|~C))+V[14]+2878612391&4294967295,M=j+(w<<15&4294967295|w>>>17),w=C+(j^(M|~x))+V[5]+4237533241&4294967295,C=M+(w<<21&4294967295|w>>>11),w=x+(M^(C|~j))+V[12]+1700485571&4294967295,x=C+(w<<6&4294967295|w>>>26),w=j+(C^(x|~M))+V[3]+2399980690&4294967295,j=x+(w<<10&4294967295|w>>>22),w=M+(x^(j|~C))+V[10]+4293915773&4294967295,M=j+(w<<15&4294967295|w>>>17),w=C+(j^(M|~x))+V[1]+2240044497&4294967295,C=M+(w<<21&4294967295|w>>>11),w=x+(M^(C|~j))+V[8]+1873313359&4294967295,x=C+(w<<6&4294967295|w>>>26),w=j+(C^(x|~M))+V[15]+4264355552&4294967295,j=x+(w<<10&4294967295|w>>>22),w=M+(x^(j|~C))+V[6]+2734768916&4294967295,M=j+(w<<15&4294967295|w>>>17),w=C+(j^(M|~x))+V[13]+1309151649&4294967295,C=M+(w<<21&4294967295|w>>>11),w=x+(M^(C|~j))+V[4]+4149444226&4294967295,x=C+(w<<6&4294967295|w>>>26),w=j+(C^(x|~M))+V[11]+3174756917&4294967295,j=x+(w<<10&4294967295|w>>>22),w=M+(x^(j|~C))+V[2]+718787259&4294967295,M=j+(w<<15&4294967295|w>>>17),w=C+(j^(M|~x))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(M+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+j&4294967295}s.prototype.v=function(I,x){x===void 0&&(x=I.length);const C=x-this.blockSize,V=this.C;let M=this.h,j=0;for(;j<x;){if(M==0)for(;j<=C;)o(this,I,j),j+=this.blockSize;if(typeof I=="string"){for(;j<x;)if(V[M++]=I.charCodeAt(j++),M==this.blockSize){o(this,V),M=0;break}}else for(;j<x;)if(V[M++]=I[j++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=x},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[x++]=this.g[C]>>>V&255;return I};function c(I,x){var C=m;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=x(I)}function f(I,x){this.h=x;const C=[];let V=!0;for(let M=I.length-1;M>=0;M--){const j=I[M]|0;V&&j==x||(C[M]=j,V=!1)}this.g=C}var m={};function p(I){return-128<=I&&I<128?c(I,function(x){return new f([x|0],x<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return Z(y(-I));const x=[];let C=1;for(let V=0;I>=C;V++)x[V]=I/C|0,C*=4294967296;return new f(x,0)}function T(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return Z(T(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(x,8));let V=S;for(let j=0;j<I.length;j+=8){var M=Math.min(8,I.length-j);const w=parseInt(I.substring(j,j+M),x);M<8?(M=y(Math.pow(x,M)),V=V.j(M).add(y(w))):(V=V.j(C),V=V.add(y(w)))}return V}var S=p(0),R=p(1),B=p(16777216);a=f.prototype,a.m=function(){if(W(this))return-Z(this).m();let I=0,x=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*x,x*=4294967296}return I},a.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(J(this))return"0";if(W(this))return"-"+Z(this).toString(I);const x=y(Math.pow(I,6));var C=this;let V="";for(;;){const M=pt(C,x).g;C=st(C,M.j(x));let j=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=M,J(C))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},a.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function J(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function W(I){return I.h==-1}a.l=function(I){return I=st(this,I),W(I)?-1:J(I)?0:1};function Z(I){const x=I.g.length,C=[];for(let V=0;V<x;V++)C[V]=~I.g[V];return new f(C,~I.h).add(R)}a.abs=function(){return W(this)?Z(this):this},a.add=function(I){const x=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let M=0;M<=x;M++){let j=V+(this.i(M)&65535)+(I.i(M)&65535),w=(j>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);V=w>>>16,j&=65535,w&=65535,C[M]=w<<16|j}return new f(C,C[C.length-1]&-2147483648?-1:0)};function st(I,x){return I.add(Z(x))}a.j=function(I){if(J(this)||J(I))return S;if(W(this))return W(I)?Z(this).j(Z(I)):Z(Z(this).j(I));if(W(I))return Z(this.j(Z(I)));if(this.l(B)<0&&I.l(B)<0)return y(this.m()*I.m());const x=this.g.length+I.g.length,C=[];for(var V=0;V<2*x;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<I.g.length;M++){const j=this.i(V)>>>16,w=this.i(V)&65535,Ut=I.i(M)>>>16,le=I.i(M)&65535;C[2*V+2*M]+=w*le,et(C,2*V+2*M),C[2*V+2*M+1]+=j*le,et(C,2*V+2*M+1),C[2*V+2*M+1]+=w*Ut,et(C,2*V+2*M+1),C[2*V+2*M+2]+=j*Ut,et(C,2*V+2*M+2)}for(I=0;I<x;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=x;I<2*x;I++)C[I]=0;return new f(C,0)};function et(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function ct(I,x){this.g=I,this.h=x}function pt(I,x){if(J(x))throw Error("division by zero");if(J(I))return new ct(S,S);if(W(I))return x=pt(Z(I),x),new ct(Z(x.g),Z(x.h));if(W(x))return x=pt(I,Z(x)),new ct(Z(x.g),x.h);if(I.g.length>30){if(W(I)||W(x))throw Error("slowDivide_ only works with positive integers.");for(var C=R,V=x;V.l(I)<=0;)C=Lt(C),V=Lt(V);var M=At(C,1),j=At(V,1);for(V=At(V,2),C=At(C,2);!J(V);){var w=j.add(V);w.l(I)<=0&&(M=M.add(C),j=w),V=At(V,1),C=At(C,1)}return x=st(I,M.j(x)),new ct(M,x)}for(M=S;I.l(x)>=0;){for(C=Math.max(1,Math.floor(I.m()/x.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=y(C),w=j.j(x);W(w)||w.l(I)>0;)C-=V,j=y(C),w=j.j(x);J(j)&&(j=R),M=M.add(j),I=st(I,w)}return new ct(M,I)}a.B=function(I){return pt(this,I).h},a.and=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<x;V++)C[V]=this.i(V)&I.i(V);return new f(C,this.h&I.h)},a.or=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<x;V++)C[V]=this.i(V)|I.i(V);return new f(C,this.h|I.h)},a.xor=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<x;V++)C[V]=this.i(V)^I.i(V);return new f(C,this.h^I.h)};function Lt(I){const x=I.g.length+1,C=[];for(let V=0;V<x;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new f(C,I.h)}function At(I,x){const C=x>>5;x%=32;const V=I.g.length-C,M=[];for(let j=0;j<V;j++)M[j]=x>0?I.i(j+C)>>>x|I.i(j+C+1)<<32-x:I.i(j+C);return new f(M,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,X1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,Xa=f}).apply(typeof q_<"u"?q_:typeof self<"u"?self:typeof window<"u"?window:{});var Du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Z1,Sl,J1,Pu,vm,W1,tE,eE;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Du=="object"&&Du];for(var g=0;g<u.length;++g){var v=u[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function o(u,g){if(g)t:{var v=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var z=u[A];if(!(z in v))break t;v=v[z]}u=u[u.length-1],A=v[u],g=g(A),g!=A&&g!=null&&t(v,u,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(g){var v=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&v.push([A,g[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function p(u,g,v){return u.call.apply(u.bind,arguments)}function y(u,g,v){return y=p,y.apply(null,arguments)}function T(u,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,g){function v(){}v.prototype=g.prototype,u.Z=g.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,z,q){for(var tt=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)tt[bt-2]=arguments[bt];return g.prototype[z].apply(A,tt)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function B(u){const g=u.length;if(g>0){const v=Array(g);for(let A=0;A<g;A++)v[A]=u[A];return v}return[]}function J(u,g){for(let A=1;A<arguments.length;A++){const z=arguments[A];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=u.length||0;const q=z.length||0;u.length=v+q;for(let tt=0;tt<q;tt++)u[v+tt]=z[tt]}else u.push(z)}}class W{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Z(u){f.setTimeout(()=>{throw u},0)}function st(){var u=I;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class et{constructor(){this.h=this.g=null}add(g,v){const A=ct.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ct=new W(()=>new pt,u=>u.reset());class pt{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Lt,At=!1,I=new et,x=()=>{const u=Promise.resolve(void 0);Lt=()=>{u.then(C)}};function C(){for(var u;u=st();){try{u.h.call(u.g)}catch(v){Z(v)}var g=ct;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}At=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function Ut(u,g){M.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}S(Ut,M),Ut.prototype.init=function(u,g){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(v=="mouseover"?g=u.fromElement:v=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ut.Z.h.call(this)},Ut.prototype.h=function(){Ut.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var le="closure_listenable_"+(Math.random()*1e6|0),G=0;function nt(u,g,v,A,z){this.listener=u,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=z,this.key=++G,this.da=this.fa=!1}function mt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pt(u,g,v){for(const A in u)g.call(v,u[A],A,u)}function Qt(u,g){for(const v in u)g.call(void 0,u[v],v,u)}function O(u){const g={};for(const v in u)g[v]=u[v];return g}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,g){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)u[v]=A[v];for(let q=0;q<$.length;q++)v=$[q],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function ot(u){this.src=u,this.g={},this.h=0}ot.prototype.add=function(u,g,v,A,z){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const tt=wt(u,g,A,z);return tt>-1?(g=u[tt],v||(g.fa=!1)):(g=new nt(g,this.src,q,!!A,z),g.fa=v,u.push(g)),g};function _t(u,g){const v=g.type;if(v in u.g){var A=u.g[v],z=Array.prototype.indexOf.call(A,g,void 0),q;(q=z>=0)&&Array.prototype.splice.call(A,z,1),q&&(mt(g),u.g[v].length==0&&(delete u.g[v],u.h--))}}function wt(u,g,v,A){for(let z=0;z<u.length;++z){const q=u[z];if(!q.da&&q.listener==g&&q.capture==!!v&&q.ha==A)return z}return-1}var jt="closure_lm_"+(Math.random()*1e6|0),Me={};function se(u,g,v,A,z){if(Array.isArray(g)){for(let q=0;q<g.length;q++)se(u,g[q],v,A,z);return null}return v=_o(v),u&&u[le]?u.J(g,v,m(A)?!!A.capture:!1,z):rs(u,g,v,!1,A,z)}function rs(u,g,v,A,z,q){if(!g)throw Error("Invalid event type");const tt=m(z)?!!z.capture:!!z;let bt=os(u);if(bt||(u[jt]=bt=new ot(u)),v=bt.add(g,v,A,tt,q),v.proxy)return v;if(A=Js(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)j||(z=tt),z===void 0&&(z=!1),u.addEventListener(g.toString(),A,z);else if(u.attachEvent)u.attachEvent(li(g.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Js(){function u(v){return g.call(u.src,u.listener,v)}const g=po;return u}function Ws(u,g,v,A,z){if(Array.isArray(g))for(var q=0;q<g.length;q++)Ws(u,g[q],v,A,z);else A=m(A)?!!A.capture:!!A,v=_o(v),u&&u[le]?(u=u.i,q=String(g).toString(),q in u.g&&(g=u.g[q],v=wt(g,v,A,z),v>-1&&(mt(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete u.g[q],u.h--)))):u&&(u=os(u))&&(g=u.g[g.toString()],u=-1,g&&(u=wt(g,v,A,z)),(v=u>-1?g[u]:null)&&tr(v))}function tr(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[le])_t(g.i,u);else{var v=u.type,A=u.proxy;g.removeEventListener?g.removeEventListener(v,A,u.capture):g.detachEvent?g.detachEvent(li(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=os(g))?(_t(v,u),v.h==0&&(v.src=null,g[jt]=null)):mt(u)}}}function li(u){return u in Me?Me[u]:Me[u]="on"+u}function po(u,g){if(u.da)u=!0;else{g=new Ut(g,this);const v=u.listener,A=u.ha||u.src;u.fa&&tr(u),u=v.call(A,g)}return u}function os(u){return u=u[jt],u instanceof ot?u:null}var yo="__closure_events_fn_"+(Math.random()*1e9>>>0);function _o(u){return typeof u=="function"?u:(u[yo]||(u[yo]=function(g){return u.handleEvent(g)}),u[yo])}function _e(){V.call(this),this.i=new ot(this),this.M=this,this.G=null}S(_e,V),_e.prototype[le]=!0,_e.prototype.removeEventListener=function(u,g,v,A){Ws(this,u,g,v,A)};function De(u,g){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=g.type||g,typeof g=="string")g=new M(g,u);else if(g instanceof M)g.target=g.target||u;else{var z=g;g=new M(A,u),it(g,z)}z=!0;let q,tt;if(v)for(tt=v.length-1;tt>=0;tt--)q=g.g=v[tt],z=ha(q,A,!0,g)&&z;if(q=g.g=u,z=ha(q,A,!0,g)&&z,z=ha(q,A,!1,g)&&z,v)for(tt=0;tt<v.length;tt++)q=g.g=v[tt],z=ha(q,A,!1,g)&&z}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const v=u.g[g];for(let A=0;A<v.length;A++)mt(v[A]);delete u.g[g],u.h--}}this.G=null},_e.prototype.J=function(u,g,v,A){return this.i.add(String(u),g,!1,v,A)},_e.prototype.K=function(u,g,v,A){return this.i.add(String(u),g,!0,v,A)};function ha(u,g,v,A){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let z=!0;for(let q=0;q<g.length;++q){const tt=g[q];if(tt&&!tt.da&&tt.capture==v){const bt=tt.listener,de=tt.ha||tt.src;tt.fa&&_t(u.i,tt),z=bt.call(de,A)!==!1&&z}}return z&&!A.defaultPrevented}function jh(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(u,g||0)}function ic(u){u.g=jh(()=>{u.g=null,u.i&&(u.i=!1,ic(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class en extends V{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ic(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ls(u){V.call(this),this.h=u,this.g={}}S(ls,V);var vo=[];function Eo(u){Pt(u.g,function(g,v){this.g.hasOwnProperty(v)&&tr(g)},u),u.g={}}ls.prototype.N=function(){ls.Z.N.call(this),Eo(this)},ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fa=f.JSON.stringify,zh=f.JSON.parse,ac=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function sc(){}function rc(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){M.call(this,"d")}S(Pe,M);function Cn(){M.call(this,"c")}S(Cn,M);var fe={},oc=null;function er(){return oc=oc||new _e}fe.Ia="serverreachability";function lc(u){M.call(this,fe.Ia,u)}S(lc,M);function ci(u){const g=er();De(g,new lc(g))}fe.STAT_EVENT="statevent";function cs(u,g){M.call(this,fe.STAT_EVENT,u),this.stat=g}S(cs,M);function ve(u){const g=er();De(g,new cs(g,u))}fe.Ja="timingevent";function ui(u,g){M.call(this,fe.Ja,u),this.size=g}S(ui,M);function hi(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},g)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function Lh(u,g,v,A,z,q){u.info(function(){if(u.g)if(q){var tt="",bt=q.split("&");for(let Ft=0;Ft<bt.length;Ft++){var de=bt[Ft].split("=");if(de.length>1){const re=de[0];de=de[1];const Dn=re.split("_");tt=Dn.length>=2&&Dn[1]=="type"?tt+(re+"="+de+"&"):tt+(re+"=redacted&")}}}else tt=null;else tt=q;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+g+`
`+v+`
`+tt})}function cc(u,g,v,A,z,q,tt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+g+`
`+v+`
`+q+" "+tt})}function fi(u,g,v,A){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Uh(u,v)+(A?" "+A:"")})}function us(u,g){u.info(function(){return"TIMEOUT: "+g})}Gn.prototype.info=function(){};function Uh(u,g){if(!u.g)return g;if(!g)return null;try{const q=JSON.parse(g);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let tt=1;tt<A.length;tt++)A[tt]=""}}}}return fa(q)}catch{return g}}var hs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},To={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bo;function fs(){}S(fs,sc),fs.prototype.g=function(){return new XMLHttpRequest},bo=new fs;function Ui(u){return encodeURIComponent(String(u))}function uc(u){var g=1;u=u.split(":");const v=[];for(;g>0&&u.length;)v.push(u.shift()),g--;return u.length&&v.push(u.join(":")),v}function Qn(u,g,v,A){this.j=u,this.i=g,this.l=v,this.S=A||1,this.V=new ls(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var Ee={},je={};function di(u,g,v){u.M=1,u.A=ds(be(g)),u.u=v,u.R=!0,nr(u,null)}function nr(u,g){u.F=Date.now(),mi(u),u.B=be(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),rr(v.i,"t",A),u.C=0,v=u.j.L,u.h=new Kn,u.g=wc(u.j,v?g:null,!u.u),u.P>0&&(u.O=new en(y(u.Y,u,u.g),u.P)),g=u.V,v=u.g,A=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(vo[0]=z.toString()),z=vo);for(let q=0;q<z.length;q++){const tt=se(v,z[q],A||g.handleEvent,!1,g.h||g);if(!tt)break;g.g[tt.key]=tt}g=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),ci(),Lh(u.i,u.v,u.B,u.l,u.S,u.u)}Qn.prototype.ba=function(u){u=u.target;const g=this.O;g&&Xn(u)==3?g.j():this.Y(u)},Qn.prototype.Y=function(u){try{if(u==this.g)t:{const bt=Xn(this.g),de=this.g.ya(),Ft=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||bt!=4||de==7||(de==8||Ft<=0?ci(3):ci(2)),gi(this);var g=this.g.ca();this.X=g;var v=Ph(this);if(this.o=g==200,cc(this.i,this.v,this.B,this.l,this.S,bt,g),this.o){if(this.U&&!this.L){e:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(A)){var q=A;break e}}q=null}if(u=q)fi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,u);else{this.o=!1,this.m=3,ve(12),yn(this),Nn(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<v.length;)if(re=fc(this,v),re==je){bt==4&&(this.m=4,ve(14),u=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(re==Ee){this.m=4,ve(15),fi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else fi(this.i,this.l,re,null),pi(this,re);if(hc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||v.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)fi(this.i,this.l,v,"[Invalid Chunked Response]"),yn(this),Nn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),zo(tt),tt.P=!0,ve(11))}}else fi(this.i,this.l,v,null),pi(this,v);bt==4&&yn(this),this.o&&!this.K&&(bt==4?Tc(this.j,this):(this.o=!1,mi(this)))}else Bi(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),yn(this),Nn(this)}}}catch{}finally{}};function Ph(u){if(!hc(u))return u.g.la();const g=Be(u.g);if(g==="")return"";let v="";const A=g.length,z=Xn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return yn(u),Nn(u),"";u.h.i=new f.TextDecoder}for(let q=0;q<A;q++)u.h.h=!0,v+=u.h.i.decode(g[q],{stream:!(z&&q==A-1)});return g.length=0,u.h.g+=v,u.C=0,u.h.g}function hc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function fc(u,g){var v=u.C,A=g.indexOf(`
`,v);return A==-1?je:(v=Number(g.substring(v,A)),isNaN(v)?Ee:(A+=1,A+v>g.length?je:(g=g.slice(A,A+v),u.C=A+v,g)))}Qn.prototype.cancel=function(){this.K=!0,yn(this)};function mi(u){u.T=Date.now()+u.H,ir(u,u.H)}function ir(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=hi(y(u.aa,u),g)}function gi(u){u.D&&(f.clearTimeout(u.D),u.D=null)}Qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(us(this.i,this.B),this.M!=2&&(ci(),ve(17)),yn(this),this.m=2,Nn(this)):ir(this,this.T-u)};function Nn(u){u.j.I==0||u.K||Tc(u.j,u)}function yn(u){gi(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,Eo(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function pi(u,g){try{var v=u.j;if(v.I!=0&&(v.g==u||_i(v.h,u))){if(!u.L&&_i(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)hr(v),Ea(v);else break t;Es(v),ve(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=hi(y(v.Va,v),6e3));yi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ai(v,11)}else if((u.L||v.g==u)&&hr(v),!w(g))for(z=v.Ba.g.parse(g),g=0;g<z.length;g++){let Ft=z[g];const re=Ft[0];if(!(re<=v.K))if(v.K=re,Ft=Ft[1],v.I==2)if(Ft[0]=="c"){v.M=Ft[1],v.ba=Ft[2];const Dn=Ft[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const wi=Ft[4];wi!=null&&(v.za=wi,v.j.info("SVER="+v.za));const Zn=Ft[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(A=1.5*Zn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Jn=u.g;if(Jn){const Ts=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ts){var q=A.h;q.g||Ts.indexOf("spdy")==-1&&Ts.indexOf("quic")==-1&&Ts.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(wo(q,q.h),q.h=null))}if(A.G){const fr=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;fr&&(A.wa=fr,Kt(A.J,A.G,fr))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var tt=u;if(A.na=Ac(A,A.L?A.ba:null,A.W),tt.L){xo(A.h,tt);var bt=tt,de=A.O;de&&(bt.H=de),bt.D&&(gi(bt),mi(bt)),A.g=tt}else vc(A);v.i.length>0&&Si(v)}else Ft[0]!="stop"&&Ft[0]!="close"||Ai(v,7);else v.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?Ai(v,7):ko(v):Ft[0]!="noop"&&v.l&&v.l.qa(Ft),v.A=0)}}ci(4)}catch{}}var Te=class{constructor(u,g){this.g=u,this.map=g}};function So(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ao(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function yi(u){return u.h?1:u.g?u.g.size:0}function _i(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function wo(u,g){u.g?u.g.add(g):u.h=g}function xo(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}So.prototype.cancel=function(){if(this.i=Ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ro(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const v of u.g.values())g=g.concat(v.G);return g}return B(u.i)}var dc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ar(u,g){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let z,q=null;A>=0?(z=u[v].substring(0,A),q=u[v].substring(A+1)):z=u[v],g(z,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function _n(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof _n?(this.l=u.l,ze(this,u.j),this.o=u.o,this.g=u.g,da(this,u.u),this.h=u.h,Co(this,yc(u.i)),this.m=u.m):u&&(g=String(u).match(dc))?(this.l=!1,ze(this,g[1]||"",!0),this.o=vi(g[2]||""),this.g=vi(g[3]||"",!0),da(this,g[4]),this.h=vi(g[5]||"",!0),Co(this,g[6]||"",!0),this.m=vi(g[7]||"")):(this.l=!1,this.i=new ga(null,this.l))}_n.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(ms(g,sr,!0),":");var v=this.g;return(v||g=="file")&&(u.push("//"),(g=this.o)&&u.push(ms(g,sr,!0),"@"),u.push(Ui(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ms(v,v.charAt(0)=="/"?No:mc,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ms(v,gc)),u.join("")},_n.prototype.resolve=function(u){const g=be(this);let v=!!u.j;v?ze(g,u.j):v=!!u.o,v?g.o=u.o:v=!!u.g,v?g.g=u.g:v=u.u!=null;var A=u.h;if(v)da(g,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=g.h.lastIndexOf("/");z!=-1&&(A=g.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const q=[];for(let tt=0;tt<z.length;){const bt=z[tt++];bt=="."?A&&tt==z.length&&q.push(""):bt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&tt==z.length&&q.push("")):(q.push(bt),A=!0)}A=q.join("/")}else A=z}return v?g.h=A:v=u.i.toString()!=="",v?Co(g,yc(u.i)):v=!!u.m,v&&(g.m=u.m),g};function be(u){return new _n(u)}function ze(u,g,v){u.j=v?vi(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function da(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function Co(u,g,v){g instanceof ga?(u.i=g,or(u.i,u.l)):(v||(g=ms(g,ma)),u.i=new ga(g,u.l))}function Kt(u,g,v){u.i.set(g,v)}function ds(u){return Kt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function vi(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ms(u,g,v){return typeof u=="string"?(u=encodeURI(u).replace(g,on),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function on(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var sr=/[#\/\?@]/g,mc=/[#\?:]/g,No=/[#\?]/g,ma=/[#\?@]/g,gc=/#/g;function ga(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function ln(u){u.g||(u.g=new Map,u.h=0,u.i&&ar(u.i,function(g,v){u.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}a=ga.prototype,a.add=function(u,g){ln(this),this.i=null,u=pa(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(g),this.h+=1,this};function pc(u,g){ln(u),g=pa(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Io(u,g){return ln(u),g=pa(u,g),u.g.has(g)}a.forEach=function(u,g){ln(this),this.g.forEach(function(v,A){v.forEach(function(z){u.call(g,z,A,this)},this)},this)};function Mo(u,g){ln(u);let v=[];if(typeof g=="string")Io(u,g)&&(v=v.concat(u.g.get(pa(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)v=v.concat(u[g]);return v}a.set=function(u,g){return ln(this),this.i=null,u=pa(this,u),Io(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},a.get=function(u,g){return u?(u=Mo(this,u),u.length>0?String(u[0]):g):g};function rr(u,g,v){pc(u,g),v.length>0&&(u.i=null,u.g.set(pa(u,g),B(v)),u.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var v=g[A];const z=Ui(v);v=Mo(this,v);for(let q=0;q<v.length;q++){let tt=z;v[q]!==""&&(tt+="="+Ui(v[q])),u.push(tt)}}return this.i=u.join("&")};function yc(u){const g=new ga;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function pa(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function or(u,g){g&&!u.j&&(ln(u),u.i=null,u.g.forEach(function(v,A){const z=A.toLowerCase();A!=z&&(pc(this,A),rr(this,z,v))},u)),u.j=g}function Yn(u,g){const v=new Gn;if(f.Image){const A=new Image;A.onload=T(In,v,"TestLoadImage: loaded",!0,g,A),A.onerror=T(In,v,"TestLoadImage: error",!1,g,A),A.onabort=T(In,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=T(In,v,"TestLoadImage: timeout",!1,g,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else g(!1)}function Do(u,g){const v=new Gn,A=new AbortController,z=setTimeout(()=>{A.abort(),In(v,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(z),q.ok?In(v,"TestPingServer: ok",!0,g):In(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),In(v,"TestPingServer: error",!1,g)})}function In(u,g,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function ya(){this.g=new ac}function Ei(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ei,sc),Ei.prototype.g=function(){return new gs(this.i,this.h)};function gs(u,g){_e.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(gs,_e),a=gs.prototype,a.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,$n(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_a(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;lr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function lr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?_a(this):$n(this),this.readyState==3&&lr(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,_a(this))},a.Na=function(u){this.g&&(this.response=u,_a(this))},a.ga=function(){this.g&&_a(this)};function _a(u){u.readyState=4,u.l=null,u.j=null,u.B=null,$n(u)}a.setRequestHeader=function(u,g){this.A.append(u,g)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=g.next();return u.join(`\r
`)};function $n(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Mn(u){let g="";return Pt(u,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function ps(u,g,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Mn(v),typeof u=="string"?v!=null&&Ui(v):Kt(u,g,v))}function Xt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Xt,_e);var Ti=/^https?$/i,Vo=["POST","PUT"];a=Xt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bo.g(),this.g.onreadystatechange=R(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(q){ys(this,q);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),z=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(Vo,g,void 0)>=0)||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of v)this.g.setRequestHeader(q,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){ys(this,q)}};function ys(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,Oo(u),Pi(u)}function Oo(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Pi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pi(this,!0)),Xt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?_s(this):this.Xa())},a.Xa=function(){_s(this)};function _s(u){if(u.h&&typeof c<"u"){if(u.v&&Xn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Xn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var v;if(!(v=g)){var A;if(A=q===0){let tt=String(u.D).match(dc)[1]||null;!tt&&f.self&&f.self.location&&(tt=f.self.location.protocol.slice(0,-1)),A=!Ti.test(tt?tt.toLowerCase():"")}v=A}if(v)De(u,"complete"),De(u,"success");else{u.o=6;try{var z=Xn(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",Oo(u)}}finally{Pi(u)}}}}function Pi(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,g||De(u,"ready");try{v.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Xn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),zh(g)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(u){const g={};u=(u.g&&Xn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(w(u[A]))continue;var v=uc(u[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=g[z]||[];g[z]=q,q.push(v)}Qt(g,function(A){return A.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(u,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||g}function va(u){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,u),this.Za=bi("retryDelaySeedMs",1e4,u),this.Ta=bi("forwardChannelMaxRetries",2,u),this.va=bi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new So(u&&u.concurrentRequestLimit),this.Ba=new ya,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=va.prototype,a.ka=8,a.I=1,a.connect=function(u,g,v,A){ve(0),this.W=u,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Ac(this,null,this.W),Si(this)};function ko(u){if(cr(u),u.I==3){var g=u.V++,v=be(u.J);if(Kt(v,"SID",u.M),Kt(v,"RID",g),Kt(v,"TYPE","terminate"),vs(u,v),g=new Qn(u,u.j,g),g.M=2,g.A=ds(be(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=wc(g.j,null),g.g.ea(g.A)),g.F=Date.now(),mi(g)}Sc(u)}function Ea(u){u.g&&(zo(u),u.g.cancel(),u.g=null)}function cr(u){Ea(u),u.v&&(f.clearTimeout(u.v),u.v=null),hr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function Si(u){if(!Ao(u.h)&&!u.m){u.m=!0;var g=u.Ea;Lt||x(),At||(Lt(),At=!0),I.add(g,u),u.D=0}}function ur(u,g){return yi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=hi(y(u.Ea,u,g),bc(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new Qn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),it(q,this.U)):q=this.U),this.u!==null||this.R||(z.J=q,q=null),this.S)t:{for(var g=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=v;break t}if(g===4096||v===this.i.length-1){g=v+1;break t}}g=1e3}else g=1e3;g=_c(this,z,g),v=be(this.J),Kt(v,"RID",u),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),vs(this,v),q&&(this.R?g="headers="+Ui(Mn(q))+"&"+g:this.u&&ps(v,this.u,q)),wo(this.h,z),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",g),Kt(v,"SID","null"),z.U=!0,di(z,v,null)):di(z,v,g),this.I=2}}else this.I==3&&(u?jo(this,u):this.i.length==0||Ao(this.h)||jo(this))};function jo(u,g){var v;g?v=g.l:v=u.V++;const A=be(u.J);Kt(A,"SID",u.M),Kt(A,"RID",v),Kt(A,"AID",u.K),vs(u,A),u.u&&u.o&&ps(A,u.u,u.o),v=new Qn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),g&&(u.i=g.G.concat(u.i)),g=_c(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),wo(u.h,v),di(v,A,g)}function vs(u,g){u.H&&Pt(u.H,function(v,A){Kt(g,A,v)}),u.l&&Pt({},function(v,A){Kt(g,A,v)})}function _c(u,g,v){v=Math.min(u.i.length,v);const A=u.l?y(u.l.Ka,u.l,u):null;t:{var z=u.i;let bt=-1;for(;;){const de=["count="+v];bt==-1?v>0?(bt=z[0].g,de.push("ofs="+bt)):bt=0:de.push("ofs="+bt);let Ft=!0;for(let re=0;re<v;re++){var q=z[re].g;const Dn=z[re].map;if(q-=bt,q<0)bt=Math.max(0,z[re].g-100),Ft=!1;else try{q="req"+q+"_"||"";try{var tt=Dn instanceof Map?Dn:Object.entries(Dn);for(const[wi,Zn]of tt){let Jn=Zn;m(Zn)&&(Jn=fa(Zn)),de.push(q+wi+"="+encodeURIComponent(Jn))}}catch(wi){throw de.push(q+"type="+encodeURIComponent("_badmap")),wi}}catch{A&&A(Dn)}}if(Ft){tt=de.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),g.G=u,tt}function vc(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;Lt||x(),At||(Lt(),At=!0),I.add(g,u),u.A=0}}function Es(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=hi(y(u.Da,u),bc(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,Ec(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=hi(y(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),Ea(this),Ec(this))};function zo(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function Ec(u){u.g=new Qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=be(u.na);Kt(g,"RID","rpc"),Kt(g,"SID",u.M),Kt(g,"AID",u.K),Kt(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&Kt(g,"TO",u.ia),Kt(g,"TYPE","xmlhttp"),vs(u,g),u.u&&u.o&&ps(g,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ds(be(g)),v.u=null,v.R=!0,nr(v,u)}a.Va=function(){this.C!=null&&(this.C=null,Ea(this),Es(this),ve(19))};function hr(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Tc(u,g){var v=null;if(u.g==g){hr(u),zo(u),u.g=null;var A=2}else if(_i(u.h,g))v=g.G,xo(u.h,g),A=1;else return;if(u.I!=0){if(g.o)if(A==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var z=u.D;A=er(),De(A,new ui(A,v)),Si(u)}else vc(u);else if(z=g.m,z==3||z==0&&g.X>0||!(A==1&&ur(u,g)||A==2&&Es(u)))switch(v&&v.length>0&&(g=u.h,g.i=g.i.concat(v)),z){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function bc(u,g){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*g}function Ai(u,g){if(u.j.info("Error code "+g),g==2){var v=y(u.bb,u),A=u.Ua;const z=!A;A=new _n(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ze(A,"https"),ds(A),z?Yn(A.toString(),v):Do(A.toString(),v)}else ve(2);u.I=0,u.l&&u.l.pa(g),Sc(u),cr(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function Sc(u){if(u.I=0,u.ja=[],u.l){const g=Ro(u.h);(g.length!=0||u.i.length!=0)&&(J(u.ja,g),J(u.ja,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.oa()}}function Ac(u,g,v){var A=v instanceof _n?be(v):new _n(v);if(A.g!="")g&&(A.g=g+"."+A.g),da(A,A.u);else{var z=f.location;A=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;const q=new _n(null);A&&ze(q,A),g&&(q.g=g),z&&da(q,z),v&&(q.h=v),A=q}return v=u.G,g=u.wa,v&&g&&Kt(A,v,g),Kt(A,"VER",u.ka),vs(u,A),A}function wc(u,g,v){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new Xt(new Ei({ab:v})):new Xt(u.ma),g.Fa(u.L),g}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function xc(){}a=xc.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Ta(){}Ta.prototype.g=function(u,g){return new nn(u,g)};function nn(u,g){_e.call(this),this.g=new va(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!w(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!w(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new qi(this)}S(nn,_e),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){ko(this.g)},nn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=fa(u),u=v);g.i.push(new Te(g.Ya++,u)),g.I==3&&Si(g)},nn.prototype.N=function(){this.g.l=null,delete this.j,ko(this.g),delete this.g,nn.Z.N.call(this)};function Rc(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){t:{for(const v in g){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}S(Rc,Pe);function Cc(){Cn.call(this),this.status=1}S(Cc,Cn);function qi(u){this.g=u}S(qi,xc),qi.prototype.ra=function(){De(this.g,"a")},qi.prototype.qa=function(u){De(this.g,new Rc(u))},qi.prototype.pa=function(u){De(this.g,new Cc)},qi.prototype.oa=function(){De(this.g,"b")},Ta.prototype.createWebChannel=Ta.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,eE=function(){return new Ta},tE=function(){return er()},W1=fe,vm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hs.NO_ERROR=0,hs.TIMEOUT=8,hs.HTTP_ERROR=6,Pu=hs,To.COMPLETE="complete",J1=To,rc.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,Sl=rc,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,Z1=Xt}).apply(typeof Du<"u"?Du:typeof self<"u"?self:typeof window<"u"?window:{});const F_="@firebase/firestore",H_="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let co="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new $l("@firebase/firestore");function qr(){return qs.logLevel}function rt(a,...t){if(qs.logLevel<=Dt.DEBUG){const i=t.map($m);qs.debug(`Firestore (${co}): ${a}`,...i)}}function ra(a,...t){if(qs.logLevel<=Dt.ERROR){const i=t.map($m);qs.error(`Firestore (${co}): ${a}`,...i)}}function eo(a,...t){if(qs.logLevel<=Dt.WARN){const i=t.map($m);qs.warn(`Firestore (${co}): ${a}`,...i)}}function $m(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(a,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,nE(a,s,i)}function nE(a,t,i){let s=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw ra(s),new Error(s)}function Gt(a,t,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||nE(t,o,s)}function Tt(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Li{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class wx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class xx{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Rx{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new aa;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new aa,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=c;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new aa)}}),0),f()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string",31837,{l:s}),new iE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class Cx{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Nx{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new Cx(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class G_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ix{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cx(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const s=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const o=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new G_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new G_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Mx(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=t.charAt(o[c]%62))}return s}}function Vt(a,t){return a<t?-1:a>t?1:0}function Em(a,t){const i=Math.min(a.length,t.length);for(let s=0;s<i;s++){const o=a.charAt(s),c=t.charAt(s);if(o!==c)return Gd(o)===Gd(c)?Vt(o,c):Gd(o)?1:-1}return Vt(a.length,t.length)}const Dx=55296,Vx=57343;function Gd(a){const t=a.charCodeAt(0);return t>=Dx&&t<=Vx}function no(a,t,i){return a.length===t.length&&a.every(((s,o)=>i(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="__name__";class Ii{constructor(t,i,s){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&yt(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return Ii.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ii?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let o=0;o<s;o++){const c=Ii.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Vt(t.length,i.length)}static compareSegments(t,i){const s=Ii.isNumericId(t),o=Ii.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Ii.extractNumericId(t).compare(Ii.extractNumericId(i)):Em(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Xa.fromString(t.substring(4,t.length-2))}}class ee extends Ii{construct(t,i,s){return new ee(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new at(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const Ox=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends Ii{construct(t,i,s){return new Ke(t,i,s)}static isValidIdentifier(t){return Ox.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q_}static keyField(){return new Ke([Q_])}static fromServerFormat(t){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new at(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new at(K.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new at(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(c(),o++)}if(c(),f)throw new at(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(i)}static emptyPath(){return new Ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ee.fromString(t))}static fromName(t){return new dt(ee.fromString(t).popFirst(5))}static empty(){return new dt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ee(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(a,t,i){if(!i)throw new at(K.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function kx(a,t,i,s){if(t===!0&&s===!0)throw new at(K.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function K_(a){if(!dt.isDocumentKey(a))throw new at(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Y_(a){if(dt.isDocumentKey(a))throw new at(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function sE(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function mh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":yt(12329,{type:typeof a})}function si(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new at(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=mh(a);throw new at(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function jx(a,t){if(t<=0)throw new at(K.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(a,t){const i={typeString:a};return t&&(i.value=t),i}function Zl(a,t){if(!sE(a))throw new at(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const o=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const f=a[s];if(o&&typeof f!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new at(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=-62135596800,X_=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*X_);return new ne(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<$_)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/X_}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Zl(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-$_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Ie("string",ne._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new ne(0,0))}static max(){return new vt(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=-1;function zx(a,t){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(s===1e9?new ne(i+1,0):new ne(i,s));return new Ja(o,dt.empty(),t)}function Lx(a){return new Ja(a.readTime,a.key,Ul)}class Ja{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Ja(vt.min(),dt.empty(),Ul)}static max(){return new Ja(vt.max(),dt.empty(),Ul)}}function Ux(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(a.documentKey,t.documentKey),i!==0?i:Vt(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(a){if(a.code!==K.FAILED_PRECONDITION||a.message!==Px)throw a;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,s)=>{i(t)}))}static reject(t){return new X(((i,s)=>{s(t)}))}static waitFor(t){return new X(((i,s)=>{let o=0,c=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++c,f&&c===o&&i()}),(p=>s(p)))})),f=!0,c===o&&i()}))}static or(t){let i=X.resolve(!1);for(const s of t)i=i.next((o=>o?X.resolve(o):s()));return i}static forEach(t,i){const s=[];return t.forEach(((o,c)=>{s.push(i.call(this,o,c))})),this.waitFor(s)}static mapArray(t,i){return new X(((s,o)=>{const c=t.length,f=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;i(t[y]).next((T=>{f[y]=T,++m,m===c&&s(f)}),(T=>o(T)))}}))}static doWhile(t,i){return new X(((s,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):s()};c()}))}}function qx(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ho(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}gh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm=-1;function ph(a){return a==null}function Zu(a){return a===0&&1/a==-1/0}function Fx(a){return typeof a=="number"&&Number.isInteger(a)&&!Zu(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="";function Hx(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=Z_(t)),t=Gx(a.get(i),t);return Z_(t)}function Gx(a,t){let i=t;const s=a.length;for(let o=0;o<s;o++){const c=a.charAt(o);switch(c){case"\0":i+="";break;case rE:i+="";break;default:i+=c}}return i}function Z_(a){return a+rE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Ys(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function oE(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,i){this.comparator=t,this.root=i||Qe.EMPTY}insert(t,i){return new ce(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Vu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Vu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Vu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Vu(this.root,t,this.comparator,!0)}}class Vu{constructor(t,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,i,s,o,c){this.key=t,this.value=i,this.color=s??Qe.RED,this.left=o??Qe.EMPTY,this.right=c??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,o,c){return new Qe(t??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let o=this;const c=s(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Qe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,s,o,c){return this}insert(t,i,s){return new Qe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new W_(this.data.getIterator())}getIteratorFrom(t){return new W_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Oe(this.comparator);return i.data=t,i}}class W_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new ai([])}unionWith(t){let i=new Oe(Ke.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new ai(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return no(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new lE("Invalid base64 string: "+c):c}})(t);return new Ye(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(t);return new Ye(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const Qx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wa(a){if(Gt(!!a,39018),typeof a=="string"){let t=0;const i=Qx.exec(a);if(Gt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:pe(a.seconds),nanos:pe(a.nanos)}}function pe(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function ts(a){return typeof a=="string"?Ye.fromBase64String(a):Ye.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="server_timestamp",uE="__type__",hE="__previous_value__",fE="__local_write_time__";function Jm(a){var i,s;return((s=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[uE])==null?void 0:s.stringValue)===cE}function yh(a){const t=a.mapValue.fields[hE];return Jm(t)?yh(t):t}function Pl(a){const t=Wa(a.mapValue.fields[fE].timestampValue);return new ne(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(t,i,s,o,c,f,m,p,y,T){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=T}}const Ju="(default)";class Bl{constructor(t,i){this.projectId=t,this.database=i||Ju}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===Ju}isEqual(t){return t instanceof Bl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="__type__",Yx="__max__",Ou={mapValue:{}},mE="__vector__",Wu="value";function es(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Jm(a)?4:Xx(a)?9007199254740991:$x(a)?10:11:yt(28295,{value:a})}function zi(a,t){if(a===t)return!0;const i=es(a);if(i!==es(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Pl(a).isEqual(Pl(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=Wa(o.timestampValue),m=Wa(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(o,c){return ts(o.bytesValue).isEqual(ts(c.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(o,c){return pe(o.geoPointValue.latitude)===pe(c.geoPointValue.latitude)&&pe(o.geoPointValue.longitude)===pe(c.geoPointValue.longitude)})(a,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return pe(o.integerValue)===pe(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=pe(o.doubleValue),m=pe(c.doubleValue);return f===m?Zu(f)===Zu(m):isNaN(f)&&isNaN(m)}return!1})(a,t);case 9:return no(a.arrayValue.values||[],t.arrayValue.values||[],zi);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},m=c.mapValue.fields||{};if(J_(f)!==J_(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!zi(f[p],m[p])))return!1;return!0})(a,t);default:return yt(52216,{left:a})}}function ql(a,t){return(a.values||[]).find((i=>zi(i,t)))!==void 0}function io(a,t){if(a===t)return 0;const i=es(a),s=es(t);if(i!==s)return Vt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(a.booleanValue,t.booleanValue);case 2:return(function(c,f){const m=pe(c.integerValue||c.doubleValue),p=pe(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(a,t);case 3:return tv(a.timestampValue,t.timestampValue);case 4:return tv(Pl(a),Pl(t));case 5:return Em(a.stringValue,t.stringValue);case 6:return(function(c,f){const m=ts(c),p=ts(f);return m.compareTo(p)})(a.bytesValue,t.bytesValue);case 7:return(function(c,f){const m=c.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const T=Vt(m[y],p[y]);if(T!==0)return T}return Vt(m.length,p.length)})(a.referenceValue,t.referenceValue);case 8:return(function(c,f){const m=Vt(pe(c.latitude),pe(f.latitude));return m!==0?m:Vt(pe(c.longitude),pe(f.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return ev(a.arrayValue,t.arrayValue);case 10:return(function(c,f){var R,B,J,W;const m=c.fields||{},p=f.fields||{},y=(R=m[Wu])==null?void 0:R.arrayValue,T=(B=p[Wu])==null?void 0:B.arrayValue,S=Vt(((J=y==null?void 0:y.values)==null?void 0:J.length)||0,((W=T==null?void 0:T.values)==null?void 0:W.length)||0);return S!==0?S:ev(y,T)})(a.mapValue,t.mapValue);case 11:return(function(c,f){if(c===Ou.mapValue&&f===Ou.mapValue)return 0;if(c===Ou.mapValue)return 1;if(f===Ou.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=f.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let S=0;S<p.length&&S<T.length;++S){const R=Em(p[S],T[S]);if(R!==0)return R;const B=io(m[p[S]],y[T[S]]);if(B!==0)return B}return Vt(p.length,T.length)})(a.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function tv(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Vt(a,t);const i=Wa(a),s=Wa(t),o=Vt(i.seconds,s.seconds);return o!==0?o:Vt(i.nanos,s.nanos)}function ev(a,t){const i=a.values||[],s=t.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=io(i[o],s[o]);if(c)return c}return Vt(i.length,s.length)}function ao(a){return Tm(a)}function Tm(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=Wa(i);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return ts(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return dt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=Tm(c);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const f of s)c?c=!1:o+=",",o+=`${f}:${Tm(i.fields[f])}`;return o+"}"})(a.mapValue):yt(61005,{value:a})}function Bu(a){switch(es(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yh(a);return t?16+Bu(t):16;case 5:return 2*a.stringValue.length;case 6:return ts(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+Bu(c)),0)})(a.arrayValue);case 10:case 11:return(function(s){let o=0;return Ys(s.fields,((c,f)=>{o+=c.length+Bu(f)})),o})(a.mapValue);default:throw yt(13486,{value:a})}}function nv(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function bm(a){return!!a&&"integerValue"in a}function Wm(a){return!!a&&"arrayValue"in a}function iv(a){return!!a&&"nullValue"in a}function av(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function qu(a){return!!a&&"mapValue"in a}function $x(a){var i,s;return((s=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[dE])==null?void 0:s.stringValue)===mE}function Il(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Ys(a.mapValue.fields,((i,s)=>t.mapValue.fields[i]=Il(s))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Il(a.arrayValue.values[i]);return t}return{...a}}function Xx(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===Yx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this.value=t}static empty(){return new qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!qu(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Il(i)}setAll(t){let i=Ke.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!i.isImmediateParentOf(m)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=m.popLast()}f?s[m.lastSegment()]=Il(f):o.push(m.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(t){const i=this.field(t.popLast());qu(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return zi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=i.mapValue.fields[t.get(s)];qu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,s){Ys(i,((o,c)=>t[o]=c));for(const o of s)delete t[o]}clone(){return new qn(Il(this.value))}}function gE(a){const t=[];return Ys(a.fields,((i,s)=>{const o=new Ke([i]);if(qu(s)){const c=gE(s.mapValue).fields;if(c.length===0)t.push(o);else for(const f of c)t.push(o.child(f))}else t.push(o)})),new ai(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t,i,s,o,c,f,m){this.key=t,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(t){return new We(t,0,vt.min(),vt.min(),vt.min(),qn.empty(),0)}static newFoundDocument(t,i,s,o){return new We(t,1,i,vt.min(),s,o,0)}static newNoDocument(t,i){return new We(t,2,i,vt.min(),vt.min(),qn.empty(),0)}static newUnknownDocument(t,i){return new We(t,3,i,vt.min(),vt.min(),qn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,i){this.position=t,this.inclusive=i}}function sv(a,t,i){let s=0;for(let o=0;o<a.position.length;o++){const c=t[o],f=a.position[o];if(c.field.isKeyField()?s=dt.comparator(dt.fromName(f.referenceValue),i.key):s=io(f,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function rv(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!zi(a.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(t,i="asc"){this.field=t,this.dir=i}}function Zx(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{}class Ne extends pE{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new Wx(t,i,s):i==="array-contains"?new nR(t,s):i==="in"?new iR(t,s):i==="not-in"?new aR(t,s):i==="array-contains-any"?new sR(t,s):new Ne(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new tR(t,s):new eR(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(io(i,this.value)):i!==null&&es(this.value)===es(i)&&this.matchesComparison(io(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends pE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new oi(t,i)}matches(t){return yE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yE(a){return a.op==="and"}function _E(a){return Jx(a)&&yE(a)}function Jx(a){for(const t of a.filters)if(t instanceof oi)return!1;return!0}function Sm(a){if(a instanceof Ne)return a.field.canonicalString()+a.op.toString()+ao(a.value);if(_E(a))return a.filters.map((t=>Sm(t))).join(",");{const t=a.filters.map((i=>Sm(i))).join(",");return`${a.op}(${t})`}}function vE(a,t){return a instanceof Ne?(function(s,o){return o instanceof Ne&&s.op===o.op&&s.field.isEqual(o.field)&&zi(s.value,o.value)})(a,t):a instanceof oi?(function(s,o){return o instanceof oi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,f,m)=>c&&vE(f,o.filters[m])),!0):!1})(a,t):void yt(19439)}function EE(a){return a instanceof Ne?(function(i){return`${i.field.canonicalString()} ${i.op} ${ao(i.value)}`})(a):a instanceof oi?(function(i){return i.op.toString()+" {"+i.getFilters().map(EE).join(" ,")+"}"})(a):"Filter"}class Wx extends Ne{constructor(t,i,s){super(t,i,s),this.key=dt.fromName(s.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class tR extends Ne{constructor(t,i){super(t,"in",i),this.keys=TE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class eR extends Ne{constructor(t,i){super(t,"not-in",i),this.keys=TE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function TE(a,t){var i;return(((i=t.arrayValue)==null?void 0:i.values)||[]).map((s=>dt.fromName(s.referenceValue)))}class nR extends Ne{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Wm(i)&&ql(i.arrayValue,this.value)}}class iR extends Ne{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&ql(this.value.arrayValue,i)}}class aR extends Ne{constructor(t,i){super(t,"not-in",i)}matches(t){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ql(this.value.arrayValue,i)}}class sR extends Ne{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Wm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>ql(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(t,i=null,s=[],o=[],c=null,f=null,m=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=f,this.endAt=m,this.Te=null}}function ov(a,t=null,i=[],s=[],o=null,c=null,f=null){return new rR(a,t,i,s,o,c,f)}function tg(a){const t=Tt(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>Sm(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),ph(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>ao(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>ao(s))).join(",")),t.Te=i}return t.Te}function eg(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!Zx(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!vE(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!rv(a.startAt,t.startAt)&&rv(a.endAt,t.endAt)}function Am(a){return dt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(t,i=null,s=[],o=[],c=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function oR(a,t,i,s,o,c,f,m){return new fo(a,t,i,s,o,c,f,m)}function _h(a){return new fo(a)}function lv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function bE(a){return a.collectionGroup!==null}function Ml(a){const t=Tt(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Oe(Ke.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Fl(c,s))})),i.has(Ke.keyField().canonicalString())||t.Ie.push(new Fl(Ke.keyField(),s))}return t.Ie}function Mi(a){const t=Tt(a);return t.Ee||(t.Ee=lR(t,Ml(a))),t.Ee}function lR(a,t){if(a.limitType==="F")return ov(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Fl(o.field,c)}));const i=a.endAt?new th(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new th(a.startAt.position,a.startAt.inclusive):null;return ov(a.path,a.collectionGroup,t,a.filters,a.limit,i,s)}}function wm(a,t){const i=a.filters.concat([t]);return new fo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function eh(a,t,i){return new fo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function vh(a,t){return eg(Mi(a),Mi(t))&&a.limitType===t.limitType}function SE(a){return`${tg(Mi(a))}|lt:${a.limitType}`}function Fr(a){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>EE(o))).join(", ")}]`),ph(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>ao(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>ao(o))).join(",")),`Target(${s})`})(Mi(a))}; limitType=${a.limitType})`}function Eh(a,t){return t.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):dt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(a,t)&&(function(s,o){for(const c of Ml(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(a,t)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(a,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const y=sv(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,Ml(s),o)||s.endAt&&!(function(f,m,p){const y=sv(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,Ml(s),o))})(a,t)}function cR(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function AE(a){return(t,i)=>{let s=!1;for(const o of Ml(a)){const c=uR(o,t,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function uR(a,t,i){const s=a.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,f,m){const p=f.data.field(c),y=m.data.field(c);return p!==null&&y!==null?io(p,y):yt(42886)})(a.field,t,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return yt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ys(this.inner,((i,s)=>{for(const[o,c]of s)t(o,c)}))}isEmpty(){return oE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=new ce(dt.comparator);function oa(){return hR}const wE=new ce(dt.comparator);function Al(...a){let t=wE;for(const i of a)t=t.insert(i.key,i);return t}function xE(a){let t=wE;return a.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function Ls(){return Dl()}function RE(){return Dl()}function Dl(){return new $s((a=>a.toString()),((a,t)=>a.isEqual(t)))}const fR=new ce(dt.comparator),dR=new Oe(dt.comparator);function Ot(...a){let t=dR;for(const i of a)t=t.add(i);return t}const mR=new Oe(Vt);function gR(){return mR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zu(t)?"-0":t}}function CE(a){return{integerValue:""+a}}function pR(a,t){return Fx(t)?CE(t):ng(a,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(){this._=void 0}}function yR(a,t,i){return a instanceof Hl?(function(o,c){const f={fields:{[uE]:{stringValue:cE},[fE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Jm(c)&&(c=yh(c)),c&&(f.fields[hE]=c),{mapValue:f}})(i,t):a instanceof Gl?IE(a,t):a instanceof Ql?ME(a,t):(function(o,c){const f=NE(o,c),m=cv(f)+cv(o.Ae);return bm(f)&&bm(o.Ae)?CE(m):ng(o.serializer,m)})(a,t)}function _R(a,t,i){return a instanceof Gl?IE(a,t):a instanceof Ql?ME(a,t):i}function NE(a,t){return a instanceof nh?(function(s){return bm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class Hl extends Th{}class Gl extends Th{constructor(t){super(),this.elements=t}}function IE(a,t){const i=DE(t);for(const s of a.elements)i.some((o=>zi(o,s)))||i.push(s);return{arrayValue:{values:i}}}class Ql extends Th{constructor(t){super(),this.elements=t}}function ME(a,t){let i=DE(t);for(const s of a.elements)i=i.filter((o=>!zi(o,s)));return{arrayValue:{values:i}}}class nh extends Th{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function cv(a){return pe(a.integerValue||a.doubleValue)}function DE(a){return Wm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(t,i){this.field=t,this.transform=i}}function ER(a,t){return a.field.isEqual(t.field)&&(function(s,o){return s instanceof Gl&&o instanceof Gl||s instanceof Ql&&o instanceof Ql?no(s.elements,o.elements,zi):s instanceof nh&&o instanceof nh?zi(s.Ae,o.Ae):s instanceof Hl&&o instanceof Hl})(a.transform,t.transform)}class TR{constructor(t,i){this.version=t,this.transformResults=i}}class Di{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Di}static exists(t){return new Di(void 0,t)}static updateTime(t){return new Di(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fu(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class bh{}function VE(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new ig(a.key,Di.none()):new Jl(a.key,a.data,Di.none());{const i=a.data,s=qn.empty();let o=new Oe(Ke.comparator);for(let c of t.fields)if(!o.has(c)){let f=i.field(c);f===null&&c.length>1&&(c=c.popLast(),f=i.field(c)),f===null?s.delete(c):s.set(c,f),o=o.add(c)}return new Xs(a.key,s,new ai(o.toArray()),Di.none())}}function bR(a,t,i){a instanceof Jl?(function(o,c,f){const m=o.value.clone(),p=hv(o.fieldTransforms,c,f.transformResults);m.setAll(p),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(a,t,i):a instanceof Xs?(function(o,c,f){if(!Fu(o.precondition,c))return void c.convertToUnknownDocument(f.version);const m=hv(o.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(OE(o)),p.setAll(m),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(a,t,i):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,i)}function Vl(a,t,i,s){return a instanceof Jl?(function(c,f,m,p){if(!Fu(c.precondition,f))return m;const y=c.value.clone(),T=fv(c.fieldTransforms,p,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(a,t,i,s):a instanceof Xs?(function(c,f,m,p){if(!Fu(c.precondition,f))return m;const y=fv(c.fieldTransforms,p,f),T=f.data;return T.setAll(OE(c)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(a,t,i,s):(function(c,f,m){return Fu(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(a,t,i)}function SR(a,t){let i=null;for(const s of a.fieldTransforms){const o=t.data.field(s.field),c=NE(s.transform,o||null);c!=null&&(i===null&&(i=qn.empty()),i.set(s.field,c))}return i||null}function uv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&no(s,o,((c,f)=>ER(c,f)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Jl extends bh{constructor(t,i,s,o=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Xs extends bh{constructor(t,i,s,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function OE(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);t.set(i,s)}})),t}function hv(a,t,i){const s=new Map;Gt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const c=a[o],f=c.transform,m=t.data.field(c.field);s.set(c.field,_R(f,m,i[o]))}return s}function fv(a,t,i){const s=new Map;for(const o of a){const c=o.transform,f=i.data.field(o.field);s.set(o.field,yR(c,f,t))}return s}class ig extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AR extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(t,i,s,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&bR(c,t,s[o])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Vl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Vl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=RE();return this.mutations.forEach((o=>{const c=t.get(o.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=i.has(o.key)?null:m;const p=VE(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(vt.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&no(this.mutations,t.mutations,((i,s)=>uv(i,s)))&&no(this.baseMutations,t.baseMutations,((i,s)=>uv(i,s)))}}class ag{constructor(t,i,s,o){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(t,i,s){Gt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return fR})();const c=t.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,s[f].version);return new ag(t,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,zt;function CR(a){switch(a){case K.OK:return yt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return yt(15467,{code:a})}}function kE(a){if(a===void 0)return ra("GRPC error has no .code"),K.UNKNOWN;switch(a){case Re.OK:return K.OK;case Re.CANCELLED:return K.CANCELLED;case Re.UNKNOWN:return K.UNKNOWN;case Re.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Re.INTERNAL:return K.INTERNAL;case Re.UNAVAILABLE:return K.UNAVAILABLE;case Re.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Re.NOT_FOUND:return K.NOT_FOUND;case Re.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Re.ABORTED:return K.ABORTED;case Re.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Re.DATA_LOSS:return K.DATA_LOSS;default:return yt(39323,{code:a})}}(zt=Re||(Re={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=new Xa([4294967295,4294967295],0);function dv(a){const t=NR().encode(a),i=new X1;return i.update(t),new Uint8Array(i.digest())}function mv(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Xa([i,s],0),new Xa([o,c],0)]}class sg{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new wl(`Invalid padding: ${i}`);if(s<0)throw new wl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new wl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Xa.fromNumber(this.ge)}ye(t,i,s){let o=t.add(i.multiply(Xa.fromNumber(s)));return o.compare(IR)===1&&(o=new Xa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=dv(t),[s,o]=mv(i);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,o,c);if(!this.we(f))return!1}return!0}static create(t,i,s){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),f=new sg(c,o,i);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const i=dv(t),[s,o]=mv(i);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,o,c);this.Se(f)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(t,i,s,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const o=new Map;return o.set(t,Wl.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Sh(vt.min(),o,new ce(Vt),oa(),Ot())}}class Wl{constructor(t,i,s,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Wl(s,i,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(t,i,s,o){this.be=t,this.removedTargetIds=i,this.key=s,this.De=o}}class jE{constructor(t,i){this.targetId=t,this.Ce=i}}class zE{constructor(t,i,s=Ye.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=o}}class gv{constructor(){this.ve=0,this.Fe=pv(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),s=Ot();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:yt(38017,{changeType:c})}})),new Wl(this.Me,this.xe,t,i,s)}qe(){this.Oe=!1,this.Fe=pv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class MR{constructor(t){this.Ge=t,this.ze=new Map,this.je=oa(),this.Je=ku(),this.He=ku(),this.Ye=new ce(Vt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,s=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Am(c))if(s===0){const f=new dt(c.path);this.et(i,f,We.newNoDocument(f,vt.min()))}else Gt(s===1,20013,{expectedCount:s});else{const f=this._t(i);if(f!==s){const m=this.ut(t),p=m?this.ct(m,t,f):1;if(p!==0){this.it(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let f,m;try{f=ts(s).toUint8Array()}catch(p){if(p instanceof lE)return eo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new sg(f,o,c)}catch(p){return eo(p instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((c=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.mightContain(m)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,f)=>{const m=this.ot(f);if(m){if(c.current&&Am(m.target)){const p=new dt(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,We.newNoDocument(p,t))}c.Be&&(i.set(f,c.ke()),c.qe())}}));let s=Ot();this.He.forEach(((c,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(t)));const o=new Sh(t,i,this.Ye,this.je,s);return this.je=oa(),this.Je=ku(),this.He=ku(),this.Ye=new ce(Vt),o}Xe(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new gv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Oe(Vt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Oe(Vt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new gv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function ku(){return new ce(dt.comparator)}function pv(){return new ce(dt.comparator)}const DR={asc:"ASCENDING",desc:"DESCENDING"},VR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OR={and:"AND",or:"OR"};class kR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function xm(a,t){return a.useProto3Json||ph(t)?t:{value:t}}function ih(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function LE(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function jR(a,t){return ih(a,t.toTimestamp())}function Vi(a){return Gt(!!a,49232),vt.fromTimestamp((function(i){const s=Wa(i);return new ne(s.seconds,s.nanos)})(a))}function rg(a,t){return Rm(a,t).canonicalString()}function Rm(a,t){const i=(function(o){return new ee(["projects",o.projectId,"databases",o.database])})(a).child("documents");return t===void 0?i:i.child(t)}function UE(a){const t=ee.fromString(a);return Gt(HE(t),10190,{key:t.toString()}),t}function Cm(a,t){return rg(a.databaseId,t.path)}function Qd(a,t){const i=UE(t);if(i.get(1)!==a.databaseId.projectId)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new dt(BE(i))}function PE(a,t){return rg(a.databaseId,t)}function zR(a){const t=UE(a);return t.length===4?ee.emptyPath():BE(t)}function Nm(a){return new ee(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function BE(a){return Gt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function yv(a,t,i){return{name:Cm(a,t),fields:i.value.mapValue.fields}}function LR(a,t){let i;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(Gt(T===void 0||typeof T=="string",58123),Ye.fromBase64String(T||"")):(Gt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ye.fromUint8Array(T||new Uint8Array))})(a,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const T=y.code===void 0?K.UNKNOWN:kE(y.code);return new at(T,y.message||"")})(f);i=new zE(s,o,c,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Qd(a,s.document.name),c=Vi(s.document.updateTime),f=s.document.createTime?Vi(s.document.createTime):vt.min(),m=new qn({mapValue:{fields:s.document.fields}}),p=We.newFoundDocument(o,c,f,m),y=s.targetIds||[],T=s.removedTargetIds||[];i=new Hu(y,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Qd(a,s.document),c=s.readTime?Vi(s.readTime):vt.min(),f=We.newNoDocument(o,c),m=s.removedTargetIds||[];i=new Hu([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Qd(a,s.document),c=s.removedTargetIds||[];i=new Hu([],c,o,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,f=new RR(o,c),m=s.targetId;i=new jE(m,f)}}return i}function UR(a,t){let i;if(t instanceof Jl)i={update:yv(a,t.key,t.value)};else if(t instanceof ig)i={delete:Cm(a,t.key)};else if(t instanceof Xs)i={update:yv(a,t.key,t.data),updateMask:YR(t.fieldMask)};else{if(!(t instanceof AR))return yt(16599,{Vt:t.type});i={verify:Cm(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,f){const m=f.transform;if(m instanceof Hl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Gl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ql)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof nh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw yt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:jR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(a,t.precondition)),i}function PR(a,t){return a&&a.length>0?(Gt(t!==void 0,14353),a.map((i=>(function(o,c){let f=o.updateTime?Vi(o.updateTime):Vi(c);return f.isEqual(vt.min())&&(f=Vi(c)),new TR(f,o.transformResults||[])})(i,t)))):[]}function BR(a,t){return{documents:[PE(a,t.path)]}}function qR(a,t){const i={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=PE(a,o);const c=(function(y){if(y.length!==0)return FE(oi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const f=(function(y){if(y.length!==0)return y.map((T=>(function(R){return{field:Hr(R.field),direction:GR(R.dir)}})(T)))})(t.orderBy);f&&(i.structuredQuery.orderBy=f);const m=xm(a,t.limit);return m!==null&&(i.structuredQuery.limit=m),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function FR(a){let t=zR(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Gt(s===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(S){const R=qE(S);return R instanceof oi&&_E(R)?R.getFilters():[R]})(i.where));let f=[];i.orderBy&&(f=(function(S){return S.map((R=>(function(J){return new Fl(Gr(J.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(R)))})(i.orderBy));let m=null;i.limit&&(m=(function(S){let R;return R=typeof S=="object"?S.value:S,ph(R)?null:R})(i.limit));let p=null;i.startAt&&(p=(function(S){const R=!!S.before,B=S.values||[];return new th(B,R)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const R=!S.before,B=S.values||[];return new th(B,R)})(i.endAt)),oR(t,o,f,c,m,"F",p,y)}function HR(a,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function qE(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Gr(i.unaryFilter.field);return Ne.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Gr(i.unaryFilter.field);return Ne.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Gr(i.unaryFilter.field);return Ne.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Gr(i.unaryFilter.field);return Ne.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Ne.create(Gr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return oi.create(i.compositeFilter.filters.map((s=>qE(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(a):yt(30097,{filter:a})}function GR(a){return DR[a]}function QR(a){return VR[a]}function KR(a){return OR[a]}function Hr(a){return{fieldPath:a.canonicalString()}}function Gr(a){return Ke.fromServerFormat(a.fieldPath)}function FE(a){return a instanceof Ne?(function(i){if(i.op==="=="){if(av(i.value))return{unaryFilter:{field:Hr(i.field),op:"IS_NAN"}};if(iv(i.value))return{unaryFilter:{field:Hr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(av(i.value))return{unaryFilter:{field:Hr(i.field),op:"IS_NOT_NAN"}};if(iv(i.value))return{unaryFilter:{field:Hr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hr(i.field),op:QR(i.op),value:i.value}}})(a):a instanceof oi?(function(i){const s=i.getFilters().map((o=>FE(o)));return s.length===1?s[0]:{compositeFilter:{op:KR(i.op),filters:s}}})(a):yt(54877,{filter:a})}function YR(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function HE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t,i,s,o,c=vt.min(),f=vt.min(),m=Ye.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Ka(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(t){this.yt=t}}function XR(a){const t=FR({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?eh(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(){this.Cn=new JR}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Ja.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Ja.min())}updateCollectionGroup(t,i,s){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class JR{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i]||new Oe(ee.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Oe(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GE=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(GE,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new so(0)}static cr(){return new so(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="LruGarbageCollector",WR=1048576;function Ev([a,t],[i,s]){const o=Vt(a,i);return o===0?Vt(t,s):o}class tC{constructor(t){this.Ir=t,this.buffer=new Oe(Ev),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Ev(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class eC{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(vv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ho(i)?rt(vv,"Ignoring IndexedDB error during garbage collection: ",i):await uo(i)}await this.Vr(3e5)}))}}class nC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(gh.ce);const s=new tC(i);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.mr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(_v)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_v):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let s,o,c,f,m,p,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(t,s,i)))).next((S=>(c=S,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(y=Date.now(),qr()<=Dt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function iC(a,t){return new nC(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.changes=new $s((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(t,i,s,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(s!==null&&Vl(s.mutation,o,ai.empty(),ne.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,Ot()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=Ot()){const o=Ls();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,s).next((c=>{let f=Al();return c.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,i){const s=Ls();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,Ot())))}populateOverlays(t,i,s){const o=[];return s.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((f,m)=>{i.set(f,m)}))}))}computeViews(t,i,s,o){let c=oa();const f=Dl(),m=(function(){return Dl()})();return i.forEach(((p,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof Xs)?c=c.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),Vl(T.mutation,y,T.mutation.getFieldMask(),ne.now())):f.set(y.key,ai.empty())})),this.recalculateAndSaveOverlays(t,c).next((p=>(p.forEach(((y,T)=>f.set(y,T))),i.forEach(((y,T)=>m.set(y,new sC(T,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,i){const s=Dl();let o=new ce(((f,m)=>f-m)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=i.get(p);if(y===null)return;let T=s.get(p)||ai.empty();T=m.applyToLocalView(y,T),s.set(p,T);const S=(o.get(m.batchId)||Ot()).add(p);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,T=p.value,S=RE();T.forEach((R=>{if(!c.has(R)){const B=VE(i.get(R),s.get(R));B!==null&&S.set(R,B),c=c.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,S))}return X.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,o){return(function(f){return dt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):bE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,o):this.getDocumentsMatchingCollectionQuery(t,i,s,o)}getNextDocuments(t,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,o-c.size):X.resolve(Ls());let m=Ul,p=c;return f.next((y=>X.forEach(y,((T,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),c.get(T)?X.resolve():this.remoteDocumentCache.getEntry(t,T).next((R=>{p=p.insert(T,R)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,p,y,Ot()))).next((T=>({batchId:m,changes:xE(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((s=>{let o=Al();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,o){const c=i.collectionGroup;let f=Al();return this.indexManager.getCollectionParents(t,c).next((m=>X.forEach(m,(p=>{const y=(function(S,R){return new fo(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((T=>{T.forEach(((S,R)=>{f=f.insert(S,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,o)))).next((f=>{c.forEach(((p,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,We.newInvalidDocument(T)))}));let m=Al();return f.forEach(((p,y)=>{const T=c.get(p);T!==void 0&&Vl(T.mutation,y,ai.empty(),ne.now()),Eh(i,y)&&(m=m.insert(p,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Vi(o.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:XR(o.bundledQuery),readTime:Vi(o.readTime)}})(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.overlays=new ce(dt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Ls();return X.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((o,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),X.resolve()}getOverlaysForCollection(t,i,s){const o=Ls(),c=i.length+1,f=new dt(i.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return X.resolve(o)}getOverlaysForCollectionGroup(t,i,s,o){let c=new ce(((y,T)=>y-T));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let T=c.get(y.largestBatchId);T===null&&(T=Ls(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=Ls(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,T)=>m.set(y,T))),!(m.size()>=o)););return X.resolve(m)}St(t,i,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new xR(i,s));let c=this.qr.get(i);c===void 0&&(c=Ot(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(){this.Qr=new Oe(Ue.$r),this.Ur=new Oe(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const s=new Ue(t,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Gr(new Ue(t,i))}zr(t,i){t.forEach((s=>this.removeReference(s,i)))}jr(t){const i=new dt(new ee([])),s=new Ue(i,t),o=new Ue(i,t+1),c=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),c.push(f.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new dt(new ee([])),s=new Ue(i,t),o=new Ue(i,t+1);let c=Ot();return this.Ur.forEachInRange([s,o],(f=>{c=c.add(f.key)})),c}containsKey(t){const i=new Ue(t,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Ue{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return dt.comparator(t.key,i.key)||Vt(t.Yr,i.Yr)}static Kr(t,i){return Vt(t.Yr,i.Yr)||dt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Oe(Ue.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new wR(c,i,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ue(m.key,c)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return X.resolve(f)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,o=this.ei(s),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Zm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);c.push(m)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Oe(Vt);return i.forEach((o=>{const c=new Ue(o,0),f=new Ue(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],(m=>{s=s.add(m.Yr)}))})),X.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,o=s.length+1;let c=s;dt.isDocumentKey(c)||(c=c.child(""));const f=new Ue(new dt(c),0);let m=new Oe(Vt);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),f),X.resolve(this.ti(m))}ti(t){const i=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Gt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return X.forEach(i.mutations,(o=>{const c=new Ue(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,i){const s=new Ue(i,0),o=this.Zr.firstAfterOrEqual(s);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(t){this.ri=t,this.docs=(function(){return new ce(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,f=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():We.newInvalidDocument(i))}getEntries(t,i){let s=oa();return i.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():We.newInvalidDocument(o))})),X.resolve(s)}getDocumentsMatchingQuery(t,i,s,o){let c=oa();const f=i.path,m=new dt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||Ux(Lx(T),s)<=0||(o.has(T.key)||Eh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,s,o){yt(9500)}ii(t,i){return X.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new fC(this)}getSize(t){return X.resolve(this.size)}}class fC extends aC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(t){this.persistence=t,this.si=new $s((i=>tg(i)),eg),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new og,this.targetCount=0,this.ai=so.ur()}forEachTarget(t,i){return this.si.forEach(((s,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new so(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,s){let o=0;const c=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=i&&s.get(m.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const s=this.si.get(i)||null;return X.resolve(s)}addMatchingKeys(t,i,s){return this._i.Wr(i,s),X.resolve()}removeMatchingKeys(t,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((f=>{c.push(o.markPotentiallyOrphaned(t,f))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const s=this._i.Hr(i);return X.resolve(s)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t,i){this.ui={},this.overlays={},this.ci=new gh(0),this.li=!1,this.li=!0,this.hi=new cC,this.referenceDelegate=t(this),this.Pi=new dC(this),this.indexManager=new ZR,this.remoteDocumentCache=(function(o){return new hC(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new $R(i),this.Ii=new oC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new lC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ui[t.toKey()];return s||(s=new uC(i,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,s){rt("MemoryPersistence","Starting transaction:",t);const o=new mC(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,i))))}}class mC extends Bx{constructor(t){super(),this.currentSequenceNumber=t}}class lg{constructor(t){this.persistence=t,this.Ri=new og,this.Vi=null}static mi(t){return new lg(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),X.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(s=>{const o=dt.fromPath(s);return this.gi(t,o).next((c=>{c||i.removeEntry(o,vt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class ah{constructor(t,i){this.persistence=t,this.pi=new $s((s=>Hx(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=iC(this,i)}static mi(t,i){return new ah(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((o=>s+o))))}wr(t){let i=0;return this.pr(t,(s=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((s,o)=>this.br(t,s,o).next((c=>c?X.resolve():i(o)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,i).next((m=>{m||(s++,c.removeEntry(f,vt.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),X.resolve()}removeReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Bu(t.data.value)),i}br(t,i,s){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(t,i,s,o){this.targetId=t,this.fromCache=i,this.Es=s,this.ds=o}static As(t,i){let s=Ot(),o=Ot();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new cg(t,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rw()?8:qx(aw())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,o){const c={result:null};return this.ys(t,i).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ws(t,i,o,s).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new gC;return this.Ss(t,i,f).next((m=>{if(c.result=m,this.Vs)return this.bs(t,i,f,m.size)}))})).next((()=>c.result))}bs(t,i,s,o){return s.documentReadCount<this.fs?(qr()<=Dt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Fr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(qr()<=Dt.DEBUG&&rt("QueryEngine","Query:",Fr(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(qr()<=Dt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Fr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Mi(i))):X.resolve())}ys(t,i){if(lv(i))return X.resolve(null);let s=Mi(i);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=eh(i,null,"F"),s=Mi(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const f=Ot(...c);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const y=this.Ds(i,m);return this.Cs(i,y,f,p.readTime)?this.ys(t,eh(i,null,"F")):this.vs(t,y,i,p)}))))})))))}ws(t,i,s,o){return lv(i)||o.isEqual(vt.min())?X.resolve(null):this.ps.getDocuments(t,s).next((c=>{const f=this.Ds(i,c);return this.Cs(i,f,s,o)?X.resolve(null):(qr()<=Dt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fr(i)),this.vs(t,f,i,zx(o,Ul)).next((m=>m)))}))}Ds(t,i){let s=new Oe(AE(t));return i.forEach(((o,c)=>{Eh(t,c)&&(s=s.add(c))})),s}Cs(t,i,s,o){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,s){return qr()<=Dt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Fr(i)),this.ps.getDocumentsMatchingQuery(t,i,Ja.min(),s)}vs(t,i,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((c=>(i.forEach((f=>{c=c.insert(f.key,f)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="LocalStore",yC=3e8;class _C{constructor(t,i,s,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new ce(Vt),this.xs=new $s((c=>tg(c)),eg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new rC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function vC(a,t,i,s){return new _C(a,t,i,s)}async function KE(a,t){const i=Tt(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const f=[],m=[];let p=Ot();for(const y of o){f.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of c){m.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return i.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function EC(a,t){const i=Tt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,T){const S=y.batch,R=S.keys();let B=X.resolve();return R.forEach((J=>{B=B.next((()=>T.getEntry(p,J))).next((W=>{const Z=y.docVersions.get(J);Gt(Z!==null,48541),W.version.compareTo(Z)<0&&(S.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),T.addEntry(W)))}))})),B.next((()=>m.mutationQueue.removeMutationBatch(p,S)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ot();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(t)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function YE(a){const t=Tt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function TC(a,t){const i=Tt(a),s=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const m=[];t.targetChanges.forEach(((T,S)=>{const R=o.get(S);if(!R)return;m.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,S))));let B=R.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?B=B.withResumeToken(Ye.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):T.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(T.resumeToken,s)),o=o.insert(S,B),(function(W,Z,st){return W.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=yC?!0:st.addedDocuments.size+st.modifiedDocuments.size+st.removedDocuments.size>0})(R,B,T)&&m.push(i.Pi.updateTargetData(c,B))}));let p=oa(),y=Ot();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),m.push(bC(c,f,t.documentUpdates).next((T=>{p=T.ks,y=T.qs}))),!s.isEqual(vt.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));m.push(T)}return X.waitFor(m).next((()=>f.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,p,y))).next((()=>p))})).then((c=>(i.Ms=o,c)))}function bC(a,t,i){let s=Ot(),o=Ot();return i.forEach((c=>s=s.add(c))),t.getEntries(a,s).next((c=>{let f=oa();return i.forEach(((m,p)=>{const y=c.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(vt.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):rt(ug,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function SC(a,t){const i=Tt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Zm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function AC(a,t){const i=Tt(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,t).next((c=>c?(o=c,X.resolve(o)):i.Pi.allocateTargetId(s).next((f=>(o=new Ka(t,f,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(t,s.targetId)),s}))}async function Im(a,t,i){const s=Tt(a),o=s.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!ho(f))throw f;rt(ug,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function Tv(a,t,i){const s=Tt(a);let o=vt.min(),c=Ot();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,T){const S=Tt(p),R=S.xs.get(T);return R!==void 0?X.resolve(S.Ms.get(R)):S.Pi.getTargetData(y,T)})(s,f,Mi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{c=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,i?o:vt.min(),i?c:Ot()))).next((m=>(wC(s,cR(t),m),{documents:m,Qs:c})))))}function wC(a,t,i){let s=a.Os.get(t)||vt.min();i.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),a.Os.set(t,s)}class bv{constructor(){this.activeTargetIds=gR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class xC{constructor(){this.Mo=new bv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,s){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new bv,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="ConnectivityMonitor";class Av{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(Sv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(Sv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju=null;function Mm(){return ju===null?ju=(function(){return 268435456+Math.round(2147483648*Math.random())})():ju++,"0x"+ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="RestConnection",CC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Ju?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,i,s,o,c){const f=Mm(),m=this.zo(t,i.toUriEncodedString());rt(Kd,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,c);const{host:y}=new URL(m),T=Qm(y);return this.Jo(t,m,p,s,T).then((S=>(rt(Kd,`Received RPC '${t}' ${f}: `,S),S)),(S=>{throw eo(Kd,`RPC '${t}' ${f} failed with error: `,S,"url: ",m,"request:",s),S}))}Ho(t,i,s,o,c,f){return this.Go(t,i,s,o,c)}jo(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+co})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),s&&s.headers.forEach(((o,c)=>t[c]=o))}zo(t,i){const s=CC[t];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class MC extends NC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,s,o,c){const f=Mm();return new Promise(((m,p)=>{const y=new Z1;y.setWithCredentials(!0),y.listenOnce(J1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Pu.NO_ERROR:const S=y.getResponseJson();rt(Xe,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),m(S);break;case Pu.TIMEOUT:rt(Xe,`RPC '${t}' ${f} timed out`),p(new at(K.DEADLINE_EXCEEDED,"Request time out"));break;case Pu.HTTP_ERROR:const R=y.getStatus();if(rt(Xe,`RPC '${t}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const J=B==null?void 0:B.error;if(J&&J.status&&J.message){const W=(function(st){const et=st.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(et)>=0?et:K.UNKNOWN})(J.status);p(new at(W,J.message))}else p(new at(K.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new at(K.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{rt(Xe,`RPC '${t}' ${f} completed.`)}}));const T=JSON.stringify(o);rt(Xe,`RPC '${t}' ${f} sending request:`,o),y.send(i,"POST",T,s,15)}))}T_(t,i,s){const o=Mm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=eE(),m=tE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const T=c.join("");rt(Xe,`Creating RPC '${t}' stream ${o}: ${T}`,p);const S=f.createWebChannel(T,p);this.I_(S);let R=!1,B=!1;const J=new IC({Yo:Z=>{B?rt(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,Z):(R||(rt(Xe,`Opening RPC '${t}' stream ${o} transport.`),S.open(),R=!0),rt(Xe,`RPC '${t}' stream ${o} sending:`,Z),S.send(Z))},Zo:()=>S.close()}),W=(Z,st,et)=>{Z.listen(st,(ct=>{try{et(ct)}catch(pt){setTimeout((()=>{throw pt}),0)}}))};return W(S,Sl.EventType.OPEN,(()=>{B||(rt(Xe,`RPC '${t}' stream ${o} transport opened.`),J.o_())})),W(S,Sl.EventType.CLOSE,(()=>{B||(B=!0,rt(Xe,`RPC '${t}' stream ${o} transport closed`),J.a_(),this.E_(S))})),W(S,Sl.EventType.ERROR,(Z=>{B||(B=!0,eo(Xe,`RPC '${t}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),J.a_(new at(K.UNAVAILABLE,"The operation could not be completed")))})),W(S,Sl.EventType.MESSAGE,(Z=>{var st;if(!B){const et=Z.data[0];Gt(!!et,16349);const ct=et,pt=(ct==null?void 0:ct.error)||((st=ct[0])==null?void 0:st.error);if(pt){rt(Xe,`RPC '${t}' stream ${o} received error:`,pt);const Lt=pt.status;let At=(function(C){const V=Re[C];if(V!==void 0)return kE(V)})(Lt),I=pt.message;At===void 0&&(At=K.INTERNAL,I="Unknown error status: "+Lt+" with message "+pt.message),B=!0,J.a_(new at(At,I)),S.close()}else rt(Xe,`RPC '${t}' stream ${o} received:`,et),J.u_(et)}})),W(m,W1.STAT_EVENT,(Z=>{Z.stat===vm.PROXY?rt(Xe,`RPC '${t}' stream ${o} detected buffering proxy`):Z.stat===vm.NOPROXY&&rt(Xe,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Yd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(a){return new kR(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(t,i,s=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&rt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="PersistentStream";class XE{constructor(t,i,s,o,c,f,m,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $E(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(ra(i.toString()),ra("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{t((()=>{const o=new at(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,i){const s=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(wv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(rt(wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class DC extends XE{constructor(t,i,s,o,c,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,f),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=LR(this.serializer,t),s=(function(c){if(!("targetChange"in c))return vt.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?vt.min():f.readTime?Vi(f.readTime):vt.min()})(t);return this.listener.H_(i,s)}Y_(t){const i={};i.database=Nm(this.serializer),i.addTarget=(function(c,f){let m;const p=f.target;if(m=Am(p)?{documents:BR(c,p)}:{query:qR(c,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=LE(c,f.resumeToken);const y=xm(c,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(vt.min())>0){m.readTime=ih(c,f.snapshotVersion.toTimestamp());const y=xm(c,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const s=HR(this.serializer,t);s&&(i.labels=s),this.q_(i)}Z_(t){const i={};i.database=Nm(this.serializer),i.removeTarget=t,this.q_(i)}}class VC extends XE{constructor(t,i,s,o,c,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=PR(t.writeResults,t.commitTime),s=Vi(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=Nm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>UR(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{}class kC extends OC{constructor(t,i,s,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Go(t,Rm(i,s),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at(K.UNKNOWN,c.toString())}))}Ho(t,i,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,Rm(i,s),o,f,m,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new at(K.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class jC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ra(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="RemoteStore";class zC{constructor(t,i,s,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Zs(this)&&(rt(Fs,"Restarting streams for network reachability change."),await(async function(p){const y=Tt(p);y.Ea.add(4),await tc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await wh(y)})(this))}))})),this.Ra=new jC(s,o)}}async function wh(a){if(Zs(a))for(const t of a.da)await t(!0)}async function tc(a){for(const t of a.da)await t(!1)}function ZE(a,t){const i=Tt(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),mg(i)?dg(i):mo(i).O_()&&fg(i,t))}function hg(a,t){const i=Tt(a),s=mo(i);i.Ia.delete(t),s.O_()&&JE(i,t),i.Ia.size===0&&(s.O_()?s.L_():Zs(i)&&i.Ra.set("Unknown"))}function fg(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}mo(a).Y_(t)}function JE(a,t){a.Va.Ue(t),mo(a).Z_(t)}function dg(a){a.Va=new MR({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),mo(a).start(),a.Ra.ua()}function mg(a){return Zs(a)&&!mo(a).x_()&&a.Ia.size>0}function Zs(a){return Tt(a).Ea.size===0}function WE(a){a.Va=void 0}async function LC(a){a.Ra.set("Online")}async function UC(a){a.Ia.forEach(((t,i)=>{fg(a,t)}))}async function PC(a,t){WE(a),mg(a)?(a.Ra.ha(t),dg(a)):a.Ra.set("Unknown")}async function BC(a,t,i){if(a.Ra.set("Online"),t instanceof zE&&t.state===2&&t.cause)try{await(async function(o,c){const f=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(a,t)}catch(s){rt(Fs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await sh(a,s)}else if(t instanceof Hu?a.Va.Ze(t):t instanceof jE?a.Va.st(t):a.Va.tt(t),!i.isEqual(vt.min()))try{const s=await YE(a.localStore);i.compareTo(s)>=0&&await(function(c,f){const m=c.Va.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const T=c.Ia.get(p);if(!T)return;c.Ia.set(p,T.withResumeToken(Ye.EMPTY_BYTE_STRING,T.snapshotVersion)),JE(c,p);const S=new Ka(T.target,p,y,T.sequenceNumber);fg(c,S)})),c.remoteSyncer.applyRemoteEvent(m)})(a,i)}catch(s){rt(Fs,"Failed to raise snapshot:",s),await sh(a,s)}}async function sh(a,t,i){if(!ho(t))throw t;a.Ea.add(1),await tc(a),a.Ra.set("Offline"),i||(i=()=>YE(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{rt(Fs,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await wh(a)}))}function tT(a,t){return t().catch((i=>sh(a,i,t)))}async function xh(a){const t=Tt(a),i=ns(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Zm;for(;qC(t);)try{const o=await SC(t.localStore,s);if(o===null){t.Ta.length===0&&i.L_();break}s=o.batchId,FC(t,o)}catch(o){await sh(t,o)}eT(t)&&nT(t)}function qC(a){return Zs(a)&&a.Ta.length<10}function FC(a,t){a.Ta.push(t);const i=ns(a);i.O_()&&i.X_&&i.ea(t.mutations)}function eT(a){return Zs(a)&&!ns(a).x_()&&a.Ta.length>0}function nT(a){ns(a).start()}async function HC(a){ns(a).ra()}async function GC(a){const t=ns(a);for(const i of a.Ta)t.ea(i.mutations)}async function QC(a,t,i){const s=a.Ta.shift(),o=ag.from(s,t,i);await tT(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await xh(a)}async function KC(a,t){t&&ns(a).X_&&await(async function(s,o){if((function(f){return CR(f)&&f!==K.ABORTED})(o.code)){const c=s.Ta.shift();ns(s).B_(),await tT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await xh(s)}})(a,t),eT(a)&&nT(a)}async function xv(a,t){const i=Tt(a);i.asyncQueue.verifyOperationInProgress(),rt(Fs,"RemoteStore received new credentials");const s=Zs(i);i.Ea.add(3),await tc(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await wh(i)}async function YC(a,t){const i=Tt(a);t?(i.Ea.delete(2),await wh(i)):t||(i.Ea.add(2),await tc(i),i.Ra.set("Unknown"))}function mo(a){return a.ma||(a.ma=(function(i,s,o){const c=Tt(i);return c.sa(),new DC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(a.datastore,a.asyncQueue,{Xo:LC.bind(null,a),t_:UC.bind(null,a),r_:PC.bind(null,a),H_:BC.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),mg(a)?dg(a):a.Ra.set("Unknown")):(await a.ma.stop(),WE(a))}))),a.ma}function ns(a){return a.fa||(a.fa=(function(i,s,o){const c=Tt(i);return c.sa(),new VC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:HC.bind(null,a),r_:KC.bind(null,a),ta:GC.bind(null,a),na:QC.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await xh(a)):(await a.fa.stop(),a.Ta.length>0&&(rt(Fs,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(t,i,s,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,o,c){const f=Date.now()+s,m=new gg(t,i,f,o,c);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pg(a,t){if(ra("AsyncQueue",`${t}: ${a}`),ho(a))return new at(K.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{static emptySet(t){return new Yr(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||dt.comparator(i.key,s.key):(i,s)=>dt.comparator(i.key,s.key),this.keyedMap=Al(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Yr)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Yr;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(){this.ga=new ce(dt.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class ro{constructor(t,i,s,o,c,f,m,p,y){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,i,s,o,c){const f=[];return i.forEach((m=>{f.push({type:0,doc:m})})),new ro(t,i,Yr.emptySet(i),f,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class XC{constructor(){this.queries=Cv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=Tt(i),c=o.queries;o.queries=Cv(),c.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new at(K.ABORTED,"Firestore shutting down"))}}function Cv(){return new $s((a=>SE(a)),vh)}async function yg(a,t){const i=Tt(a);let s=3;const o=t.query;let c=i.queries.get(o);c?!c.ba()&&t.Da()&&(s=2):(c=new $C,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const m=pg(f,`Initialization of query '${Fr(t.query)}' failed`);return void t.onError(m)}i.queries.set(o,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&vg(i)}async function _g(a,t){const i=Tt(a),s=t.query;let o=3;const c=i.queries.get(s);if(c){const f=c.Sa.indexOf(t);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function ZC(a,t){const i=Tt(a);let s=!1;for(const o of t){const c=o.query,f=i.queries.get(c);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&vg(i)}function JC(a,t,i){const s=Tt(a),o=s.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);s.queries.delete(t)}function vg(a){a.Ca.forEach((t=>{t.next()}))}var Dm,Nv;(Nv=Dm||(Dm={})).Ma="default",Nv.Cache="cache";class Eg{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new ro(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=ro.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Dm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(t){this.key=t}}class aT{constructor(t){this.key=t}}class WC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=AE(t),this.tu=new Yr(this.eu)}get nu(){return this.Ya}ru(t,i){const s=i?i.iu:new Rv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((T,S)=>{const R=o.get(T),B=Eh(this.query,S)?S:null,J=!!R&&this.mutatedKeys.has(R.key),W=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Z=!1;R&&B?R.data.isEqual(B.data)?J!==W&&(s.track({type:3,doc:B}),Z=!0):this.su(R,B)||(s.track({type:2,doc:B}),Z=!0,(p&&this.eu(B,p)>0||y&&this.eu(B,y)<0)&&(m=!0)):!R&&B?(s.track({type:0,doc:B}),Z=!0):R&&!B&&(s.track({type:1,doc:R}),Z=!0,(p||y)&&(m=!0)),Z&&(B?(f=f.add(B),c=W?c.add(T):c.delete(T)):(f=f.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{tu:f,iu:s,Cs:m,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((T,S)=>(function(B,J){const W=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:Z})}};return W(B)-W(J)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(s),o=o??!1;const m=i&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new ro(this.query,t.tu,c,f,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Rv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return t.forEach((s=>{this.Xa.has(s)||i.push(new aT(s))})),this.Xa.forEach((s=>{t.has(s)||i.push(new iT(s))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tg="SyncEngine";class tN{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class eN{constructor(t){this.key=t,this.hu=!1}}class nN{constructor(t,i,s,o,c,f){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new $s((m=>SE(m)),vh),this.Iu=new Map,this.Eu=new Set,this.du=new ce(dt.comparator),this.Au=new Map,this.Ru=new og,this.Vu={},this.mu=new Map,this.fu=so.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iN(a,t,i=!0){const s=uT(a);let o;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await sT(s,t,i,!0),o}async function aN(a,t){const i=uT(a);await sT(i,t,!0,!1)}async function sT(a,t,i,s){const o=await AC(a.localStore,Mi(t)),c=o.targetId,f=a.sharedClientState.addLocalQueryTarget(c,i);let m;return s&&(m=await sN(a,t,c,f==="current",o.resumeToken)),a.isPrimaryClient&&i&&ZE(a.remoteStore,o),m}async function sN(a,t,i,s,o){a.pu=(S,R,B)=>(async function(W,Z,st,et){let ct=Z.view.ru(st);ct.Cs&&(ct=await Tv(W.localStore,Z.query,!1).then((({documents:I})=>Z.view.ru(I,ct))));const pt=et&&et.targetChanges.get(Z.targetId),Lt=et&&et.targetMismatches.get(Z.targetId)!=null,At=Z.view.applyChanges(ct,W.isPrimaryClient,pt,Lt);return Mv(W,Z.targetId,At.au),At.snapshot})(a,S,R,B);const c=await Tv(a.localStore,t,!0),f=new WC(t,c.Qs),m=f.ru(c.documents),p=Wl.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),y=f.applyChanges(m,a.isPrimaryClient,p);Mv(a,i,y.au);const T=new tN(t,i,f);return a.Tu.set(t,T),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),y.snapshot}async function rN(a,t,i){const s=Tt(a),o=s.Tu.get(t),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((f=>!vh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Im(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&hg(s.remoteStore,o.targetId),Vm(s,o.targetId)})).catch(uo)):(Vm(s,o.targetId),await Im(s.localStore,o.targetId,!0))}async function oN(a,t){const i=Tt(a),s=i.Tu.get(t),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),hg(i.remoteStore,s.targetId))}async function lN(a,t,i){const s=gN(a);try{const o=await(function(f,m){const p=Tt(f),y=ne.now(),T=m.reduce(((B,J)=>B.add(J.key)),Ot());let S,R;return p.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let J=oa(),W=Ot();return p.Ns.getEntries(B,T).next((Z=>{J=Z,J.forEach(((st,et)=>{et.isValidDocument()||(W=W.add(st))}))})).next((()=>p.localDocuments.getOverlayedDocuments(B,J))).next((Z=>{S=Z;const st=[];for(const et of m){const ct=SR(et,S.get(et.key).overlayedDocument);ct!=null&&st.push(new Xs(et.key,ct,gE(ct.value.mapValue),Di.exists(!0)))}return p.mutationQueue.addMutationBatch(B,y,st,m)})).next((Z=>{R=Z;const st=Z.applyToLocalDocumentSet(S,W);return p.documentOverlayCache.saveOverlays(B,Z.batchId,st)}))})).then((()=>({batchId:R.batchId,changes:xE(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new ce(Vt)),y=y.insert(m,p),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,i),await ec(s,o.changes),await xh(s.remoteStore)}catch(o){const c=pg(o,"Failed to persist write");i.reject(c)}}async function rT(a,t){const i=Tt(a);try{const s=await TC(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const f=i.Au.get(c);f&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Gt(f.hu,14607):o.removedDocuments.size>0&&(Gt(f.hu,42227),f.hu=!1))})),await ec(i,s,t)}catch(s){await uo(s)}}function Iv(a,t,i){const s=Tt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((c,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Tt(f);p.onlineState=m;let y=!1;p.queries.forEach(((T,S)=>{for(const R of S.Sa)R.va(m)&&(y=!0)})),y&&vg(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function cN(a,t,i){const s=Tt(a);s.sharedClientState.updateQueryState(t,"rejected",i);const o=s.Au.get(t),c=o&&o.key;if(c){let f=new ce(dt.comparator);f=f.insert(c,We.newNoDocument(c,vt.min()));const m=Ot().add(c),p=new Sh(vt.min(),new Map,new ce(Vt),f,m);await rT(s,p),s.du=s.du.remove(c),s.Au.delete(t),bg(s)}else await Im(s.localStore,t,!1).then((()=>Vm(s,t,i))).catch(uo)}async function uN(a,t){const i=Tt(a),s=t.batch.batchId;try{const o=await EC(i.localStore,t);lT(i,s,null),oT(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await ec(i,o)}catch(o){await uo(o)}}async function hN(a,t,i){const s=Tt(a);try{const o=await(function(f,m){const p=Tt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return p.mutationQueue.lookupMutationBatch(y,m).next((S=>(Gt(S!==null,37113),T=S.keys(),p.mutationQueue.removeMutationBatch(y,S)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>p.localDocuments.getDocuments(y,T)))}))})(s.localStore,t);lT(s,t,i),oT(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await ec(s,o)}catch(o){await uo(o)}}function oT(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function lT(a,t,i){const s=Tt(a);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Vm(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.Iu.get(t))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((s=>{a.Ru.containsKey(s)||cT(a,s)}))}function cT(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(hg(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),bg(a))}function Mv(a,t,i){for(const s of i)s instanceof iT?(a.Ru.addReference(s.key,t),fN(a,s)):s instanceof aT?(rt(Tg,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,t),a.Ru.containsKey(s.key)||cT(a,s.key)):yt(19791,{wu:s})}function fN(a,t){const i=t.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(rt(Tg,"New document in limbo: "+i),a.Eu.add(s),bg(a))}function bg(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new dt(ee.fromString(t)),s=a.fu.next();a.Au.set(s,new eN(i)),a.du=a.du.insert(i,s),ZE(a.remoteStore,new Ka(Mi(_h(i.path)),s,"TargetPurposeLimboResolution",gh.ce))}}async function ec(a,t,i){const s=Tt(a),o=[],c=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,t,i).then((y=>{var T;if((y||i)&&s.isPrimaryClient){const S=y?!y.fromCache:(T=i==null?void 0:i.targetChanges.get(p.targetId))==null?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){o.push(y);const S=cg.As(p.targetId,y);c.push(S)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,y){const T=Tt(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(y,(R=>X.forEach(R.Es,(B=>T.persistence.referenceDelegate.addReference(S,R.targetId,B))).next((()=>X.forEach(R.ds,(B=>T.persistence.referenceDelegate.removeReference(S,R.targetId,B)))))))))}catch(S){if(!ho(S))throw S;rt(ug,"Failed to update sequence numbers: "+S)}for(const S of y){const R=S.targetId;if(!S.fromCache){const B=T.Ms.get(R),J=B.snapshotVersion,W=B.withLastLimboFreeSnapshotVersion(J);T.Ms=T.Ms.insert(R,W)}}})(s.localStore,c))}async function dN(a,t){const i=Tt(a);if(!i.currentUser.isEqual(t)){rt(Tg,"User change. New user:",t.toKey());const s=await KE(i.localStore,t);i.currentUser=t,(function(c,f){c.mu.forEach((m=>{m.forEach((p=>{p.reject(new at(K.CANCELLED,f))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await ec(i,s.Ls)}}function mN(a,t){const i=Tt(a),s=i.Au.get(t);if(s&&s.hu)return Ot().add(s.key);{let o=Ot();const c=i.Iu.get(t);if(!c)return o;for(const f of c){const m=i.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function uT(a){const t=Tt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=rT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=mN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cN.bind(null,t),t.Pu.H_=ZC.bind(null,t.eventManager),t.Pu.yu=JC.bind(null,t.eventManager),t}function gN(a){const t=Tt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hN.bind(null,t),t}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ah(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return vC(this.persistence,new pC,t.initialUser,this.serializer)}Cu(t){return new QE(lg.mi,this.serializer)}Du(t){return new xC}async terminate(){var t,i;(t=this.gcScheduler)==null||t.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class pN extends rh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Gt(this.persistence.referenceDelegate instanceof ah,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new eC(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new QE((s=>ah.mi(s,i)),this.serializer)}}class Om{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Iv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=dN.bind(null,this.syncEngine),await YC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new XC})()}createDatastore(t){const i=Ah(t.databaseInfo.databaseId),s=(function(c){return new MC(c)})(t.databaseInfo);return(function(c,f,m,p){return new kC(c,f,m,p)})(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,o,c,f,m){return new zC(s,o,c,f,m)})(this.localStore,this.datastore,t.asyncQueue,(i=>Iv(this.syncEngine,i,0)),(function(){return Av.v()?new Av:new RC})())}createSyncEngine(t,i){return(function(o,c,f,m,p,y,T){const S=new nN(o,c,f,m,p,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await(async function(o){const c=Tt(o);rt(Fs,"RemoteStore shutting down."),c.Ea.add(5),await tc(c),c.Aa.shutdown(),c.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(i=this.eventManager)==null||i.terminate()}}Om.provider={build:()=>new Om};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ra("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="FirestoreClient";class yN{constructor(t,i,s,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ze.UNAUTHENTICATED,this.clientId=Xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async f=>{rt(is,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(rt(is,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=pg(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function $d(a,t){a.asyncQueue.verifyOperationInProgress(),rt(is,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async o=>{s.isEqual(o)||(await KE(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function Dv(a,t){a.asyncQueue.verifyOperationInProgress();const i=await _N(a);rt(is,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((s=>xv(t.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,o)=>xv(t.remoteStore,o))),a._onlineComponents=t}async function _N(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){rt(is,"Using user provided OfflineComponentProvider");try{await $d(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;eo("Error using user provided cache. Falling back to memory cache: "+i),await $d(a,new rh)}}else rt(is,"Using default OfflineComponentProvider"),await $d(a,new pN(void 0));return a._offlineComponents}async function hT(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(rt(is,"Using user provided OnlineComponentProvider"),await Dv(a,a._uninitializedComponentsProvider._online)):(rt(is,"Using default OnlineComponentProvider"),await Dv(a,new Om))),a._onlineComponents}function vN(a){return hT(a).then((t=>t.syncEngine))}async function oh(a){const t=await hT(a),i=t.eventManager;return i.onListen=iN.bind(null,t.syncEngine),i.onUnlisten=rN.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=aN.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=oN.bind(null,t.syncEngine),i}function EN(a,t,i={}){const s=new aa;return a.asyncQueue.enqueueAndForget((async()=>(function(c,f,m,p,y){const T=new Sg({next:R=>{T.Nu(),f.enqueueAndForget((()=>_g(c,S)));const B=R.docs.has(m);!B&&R.fromCache?y.reject(new at(K.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&R.fromCache&&p&&p.source==="server"?y.reject(new at(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new Eg(_h(m.path),T,{includeMetadataChanges:!0,qa:!0});return yg(c,S)})(await oh(a),a.asyncQueue,t,i,s))),s.promise}function TN(a,t,i={}){const s=new aa;return a.asyncQueue.enqueueAndForget((async()=>(function(c,f,m,p,y){const T=new Sg({next:R=>{T.Nu(),f.enqueueAndForget((()=>_g(c,S))),R.fromCache&&p.source==="server"?y.reject(new at(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new Eg(m,T,{includeMetadataChanges:!0,qa:!0});return yg(c,S)})(await oh(a),a.asyncQueue,t,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="firestore.googleapis.com",Ov=!0;class kv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new at(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dT,this.ssl=Ov}else this.host=t.host,this.ssl=t.ssl??Ov;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=GE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<WR)throw new at(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}kx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fT(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Rh{constructor(t,i,s,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new wx;switch(s.type){case"firstParty":return new Nx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new at(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=Vv.get(i);s&&(rt("ComponentProvider","Removing Datastore"),Vv.delete(i),s.terminate())})(this),Promise.resolve()}}function bN(a,t,i,s={}){var y;a=si(a,Rh);const o=Qm(t),c=a._getSettings(),f={...c,emulatorOptions:a._getEmulatorOptions()},m=`${t}:${i}`;o&&(W2(`https://${m}`),iw("Firestore",!0)),c.host!==dT&&c.host!==m&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:m,ssl:o,emulatorOptions:s};if(!to(p,f)&&(a._setSettings(p),s.mockUserToken)){let T,S;if(typeof s.mockUserToken=="string")T=s.mockUserToken,S=Ze.MOCK_USER;else{T=tw(s.mockUserToken,(y=a._app)==null?void 0:y.options.projectId);const R=s.mockUserToken.sub||s.mockUserToken.user_id;if(!R)throw new at(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Ze(R)}a._authCredentials=new xx(new iE(T,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ua(this.firestore,t,this._query)}}class ye{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Za(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ye(this.firestore,t,this._key)}toJSON(){return{type:ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(Zl(i,ye._jsonSchema))return new ye(t,s||null,new dt(ee.fromString(i.referencePath)))}}ye._jsonSchemaVersion="firestore/documentReference/1.0",ye._jsonSchema={type:Ie("string",ye._jsonSchemaVersion),referencePath:Ie("string")};class Za extends ua{constructor(t,i,s){super(t,i,_h(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ye(this.firestore,null,new dt(t))}withConverter(t){return new Za(this.firestore,t,this._path)}}function mT(a,t,...i){if(a=tn(a),aE("collection","path",t),a instanceof Rh){const s=ee.fromString(t,...i);return Y_(s),new Za(a,null,s)}{if(!(a instanceof ye||a instanceof Za))throw new at(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ee.fromString(t,...i));return Y_(s),new Za(a.firestore,null,s)}}function gT(a,t,...i){if(a=tn(a),arguments.length===1&&(t=Xm.newId()),aE("doc","path",t),a instanceof Rh){const s=ee.fromString(t,...i);return K_(s),new ye(a,null,new dt(s))}{if(!(a instanceof ye||a instanceof Za))throw new at(K.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ee.fromString(t,...i));return K_(s),new ye(a.firestore,a instanceof Za?a.converter:null,new dt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="AsyncQueue";class zv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $E(this,"async_queue_retry"),this._c=()=>{const s=Yd();s&&rt(jv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=Yd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Yd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new aa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ho(t))throw t;rt(jv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,ra("INTERNAL UNHANDLED ERROR: ",Lv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=gg.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:Lv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Lv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(a){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(a,["next","error","complete"])}class Hs extends Rh{constructor(t,i,s,o){super(t,i,s,o),this.type="firestore",this._queue=new zv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new zv(t),this._firestoreClient=void 0,await t}}}function SN(a,t){const i=typeof a=="object"?a:Xl(),s=typeof a=="string"?a:Ju,o=Ks(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=Z2("firestore");c&&bN(o,...c)}return o}function Ch(a){if(a._terminated)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||AN(a),a._firestoreClient}function AN(a){var s,o,c;const t=a._freezeSettings(),i=(function(m,p,y,T){return new Kx(m,p,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,fT(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)})(a._databaseId,((s=a._app)==null?void 0:s.options.appId)||"",a._persistenceKey,t);a._componentsProvider||(o=t.localCache)!=null&&o._offlineComponentProvider&&((c=t.localCache)!=null&&c._onlineComponentProvider)&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new yN(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fn(Ye.fromBase64String(t))}catch(i){throw new at(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Fn(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Zl(t,Fn._jsonSchema))return Fn.fromBase64String(t.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Ie("string",Fn._jsonSchemaVersion),bytes:Ie("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new at(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new at(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new at(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(t){if(Zl(t,Oi._jsonSchema))return new Oi(t.latitude,t.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Ie("string",Oi._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Zl(t,ki._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ki(t.vectorValues);throw new at(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:Ie("string",ki._jsonSchemaVersion),vectorValues:Ie("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=/^__.*__$/;class xN{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new Xs(t,this.data,this.fieldMask,i,this.fieldTransforms):new Jl(t,this.data,i,this.fieldTransforms)}}function pT(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:a})}}class xg{constructor(t,i,s,o,c,f){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new xg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var o;const i=(o=this.path)==null?void 0:o.child(t),s=this.Vc({path:i,fc:!1});return s.gc(t),s}yc(t){var o;const i=(o=this.path)==null?void 0:o.child(t),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return lh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(pT(this.Ac)&&wN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class RN{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Ah(t)}Cc(t,i,s,o=!1){return new xg({Ac:t,methodName:i,Dc:s,path:Ke.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yT(a){const t=a._freezeSettings(),i=Ah(a._databaseId);return new RN(a._databaseId,!!t.ignoreUndefinedProperties,i)}function CN(a,t,i,s,o,c={}){const f=a.Cc(c.merge||c.mergeFields?2:0,t,i,o);ET("Data must be an object, but it was:",f,s);const m=_T(s,f);let p,y;if(c.merge)p=new ai(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const R=IN(t,S,i);if(!f.contains(R))throw new at(K.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);DN(T,R)||T.push(R)}p=new ai(T),y=f.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,y=f.fieldTransforms;return new xN(new qn(m),p,y)}class Rg extends wg{_toFieldTransform(t){return new vR(t.path,new Hl)}isEqual(t){return t instanceof Rg}}function NN(a,t,i,s=!1){return Cg(i,a.Cc(s?4:3,t))}function Cg(a,t){if(vT(a=tn(a)))return ET("Unsupported field value:",t,a),_T(a,t);if(a instanceof wg)return(function(s,o){if(!pT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let f=0;for(const m of s){let p=Cg(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}})(a,t)}return(function(s,o){if((s=tn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return pR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ne.fromDate(s);return{timestampValue:ih(o.serializer,c)}}if(s instanceof ne){const c=new ne(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ih(o.serializer,c)}}if(s instanceof Oi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fn)return{bytesValue:LE(o.serializer,s._byteString)};if(s instanceof ye){const c=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:rg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ki)return(function(f,m){return{mapValue:{fields:{[dE]:{stringValue:mE},[Wu]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return ng(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${mh(s)}`)})(a,t)}function _T(a,t){const i={};return oE(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ys(a,((s,o)=>{const c=Cg(o,t.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function vT(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ne||a instanceof Oi||a instanceof Fn||a instanceof ye||a instanceof wg||a instanceof ki)}function ET(a,t,i){if(!vT(i)||!sE(i)){const s=mh(i);throw s==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+s)}}function IN(a,t,i){if((t=tn(t))instanceof Ag)return t._internalPath;if(typeof t=="string")return TT(a,t);throw lh("Field path arguments must be of type string or ",a,!1,void 0,i)}const MN=new RegExp("[~\\*/\\[\\]]");function TT(a,t,i){if(t.search(MN)>=0)throw lh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Ag(...t.split("."))._internalPath}catch{throw lh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function lh(a,t,i,s,o){const c=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new at(K.INVALID_ARGUMENT,m+a+p)}function DN(a,t){return a.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(t,i,s,o,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new VN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Nh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class VN extends bT{data(){return super.data()}}function Nh(a,t){return typeof t=="string"?TT(a,t):t instanceof Ag?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new at(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ng{}class Ig extends Ng{}function AT(a,t,...i){let s=[];t instanceof Ng&&s.push(t),s=s.concat(i),(function(c){const f=c.filter((p=>p instanceof Mg)).length,m=c.filter((p=>p instanceof Ih)).length;if(f>1||f>0&&m>0)throw new at(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)a=o._apply(a);return a}class Ih extends Ig{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new Ih(t,i,s)}_apply(t){const i=this._parse(t);return wT(t._query,i),new ua(t.firestore,t.converter,wm(t._query,i))}_parse(t){const i=yT(t.firestore);return(function(c,f,m,p,y,T,S){let R;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new at(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Fv(S,T);const J=[];for(const W of S)J.push(qv(p,c,W));R={arrayValue:{values:J}}}else R=qv(p,c,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Fv(S,T),R=NN(m,f,S,T==="in"||T==="not-in");return Ne.create(y,T,R)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function Pv(a,t,i){const s=t,o=Nh("where",a);return Ih._create(o,s,i)}class Mg extends Ng{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Mg(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:oi.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(o,c){let f=o;const m=c.getFlattenedFilters();for(const p of m)wT(f,p),f=wm(f,p)})(t._query,i),new ua(t.firestore,t.converter,wm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Dg extends Ig{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Dg(t,i)}_apply(t){const i=(function(o,c,f){if(o.startAt!==null)throw new at(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new at(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fl(c,f)})(t._query,this._field,this._direction);return new ua(t.firestore,t.converter,(function(o,c){const f=o.explicitOrderBy.concat([c]);return new fo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,i))}}function Bv(a,t="asc"){const i=t,s=Nh("orderBy",a);return Dg._create(s,i)}class Vg extends Ig{constructor(t,i,s){super(),this.type=t,this._limit=i,this._limitType=s}static _create(t,i,s){return new Vg(t,i,s)}_apply(t){return new ua(t.firestore,t.converter,eh(t._query,this._limit,this._limitType))}}function ON(a){return jx("limit",a),Vg._create("limit",a,"F")}function qv(a,t,i){if(typeof(i=tn(i))=="string"){if(i==="")throw new at(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bE(t)&&i.indexOf("/")!==-1)throw new at(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(ee.fromString(i));if(!dt.isDocumentKey(s))throw new at(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return nv(a,new dt(s))}if(i instanceof ye)return nv(a,i._key);throw new at(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mh(i)}.`)}function Fv(a,t){if(!Array.isArray(a)||a.length===0)throw new at(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function wT(a,t){const i=(function(o,c){for(const f of o)for(const m of f.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new at(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new at(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class kN{convertValue(t,i="none"){switch(es(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ts(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Ys(t,((o,c)=>{s[o]=this.convertValue(c,i)})),s}convertVectorValue(t){var s,o,c;const i=(c=(o=(s=t.fields)==null?void 0:s[Wu].arrayValue)==null?void 0:o.values)==null?void 0:c.map((f=>pe(f.doubleValue)));return new ki(i)}convertGeoPoint(t){return new Oi(pe(t.latitude),pe(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=yh(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Pl(t));default:return null}}convertTimestamp(t){const i=Wa(t);return new ne(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=ee.fromString(t);Gt(HE(s),9688,{name:t});const o=new Bl(s.get(1),s.get(3)),c=new dt(s.popFirst(5));return o.isEqual(i)||ra(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(a,t,i){let s;return s=a?i&&(i.merge||i.mergeFields)?a.toFirestore(t,i):a.toFirestore(t):t,s}class xl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ps extends bT{constructor(t,i,s,o,c,f){super(t,i,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Gu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(Nh("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ps._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ps._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ps._jsonSchema={type:Ie("string",Ps._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Gu extends Ps{data(t={}){return super.data(t)}}class Bs{constructor(t,i,s,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new xl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new Gu(this._firestore,this._userDataWriter,s.key,s,new xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new Gu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const p=new Gu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:zN(m.type),doc:p,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Bs._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Xm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function zN(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(a){a=si(a,ye);const t=si(a.firestore,Hs);return EN(Ch(t),a._key).then((i=>RT(t,a,i)))}Bs._jsonSchemaVersion="firestore/querySnapshot/1.0",Bs._jsonSchema={type:Ie("string",Bs._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Og extends kN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ye(this.firestore,null,i)}}function UN(a){a=si(a,ua);const t=si(a.firestore,Hs),i=Ch(t),s=new Og(t);return ST(a._query),TN(i,a._query).then((o=>new Bs(t,s,a,o)))}function PN(a,t,i){a=si(a,ye);const s=si(a.firestore,Hs),o=jN(a.converter,t,i);return xT(s,[CN(yT(s),"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,Di.none())])}function Hv(a){return xT(si(a.firestore,Hs),[new ig(a._key,Di.none())])}function BN(a,...t){var p,y,T;a=tn(a);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||Uv(t[s])||(i=t[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Uv(t[s])){const S=t[s];t[s]=(p=S.next)==null?void 0:p.bind(S),t[s+1]=(y=S.error)==null?void 0:y.bind(S),t[s+2]=(T=S.complete)==null?void 0:T.bind(S)}let c,f,m;if(a instanceof ye)f=si(a.firestore,Hs),m=_h(a._key.path),c={next:S=>{t[s]&&t[s](RT(f,a,S))},error:t[s+1],complete:t[s+2]};else{const S=si(a,ua);f=si(S.firestore,Hs),m=S._query;const R=new Og(f);c={next:B=>{t[s]&&t[s](new Bs(f,R,S,B))},error:t[s+1],complete:t[s+2]},ST(a._query)}return(function(R,B,J,W){const Z=new Sg(W),st=new Eg(B,Z,J);return R.asyncQueue.enqueueAndForget((async()=>yg(await oh(R),st))),()=>{Z.Nu(),R.asyncQueue.enqueueAndForget((async()=>_g(await oh(R),st)))}})(Ch(f),m,o,c)}function xT(a,t){return(function(s,o){const c=new aa;return s.asyncQueue.enqueueAndForget((async()=>lN(await vN(s),o,c))),c.promise})(Ch(a),t)}function RT(a,t,i){const s=i.docs.get(t._key),o=new Og(a);return new Ps(a,o,t._key,s,new xl(i.hasPendingWrites,i.fromCache),t.converter)}function qN(){return new Rg("serverTimestamp")}(function(t,i=!0){(function(o){co=o})(_m),ji(new ri("firestore",((s,{instanceIdentifier:o,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new Hs(new Rx(s.getProvider("auth-internal")),new Ix(f,s.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new at(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(y.options.projectId,T)})(f,o),f);return c={useFetchStreams:i,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),pn(F_,H_,t),pn(F_,H_,"esm2020")})();const CT="@firebase/installations",kg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=1e4,IT=`w:${kg}`,MT="FIS_v2",FN="https://firebaseinstallations.googleapis.com/v1",HN=3600*1e3,GN="installations",QN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Gs=new lo(GN,QN,KN);function DT(a){return a instanceof Li&&a.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT({projectId:a}){return`${FN}/projects/${a}/installations`}function OT(a){return{token:a.token,requestStatus:2,expiresIn:$N(a.expiresIn),creationTime:Date.now()}}async function kT(a,t){const s=(await t.json()).error;return Gs.create("request-failed",{requestName:a,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function jT({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function YN(a,{refreshToken:t}){const i=jT(a);return i.append("Authorization",XN(t)),i}async function zT(a){const t=await a();return t.status>=500&&t.status<600?a():t}function $N(a){return Number(a.replace("s","000"))}function XN(a){return`${MT} ${a}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN({appConfig:a,heartbeatServiceProvider:t},{fid:i}){const s=VT(a),o=jT(a),c=t.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:i,authVersion:MT,appId:a.appId,sdkVersion:IT},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await zT(()=>fetch(s,m));if(p.ok){const y=await p.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:OT(y.authToken)}}else throw await kT("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(a){return new Promise(t=>{setTimeout(t,a)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=/^[cdef][\w-]{21}$/,km="";function tI(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const i=eI(a);return WN.test(i)?i:km}catch{return km}}function eI(a){return JN(a).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(a){return`${a.appName}!${a.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=new Map;function PT(a,t){const i=Mh(a);BT(i,t),nI(i,t)}function BT(a,t){const i=UT.get(a);if(i)for(const s of i)s(t)}function nI(a,t){const i=iI();i&&i.postMessage({key:a,fid:t}),aI()}let Us=null;function iI(){return!Us&&"BroadcastChannel"in self&&(Us=new BroadcastChannel("[Firebase] FID Change"),Us.onmessage=a=>{BT(a.data.key,a.data.fid)}),Us}function aI(){UT.size===0&&Us&&(Us.close(),Us=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="firebase-installations-database",rI=1,Qs="firebase-installations-store";let Xd=null;function jg(){return Xd||(Xd=Q1(sI,rI,{upgrade:(a,t)=>{switch(t){case 0:a.createObjectStore(Qs)}}})),Xd}async function ch(a,t){const i=Mh(a),o=(await jg()).transaction(Qs,"readwrite"),c=o.objectStore(Qs),f=await c.get(i);return await c.put(t,i),await o.done,(!f||f.fid!==t.fid)&&PT(a,t.fid),t}async function qT(a){const t=Mh(a),s=(await jg()).transaction(Qs,"readwrite");await s.objectStore(Qs).delete(t),await s.done}async function Dh(a,t){const i=Mh(a),o=(await jg()).transaction(Qs,"readwrite"),c=o.objectStore(Qs),f=await c.get(i),m=t(f);return m===void 0?await c.delete(i):await c.put(m,i),await o.done,m&&(!f||f.fid!==m.fid)&&PT(a,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zg(a){let t;const i=await Dh(a.appConfig,s=>{const o=oI(s),c=lI(a,o);return t=c.registrationPromise,c.installationEntry});return i.fid===km?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function oI(a){const t=a||{fid:tI(),registrationStatus:0};return FT(t)}function lI(a,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Gs.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=cI(a,i);return{installationEntry:i,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:uI(a)}:{installationEntry:t}}async function cI(a,t){try{const i=await ZN(a,t);return ch(a.appConfig,i)}catch(i){throw DT(i)&&i.customData.serverCode===409?await qT(a.appConfig):await ch(a.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function uI(a){let t=await Gv(a.appConfig);for(;t.registrationStatus===1;)await LT(100),t=await Gv(a.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await zg(a);return s||i}return t}function Gv(a){return Dh(a,t=>{if(!t)throw Gs.create("installation-not-found");return FT(t)})}function FT(a){return hI(a)?{fid:a.fid,registrationStatus:0}:a}function hI(a){return a.registrationStatus===1&&a.registrationTime+NT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fI({appConfig:a,heartbeatServiceProvider:t},i){const s=dI(a,i),o=YN(a,i),c=t.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:IT,appId:a.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await zT(()=>fetch(s,m));if(p.ok){const y=await p.json();return OT(y)}else throw await kT("Generate Auth Token",p)}function dI(a,{fid:t}){return`${VT(a)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lg(a,t=!1){let i;const s=await Dh(a.appConfig,c=>{if(!HT(c))throw Gs.create("not-registered");const f=c.authToken;if(!t&&pI(f))return c;if(f.requestStatus===1)return i=mI(a,t),c;{if(!navigator.onLine)throw Gs.create("app-offline");const m=_I(c);return i=gI(a,m),m}});return i?await i:s.authToken}async function mI(a,t){let i=await Qv(a.appConfig);for(;i.authToken.requestStatus===1;)await LT(100),i=await Qv(a.appConfig);const s=i.authToken;return s.requestStatus===0?Lg(a,t):s}function Qv(a){return Dh(a,t=>{if(!HT(t))throw Gs.create("not-registered");const i=t.authToken;return vI(i)?{...t,authToken:{requestStatus:0}}:t})}async function gI(a,t){try{const i=await fI(a,t),s={...t,authToken:i};return await ch(a.appConfig,s),i}catch(i){if(DT(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await qT(a.appConfig);else{const s={...t,authToken:{requestStatus:0}};await ch(a.appConfig,s)}throw i}}function HT(a){return a!==void 0&&a.registrationStatus===2}function pI(a){return a.requestStatus===2&&!yI(a)}function yI(a){const t=Date.now();return t<a.creationTime||a.creationTime+a.expiresIn<t+HN}function _I(a){const t={requestStatus:1,requestTime:Date.now()};return{...a,authToken:t}}function vI(a){return a.requestStatus===1&&a.requestTime+NT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(a){const t=a,{installationEntry:i,registrationPromise:s}=await zg(t);return s?s.catch(console.error):Lg(t).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(a,t=!1){const i=a;return await bI(i),(await Lg(i,t)).token}async function bI(a){const{registrationPromise:t}=await zg(a);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(a){if(!a||!a.options)throw Zd("App Configuration");if(!a.name)throw Zd("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!a.options[i])throw Zd(i);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function Zd(a){return Gs.create("missing-app-config-values",{valueName:a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="installations",AI="installations-internal",wI=a=>{const t=a.getProvider("app").getImmediate(),i=SI(t),s=Ks(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},xI=a=>{const t=a.getProvider("app").getImmediate(),i=Ks(t,GT).getImmediate();return{getId:()=>EI(i),getToken:o=>TI(i,o)}};function RI(){ji(new ri(GT,wI,"PUBLIC")),ji(new ri(AI,xI,"PRIVATE"))}RI();pn(CT,kg);pn(CT,kg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh="analytics",CI="firebase_id",NI="origin",II=60*1e3,MI="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ug="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn=new $l("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Rn=new lo("analytics","Analytics",DI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(a){if(!a.startsWith(Ug)){const t=Rn.create("invalid-gtag-resource",{gtagURL:a});return rn.warn(t.message),""}return a}function QT(a){return Promise.all(a.map(t=>t.catch(i=>i)))}function OI(a,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(a,t)),i}function kI(a,t){const i=OI("firebase-js-sdk-policy",{createScriptURL:VI}),s=document.createElement("script"),o=`${Ug}?l=${a}&id=${t}`;s.src=i?i==null?void 0:i.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function jI(a){let t=[];return Array.isArray(window[a])?t=window[a]:window[a]=t,t}async function zI(a,t,i,s,o,c){const f=s[o];try{if(f)await t[f];else{const p=(await QT(i)).find(y=>y.measurementId===o);p&&await t[p.appId]}}catch(m){rn.error(m)}a("config",o,c)}async function LI(a,t,i,s,o){try{let c=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await QT(i);for(const p of f){const y=m.find(S=>S.measurementId===p),T=y&&t[y.appId];if(T)c.push(T);else{c=[];break}}}c.length===0&&(c=Object.values(t)),await Promise.all(c),a("event",s,o||{})}catch(c){rn.error(c)}}function UI(a,t,i,s){async function o(c,...f){try{if(c==="event"){const[m,p]=f;await LI(a,t,i,m,p)}else if(c==="config"){const[m,p]=f;await zI(a,t,i,s,m,p)}else if(c==="consent"){const[m,p]=f;a("consent",m,p)}else if(c==="get"){const[m,p,y]=f;a("get",m,p,y)}else if(c==="set"){const[m]=f;a("set",m)}else a(c,...f)}catch(m){rn.error(m)}}return o}function PI(a,t,i,s,o){let c=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=UI(c,a,t,i),{gtagCore:c,wrappedGtag:window[o]}}function BI(a){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(Ug)&&i.src.includes(a))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=30,FI=1e3;class HI{constructor(t={},i=FI){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const KT=new HI;function GI(a){return new Headers({Accept:"application/json","x-goog-api-key":a})}async function QI(a){var f;const{appId:t,apiKey:i}=a,s={method:"GET",headers:GI(i)},o=MI.replace("{app-id}",t),c=await fetch(o,s);if(c.status!==200&&c.status!==304){let m="";try{const p=await c.json();(f=p.error)!=null&&f.message&&(m=p.error.message)}catch{}throw Rn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:m})}return c.json()}async function KI(a,t=KT,i){const{appId:s,apiKey:o,measurementId:c}=a.options;if(!s)throw Rn.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:s};throw Rn.create("no-api-key")}const f=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new XI;return setTimeout(async()=>{m.abort()},II),YT({appId:s,apiKey:o,measurementId:c},f,m,t)}async function YT(a,{throttleEndTimeMillis:t,backoffCount:i},s,o=KT){var m;const{appId:c,measurementId:f}=a;try{await YI(s,t)}catch(p){if(f)return rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:c,measurementId:f};throw p}try{const p=await QI(a);return o.deleteThrottleMetadata(c),p}catch(p){const y=p;if(!$I(y)){if(o.deleteThrottleMetadata(c),f)return rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:c,measurementId:f};throw p}const T=Number((m=y==null?void 0:y.customData)==null?void 0:m.httpStatus)===503?Xu(i,o.intervalMillis,qI):Xu(i,o.intervalMillis),S={throttleEndTimeMillis:Date.now()+T,backoffCount:i+1};return o.setThrottleMetadata(c,S),rn.debug(`Calling attemptFetch again in ${T} millis`),YT(a,S,s,o)}}function YI(a,t){return new Promise((i,s)=>{const o=Math.max(t-Date.now(),0),c=setTimeout(i,o);a.addEventListener(()=>{clearTimeout(c),s(Rn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function $I(a){if(!(a instanceof Li)||!a.customData)return!1;const t=Number(a.customData.httpStatus);return t===429||t===500||t===503||t===504}class XI{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function ZI(a,t,i,s,o){if(o&&o.global){a("event",i,s);return}else{const c=await t,f={...s,send_to:c};a("event",i,f)}}async function JI(a,t,i,s){if(s&&s.global){const o={};for(const c of Object.keys(i))o[`user_properties.${c}`]=i[c];return a("set",o),Promise.resolve()}else{const o=await t;a("config",o,{update:!0,user_properties:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WI(){if(Yl())try{await dh()}catch(a){return rn.warn(Rn.create("indexeddb-unavailable",{errorInfo:a==null?void 0:a.toString()}).message),!1}else return rn.warn(Rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function t4(a,t,i,s,o,c,f){const m=KI(a);m.then(R=>{i[R.measurementId]=R.appId,a.options.measurementId&&R.measurementId!==a.options.measurementId&&rn.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>rn.error(R)),t.push(m);const p=WI().then(R=>{if(R)return s.getId()}),[y,T]=await Promise.all([m,p]);BI(c)||kI(c,y.measurementId),o("js",new Date);const S=(f==null?void 0:f.config)??{};return S[NI]="firebase",S.update=!0,T!=null&&(S[CI]=T),o("config",y.measurementId,S),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(t){this.app=t}_delete(){return delete $r[this.app.options.appId],Promise.resolve()}}let $r={},Kv=[];const Yv={};let Jd="dataLayer",n4="gtag",$v,Pg,Xv=!1;function i4(){const a=[];if(F1()&&a.push("This is a browser extension environment."),Km()||a.push("Cookies are not available."),a.length>0){const t=a.map((s,o)=>`(${o+1}) ${s}`).join(" "),i=Rn.create("invalid-analytics-context",{errorInfo:t});rn.warn(i.message)}}function a4(a,t,i){i4();const s=a.options.appId;if(!s)throw Rn.create("no-app-id");if(!a.options.apiKey)if(a.options.measurementId)rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${a.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Rn.create("no-api-key");if($r[s]!=null)throw Rn.create("already-exists",{id:s});if(!Xv){jI(Jd);const{wrappedGtag:c,gtagCore:f}=PI($r,Kv,Yv,Jd,n4);Pg=c,$v=f,Xv=!0}return $r[s]=t4(a,Kv,Yv,t,$v,Jd,i),new e4(a)}function s4(a=Xl()){a=tn(a);const t=Ks(a,uh);return t.isInitialized()?t.getImmediate():r4(a)}function r4(a,t={}){const i=Ks(a,uh);if(i.isInitialized()){const o=i.getImmediate();if(to(t,i.getOptions()))return o;throw Rn.create("already-initialized")}return i.initialize({options:t})}async function o4(){if(F1()||!Km()||!Yl())return!1;try{return await dh()}catch{return!1}}function l4(a,t,i){a=tn(a),JI(Pg,$r[a.app.options.appId],t,i).catch(s=>rn.error(s))}function c4(a,t,i,s){a=tn(a),ZI(Pg,$r[a.app.options.appId],t,i,s).catch(o=>rn.error(o))}const Zv="@firebase/analytics",Jv="0.10.19";function u4(){ji(new ri(uh,(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return a4(s,o,i)},"PUBLIC")),ji(new ri("analytics-internal",a,"PRIVATE")),pn(Zv,Jv),pn(Zv,Jv,"esm2020");function a(t){try{const i=t.getProvider(uh).getImmediate();return{logEvent:(s,o,c)=>c4(i,s,o,c),setUserProperties:(s,o)=>l4(i,s,o)}}catch(i){throw Rn.create("interop-component-reg-failed",{reason:i})}}}u4();const Wd="@firebase/remote-config",Wv="0.7.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="remote-config",t1=100;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4={"already-initialized":"Remote Config already initialized","registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser","custom-signal-max-allowed-signals":"Setting more than {$maxSignals} custom signals is not supported.","stream-error":"The stream was not able to connect to the backend: {$originalErrorMessage}.","realtime-unavailable":"The Realtime service is unavailable: {$originalErrorMessage}","update-message-invalid":"The stream invalidation message was unparsable: {$originalErrorMessage}","update-not-fetched":"Unable to fetch the latest config: {$originalErrorMessage}"},Ce=new lo("remoteconfig","Remote Config",h4);function f4(a,t){return a instanceof Li&&a.code.indexOf(t)!==-1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(a=Xl(),t={}){var o,c;a=tn(a);const i=Ks(a,XT);if(i.isInitialized()){const f=i.getOptions();if(to(f,t))return i.getImmediate();throw Ce.create("already-initialized")}i.initialize({options:t});const s=i.getImmediate();return t.initialFetchResponse&&(s._initializePromise=Promise.all([s._storage.setLastSuccessfulFetchResponse(t.initialFetchResponse),s._storage.setActiveConfigEtag(((o=t.initialFetchResponse)==null?void 0:o.eTag)||""),s._storage.setActiveConfigTemplateVersion(t.initialFetchResponse.templateVersion||0),s._storageCache.setLastSuccessfulFetchTimestampMillis(Date.now()),s._storageCache.setLastFetchStatus("success"),s._storageCache.setActiveConfig(((c=t.initialFetchResponse)==null?void 0:c.config)||{})]).then(),s._isInitializationComplete=!0),s}async function m4(a){const t=tn(a),[i,s]=await Promise.all([t._storage.getLastSuccessfulFetchResponse(),t._storage.getActiveConfigEtag()]);return!i||!i.config||!i.eTag||!i.templateVersion||i.eTag===s?!1:(await Promise.all([t._storageCache.setActiveConfig(i.config),t._storage.setActiveConfigEtag(i.eTag),t._storage.setActiveConfigTemplateVersion(i.templateVersion)]),!0)}function g4(a){const t=tn(a);return t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0})),t._initializePromise}async function p4(a){const t=tn(a),i=new $T;setTimeout(async()=>{i.abort()},t.settings.fetchTimeoutMillis);const s=t._storageCache.getCustomSignals();s&&t._logger.debug(`Fetching config with custom signals: ${JSON.stringify(s)}`);try{await t._client.fetch({cacheMaxAgeMillis:t.settings.minimumFetchIntervalMillis,signal:i,customSignals:s}),await t._storageCache.setLastFetchStatus("success")}catch(o){const c=f4(o,"fetch-throttle")?"throttle":"failure";throw await t._storageCache.setLastFetchStatus(c),o}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(t,i,s,o){this.client=t,this.storage=i,this.storageCache=s,this.logger=o}isCachedDataFresh(t,i){if(!i)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const s=Date.now()-i,o=s<=t;return this.logger.debug(`Config fetch cache check. Cache age millis: ${s}. Cache max age millis (minimumFetchIntervalMillis setting): ${t}. Is cache hit: ${o}.`),o}async fetch(t){const[i,s]=await Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(s&&this.isCachedDataFresh(t.cacheMaxAgeMillis,i))return s;t.eTag=s&&s.eTag;const o=await this.client.fetch(t),c=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return o.status===200&&c.push(this.storage.setLastSuccessfulFetchResponse(o)),await Promise.all(c),o}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(a=navigator){return a.languages&&a.languages[0]||a.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(t,i,s,o,c,f){this.firebaseInstallations=t,this.sdkVersion=i,this.namespace=s,this.projectId=o,this.apiKey=c,this.appId=f}async fetch(t){const[i,s]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),c=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,f={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},m={sdk_version:this.sdkVersion,app_instance_id:i,app_instance_id_token:s,app_id:this.appId,language_code:_4(),custom_signals:t.customSignals},p={method:"POST",headers:f,body:JSON.stringify(m)},y=fetch(c,p),T=new Promise((st,et)=>{t.signal.addEventListener(()=>{const ct=new Error("The operation was aborted.");ct.name="AbortError",et(ct)})});let S;try{await Promise.race([y,T]),S=await y}catch(st){let et="fetch-client-network";throw(st==null?void 0:st.name)==="AbortError"&&(et="fetch-timeout"),Ce.create(et,{originalErrorMessage:st==null?void 0:st.message})}let R=S.status;const B=S.headers.get("ETag")||void 0;let J,W,Z;if(S.status===200){let st;try{st=await S.json()}catch(et){throw Ce.create("fetch-client-parse",{originalErrorMessage:et==null?void 0:et.message})}J=st.entries,W=st.state,Z=st.templateVersion}if(W==="INSTANCE_STATE_UNSPECIFIED"?R=500:W==="NO_CHANGE"?R=304:(W==="NO_TEMPLATE"||W==="EMPTY_CONFIG")&&(J={}),R!==304&&R!==200)throw Ce.create("fetch-status",{httpStatus:R});return{status:R,eTag:B,config:J,templateVersion:Z}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(a,t){return new Promise((i,s)=>{const o=Math.max(t-Date.now(),0),c=setTimeout(i,o);a.addEventListener(()=>{clearTimeout(c),s(Ce.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function T4(a){if(!(a instanceof Li)||!a.customData)return!1;const t=Number(a.customData.httpStatus);return t===429||t===500||t===503||t===504}class b4{constructor(t,i){this.client=t,this.storage=i}async fetch(t){const i=await this.storage.getThrottleMetadata()||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(t,i)}async attemptFetch(t,{throttleEndTimeMillis:i,backoffCount:s}){await E4(t.signal,i);try{const o=await this.client.fetch(t);return await this.storage.deleteThrottleMetadata(),o}catch(o){if(!T4(o))throw o;const c={throttleEndTimeMillis:Date.now()+Xu(s),backoffCount:s+1};return await this.storage.setThrottleMetadata(c),this.attemptFetch(t,c)}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=60*1e3,A4=720*60*1e3;class w4{get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}constructor(t,i,s,o,c,f){this.app=t,this._client=i,this._storageCache=s,this._storage=o,this._logger=c,this._realtimeHandler=f,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:S4,minimumFetchIntervalMillis:A4},this.defaultConfig={}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(a,t){const i=a.target.error||void 0;return Ce.create(t,{originalErrorMessage:i&&(i==null?void 0:i.message)})}const Ga="app_namespace_store",x4="firebase_remote_config",R4=1;function C4(){return new Promise((a,t)=>{try{const i=indexedDB.open(x4,R4);i.onerror=s=>{t(Qu(s,"storage-open"))},i.onsuccess=s=>{a(s.target.result)},i.onupgradeneeded=s=>{const o=s.target.result;switch(s.oldVersion){case 0:o.createObjectStore(Ga,{keyPath:"compositeKey"})}}}catch(i){t(Ce.create("storage-open",{originalErrorMessage:i==null?void 0:i.message}))}})}class ZT{getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(t){return this.set("last_fetch_status",t)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(t){return this.set("last_successful_fetch_timestamp_millis",t)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(t){return this.set("last_successful_fetch_response",t)}getActiveConfig(){return this.get("active_config")}setActiveConfig(t){return this.set("active_config",t)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(t){return this.set("active_config_etag",t)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(t){return this.set("throttle_metadata",t)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}getCustomSignals(){return this.get("custom_signals")}getRealtimeBackoffMetadata(){return this.get("realtime_backoff_metadata")}setRealtimeBackoffMetadata(t){return this.set("realtime_backoff_metadata",t)}getActiveConfigTemplateVersion(){return this.get("last_known_template_version")}setActiveConfigTemplateVersion(t){return this.set("last_known_template_version",t)}}class N4 extends ZT{constructor(t,i,s,o=C4()){super(),this.appId=t,this.appName=i,this.namespace=s,this.openDbPromise=o}async setCustomSignals(t){const s=(await this.openDbPromise).transaction([Ga],"readwrite"),o=await this.getWithTransaction("custom_signals",s),c=JT(t,o||{});return await this.setWithTransaction("custom_signals",c,s),c}async getWithTransaction(t,i){return new Promise((s,o)=>{const c=i.objectStore(Ga),f=this.createCompositeKey(t);try{const m=c.get(f);m.onerror=p=>{o(Qu(p,"storage-get"))},m.onsuccess=p=>{const y=p.target.result;s(y?y.value:void 0)}}catch(m){o(Ce.create("storage-get",{originalErrorMessage:m==null?void 0:m.message}))}})}async setWithTransaction(t,i,s){return new Promise((o,c)=>{const f=s.objectStore(Ga),m=this.createCompositeKey(t);try{const p=f.put({compositeKey:m,value:i});p.onerror=y=>{c(Qu(y,"storage-set"))},p.onsuccess=()=>{o()}}catch(p){c(Ce.create("storage-set",{originalErrorMessage:p==null?void 0:p.message}))}})}async get(t){const s=(await this.openDbPromise).transaction([Ga],"readonly");return this.getWithTransaction(t,s)}async set(t,i){const o=(await this.openDbPromise).transaction([Ga],"readwrite");return this.setWithTransaction(t,i,o)}async delete(t){const i=await this.openDbPromise;return new Promise((s,o)=>{const f=i.transaction([Ga],"readwrite").objectStore(Ga),m=this.createCompositeKey(t);try{const p=f.delete(m);p.onerror=y=>{o(Qu(y,"storage-delete"))},p.onsuccess=()=>{s()}}catch(p){o(Ce.create("storage-delete",{originalErrorMessage:p==null?void 0:p.message}))}})}createCompositeKey(t){return[this.appId,this.appName,this.namespace,t].join()}}class I4 extends ZT{constructor(){super(...arguments),this.storage={}}async get(t){return Promise.resolve(this.storage[t])}async set(t,i){return this.storage[t]=i,Promise.resolve(void 0)}async delete(t){return this.storage[t]=void 0,Promise.resolve()}async setCustomSignals(t){const i=this.storage.custom_signals||{};return this.storage.custom_signals=JT(t,i),Promise.resolve(this.storage.custom_signals)}}function JT(a,t){const i={...t,...a},s=Object.fromEntries(Object.entries(i).filter(([o,c])=>c!==null).map(([o,c])=>typeof c=="number"?[o,c.toString()]:[o,c]));if(Object.keys(s).length>t1)throw Ce.create("custom-signal-max-allowed-signals",{maxSignals:t1});return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(t){this.storage=t}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}getCustomSignals(){return this.customSignals}async loadFromStorage(){const t=this.storage.getLastFetchStatus(),i=this.storage.getLastSuccessfulFetchTimestampMillis(),s=this.storage.getActiveConfig(),o=this.storage.getCustomSignals(),c=await t;c&&(this.lastFetchStatus=c);const f=await i;f&&(this.lastSuccessfulFetchTimestampMillis=f);const m=await s;m&&(this.activeConfig=m);const p=await o;p&&(this.customSignals=p)}setLastFetchStatus(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)}setLastSuccessfulFetchTimestampMillis(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)}setActiveConfig(t){return this.activeConfig=t,this.storage.setActiveConfig(t)}async setCustomSignals(t){this.customSignals=await this.storage.setCustomSignals(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(t){this.allowedEvents_=t,this.listeners_={},fm(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const s=[...this.listeners_[t]];for(let o=0;o<s.length;o++)s[o].callback.apply(s[o].context,i)}}on(t,i,s){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:s});const o=this.getInitialEvent(t);o&&i.apply(s,o)}off(t,i,s){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let c=0;c<o.length;c++)if(o[c].callback===i&&(!s||s===o[c].context)){o.splice(c,1);return}}validateEventType_(t){fm(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg extends D4{static getInstance(){return new Bg}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const s=!document[t];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(t){return fm(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="X-Goog-Api-Key",O4="X-Goog-Firebase-Installations-Auth",tm=8,e1=3,n1=-1,i1=0,a1="featureDisabled",s1="retryIntervalSeconds",r1="latestTemplateVersionNumber";class k4{constructor(t,i,s,o,c,f,m,p,y,T){this.firebaseInstallations=t,this.storage=i,this.sdkVersion=s,this.namespace=o,this.projectId=c,this.apiKey=f,this.appId=m,this.logger=p,this.storageCache=y,this.cachingClient=T,this.observers=new Set,this.isConnectionActive=!1,this.isRealtimeDisabled=!1,this.httpRetriesRemaining=tm,this.isInBackground=!1,this.decoder=new TextDecoder("utf-8"),this.isClosingConnection=!1,this.propagateError=S=>this.observers.forEach(R=>{var B;return(B=R.error)==null?void 0:B.call(R,S)}),this.isStatusCodeRetryable=S=>!S||[408,429,502,503,504].includes(S),this.setRetriesRemaining(),Bg.getInstance().on("visible",this.onVisibilityChange,this)}async setRetriesRemaining(){const t=await this.storage.getRealtimeBackoffMetadata(),i=(t==null?void 0:t.numFailedStreams)||0;this.httpRetriesRemaining=Math.max(tm-i,1)}async updateBackoffMetadataWithLastFailedStreamConnectionTime(t){var o;const i=(((o=await this.storage.getRealtimeBackoffMetadata())==null?void 0:o.numFailedStreams)||0)+1,s=Xu(i,6e4,2);await this.storage.setRealtimeBackoffMetadata({backoffEndTimeMillis:new Date(t.getTime()+s),numFailedStreams:i})}async updateBackoffMetadataWithRetryInterval(t){const i=Date.now(),s=t*1e3,o=new Date(i+s);await this.storage.setRealtimeBackoffMetadata({backoffEndTimeMillis:o,numFailedStreams:0}),await this.retryHttpConnectionWhenBackoffEnds()}async closeRealtimeHttpConnection(){if(!this.isClosingConnection){this.isClosingConnection=!0;try{this.reader&&await this.reader.cancel()}catch{this.logger.debug("Failed to cancel the reader, connection was lost.")}finally{this.reader=void 0}this.controller&&(await this.controller.abort(),this.controller=void 0),this.isClosingConnection=!1}}async resetRealtimeBackoff(){await this.storage.setRealtimeBackoffMetadata({backoffEndTimeMillis:new Date(-1),numFailedStreams:0})}resetRetryCount(){this.httpRetriesRemaining=tm}async establishRealtimeConnection(t,i,s,o){const c=await this.storage.getActiveConfigEtag(),f=await this.storage.getActiveConfigTemplateVersion(),m={[V4]:this.apiKey,[O4]:s,"Content-Type":"application/json",Accept:"application/json","If-None-Match":c||"*","Content-Encoding":"gzip"},p={project:this.projectId,namespace:this.namespace,lastKnownVersionNumber:f,appId:this.appId,sdkVersion:this.sdkVersion,appInstanceId:i};return await fetch(t,{method:"POST",headers:m,body:JSON.stringify(p),signal:o})}getRealtimeUrl(){const i=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfigrealtime.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:streamFetchInvalidations?key=${this.apiKey}`;return new URL(i)}async createRealtimeConnection(){const[t,i]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken(!1)]);this.controller=new AbortController;const s=this.getRealtimeUrl();return await this.establishRealtimeConnection(s,t,i,this.controller.signal)}async retryHttpConnectionWhenBackoffEnds(){let t=await this.storage.getRealtimeBackoffMetadata();t||(t={backoffEndTimeMillis:new Date(n1),numFailedStreams:i1});const i=new Date(t.backoffEndTimeMillis).getTime(),s=Date.now(),o=Math.max(0,i-s);await this.makeRealtimeHttpConnection(o)}setIsHttpConnectionRunning(t){this.isConnectionActive=t}checkAndSetHttpConnectionFlagIfNotRunning(){const t=this.canEstablishStreamConnection();return t&&this.setIsHttpConnectionRunning(!0),t}fetchResponseIsUpToDate(t,i){return t.config!=null&&t.templateVersion?t.templateVersion>=i:this.storageCache.getLastFetchStatus()==="success"}parseAndValidateConfigUpdateMessage(t){const i=t.indexOf("{"),s=t.indexOf("}",i);return i<0||s<0||i>=s?"":t.substring(i,s+1)}isEventListenersEmpty(){return this.observers.size===0}getRandomInt(t){return Math.floor(Math.random()*t)}executeAllListenerCallbacks(t){this.observers.forEach(i=>i.next(t))}getChangedParams(t,i){const s=new Set,o=new Set(Object.keys(t||{})),c=new Set(Object.keys(i||{}));for(const f of o)(!c.has(f)||t[f]!==i[f])&&s.add(f);for(const f of c)o.has(f)||s.add(f);return s}async fetchLatestConfig(t,i){const s=t-1,o=e1-s,c=this.storageCache.getCustomSignals();c&&this.logger.debug(`Fetching config with custom signals: ${JSON.stringify(c)}`);const f=new $T;try{const m={cacheMaxAgeMillis:0,signal:f,customSignals:c,fetchType:"REALTIME",fetchAttempt:o},p=await this.cachingClient.fetch(m);let y=await this.storage.getActiveConfig();if(!this.fetchResponseIsUpToDate(p,i)){this.logger.debug("Fetched template version is the same as SDK's current version. Retrying fetch."),await this.autoFetch(s,i);return}if(p.config==null){this.logger.debug("The fetch succeeded, but the backend had no updates.");return}y==null&&(y={});const T=this.getChangedParams(p.config,y);if(T.size===0){this.logger.debug("Config was fetched, but no params changed.");return}const S={getUpdatedKeys(){return new Set(T)}};this.executeAllListenerCallbacks(S)}catch(m){const p=m instanceof Error?m.message:String(m),y=Ce.create("update-not-fetched",{originalErrorMessage:`Failed to auto-fetch config update: ${p}`});this.propagateError(y)}}async autoFetch(t,i){if(t===0){const c=Ce.create("update-not-fetched",{originalErrorMessage:"Unable to fetch the latest version of the template."});this.propagateError(c);return}const o=this.getRandomInt(4)*1e3;await new Promise(c=>setTimeout(c,o)),await this.fetchLatestConfig(t,i)}async handleNotifications(t){let i,s="";for(;;){const{done:o,value:c}=await t.read();if(o)break;if(i=this.decoder.decode(c,{stream:!0}),s+=i,i.includes("}")){if(s=this.parseAndValidateConfigUpdateMessage(s),s.length===0)continue;try{const f=JSON.parse(s);if(this.isEventListenersEmpty())break;if(a1 in f&&f[a1]===!0){const m=Ce.create("realtime-unavailable",{originalErrorMessage:"The server is temporarily unavailable. Try again in a few minutes."});this.propagateError(m);break}if(r1 in f){const m=await this.storage.getActiveConfigTemplateVersion(),p=Number(f[r1]);m&&p>m&&await this.autoFetch(e1,p)}if(s1 in f){const m=Number(f[s1]);await this.updateBackoffMetadataWithRetryInterval(m)}}catch(f){this.logger.debug("Unable to parse latest config update message.",f);const m=f instanceof Error?f.message:String(f);this.propagateError(Ce.create("update-message-invalid",{originalErrorMessage:m}))}s=""}}}async listenForNotifications(t){try{await this.handleNotifications(t)}catch{this.isInBackground||this.logger.debug("Real-time connection was closed due to an exception.")}}async prepareAndBeginRealtimeHttpStream(){if(!this.checkAndSetHttpConnectionFlagIfNotRunning())return;let t=await this.storage.getRealtimeBackoffMetadata();t||(t={backoffEndTimeMillis:new Date(n1),numFailedStreams:i1});const i=t.backoffEndTimeMillis.getTime();if(Date.now()<i){await this.retryHttpConnectionWhenBackoffEnds();return}let s,o;try{if(s=await this.createRealtimeConnection(),o=s.status,s.ok&&s.body){this.resetRetryCount(),await this.resetRealtimeBackoff();const c=s.body.getReader();this.reader=c,await this.listenForNotifications(c)}}catch(c){this.isInBackground?this.resetRetryCount():this.logger.debug("Exception connecting to real-time RC backend. Retrying the connection...:",c)}finally{await this.closeRealtimeHttpConnection(),this.setIsHttpConnectionRunning(!1);const c=!this.isInBackground&&(o===void 0||this.isStatusCodeRetryable(o));if(c&&await this.updateBackoffMetadataWithLastFailedStreamConnectionTime(new Date),c||s!=null&&s.ok)await this.retryHttpConnectionWhenBackoffEnds();else{const f=`Unable to connect to the server. HTTP status code: ${o}`,m=Ce.create("stream-error",{originalErrorMessage:f});this.propagateError(m)}}}canEstablishStreamConnection(){const t=this.observers.size>0,i=!this.isRealtimeDisabled,s=!this.isConnectionActive,o=!this.isInBackground;return t&&i&&s&&o}async makeRealtimeHttpConnection(t){if(this.canEstablishStreamConnection()){if(this.httpRetriesRemaining>0)this.httpRetriesRemaining--,await new Promise(i=>setTimeout(i,t)),this.prepareAndBeginRealtimeHttpStream();else if(!this.isInBackground){const i=Ce.create("stream-error",{originalErrorMessage:"Unable to connect to the server. Check your connection and try again."});this.propagateError(i)}}}async beginRealtime(){this.observers.size>0&&await this.makeRealtimeHttpConnection(0)}addObserver(t){this.observers.add(t),this.beginRealtime()}removeObserver(t){this.observers.has(t)&&this.observers.delete(t)}async onVisibilityChange(t){this.isInBackground=!t,t?t&&await this.beginRealtime():await this.closeRealtimeHttpConnection()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(){ji(new ri(XT,a,"PUBLIC").setMultipleInstances(!0)),pn(Wd,Wv),pn(Wd,Wv,"esm2020");function a(t,{options:i}){const s=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate(),{projectId:c,apiKey:f,appId:m}=s.options;if(!c)throw Ce.create("registration-project-id");if(!f)throw Ce.create("registration-api-key");if(!m)throw Ce.create("registration-app-id");const p=(i==null?void 0:i.templateId)||"firebase",y=Yl()?new N4(m,s.name,p):new I4,T=new M4(y),S=new $l(Wd);S.logLevel=Dt.ERROR;const R=new v4(o,_m,p,c,f,m),B=new b4(R,y),J=new y4(B,y,T,S),W=new k4(o,y,_m,p,c,f,m,S,T,J),Z=new w4(s,J,T,y,S,W);return g4(Z),Z}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z4(a){return a=tn(a),await p4(a),m4(a)}j4();var jm,o1,Vh=function(){var a=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(a&&a.responseStart>0&&a.responseStart<performance.now())return a},WT=function(a){if(document.readyState==="loading")return"loading";var t=Vh();if(t){if(a<t.domInteractive)return"loading";if(t.domContentLoadedEventStart===0||a<t.domContentLoadedEventStart)return"dom-interactive";if(t.domComplete===0||a<t.domComplete)return"dom-content-loaded"}return"complete"},L4=function(a){var t=a.nodeName;return a.nodeType===1?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},qg=function(a,t){var i="";try{for(;a&&a.nodeType!==9;){var s=a,o=s.id?"#"+s.id:L4(s)+(s.classList&&s.classList.value&&s.classList.value.trim()&&s.classList.value.trim().length?"."+s.classList.value.trim().replace(/\s+/g,"."):"");if(i.length+o.length>(t||100)-1)return i||o;if(i=i?o+">"+i:o,s.id)break;a=s.parentNode}}catch{}return i},tb=-1,U4=function(){return tb},nc=function(a){addEventListener("pageshow",(function(t){t.persisted&&(tb=t.timeStamp,a(t))}),!0)},Fg=function(){var a=Vh();return a&&a.activationStart||0},as=function(a,t){var i=Vh(),s="navigate";return U4()>=0?s="back-forward-cache":i&&(document.prerendering||Fg()>0?s="prerender":document.wasDiscarded?s="restore":i.type&&(s=i.type.replace(/_/g,"-"))),{name:a,value:t===void 0?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:s}},go=function(a,t,i){try{if(PerformanceObserver.supportedEntryTypes.includes(a)){var s=new PerformanceObserver((function(o){Promise.resolve().then((function(){t(o.getEntries())}))}));return s.observe(Object.assign({type:a,buffered:!0},i||{})),s}}catch{}},ss=function(a,t,i,s){var o,c;return function(f){t.value>=0&&(f||s)&&((c=t.value-(o||0))||o===void 0)&&(o=t.value,t.delta=c,t.rating=(function(m,p){return m>p[1]?"poor":m>p[0]?"needs-improvement":"good"})(t.value,i),a(t))}},Hg=function(a){requestAnimationFrame((function(){return requestAnimationFrame((function(){return a()}))}))},Oh=function(a){document.addEventListener("visibilitychange",(function(){document.visibilityState==="hidden"&&a()}))},Gg=function(a){var t=!1;return function(){t||(a(),t=!0)}},Kr=-1,l1=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},hh=function(a){document.visibilityState==="hidden"&&Kr>-1&&(Kr=a.type==="visibilitychange"?a.timeStamp:0,P4())},c1=function(){addEventListener("visibilitychange",hh,!0),addEventListener("prerenderingchange",hh,!0)},P4=function(){removeEventListener("visibilitychange",hh,!0),removeEventListener("prerenderingchange",hh,!0)},eb=function(){return Kr<0&&(Kr=l1(),c1(),nc((function(){setTimeout((function(){Kr=l1(),c1()}),0)}))),{get firstHiddenTime(){return Kr}}},Qg=function(a){document.prerendering?addEventListener("prerenderingchange",(function(){return a()}),!0):a()},u1=[1800,3e3],B4=function(a,t){t=t||{},Qg((function(){var i,s=eb(),o=as("FCP"),c=go("paint",(function(f){f.forEach((function(m){m.name==="first-contentful-paint"&&(c.disconnect(),m.startTime<s.firstHiddenTime&&(o.value=Math.max(m.startTime-Fg(),0),o.entries.push(m),i(!0)))}))}));c&&(i=ss(a,o,u1,t.reportAllChanges),nc((function(f){o=as("FCP"),i=ss(a,o,u1,t.reportAllChanges),Hg((function(){o.value=performance.now()-f.timeStamp,i(!0)}))})))}))},h1=[.1,.25],q4=function(a,t){(function(i,s){s=s||{},B4(Gg((function(){var o,c=as("CLS",0),f=0,m=[],p=function(T){T.forEach((function(S){if(!S.hadRecentInput){var R=m[0],B=m[m.length-1];f&&S.startTime-B.startTime<1e3&&S.startTime-R.startTime<5e3?(f+=S.value,m.push(S)):(f=S.value,m=[S])}})),f>c.value&&(c.value=f,c.entries=m,o())},y=go("layout-shift",p);y&&(o=ss(i,c,h1,s.reportAllChanges),Oh((function(){p(y.takeRecords()),o(!0)})),nc((function(){f=0,c=as("CLS",0),o=ss(i,c,h1,s.reportAllChanges),Hg((function(){return o()}))})),setTimeout(o,0))})))})((function(i){var s=(function(o){var c,f={};if(o.entries.length){var m=o.entries.reduce((function(y,T){return y&&y.value>T.value?y:T}));if(m&&m.sources&&m.sources.length){var p=(c=m.sources).find((function(y){return y.node&&y.node.nodeType===1}))||c[0];p&&(f={largestShiftTarget:qg(p.node),largestShiftTime:m.startTime,largestShiftValue:m.value,largestShiftSource:p,largestShiftEntry:m,loadState:WT(m.startTime)})}}return Object.assign(o,{attribution:f})})(i);a(s)}),t)},nb=0,em=1/0,zu=0,F4=function(a){a.forEach((function(t){t.interactionId&&(em=Math.min(em,t.interactionId),zu=Math.max(zu,t.interactionId),nb=zu?(zu-em)/7+1:0)}))},ib=function(){return jm?nb:performance.interactionCount||0},H4=function(){"interactionCount"in performance||jm||(jm=go("event",F4,{type:"event",buffered:!0,durationThreshold:0}))},ii=[],Ol=new Map,ab=0,G4=function(){var a=Math.min(ii.length-1,Math.floor((ib()-ab)/50));return ii[a]},sb=[],Q4=function(a){if(sb.forEach((function(o){return o(a)})),a.interactionId||a.entryType==="first-input"){var t=ii[ii.length-1],i=Ol.get(a.interactionId);if(i||ii.length<10||a.duration>t.latency){if(i)a.duration>i.latency?(i.entries=[a],i.latency=a.duration):a.duration===i.latency&&a.startTime===i.entries[0].startTime&&i.entries.push(a);else{var s={id:a.interactionId,latency:a.duration,entries:[a]};Ol.set(s.id,s),ii.push(s)}ii.sort((function(o,c){return c.latency-o.latency})),ii.length>10&&ii.splice(10).forEach((function(o){return Ol.delete(o.id)}))}}},Kg=function(a){var t=self.requestIdleCallback||self.setTimeout,i=-1;return a=Gg(a),document.visibilityState==="hidden"?a():(i=t(a),Oh(a)),i},f1=[200,500],K4=function(a,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},Qg((function(){var i;H4();var s,o=as("INP"),c=function(m){Kg((function(){m.forEach(Q4);var p=G4();p&&p.latency!==o.value&&(o.value=p.latency,o.entries=p.entries,s())}))},f=go("event",c,{durationThreshold:(i=t.durationThreshold)!==null&&i!==void 0?i:40});s=ss(a,o,f1,t.reportAllChanges),f&&(f.observe({type:"first-input",buffered:!0}),Oh((function(){c(f.takeRecords()),s(!0)})),nc((function(){ab=ib(),ii.length=0,Ol.clear(),o=as("INP"),s=ss(a,o,f1,t.reportAllChanges)})))})))},Xr=[],Qa=[],zm=0,Yg=new WeakMap,Zr=new Map,Lm=-1,Y4=function(a){Xr=Xr.concat(a),rb()},rb=function(){Lm<0&&(Lm=Kg($4))},$4=function(){Zr.size>10&&Zr.forEach((function(f,m){Ol.has(m)||Zr.delete(m)}));var a=ii.map((function(f){return Yg.get(f.entries[0])})),t=Qa.length-50;Qa=Qa.filter((function(f,m){return m>=t||a.includes(f)}));for(var i=new Set,s=0;s<Qa.length;s++){var o=Qa[s];ob(o.startTime,o.processingEnd).forEach((function(f){i.add(f)}))}var c=Xr.length-1-50;Xr=Xr.filter((function(f,m){return f.startTime>zm&&m>c||i.has(f)})),Lm=-1};sb.push((function(a){a.interactionId&&a.target&&!Zr.has(a.interactionId)&&Zr.set(a.interactionId,a.target)}),(function(a){var t,i=a.startTime+a.duration;zm=Math.max(zm,a.processingEnd);for(var s=Qa.length-1;s>=0;s--){var o=Qa[s];if(Math.abs(i-o.renderTime)<=8){(t=o).startTime=Math.min(a.startTime,t.startTime),t.processingStart=Math.min(a.processingStart,t.processingStart),t.processingEnd=Math.max(a.processingEnd,t.processingEnd),t.entries.push(a);break}}t||(t={startTime:a.startTime,processingStart:a.processingStart,processingEnd:a.processingEnd,renderTime:i,entries:[a]},Qa.push(t)),(a.interactionId||a.entryType==="first-input")&&Yg.set(a,t),rb()}));var ob=function(a,t){for(var i,s=[],o=0;i=Xr[o];o++)if(!(i.startTime+i.duration<a)){if(i.startTime>t)break;s.push(i)}return s},X4=function(a,t){o1||(o1=go("long-animation-frame",Y4)),K4((function(i){var s=(function(o){var c=o.entries[0],f=Yg.get(c),m=c.processingStart,p=f.processingEnd,y=f.entries.sort((function(Z,st){return Z.processingStart-st.processingStart})),T=ob(c.startTime,p),S=o.entries.find((function(Z){return Z.target})),R=S&&S.target||Zr.get(c.interactionId),B=[c.startTime+c.duration,p].concat(T.map((function(Z){return Z.startTime+Z.duration}))),J=Math.max.apply(Math,B),W={interactionTarget:qg(R),interactionTargetElement:R,interactionType:c.name.startsWith("key")?"keyboard":"pointer",interactionTime:c.startTime,nextPaintTime:J,processedEventEntries:y,longAnimationFrameEntries:T,inputDelay:m-c.startTime,processingDuration:p-m,presentationDelay:Math.max(J-p,0),loadState:WT(c.startTime)};return Object.assign(o,{attribution:W})})(i);a(s)}),t)},d1=[2500,4e3],nm={},Z4=function(a,t){(function(i,s){s=s||{},Qg((function(){var o,c=eb(),f=as("LCP"),m=function(T){s.reportAllChanges||(T=T.slice(-1)),T.forEach((function(S){S.startTime<c.firstHiddenTime&&(f.value=Math.max(S.startTime-Fg(),0),f.entries=[S],o())}))},p=go("largest-contentful-paint",m);if(p){o=ss(i,f,d1,s.reportAllChanges);var y=Gg((function(){nm[f.id]||(m(p.takeRecords()),p.disconnect(),nm[f.id]=!0,o(!0))}));["keydown","click"].forEach((function(T){addEventListener(T,(function(){return Kg(y)}),{once:!0,capture:!0})})),Oh(y),nc((function(T){f=as("LCP"),o=ss(i,f,d1,s.reportAllChanges),Hg((function(){f.value=performance.now()-T.timeStamp,nm[f.id]=!0,o(!0)}))}))}}))})((function(i){var s=(function(o){var c={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:o.value};if(o.entries.length){var f=Vh();if(f){var m=f.activationStart||0,p=o.entries[o.entries.length-1],y=p.url&&performance.getEntriesByType("resource").filter((function(J){return J.name===p.url}))[0],T=Math.max(0,f.responseStart-m),S=Math.max(T,y?(y.requestStart||y.startTime)-m:0),R=Math.max(S,y?y.responseEnd-m:0),B=Math.max(R,p.startTime-m);c={element:qg(p.element),timeToFirstByte:T,resourceLoadDelay:S-T,resourceLoadDuration:R-S,elementRenderDelay:B-R,navigationEntry:f,lcpEntry:p},p.url&&(c.url=p.url),y&&(c.lcpResourceEntry=y)}}return Object.assign(o,{attribution:c})})(i);a(s)}),t)};const m1="@firebase/performance",Um="0.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=Um,J4="FB-PERF-TRACE-START",W4="FB-PERF-TRACE-STOP",Pm="FB-PERF-TRACE-MEASURE",cb="_wt_",ub="_fp",hb="_fcp",fb="_fid",db="_lcp",tM="lcp_element",mb="_inp",eM="inp_interactionTarget",gb="_cls",nM="cls_largestShiftTarget",pb="@firebase/performance/config",yb="@firebase/performance/configexpire",iM="performance",_b="Performance";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM={"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."},Je=new lo(iM,_b,aM);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new $l(_b);la.logLevel=Dt.INFO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let im,vb;class ke{constructor(t){if(this.window=t,!t)throw Je.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay),this.onLCP=Z4,this.onINP=X4,this.onCLS=q4}getUrl(){return this.windowLocation.href.split("?")[0]}mark(t){!this.performance||!this.performance.mark||this.performance.mark(t)}measure(t,i,s){!this.performance||!this.performance.measure||this.performance.measure(t,i,s)}getEntriesByType(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)}getEntriesByName(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return!fetch||!Promise||!Km()?(la.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):Yl()?!0:(la.info("IndexedDB is not supported by current browser"),!1)}setupObserver(t,i){if(!this.PerformanceObserver)return;new this.PerformanceObserver(o=>{for(const c of o.getEntries())i(c)}).observe({entryTypes:[t]})}static getInstance(){return im===void 0&&(im=new ke(vb)),im}}function sM(a){vb=a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eb;function rM(a){const t=a.getId();return t.then(i=>{Eb=i}),t}function $g(){return Eb}function oM(a){const t=a.getToken();return t.then(i=>{}),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(a,t){const i=a.length-t.length;if(i<0||i>1)throw Je.create("invalid String merger input");const s=[];for(let o=0;o<a.length;o++)s.push(a.charAt(o)),t.length>o&&s.push(t.charAt(o));return s.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let am;class sn{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=g1("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=g1("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12,this.logMaxFlushSize=40}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return am===void 0&&(am=new sn),am}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kl;(function(a){a[a.UNKNOWN=0]="UNKNOWN",a[a.VISIBLE=1]="VISIBLE",a[a.HIDDEN=2]="HIDDEN"})(kl||(kl={}));const lM=["firebase_","google_","ga_"],cM=new RegExp("^[a-zA-Z]\\w*$"),uM=40,Bm=100;function hM(){const a=ke.getInstance().navigator;return a!=null&&a.serviceWorker?a.serviceWorker.controller?2:3:1}function fM(){switch(ke.getInstance().document.visibilityState){case"visible":return kl.VISIBLE;case"hidden":return kl.HIDDEN;default:return kl.UNKNOWN}}function dM(){const t=ke.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function mM(a){return a.length===0||a.length>uM?!1:!lM.some(i=>a.startsWith(i))&&!!a.match(cM)}function gM(a){return a.length!==0&&a.length<=Bm}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(a){var i;const t=(i=a.options)==null?void 0:i.appId;if(!t)throw Je.create("no app id");return t}function pM(a){var i;const t=(i=a.options)==null?void 0:i.projectId;if(!t)throw Je.create("no project id");return t}function yM(a){var i;const t=(i=a.options)==null?void 0:i.apiKey;if(!t)throw Je.create("no api key");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M="0.0.1",xn={loggingEnabled:!0},vM="FIREBASE_INSTALLATIONS_AUTH";function EM(a,t){const i=TM();return i?(p1(i),Promise.resolve()):AM(a,t).then(p1).then(s=>bM(s),()=>{})}function TM(){const a=ke.getInstance().localStorage;if(!a)return;const t=a.getItem(yb);if(!t||!wM(t))return;const i=a.getItem(pb);if(i)try{return JSON.parse(i)}catch{return}}function bM(a){const t=ke.getInstance().localStorage;!a||!t||(t.setItem(pb,JSON.stringify(a)),t.setItem(yb,String(Date.now()+sn.getInstance().configTimeToLive*60*60*1e3)))}const SM="Could not fetch config, will use default configs";function AM(a,t){return oM(a.installations).then(i=>{const s=pM(a.app),o=yM(a.app),c=`https://firebaseremoteconfig.googleapis.com/v1/projects/${s}/namespaces/fireperf:fetch?key=${o}`,f=new Request(c,{method:"POST",headers:{Authorization:`${vM} ${i}`},body:JSON.stringify({app_instance_id:t,app_instance_id_token:i,app_id:Tb(a.app),app_version:lb,sdk_version:_M})});return fetch(f).then(m=>{if(m.ok)return m.json();throw Je.create("RC response not ok")})}).catch(()=>{la.info(SM)})}function p1(a){if(!a)return a;const t=sn.getInstance(),i=a.entries||{};return i.fpr_enabled!==void 0?t.loggingEnabled=String(i.fpr_enabled)==="true":t.loggingEnabled=xn.loggingEnabled,i.fpr_log_source?t.logSource=Number(i.fpr_log_source):xn.logSource&&(t.logSource=xn.logSource),i.fpr_log_endpoint_url?t.logEndPointUrl=i.fpr_log_endpoint_url:xn.logEndPointUrl&&(t.logEndPointUrl=xn.logEndPointUrl),i.fpr_log_transport_key?t.transportKey=i.fpr_log_transport_key:xn.transportKey&&(t.transportKey=xn.transportKey),i.fpr_vc_network_request_sampling_rate!==void 0?t.networkRequestsSamplingRate=Number(i.fpr_vc_network_request_sampling_rate):xn.networkRequestsSamplingRate!==void 0&&(t.networkRequestsSamplingRate=xn.networkRequestsSamplingRate),i.fpr_vc_trace_sampling_rate!==void 0?t.tracesSamplingRate=Number(i.fpr_vc_trace_sampling_rate):xn.tracesSamplingRate!==void 0&&(t.tracesSamplingRate=xn.tracesSamplingRate),i.fpr_log_max_flush_size?t.logMaxFlushSize=Number(i.fpr_log_max_flush_size):xn.logMaxFlushSize&&(t.logMaxFlushSize=xn.logMaxFlushSize),t.logTraceAfterSampling=y1(t.tracesSamplingRate),t.logNetworkAfterSampling=y1(t.networkRequestsSamplingRate),a}function wM(a){return Number(a)>Date.now()}function y1(a){return Math.random()<=a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xg=1,sm;function bb(a){return Xg=2,sm=sm||RM(a),sm}function xM(){return Xg===3}function RM(a){return CM().then(()=>rM(a.installations)).then(t=>EM(a,t)).then(()=>_1(),()=>_1())}function CM(){const a=ke.getInstance().document;return new Promise(t=>{if(a&&a.readyState!=="complete"){const i=()=>{a.readyState==="complete"&&(a.removeEventListener("readystatechange",i),t())};a.addEventListener("readystatechange",i)}else t()})}function _1(){Xg=3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=10*1e3,NM=5.5*1e3,IM=1e3,Ab=3,MM=65536,DM=new TextEncoder;let Ku=Ab,Bn=[],v1=!1;function VM(){v1||(Zg(NM),v1=!0)}function Zg(a){setTimeout(()=>{Ku<=0||(Bn.length>0&&OM(),Zg(Sb))},a)}function OM(){const a=Bn.splice(0,IM),t=qm(a);kM(t).then(()=>{Ku=Ab}).catch(()=>{Bn=[...a,...Bn],Ku--,la.info(`Tries left: ${Ku}.`),Zg(Sb)})}function qm(a){const t=a.map(s=>({source_extension_json_proto3:s.message,event_time_ms:String(s.eventTime)})),i={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:sn.getInstance().logSource,log_event:t};return JSON.stringify(i)}function kM(a){const t=sn.getInstance().getFlTransportFullUrl();return DM.encode(a).length<=MM&&navigator.sendBeacon&&navigator.sendBeacon(t,a)?Promise.resolve():fetch(t,{method:"POST",body:a})}function jM(a){if(!a.eventTime||!a.message)throw Je.create("invalid cc log");Bn=[...Bn,a]}function zM(a){return(...t)=>{const i=a(...t);jM({message:i,eventTime:Date.now()})}}function LM(){const a=sn.getInstance().getFlTransportFullUrl();for(;Bn.length>0;){const t=Bn.splice(-sn.getInstance().logMaxFlushSize),i=qm(t);if(!(navigator.sendBeacon&&navigator.sendBeacon(a,i))){Bn=[...Bn,...t];break}}if(Bn.length>0){const t=qm(Bn);fetch(a,{method:"POST",body:t}).catch(()=>{la.info("Failed flushing queued events.")})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jl;function wb(a,t){jl||(jl={send:zM(BM),flush:LM}),jl.send(a,t)}function Lu(a){const t=sn.getInstance();!t.instrumentationEnabled&&a.isAuto||!t.dataCollectionEnabled&&!a.isAuto||ke.getInstance().requiredApisAvailable()&&(xM()?rm(a):bb(a.performanceController).then(()=>rm(a),()=>rm(a)))}function UM(){jl&&jl.flush()}function rm(a){if(!$g())return;const t=sn.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||wb(a,1)}function PM(a){const t=sn.getInstance();if(!t.instrumentationEnabled)return;const i=a.url,s=t.logEndPointUrl.split("?")[0],o=t.flTransportEndpointUrl.split("?")[0];i===s||i===o||!t.loggingEnabled||!t.logNetworkAfterSampling||wb(a,0)}function BM(a,t){return t===0?qM(a):FM(a)}function qM(a){const t={url:a.url,http_method:a.httpMethod||0,http_response_code:200,response_payload_bytes:a.responsePayloadBytes,client_start_time_us:a.startTimeUs,time_to_response_initiated_us:a.timeToResponseInitiatedUs,time_to_response_completed_us:a.timeToResponseCompletedUs},i={application_info:xb(a.performanceController.app),network_request_metric:t};return JSON.stringify(i)}function FM(a){const t={name:a.name,is_auto:a.isAuto,client_start_time_us:a.startTimeUs,duration_us:a.durationUs};Object.keys(a.counters).length!==0&&(t.counters=a.counters);const i=a.getAttributes();Object.keys(i).length!==0&&(t.custom_attributes=i);const s={application_info:xb(a.performanceController.app),trace_metric:t};return JSON.stringify(s)}function xb(a){return{google_app_id:Tb(a),app_instance_id:$g(),web_app_info:{sdk_version:lb,page_url:ke.getInstance().getUrl(),service_worker_status:hM(),visibility_state:fM(),effective_connection_type:dM()},application_process_state:0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(a,t){const i=t;if(!i||i.responseStart===void 0)return;const s=ke.getInstance().getTimeOrigin(),o=Math.floor((i.startTime+s)*1e3),c=i.responseStart?Math.floor((i.responseStart-i.startTime)*1e3):void 0,f=Math.floor((i.responseEnd-i.startTime)*1e3),m=i.name&&i.name.split("?")[0],p={performanceController:a,url:m,responsePayloadBytes:i.transferSize,startTimeUs:o,timeToResponseInitiatedUs:c,timeToResponseCompletedUs:f};PM(p)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=100,GM="_",QM=[ub,hb,fb,db,gb,mb];function KM(a,t){return a.length===0||a.length>HM?!1:t&&t.startsWith(cb)&&QM.indexOf(a)>-1||!a.startsWith(GM)}function YM(a){const t=Math.floor(a);return t<a&&la.info(`Metric value should be an Integer, setting the value as : ${t}.`),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(t,i,s=!1,o){this.performanceController=t,this.name=i,this.isAuto=s,this.state=1,this.customAttributes={},this.counters={},this.api=ke.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=`${J4}-${this.randomId}-${this.name}`,this.traceStopMark=`${W4}-${this.randomId}-${this.name}`,this.traceMeasure=o||`${Pm}-${this.randomId}-${this.name}`,o&&this.calculateTraceMetrics())}start(){if(this.state!==1)throw Je.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(this.state!==2)throw Je.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Lu(this)}record(t,i,s){if(t<=0)throw Je.create("nonpositive trace startTime",{traceName:this.name});if(i<=0)throw Je.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(i*1e3),this.startTimeUs=Math.floor(t*1e3),s&&s.attributes&&(this.customAttributes={...s.attributes}),s&&s.metrics)for(const o of Object.keys(s.metrics))isNaN(Number(s.metrics[o]))||(this.counters[o]=Math.floor(Number(s.metrics[o])));Lu(this)}incrementMetric(t,i=1){this.counters[t]===void 0?this.putMetric(t,i):this.putMetric(t,this.counters[t]+i)}putMetric(t,i){if(KM(t,this.name))this.counters[t]=YM(i??0);else throw Je.create("invalid custom metric name",{customMetricName:t})}getMetric(t){return this.counters[t]||0}putAttribute(t,i){const s=mM(t),o=gM(i);if(s&&o){this.customAttributes[t]=i;return}if(!s)throw Je.create("invalid attribute name",{attributeName:t});if(!o)throw Je.create("invalid attribute value",{attributeValue:i})}getAttribute(t){return this.customAttributes[t]}removeAttribute(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]}getAttributes(){return{...this.customAttributes}}setStartTime(t){this.startTimeUs=t}setDuration(t){this.durationUs=t}calculateTraceMetrics(){const t=this.api.getEntriesByName(this.traceMeasure),i=t&&t[0];i&&(this.durationUs=Math.floor(i.duration*1e3),this.startTimeUs=Math.floor((i.startTime+this.api.getTimeOrigin())*1e3))}static createOobTrace(t,i,s,o,c){const f=ke.getInstance().getUrl();if(!f)return;const m=new Kl(t,cb+f,!0),p=Math.floor(ke.getInstance().getTimeOrigin()*1e3);m.setStartTime(p),i&&i[0]&&(m.setDuration(Math.floor(i[0].duration*1e3)),m.putMetric("domInteractive",Math.floor(i[0].domInteractive*1e3)),m.putMetric("domContentLoadedEventEnd",Math.floor(i[0].domContentLoadedEventEnd*1e3)),m.putMetric("loadEventEnd",Math.floor(i[0].loadEventEnd*1e3)));const y="first-paint",T="first-contentful-paint";if(s){const S=s.find(B=>B.name===y);S&&S.startTime&&m.putMetric(ub,Math.floor(S.startTime*1e3));const R=s.find(B=>B.name===T);R&&R.startTime&&m.putMetric(hb,Math.floor(R.startTime*1e3)),c&&m.putMetric(fb,Math.floor(c*1e3))}this.addWebVitalMetric(m,db,tM,o.lcp),this.addWebVitalMetric(m,gb,nM,o.cls),this.addWebVitalMetric(m,mb,eM,o.inp),Lu(m),UM()}static addWebVitalMetric(t,i,s,o){o&&(t.putMetric(i,Math.floor(o.value*1e3)),o.elementAttribution&&(o.elementAttribution.length>Bm?t.putAttribute(s,o.elementAttribution.substring(0,Bm)):t.putAttribute(s,o.elementAttribution)))}static createUserTimingTrace(t,i){const s=new Kl(t,i,!1,i);Lu(s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu={},T1=!1,Rb;function b1(a){$g()&&(setTimeout(()=>XM(a),0),setTimeout(()=>$M(a),0),setTimeout(()=>ZM(a),0))}function $M(a){const t=ke.getInstance(),i=t.getEntriesByType("resource");for(const s of i)E1(a,s);t.setupObserver("resource",s=>E1(a,s))}function XM(a){const t=ke.getInstance();"onpagehide"in window?t.document.addEventListener("pagehide",()=>om(a)):t.document.addEventListener("unload",()=>om(a)),t.document.addEventListener("visibilitychange",()=>{t.document.visibilityState==="hidden"&&om(a)}),t.onFirstInputDelay&&t.onFirstInputDelay(i=>{Rb=i}),t.onLCP(i=>{var s;Yu.lcp={value:i.value,elementAttribution:(s=i.attribution)==null?void 0:s.element}}),t.onCLS(i=>{var s;Yu.cls={value:i.value,elementAttribution:(s=i.attribution)==null?void 0:s.largestShiftTarget}}),t.onINP(i=>{var s;Yu.inp={value:i.value,elementAttribution:(s=i.attribution)==null?void 0:s.interactionTarget}})}function ZM(a){const t=ke.getInstance(),i=t.getEntriesByType("measure");for(const s of i)S1(a,s);t.setupObserver("measure",s=>S1(a,s))}function S1(a,t){const i=t.name;i.substring(0,Pm.length)!==Pm&&Kl.createUserTimingTrace(a,i)}function om(a){if(!T1){T1=!0;const t=ke.getInstance(),i=t.getEntriesByType("navigation"),s=t.getEntriesByType("paint");setTimeout(()=>{Kl.createOobTrace(a,i,s,Yu,Rb)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(t,i){this.app=t,this.installations=i,this.initialized=!1}_init(t){this.initialized||((t==null?void 0:t.dataCollectionEnabled)!==void 0&&(this.dataCollectionEnabled=t.dataCollectionEnabled),(t==null?void 0:t.instrumentationEnabled)!==void 0&&(this.instrumentationEnabled=t.instrumentationEnabled),ke.getInstance().requiredApisAvailable()?dh().then(i=>{i&&(VM(),bb(this).then(()=>b1(this),()=>b1(this)),this.initialized=!0)}).catch(i=>{la.info(`Environment doesn't support IndexedDB: ${i}`)}):la.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(t){sn.getInstance().instrumentationEnabled=t}get instrumentationEnabled(){return sn.getInstance().instrumentationEnabled}set dataCollectionEnabled(t){sn.getInstance().dataCollectionEnabled=t}get dataCollectionEnabled(){return sn.getInstance().dataCollectionEnabled}}const WM="[DEFAULT]";function t6(a=Xl()){return a=tn(a),Ks(a,"performance").getImmediate()}const e6=(a,{options:t})=>{const i=a.getProvider("app").getImmediate(),s=a.getProvider("installations-internal").getImmediate();if(i.name!==WM)throw Je.create("FB not default");if(typeof window>"u")throw Je.create("no window");sM(window);const o=new JM(i,s);return o._init(t),o};function n6(){ji(new ri("performance",e6,"PUBLIC")),pn(m1,Um),pn(m1,Um,"esm2020")}n6();const Qr={apiKey:"AIzaSyBu9odaD8zX6q0tS9GKIEfm_iVJnWceGOg",authDomain:"teovoz-app.firebaseapp.com",projectId:"teovoz-app",storageBucket:"teovoz-app.firebasestorage.app",messagingSenderId:"265111539880",appId:"1:265111539880:web:c01733932b5728b11db29d",measurementId:"G-MX523LY3B4"},i6=!Qr.apiKey||Qr.apiKey==="TU_API_KEY"||Qr.apiKey.startsWith("TU_")||Qr.apiKey==="REPLACE_WITH_YOUR_API_KEY"||Qr.apiKey==="";let bl=null,ca=null,Uu=null,a6=null,s6=null;if(!i6)try{if(bl=fx().length===0?K1(Qr):Xl(),ca=SN(bl),typeof window<"u"){try{s6=t6(bl)}catch{console.warn("Performance Monitoring no disponible")}Uu=d4(bl),Uu.settings.minimumFetchIntervalMillis=36e5,Uu.defaultConfig={primary_rss_url:"https://anchor.fm/s/10d2ecf30/podcast/rss",maintenance_mode:!1,show_ads:!1},z4(Uu).catch(a=>console.error("RemoteConfig Fetch Error:",a)),o4().then(a=>{a&&(a6=s4(bl),console.log("Firebase Analytics & Performance activados."))})}}catch(a){console.error("Error crtico al inicializar Firebase:",a)}const Cb="episode_ratings",r6=async a=>{if(!ca)return null;try{const t=gT(ca,Cb,btoa(a).substring(0,50)),i=await LN(t);return i.exists()?i.data():null}catch(t){return console.error("Error fetching episode rating:",t),null}},o6=async(a=5)=>{if(!ca)return[];try{const t=AT(mT(ca,Cb),Bv("average","desc"),Bv("count","desc"),ON(a));return(await UN(t)).docs.map(s=>s.data())}catch(t){return console.error("Error fetching top ratings:",t),[]}},Ha=(a,t)=>{if(!a)return"";const i=Array.isArray(t)?t:[t];for(const s of i){let o=a.getElementsByTagName(s);if(o&&o.length>0&&o[0].textContent)return o[0].textContent.trim();const c=s.includes(":")?s.split(":")[1]:s;if(o=a.getElementsByTagName(c),o&&o.length>0&&o[0].textContent)return o[0].textContent.trim()}return""},l6=a=>{if(!a)return"";if(!a.includes(":")){const t=parseInt(a,10);if(!isNaN(t)){const i=Math.floor(t/3600),s=Math.floor(t%3600/60),o=t%60;return i>0?`${i}:${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`:`${s}:${o.toString().padStart(2,"0")}`}}return a},c6=a=>{const t=a.replace(/^\uFEFF/,"").trim(),s=new DOMParser().parseFromString(t,"text/xml");if(s.querySelector("parsererror"))throw new Error("El servidor devolvi un formato incompatible.");const o=s.querySelector("channel")||s.getElementsByTagName("channel")[0];if(!o)throw new Error("No se encontr contenido vlido en este canal.");const c=Array.from(o.querySelectorAll("item")),f=o.getElementsByTagName("itunes:image"),m=(f.length>0?f[0].getAttribute("href"):"")||"",p=c.map(y=>{const T=y.querySelector("enclosure"),S=y.getElementsByTagName("media:content")[0],R=(T==null?void 0:T.getAttribute("url"))||(S==null?void 0:S.getAttribute("url"))||"",B=y.getElementsByTagName("itunes:image"),J=(B.length>0?B[0].getAttribute("href"):"")||m,W=Ha(y,["itunes:duration","duration"]),Z=Ha(y,["itunes:summary","content:encoded","description","itunes:subtitle"]);return{guid:Ha(y,["guid","link"])||Math.random().toString(36).substring(7),title:Ha(y,["title","itunes:title"]),description:Z.replace(/<[^>]*>?/gm,"").substring(0,1500),contentSnippet:Z,pubDate:Ha(y,"pubDate"),image:J,duration:l6(W),enclosure:{url:R,length:(T==null?void 0:T.getAttribute("length"))||"0",type:(T==null?void 0:T.getAttribute("type"))||"audio/mpeg"}}}).filter(y=>y.enclosure.url&&y.title);return{title:Ha(o,["title","itunes:title"]),description:Ha(o,["description","itunes:summary"]),image:m,author:Ha(o,["itunes:author","author"])||"TEOVOZ",episodes:p}},Jr=async a=>{const t=`${a}${a.includes("?")?"&":"?"}t=${Date.now()}`,i=[o=>`https://corsproxy.io/?${encodeURIComponent(o)}`,o=>`https://api.allorigins.win/raw?url=${encodeURIComponent(o)}`,o=>`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(o)}`];let s=null;for(const o of i)try{const c=await fetch(o(t));if(!c.ok)continue;const f=await c.text();if(!f||f.trim()==="Not Found"||!f.includes("<channel>"))continue;return c6(f)}catch(c){s=c;continue}throw s||new Error("No se pudo obtener el podcast. Por favor, reintenta en unos segundos.")},Nb="presence",u6=3e4,h6=6e4,f6=(a,t=null)=>{if(!ca)return()=>{};const i=gT(ca,Nb,a),s=async()=>{try{await PN(i,{lastSeen:qN(),episodeId:t,active:!0},{merge:!0})}catch(c){console.error("Error updating presence:",c)}};s();const o=setInterval(s,u6);return window.addEventListener("beforeunload",()=>{Hv(i).catch(()=>{})}),()=>{clearInterval(o),Hv(i).catch(()=>{})}},Ib=(a,t)=>{if(!ca)return()=>{};const i=new Date(Date.now()-h6),s=AT(mT(ca,Nb),Pv("episodeId","==",a),Pv("lastSeen",">=",ne.fromDate(i)));return BN(s,o=>{t(o.size)})},gn=({className:a=""})=>E.jsx("div",{className:`animate-pulse bg-surface-hover rounded-2xl ${a}`}),Jg=()=>E.jsxs("div",{className:"bg-surface border border-app rounded-2xl p-4 flex gap-4 items-center",children:[E.jsx(gn,{className:"w-20 h-20 flex-shrink-0"}),E.jsxs("div",{className:"flex-1 space-y-3",children:[E.jsxs("div",{className:"flex gap-2",children:[E.jsx(gn,{className:"h-2 w-12"}),E.jsx(gn,{className:"h-2 w-16"})]}),E.jsx(gn,{className:"h-4 w-full"}),E.jsx(gn,{className:"h-3 w-2/3"})]})]}),d6=()=>E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx(gn,{className:"w-12 h-12 rounded-2xl"}),E.jsxs("div",{className:"flex-1 space-y-2",children:[E.jsx(gn,{className:"h-4 w-1/3"}),E.jsx(gn,{className:"h-3 w-1/2"})]})]}),E.jsx("div",{className:"space-y-4",children:[1,2,3].map(a=>E.jsx(Jg,{},a))})]}),m6=({data:a,onClick:t})=>E.jsxs("button",{onClick:t,className:"flex-shrink-0 w-48 group text-left focus:outline-none",children:[E.jsxs("div",{className:"relative aspect-[4/5] rounded-[40px] overflow-hidden mb-4 border-app border bg-surface shadow-lg group-hover:shadow-indigo-500/20 transition-all duration-500",children:[E.jsx("img",{src:a.image,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",alt:a.title}),E.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-60 group-hover:opacity-80 transition-opacity"}),E.jsxs("div",{className:"absolute top-4 left-4 bg-white/10 backdrop-blur-md border border-white/20 px-3 py-1.5 rounded-2xl flex items-center gap-1.5 shadow-xl",children:[E.jsx(Hm,{size:12,className:"text-amber-400 fill-amber-400"}),E.jsx("span",{className:"text-[11px] font-black text-white",children:a.average.toFixed(1)})]}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-500 scale-75 group-hover:scale-100",children:E.jsx("div",{className:"w-14 h-14 bg-white rounded-full flex items-center justify-center text-indigo-600 shadow-2xl",children:E.jsx(Wr,{size:24,fill:"currentColor",className:"ml-1"})})}),E.jsx("div",{className:"absolute bottom-4 left-4",children:E.jsxs("span",{className:"text-[8px] font-black text-white/50 uppercase tracking-[0.2em]",children:[a.count," valoraciones"]})})]}),E.jsx("div",{className:"px-2",children:E.jsx("h3",{className:"text-sm font-black text-primary line-clamp-2 leading-tight tracking-tight group-hover:text-indigo-500 transition-colors",children:a.title})})]});let A1=[],w1=[],x1=null,R1={},lm=!1;const C1=({onCategorySelect:a,onEpisodeSelect:t,listenedCount:i,lastPlayed:s})=>{const[o,c]=ht.useState(A1),[f,m]=ht.useState(w1),[p,y]=ht.useState(x1),[T,S]=ht.useState(R1),[R,B]=ht.useState(!lm),[J,W]=ht.useState(1),[Z,st]=ht.useState(null);return ht.useEffect(()=>{(async()=>{const ct=Cl.filter(Lt=>Lt.rss),pt=ct[Math.floor(Math.random()*ct.length)];try{const[Lt,At,I]=await Promise.all([o6(8),Jr(Cl[0].rss),Jr(pt.rss)]);if(c(Lt),A1=Lt,m(At.episodes),w1=At.episodes,I.episodes.length>0){const V=I.episodes[Math.floor(Math.random()*I.episodes.length)];y(V),x1=V;const M=await r6(V.guid);M&&st({average:M.average,count:M.count})}const x={};(await Promise.all(ct.map(async V=>{try{const M=await Jr(V.rss);return{id:V.id,count:M.episodes.length}}catch{return{id:V.id,count:0}}}))).forEach(V=>{x[V.id]=V.count}),S(x),R1=x,lm=!0}catch(Lt){console.error("Error loading home data:",Lt)}finally{B(!1)}})()},[]),ht.useEffect(()=>{if(p){const et=Ib(p.guid,ct=>{W(Math.max(1,ct))});return()=>et()}},[p]),R&&!lm?E.jsxs("div",{className:"py-6 px-6 space-y-8 animate-in fade-in duration-300",children:[E.jsx(gn,{className:"w-full h-32 rounded-[32px]"}),E.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[E.jsx(gn,{className:"h-32 rounded-[32px]"}),E.jsx(gn,{className:"h-32 rounded-[32px]"})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx(gn,{className:"h-4 w-32"}),E.jsxs("div",{className:"flex gap-4 overflow-hidden -mx-6 px-6",children:[E.jsx(gn,{className:"w-48 h-64 flex-shrink-0 rounded-[40px]"}),E.jsx(gn,{className:"w-48 h-64 flex-shrink-0 rounded-[40px]"})]})]})]}):E.jsxs("div",{className:"animate-in fade-in duration-300 py-6",children:[p&&E.jsx("div",{className:"px-6 mb-8",children:E.jsxs("button",{onClick:()=>t(p),className:"w-full relative overflow-hidden rounded-[32px] p-5 text-left transition-all hover:scale-[1.01] active:scale-95 group shadow-xl shadow-indigo-500/10 border border-white/5",children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600 to-violet-800 z-0"}),E.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/10 rounded-full -mr-10 -mt-10 blur-2xl group-hover:bg-white/20 transition-all duration-1000"}),E.jsxs("div",{className:"relative z-10 flex items-center justify-between gap-4",children:[E.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[E.jsxs("div",{className:"relative w-16 h-16 flex-shrink-0",children:[E.jsx("img",{src:p.image,className:"w-full h-full object-cover rounded-2xl border border-white/20 shadow-lg transform group-hover:scale-105 transition-transform",alt:"Rec"}),E.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white text-indigo-600 p-1 rounded-md shadow-lg",children:E.jsx(fh,{size:10,className:"animate-pulse"})})]}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("span",{className:"text-[7px] font-black uppercase tracking-[0.3em] text-white/60 mb-1 block",children:"Recomendado por TEOVOZ"}),E.jsx("h3",{className:"text-base font-black text-white leading-tight mb-2 line-clamp-1 tracking-tight",children:p.title}),E.jsxs("div",{className:"bg-white/20 backdrop-blur-md text-white px-3 py-1.5 rounded-xl font-black text-[8px] uppercase tracking-widest inline-flex items-center gap-1.5 border border-white/10 group-hover:bg-white group-hover:text-indigo-600 transition-colors",children:[E.jsx(Wr,{size:8,fill:"currentColor"})," Escuchar ahora"]})]})]}),E.jsxs("div",{className:"flex flex-col justify-center items-end border-l border-white/15 pl-4 py-1 flex-shrink-0 h-16 min-w-[70px]",children:[E.jsxs("div",{className:"flex flex-col items-end",children:[E.jsxs("div",{className:"flex items-center gap-1.5 text-emerald-400",children:[E.jsx("span",{className:"text-sm font-black tabular-nums tracking-tighter leading-none",children:J}),E.jsx(M2,{size:14,strokeWidth:2.5})]}),E.jsx("span",{className:"text-[6px] font-black text-white/50 uppercase tracking-[0.15em] mt-0.5 leading-none",children:"Oyentes"})]}),E.jsx("div",{className:"h-2"}),E.jsxs("div",{className:"flex flex-col items-end",children:[E.jsxs("div",{className:"flex items-center gap-1.5 text-amber-400",children:[E.jsx("span",{className:"text-sm font-black tabular-nums tracking-tighter leading-none",children:(Z==null?void 0:Z.average.toFixed(1))||"5.0"}),E.jsx(Hm,{size:14,fill:"currentColor"})]}),E.jsx("span",{className:"text-[6px] font-black text-white/50 uppercase tracking-[0.15em] mt-0.5 leading-none",children:"Rating"})]})]})]})]})}),E.jsx("div",{className:"px-6 mb-10",children:E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{className:"bg-surface border-app border rounded-[32px] p-5 flex flex-col gap-3 shadow-sm shadow-black/5",children:[E.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-indigo-600/10",children:E.jsx(YA,{size:20})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.2em] text-muted mb-1 leading-none",children:"Mi Progreso"}),E.jsxs("div",{className:"flex items-baseline gap-1.5",children:[E.jsx("span",{className:"text-2xl font-black text-primary tracking-tighter",children:i}),E.jsx("span",{className:"text-[9px] font-bold text-muted uppercase tracking-widest",children:"Temas"})]})]})]}),E.jsxs("button",{onClick:()=>s&&t(s),disabled:!s,className:`bg-surface border-app border rounded-[32px] p-5 flex flex-col gap-3 shadow-sm shadow-black/5 text-left transition-all ${s?"hover:border-indigo-500/50 active:scale-95 group":"opacity-50"}`,children:[E.jsx("div",{className:"w-10 h-10 bg-amber-500/10 rounded-xl flex items-center justify-center text-amber-500 group-hover:bg-amber-500 group-hover:text-white transition-colors",children:E.jsx(HA,{size:20})}),E.jsxs("div",{className:"truncate w-full",children:[E.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.2em] text-muted mb-1 leading-none",children:"Continuar"}),E.jsx("p",{className:"text-[10px] font-bold text-primary truncate tracking-tight",children:s?s.title:"Nada an"})]})]})]})}),o.length>0&&E.jsxs("div",{className:"mb-10",children:[E.jsxs("div",{className:"px-6 flex items-center justify-between mb-5",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"p-2 bg-amber-500/10 rounded-lg text-amber-500 shadow-sm",children:E.jsx(N2,{size:16})}),E.jsx("h2",{className:"text-[10px] font-black text-muted uppercase tracking-[0.25em]",children:"Los ms valorados"})]}),E.jsx("div",{className:"h-[1px] flex-1 bg-app ml-3"})]}),E.jsx("div",{className:"flex overflow-x-auto gap-4 no-scrollbar pb-4 px-6",children:o.map(et=>E.jsx(m6,{data:et,onClick:()=>{const ct=f.find(pt=>pt.guid===et.guid);t(ct||{guid:et.guid,title:et.title,image:et.image,description:"Cargando detalles...",pubDate:new Date().toISOString(),enclosure:{url:"",length:"0",type:"audio/mpeg"}})}},et.guid))})]}),E.jsxs("div",{className:"px-6 mb-5 flex items-center gap-2",children:[E.jsx("h2",{className:"text-[10px] font-black text-muted uppercase tracking-[0.25em]",children:"Bibliotecas"}),E.jsx("div",{className:"h-[1px] flex-1 bg-app"})]}),E.jsx(L2,{categories:Cl,onSelect:a,counts:T})]})},Mb=({initialRating:a=0,onRate:t,interactive:i=!1,size:s=16,showCount:o})=>{const[c,f]=ht.useState(0),m=i&&c>0?c:a;return E.jsxs("div",{className:"flex items-center gap-1.5",children:[E.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(p=>E.jsx("button",{disabled:!i,onMouseEnter:()=>i&&f(p),onMouseLeave:()=>i&&f(0),onClick:y=>{y.stopPropagation(),i&&t&&t(p)},className:`transition-all duration-200 ${i?"hover:scale-125 active:scale-90":""}`,children:E.jsx(Hm,{size:s,strokeWidth:2,className:`${p<=m?"text-amber-400 fill-amber-400 shadow-amber-500/50":"text-slate-700"}`})},p))}),o!==void 0&&E.jsxs("span",{className:"text-[10px] font-bold text-slate-500 bg-slate-800/50 px-1.5 py-0.5 rounded ml-1",children:[a.toFixed(1)," (",o,")"]})]})},g6=ht.memo(({episode:a,onPlay:t,onToggleFavorite:i,onRate:s,userRating:o,isFavorite:c,isListened:f,isActive:m,podcastImage:p,showPodcastTitle:y})=>{const T=a.image||p||"";return E.jsx("div",{onClick:()=>t(a),className:`group relative bg-surface border border-app hover:border-indigo-500/30 rounded-2xl p-4 transition-all active:scale-[0.98] cursor-pointer ${m?"border-indigo-500/50":""}`,children:E.jsxs("div",{className:"flex gap-4 items-center",children:[E.jsxs("div",{className:"relative flex-shrink-0 w-20 h-20 rounded-xl overflow-hidden bg-app border border-app",children:[E.jsx("img",{src:T,alt:a.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",loading:"lazy"}),E.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/40 flex items-center justify-center transition-colors",children:E.jsx(Wr,{size:18,className:"text-white opacity-0 group-hover:opacity-100 transition-opacity",fill:"currentColor"})})]}),E.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[E.jsxs("div",{className:"flex items-center gap-2 text-[9px] font-black text-muted uppercase tracking-widest mb-1",children:[f&&E.jsxs("span",{className:"flex items-center gap-1 text-emerald-500 bg-emerald-500/10 px-1.5 py-0.5 rounded",children:[E.jsx(k1,{size:10}),"VISTO"]}),y&&a.contentSnippet&&E.jsx("span",{className:"text-indigo-500 truncate max-w-[120px]",children:a.contentSnippet.split("|||")[1]||"Podcast"}),E.jsx("span",{children:""}),E.jsx("span",{children:new Date(a.pubDate).toLocaleDateString(void 0,{day:"numeric",month:"short"})})]}),E.jsx("h3",{className:`font-bold text-sm leading-tight line-clamp-2 mb-2 ${m?"text-indigo-500":"text-primary"}`,children:a.title}),E.jsx(Mb,{interactive:o===0,initialRating:o,onRate:S=>s&&s(a,S),size:14})]}),E.jsxs("div",{className:"flex flex-col items-center gap-3",children:[i&&E.jsx("button",{onClick:S=>{S.stopPropagation(),i(a)},className:`p-2 rounded-full transition-colors ${c?"text-red-500 bg-red-500/10":"text-muted hover:text-primary"}`,children:E.jsx(oo,{size:18,fill:c?"currentColor":"none"})}),E.jsx(O1,{size:16,className:"text-muted group-hover:text-indigo-400 transition-colors"})]})]})})}),kh=ht.memo(({episodes:a,onPlay:t,onToggleFavorite:i,onRate:s,userRatings:o={},favorites:c=new Set,listened:f=new Set,currentEpisodeId:m,emptyMessage:p="No hay episodios disponibles.",podcastImage:y,showPodcastTitle:T=!1})=>a.length===0?E.jsx("div",{className:"text-center py-12 text-muted",children:E.jsx("p",{children:p})}):E.jsx("div",{className:"space-y-4 pb-32",children:a.map(S=>E.jsx(g6,{episode:S,onPlay:t,onToggleFavorite:i,onRate:s,userRating:o[S.guid]||0,isFavorite:c.has(S.guid),isListened:f.has(S.guid),isActive:m===S.guid,podcastImage:y,showPodcastTitle:T},S.guid))})),p6=({category:a,onEpisodeSelect:t,favorites:i,listened:s,currentEpisodeId:o})=>{const[c,f]=ht.useState(null),[m,p]=ht.useState(!0);return ht.useEffect(()=>{const y=async()=>{p(!0);try{const T=await Jr(a.rss);f(T)}catch(T){console.error(T)}finally{p(!1)}};a.rss&&y()},[a]),E.jsxs("div",{className:"animate-in fade-in slide-in-from-right duration-300 px-6",children:[E.jsxs("div",{className:"mb-8 mt-2",children:[E.jsx("h2",{className:"text-3xl font-black text-primary uppercase tracking-tighter mb-2",children:a.name}),E.jsxs("p",{className:"text-xs text-muted font-bold uppercase tracking-widest",children:[(c==null?void 0:c.episodes.length)||0," Episodios disponibles"]})]}),m?E.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(y=>E.jsx(Jg,{},y))}):E.jsx(kh,{episodes:(c==null?void 0:c.episodes)||[],onPlay:t,favorites:i,listened:s,currentEpisodeId:o,podcastImage:c==null?void 0:c.image})]})},y6=({episode:a,currentEpisode:t,onPlay:i,favorites:s,onToggleFavorite:o})=>{const c=(t==null?void 0:t.guid)===a.guid,f=s.has(a.guid),m=()=>{const p="https://play.google.com/store/apps/details?id=com.teovoz.app",y=a.description.replace(/<[^>]*>?/gm,"").trim(),T=y.length>180?y.substring(0,177)+"...":y,S=` TEOVOZ: ${a.title}

"${T}"

 Escucha el resumen completo descargando la App original en Google Play:
${p}`;if(navigator.share)navigator.share({title:a.title,text:S}).catch(console.error);else{const R=`https://api.whatsapp.com/send?text=${encodeURIComponent(S)}`;window.open(R,"_blank")}};return E.jsx("div",{className:"animate-in fade-in slide-in-from-right duration-500 pb-32",children:E.jsxs("div",{className:"px-6 flex flex-col items-center",children:[E.jsxs("div",{className:"relative w-full max-w-sm aspect-square rounded-[48px] overflow-hidden shadow-2xl mb-10 border-app border group",children:[E.jsx("img",{src:a.image,className:"w-full h-full object-cover transform transition-transform duration-[2000ms] group-hover:scale-110",alt:a.title}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 group-hover:bg-black/40 transition-all duration-500",children:E.jsx("button",{onClick:()=>i(a),className:`w-28 h-28 rounded-full backdrop-blur-xl border border-white/30 flex items-center justify-center text-white shadow-2xl transform transition-all duration-500 hover:scale-110 active:scale-95 ${c?"bg-indigo-600":"bg-white/20"}`,children:E.jsx(Wr,{size:44,fill:"currentColor",className:`ml-2 ${c?"animate-pulse":""}`})})})]}),E.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[E.jsxs("button",{onClick:()=>o(a),className:`flex items-center gap-2 px-6 py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest transition-all active:scale-95 ${f?"bg-red-500 text-white shadow-lg shadow-red-500/20":"bg-surface border border-app text-primary"}`,children:[E.jsx(oo,{size:16,fill:f?"currentColor":"none"}),f?"Guardado":"Favorito"]}),E.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-6 py-3 rounded-2xl bg-indigo-600 text-white font-black text-[10px] uppercase tracking-widest shadow-lg shadow-indigo-600/20 active:scale-95 transition-all",children:[E.jsx(L1,{size:16}),"Compartir"]})]}),E.jsxs("div",{className:"w-full max-w-2xl text-center",children:[E.jsxs("div",{className:"flex flex-col items-center gap-2 mb-8 bg-surface p-6 rounded-[32px] border border-app",children:[E.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-muted",children:"Valoracin de la comunidad"}),E.jsx(Mb,{interactive:!0,size:24})]}),E.jsx("h2",{className:"text-3xl sm:text-5xl font-black text-primary mb-6 leading-tight tracking-tighter",children:a.title}),E.jsx("div",{className:"prose prose-invert max-w-none text-left",children:E.jsx("div",{className:"text-muted text-lg leading-relaxed whitespace-pre-line bg-surface p-10 rounded-[40px] border border-app shadow-sm",children:a.description})})]})]})})},N1=a=>a.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim(),I1=(a,t)=>{const i=N1(a),s=N1(t);if(i.includes(s))return!0;if(s.length<4)return!1;let o=0,c=0;for(let m=0;m<s.length&&c<i.length;m++)s[m]!==i[c]&&(o++,s[m]===i[c+1]&&c++),c++;const f=s.length>6?2:1;return o<=f},_6=({onEpisodeSelect:a,favorites:t,listened:i})=>{const[s,o]=ht.useState(""),[c,f]=ht.useState([]),[m,p]=ht.useState(!1);ht.useEffect(()=>{(async()=>{p(!0);try{const S=Cl.filter(J=>J.rss).slice(0,5),B=(await Promise.all(S.map(J=>Jr(J.rss)))).flatMap(J=>J.episodes.map(W=>({...W,contentSnippet:`${W.contentSnippet||""}|||${J.title}`})));f(B.sort((J,W)=>new Date(W.pubDate).getTime()-new Date(J.pubDate).getTime()))}catch(S){console.error(S)}finally{p(!1)}})()},[]);const y=ht.useMemo(()=>!s||s.length<2?c.slice(0,15):c.filter(T=>{const S=I1(T.title,s),R=T.description&&I1(T.description.substring(0,100),s);return S||R}).slice(0,30),[s,c]);return E.jsxs("div",{className:"animate-in fade-in duration-300 px-6",children:[E.jsx("div",{className:"sticky top-0 bg-app z-30 py-4 mb-6",children:E.jsxs("div",{className:"relative group",children:[E.jsx(z1,{className:`absolute left-4 top-1/2 -translate-y-1/2 transition-colors ${s?"text-indigo-500":"text-muted"}`,size:20}),E.jsx("input",{type:"text",placeholder:"Libros, autores o temas...",value:s,onChange:T=>o(T.target.value),className:"w-full bg-surface border-app border rounded-2xl py-4 pl-12 pr-4 text-primary focus:outline-none focus:border-indigo-500 transition-all shadow-lg shadow-black/10 text-base"}),s&&E.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-2",children:E.jsx("span",{className:"text-[8px] font-black text-indigo-500 uppercase tracking-widest bg-indigo-500/10 px-2 py-1 rounded-md animate-pulse",children:"Bsqueda Inteligente"})})]})}),m&&c.length===0?E.jsx("div",{className:"space-y-4",children:[1,2,3,4,5,6].map(T=>E.jsx(Jg,{},T))}):E.jsxs("div",{className:"relative",children:[s&&y.length>0&&E.jsxs("div",{className:"flex items-center gap-2 mb-4 px-2",children:[E.jsx(fh,{size:12,className:"text-indigo-500"}),E.jsxs("p",{className:"text-[10px] font-black text-muted uppercase tracking-widest",children:["Resultados encontrados (",y.length,")"]})]}),E.jsx(kh,{episodes:y,onPlay:a,favorites:t,listened:i,showPodcastTitle:!0,emptyMessage:s?`No encontramos nada parecido a "${s}". Prueba con otra palabra.`:"Cargando biblioteca..."})]})]})},v6=({episodes:a,onEpisodeSelect:t,favorites:i,listened:s})=>E.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500 px-6",children:[E.jsxs("div",{className:"mb-10 mt-2",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[E.jsx(oo,{className:"text-red-500 fill-red-500",size:24}),E.jsx("h2",{className:"text-3xl font-black text-primary uppercase tracking-tighter",children:"Tus Favoritos"})]}),E.jsxs("p",{className:"text-xs text-muted font-bold uppercase tracking-widest",children:[a.length," episodios guardados en tu biblioteca"]})]}),E.jsx(kh,{episodes:a,onPlay:t,favorites:i,listened:s,emptyMessage:"An no tienes episodios favoritos. Explora las categoras para aadir contenido."})]}),E6=({onEpisodeSelect:a,viewedGuids:t,setViewedGuids:i,listened:s})=>{const[o,c]=ht.useState([]),[f,m]=ht.useState(!0);ht.useEffect(()=>{(async()=>{m(!0);try{const T=await Jr(Cl[0].rss);c(T.episodes.slice(0,15));const S=new Set(t);T.episodes.slice(0,15).forEach(R=>S.add(R.guid)),i(S)}catch(T){console.error(T)}finally{m(!1)}})()},[]);const p=()=>{window.location.href="http://action_notifications"};return f?E.jsx("div",{className:"px-6 py-6",children:E.jsx(d6,{})}):E.jsxs("div",{className:"animate-in fade-in slide-in-from-right duration-500 px-6 py-6",children:[E.jsxs("div",{className:"mb-10 mt-2",children:[E.jsx("div",{className:"flex items-center justify-between mb-2",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsxs("div",{className:"relative",children:[E.jsx(V1,{className:"text-indigo-500",size:24}),E.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-indigo-500 rounded-full animate-ping"})]}),E.jsx("h2",{className:"text-3xl font-black text-primary uppercase tracking-tighter",children:"Novedades"})]})}),E.jsx("p",{className:"text-xs text-muted font-bold uppercase tracking-widest",children:"Lo ltimo en TEOVOZ"})]}),E.jsx("div",{className:"mb-8",children:E.jsxs("button",{onClick:p,className:"w-full bg-indigo-600 rounded-[32px] p-6 flex items-center justify-between shadow-xl shadow-indigo-600/20 active:scale-95 transition-all text-left",children:[E.jsxs("div",{className:"flex items-start gap-4",children:[E.jsx("div",{className:"p-3 bg-white/20 rounded-2xl text-white",children:E.jsx(a2,{size:24})}),E.jsxs("div",{children:[E.jsx("h4",{className:"text-white font-black text-lg leading-none mb-2",children:"Buzn de Respuestas"}),E.jsx("p",{className:"text-white/70 text-xs font-medium",children:"Mira aqu si hemos respondido a tus pedidos de libros."})]})]}),E.jsx(O1,{size:24,className:"text-white/50"})]})}),E.jsxs("div",{className:"bg-surface border border-app rounded-3xl p-6 mb-8 flex items-start gap-4",children:[E.jsx("div",{className:"p-3 bg-indigo-500/10 rounded-2xl text-indigo-500",children:E.jsx(fh,{size:20})}),E.jsxs("div",{children:[E.jsx("h4",{className:"text-sm font-bold text-primary mb-1 tracking-tight",children:"Contenido nuevo cada da!"}),E.jsx("p",{className:"text-xs text-muted leading-relaxed",children:"Sumamos nuevos resmenes diariamente. No te pierdas nada."})]})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-muted mb-4",children:"ltimos Lanzamientos"}),E.jsx(kh,{episodes:o,onPlay:a,favorites:new Set,listened:s,showPodcastTitle:!0})]})]})},T6=()=>E.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500 px-6 pb-20 py-6",children:[E.jsxs("div",{className:"text-center py-10",children:[E.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-indigo-600 to-violet-600 rounded-[32px] flex items-center justify-center shadow-2xl shadow-indigo-500/30 mb-6 mx-auto transform rotate-6",children:E.jsx(um,{className:"text-white",size:48})}),E.jsxs("h1",{className:"text-4xl font-black text-primary mb-1 tracking-tighter",children:["TEO",E.jsx("span",{className:"text-indigo-500",children:"VOZ"})]}),E.jsx("p",{className:"text-[10px] text-muted font-bold uppercase tracking-[0.4em]",children:"Premium v1.1.0"})]}),E.jsxs("div",{className:"space-y-12 max-w-xl mx-auto",children:[E.jsxs("section",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center gap-2 text-indigo-500",children:[E.jsx(R2,{size:18}),E.jsx("h3",{className:"font-black uppercase text-xs tracking-widest",children:"Nuestra Visin"})]}),E.jsxs("div",{className:"text-muted text-sm leading-relaxed space-y-4 font-medium bg-surface p-6 rounded-[32px] border border-app",children:[E.jsx("p",{children:"En un mundo que nunca se detiene, TeoVoz nace para ser el puente entre las ideas ms grandes y tu apretada agenda."}),E.jsxs("p",{children:["Transformamos los libros ms influyentes en experiencias de audio inmersivas de ",E.jsx("span",{className:"text-primary font-bold",children:"15 minutos"}),"."]})]})]}),E.jsxs("section",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center gap-2 text-indigo-500",children:[E.jsx(fh,{size:18}),E.jsx("h3",{className:"font-black uppercase text-xs tracking-widest",children:"Qu es TeoVoz?"})]}),E.jsx("div",{className:"grid gap-3",children:[{t:" Conciso",d:"Solo las ideas que realmente importan."},{t:" Prctico",d:"Incluye el Reto TeoVoz para aplicar hoy."},{t:" Humano",d:"Narraciones que se sienten como un mentor."}].map((a,t)=>E.jsxs("div",{className:"bg-surface p-4 rounded-2xl border border-app",children:[E.jsx("p",{className:"text-primary font-bold text-xs mb-1",children:a.t}),E.jsx("p",{className:"text-muted text-xs",children:a.d})]},t))})]}),E.jsxs("div",{className:"text-center pt-10 border-t border-app",children:[E.jsxs("div",{className:"flex items-center justify-center gap-1.5 text-indigo-500 font-black bg-indigo-500/10 px-6 py-3 rounded-full border border-indigo-500/20 w-fit mx-auto mb-4",children:[E.jsx(oo,{size:16,fill:"currentColor",className:"animate-pulse"}),"Escucha. Aprende. Crece."]}),E.jsx("p",{className:"text-[10px] text-muted font-black uppercase tracking-[0.2em]",children:"Creado con amor por MigoCreativo"})]})]})]});var ni=(a=>(a[a.STOPPED=0]="STOPPED",a[a.PLAYING=1]="PLAYING",a[a.PAUSED=2]="PAUSED",a[a.BUFFERING=3]="BUFFERING",a))(ni||{});const Rl=({children:a,className:t="",variant:i="primary",size:s="md",...o})=>{const c="rounded-full font-medium transition-colors focus:outline-none flex items-center justify-center gap-2",f={primary:"bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50",secondary:"bg-slate-700 text-slate-100 hover:bg-slate-600",ghost:"bg-transparent text-slate-400 hover:text-white hover:bg-slate-800/50",icon:"p-2 bg-transparent text-slate-200 hover:bg-slate-800 rounded-full"},m={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},p=f[i],y=i==="icon"?"":m[s];return E.jsx("button",{className:`${c} ${p} ${y} ${t}`,...o,children:a})},b6=({currentEpisode:a,onClose:t,isBottomNavVisible:i,onEpisodeComplete:s})=>{const o=ht.useRef(null),[c,f]=ht.useState(ni.STOPPED),[m,p]=ht.useState(0),[y,T]=ht.useState(0),[S,R]=ht.useState(!1),[B,J]=ht.useState(1),[W]=ht.useState(()=>Math.random().toString(36).substring(7));ht.useEffect(()=>{if(a&&o.current){o.current.src=a.enclosure.url,o.current.play().catch(pt=>console.error(pt)),f(ni.PLAYING);const et=f6(W,a.guid),ct=Ib(a.guid,pt=>{J(Math.max(1,pt))});return()=>{et(),ct()}}else f(ni.STOPPED)},[a,W]);const Z=()=>{o.current&&(c===ni.PLAYING?(o.current.pause(),f(ni.PAUSED)):(o.current.play(),f(ni.PLAYING)))},st=et=>{if(isNaN(et))return"00:00";const ct=Math.floor(et/60),pt=Math.floor(et%60);return`${ct}:${pt.toString().padStart(2,"0")}`};return a?S?E.jsxs("div",{className:"fixed inset-0 bg-app z-[110] flex flex-col animate-in slide-in-from-bottom duration-500",children:[E.jsxs("div",{className:"flex items-center justify-between p-6",children:[E.jsx(Rl,{variant:"icon",onClick:()=>R(!1),className:"bg-surface border border-app",children:E.jsx(PA,{size:24,className:"text-muted"})}),E.jsxs("div",{className:"flex flex-col items-center",children:[E.jsx("span",{className:"text-[10px] font-black tracking-[0.2em] text-muted uppercase",children:"Reproduciendo"}),E.jsxs("div",{className:"flex items-center gap-1.5 mt-1 bg-emerald-500/10 px-3 py-1 rounded-full border border-emerald-500/20",children:[E.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-ping"}),E.jsxs("span",{className:"text-[9px] font-black text-emerald-500 uppercase tracking-widest",children:[B," oyentes en lnea"]})]})]}),E.jsx(Rl,{variant:"icon",onClick:t,className:"bg-surface border border-app",children:E.jsx(hm,{size:24,className:"text-muted"})})]}),E.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center space-y-8 overflow-y-auto no-scrollbar pb-12",children:[E.jsx("div",{className:"w-full max-w-[300px] aspect-square rounded-[56px] overflow-hidden shadow-2xl border-app border transform hover:scale-105 transition-transform duration-700",children:E.jsx("img",{src:a.image,alt:a.title,className:"w-full h-full object-cover"})}),E.jsxs("div",{className:"space-y-4 w-full max-w-md",children:[E.jsx("h2",{className:"text-2xl md:text-4xl font-black text-primary leading-tight px-2 tracking-tighter",children:a.title}),E.jsxs("div",{className:"flex items-center justify-center gap-4",children:[E.jsx("span",{className:"text-[10px] font-black text-indigo-500 bg-indigo-500/5 px-4 py-2 rounded-xl uppercase tracking-widest border border-indigo-500/10",children:"Podcast Premium"}),E.jsxs("span",{className:"text-xs font-bold text-muted",children:[st(m)," / ",st(y)]})]}),E.jsx("div",{className:"max-h-32 overflow-y-auto px-4 py-2 no-scrollbar",children:E.jsx("p",{className:"text-muted text-sm leading-relaxed font-medium opacity-80",children:a.description})})]}),E.jsxs("div",{className:"w-full max-w-md space-y-8 pt-4",children:[E.jsx("div",{className:"px-2",children:E.jsx("input",{type:"range",min:"0",max:y||100,value:m,onChange:et=>{o.current&&(o.current.currentTime=parseFloat(et.target.value))},className:"w-full h-1.5 bg-surface rounded-lg appearance-none cursor-pointer accent-indigo-500"})}),E.jsxs("div",{className:"flex items-center justify-around px-4 pb-8",children:[E.jsx("button",{className:"text-muted hover:text-primary transition-colors active:scale-90",onClick:()=>{o.current&&(o.current.currentTime-=15)},children:E.jsx(_2,{size:40})}),E.jsx("button",{className:"w-24 h-24 bg-indigo-600 text-white rounded-[32px] flex items-center justify-center shadow-2xl shadow-indigo-600/40 active:scale-90 transition-all hover:bg-indigo-500",onClick:Z,children:c===ni.PLAYING?E.jsx(I_,{size:44,fill:"currentColor"}):E.jsx(Wr,{size:44,fill:"currentColor",className:"ml-2"})}),E.jsx("button",{className:"text-muted hover:text-primary transition-colors active:scale-90",onClick:()=>{o.current&&(o.current.currentTime+=15)},children:E.jsx(E2,{size:40})})]})]})]}),E.jsx("audio",{ref:o,onTimeUpdate:()=>{o.current&&(p(o.current.currentTime),T(o.current.duration||0))},onEnded:()=>f(ni.STOPPED)})]}):E.jsxs("div",{className:`fixed left-0 right-0 bg-nav/95 backdrop-blur-2xl border-t border-app p-3 z-50 shadow-2xl transition-all duration-300 ${i?"bottom-[72px]":"bottom-0 pb-safe"}`,children:[E.jsxs("div",{className:"max-w-3xl mx-auto flex items-center justify-between gap-3",children:[E.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0 cursor-pointer",onClick:()=>R(!0),children:[E.jsx("img",{src:a.image,alt:"Art",className:"w-11 h-11 rounded-xl bg-surface object-cover border border-app shadow-lg"}),E.jsxs("div",{className:"truncate",children:[E.jsx("div",{className:"flex items-center gap-2 mb-0.5",children:E.jsx("h4",{className:"text-sm font-black text-primary truncate leading-none",children:a.title})}),E.jsx("div",{className:"flex items-center gap-2",children:E.jsxs("div",{className:"flex items-center gap-1 text-[9px] text-emerald-500 font-black uppercase tracking-widest",children:[E.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"}),B," oyentes en vivo"]})})]})]}),E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx(Rl,{variant:"ghost",size:"icon",onClick:Z,className:"text-primary bg-surface border border-app",children:c===ni.PLAYING?E.jsx(I_,{size:20,fill:"currentColor"}):E.jsx(Wr,{size:20,fill:"currentColor"})}),E.jsx(Rl,{variant:"ghost",size:"icon",onClick:t,className:"text-muted",children:E.jsx(hm,{size:20})})]})]}),E.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] bg-surface",children:E.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-300",style:{width:`${m/(y||1)*100}%`}})}),E.jsx("audio",{ref:o,onTimeUpdate:()=>{o.current&&(p(o.current.currentTime),T(o.current.duration||0))},onEnded:()=>f(ni.STOPPED)})]}):null},S6=ht.memo(({activeTab:a,onTabChange:t,notificationCount:i=0})=>{const s=[{id:"search",label:"Buscar",icon:z1},{id:"favorites",label:"Favoritos",icon:oo},{id:"home",label:"Inicio",icon:ZA},{id:"share",label:"Compartir",icon:L1},{id:"notifications",label:"Notific.",icon:V1}];return E.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-nav backdrop-blur-lg border-t border-app pb-safe z-40",children:E.jsx("div",{className:"flex items-center justify-around max-w-2xl mx-auto relative",children:s.map(o=>{const c=o.icon,f=a===o.id;return E.jsxs("button",{onClick:()=>t(o.id),className:`flex flex-col items-center justify-center py-3 px-2 w-full transition-colors relative ${f?"text-indigo-500":"text-muted hover:text-primary"}`,children:[E.jsxs("div",{className:"relative",children:[E.jsx(c,{size:24,strokeWidth:f?2.5:2,className:f?"animate-bounce-subtle":""}),o.id==="notifications"&&i>0&&E.jsx("div",{className:"absolute -top-1.5 -right-1.5 min-w-[16px] h-[16px] bg-red-600 text-white text-[9px] font-black rounded-full flex items-center justify-center px-1 border-2 border-app",children:i})]}),E.jsx("span",{className:"text-[10px] font-medium mt-1",children:o.label})]},o.id)})})})}),A6=({onClose:a,currentTheme:t,onThemeChange:i})=>{const s=[{id:"deep",name:"TeoVoz Deep",description:"Estilo clsico e ndigo",icon:E.jsx(b2,{size:20}),preview:"bg-[#0f172a] border-[#6366f1]"},{id:"dark-pure",name:"Oscuro Puro",description:"Negro real para AMOLED",icon:E.jsx(o2,{size:20}),preview:"bg-black border-[#262626]"},{id:"light",name:"Claro Puro",description:"Blanco limpio y minimalista",icon:E.jsx(U1,{size:20}),preview:"bg-white border-[#e2e8f0]"}];return E.jsx("div",{className:"fixed inset-0 z-[65] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in",children:E.jsxs("div",{className:"bg-surface border-app border rounded-[32px] w-full max-w-sm p-8 shadow-2xl relative",children:[E.jsxs("div",{className:"flex items-center justify-between mb-8",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2 bg-indigo-500/10 rounded-lg text-indigo-500",children:E.jsx(j1,{size:18})}),E.jsx("h2",{className:"text-xs font-black text-muted uppercase tracking-[0.2em]",children:"Aspecto Visual"})]}),E.jsx(Rl,{variant:"icon",onClick:a,className:"hover:bg-app rounded-full text-muted",children:E.jsx(hm,{size:20})})]}),E.jsx("div",{className:"space-y-3",children:s.map(o=>E.jsxs("button",{onClick:()=>i(o.id),className:`w-full flex items-center gap-4 p-4 rounded-2xl border transition-all text-left ${t===o.id?"border-indigo-500 bg-indigo-500/5":"border-transparent hover:border-app"}`,children:[E.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center border ${o.preview} shadow-sm transition-transform active:scale-90`,children:E.jsx("span",{className:o.id==="light"?"text-slate-900":"text-white",children:o.icon})}),E.jsxs("div",{className:"flex-1",children:[E.jsx("p",{className:"font-bold text-sm text-primary",children:o.name}),E.jsx("p",{className:"text-[10px] text-muted uppercase font-black tracking-wider",children:o.description})]}),t===o.id&&E.jsx(k1,{size:20,className:"text-indigo-500"})]},o.id))})]})})};function w6(){const[a,t]=ht.useState(()=>{const w=window.location.pathname;return w.includes("search.html")?"search":w.includes("favorites.html")?"favorites":w.includes("notifications.html")?"notifications":w.includes("settings.html")?"settings":"home"}),[i,s]=ht.useState(null),[o,c]=ht.useState(null),[f,m]=ht.useState(()=>localStorage.getItem("teovoz_theme")||"deep"),[p,y]=ht.useState(!1),[T,S]=ht.useState(null),[R,B]=ht.useState(navigator.onLine),[J,W]=ht.useState(null);ht.useEffect(()=>{W(!0)},[]),ht.useEffect(()=>{const w=()=>B(!0),Ut=()=>B(!1);return window.addEventListener("online",w),window.addEventListener("offline",Ut),()=>{window.removeEventListener("online",w),window.removeEventListener("offline",Ut)}},[]);const[Z,st]=ht.useState(()=>{const w=localStorage.getItem("teovoz_last_played");return w?JSON.parse(w):null}),[et,ct]=ht.useState(()=>{const w=localStorage.getItem("teovoz_favorites");return w?JSON.parse(w):[]}),[pt,Lt]=ht.useState(()=>{const w=localStorage.getItem("teovoz_listened");return w?new Set(JSON.parse(w)):new Set}),[At,I]=ht.useState(()=>{const w=localStorage.getItem("teovoz_viewed_notifications");return w?new Set(JSON.parse(w)):new Set});ht.useEffect(()=>{T&&(st(T),localStorage.setItem("teovoz_last_played",JSON.stringify(T)))},[T]),ht.useEffect(()=>{f==="deep"?document.documentElement.removeAttribute("data-theme"):document.documentElement.setAttribute("data-theme",f),localStorage.setItem("teovoz_theme",f)},[f]),ht.useEffect(()=>{localStorage.setItem("teovoz_favorites",JSON.stringify(et)),localStorage.setItem("teovoz_listened",JSON.stringify(Array.from(pt))),localStorage.setItem("teovoz_viewed_notifications",JSON.stringify(Array.from(At)))},[et,pt,At]);const x=ht.useCallback(()=>{o?c(null):i?s(null):a!=="home"&&t("home")},[o,i,a]),C=ht.useCallback(w=>{if(w==="share"){window.location.href="http://action_share";return}c(null),s(null),t(w),window.scrollTo(0,0)},[]),V=()=>{window.location.href="http://action_offices"};if(J===!1)return E.jsxs("div",{className:"min-h-screen bg-[#020617] flex flex-col items-center justify-center p-10 text-center animate-in fade-in duration-1000",children:[E.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_var(--tw-gradient-stops))] from-indigo-500/10 via-transparent to-transparent opacity-50"}),E.jsxs("div",{className:"relative mb-12",children:[E.jsx("div",{className:"w-32 h-32 bg-indigo-600 rounded-[40px] flex items-center justify-center shadow-[0_20px_50px_rgba(79,_70,_229,_0.3)] transform -rotate-6 border border-white/10",children:E.jsx(um,{className:"text-white",size:64})}),E.jsx("div",{className:"absolute -bottom-4 -right-4 w-14 h-14 bg-red-600 rounded-2xl flex items-center justify-center text-white border-4 border-[#020617] shadow-xl animate-pulse",children:E.jsx(cm,{size:24})})]}),E.jsxs("h1",{className:"text-4xl font-black text-white tracking-tighter mb-4 uppercase",children:["TEO",E.jsx("span",{className:"text-indigo-500",children:"VOZ"})]}),E.jsx("div",{className:"bg-indigo-500/10 border border-indigo-500/20 px-4 py-1 rounded-full mb-8",children:E.jsx("p",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-[0.3em]",children:"Premium Experience"})}),E.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Acceso Denegado"}),E.jsx("p",{className:"text-slate-400 text-sm max-w-xs leading-relaxed mb-12 font-medium",children:"Esta plataforma es exclusiva. Por seguridad, solo se permite el acceso desde la aplicacin oficial instalada en su dispositivo."}),E.jsxs("div",{className:"space-y-6 w-full max-w-xs relative z-10",children:[E.jsxs("button",{onClick:()=>window.location.href="https://www.appcreator24.com/app2983741",className:"w-full bg-white text-black font-black py-5 rounded-[28px] shadow-2xl flex items-center justify-center gap-3 active:scale-95 transition-all",children:[E.jsx(QA,{size:20})," Instalar TEOVOZ"]}),E.jsx("div",{className:"pt-4 opacity-40",children:E.jsx("p",{className:"text-[9px] text-slate-500 font-black uppercase tracking-[0.4em]",children:"Paquete: com.teovoz.app"})})]}),E.jsx("div",{className:"mt-24 border-t border-white/5 pt-8 w-full max-w-xs",children:E.jsx("p",{className:"text-[9px] text-slate-700 font-black uppercase tracking-widest",children:"MigoCreativo Digital Security"})})]});if(J===null)return null;const M=()=>{if(!R&&a!=="favorites"&&a!=="settings")return E.jsxs("div",{className:"flex flex-col items-center justify-center py-28 px-10 text-center animate-in fade-in zoom-in-95 duration-500",children:[E.jsx("div",{className:"w-24 h-24 bg-red-500/10 rounded-[38px] flex items-center justify-center text-red-500 mb-8 shadow-2xl shadow-red-500/10 border border-red-500/20",children:E.jsx(V2,{size:44})}),E.jsx("h2",{className:"text-2xl font-black text-primary tracking-tighter mb-3",children:"Sin Conexin"}),E.jsxs("p",{className:"text-muted text-sm font-medium leading-relaxed mb-10 max-w-[240px] mx-auto",children:["TEOVOZ necesita internet para sincronizar nuevos libros. Mientras tanto, puedes escuchar tus ",E.jsx("span",{className:"text-indigo-500 font-bold",children:"favoritos"}),"."]}),E.jsxs("button",{onClick:()=>window.location.reload(),className:"flex items-center gap-3 bg-surface border border-app px-8 py-4 rounded-[24px] text-primary font-black text-xs uppercase tracking-[0.2em] active:scale-95 transition-all shadow-xl",children:[E.jsx(f2,{size:14})," Reintentar"]})]});if(o)return E.jsx(y6,{episode:o,currentEpisode:T,onPlay:S,favorites:new Set(et.map(w=>w.guid)),onToggleFavorite:w=>ct(Ut=>Ut.some(le=>le.guid===w.guid)?Ut.filter(le=>le.guid!==w.guid):[...Ut,w])});if(i)return E.jsx(p6,{category:i,onEpisodeSelect:c,favorites:new Set(et.map(w=>w.guid)),listened:pt,currentEpisodeId:T==null?void 0:T.guid});switch(a){case"home":return E.jsx(C1,{onCategorySelect:s,onEpisodeSelect:c,listenedCount:pt.size,lastPlayed:Z});case"search":return E.jsx(_6,{onEpisodeSelect:c,favorites:new Set(et.map(w=>w.guid)),listened:pt});case"favorites":return E.jsx(v6,{episodes:et,onEpisodeSelect:c,favorites:new Set(et.map(w=>w.guid)),listened:pt});case"notifications":return E.jsx(E6,{onEpisodeSelect:c,viewedGuids:At,setViewedGuids:I,listened:pt});case"settings":return E.jsx(T6,{});default:return E.jsx(C1,{onCategorySelect:s,onEpisodeSelect:c,listenedCount:pt.size,lastPlayed:Z})}},j=o||i;return E.jsxs("div",{className:"min-h-screen bg-app text-primary transition-colors duration-500 pb-44 overflow-x-hidden pt-[72px]",children:[E.jsx("header",{className:"fixed top-0 left-0 right-0 z-[100] bg-app/95 backdrop-blur-xl border-b border-app h-[72px]",children:E.jsxs("div",{className:"max-w-2xl mx-auto px-5 h-full flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[j&&E.jsx("button",{onClick:x,className:"p-2.5 rounded-xl bg-surface border border-app text-muted active:scale-90 transition-transform",children:E.jsx(NA,{size:18})}),E.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>C("home"),children:[E.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-600 flex items-center justify-center shadow-lg shadow-indigo-600/20",children:E.jsx(um,{className:"text-white",size:16})}),E.jsxs("h1",{className:"text-lg font-black tracking-tighter uppercase leading-none text-primary",children:["TEO",E.jsx("span",{className:"text-indigo-500",children:"VOZ"})]})]})]}),E.jsxs("div",{className:"flex items-center gap-1.5",children:[E.jsxs("button",{onClick:V,className:"flex items-center gap-2 px-3.5 py-2.5 rounded-xl bg-indigo-600 text-white shadow-lg shadow-indigo-600/20 active:scale-95 transition-all",children:[E.jsx(OA,{size:14}),E.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Pedir Libro"})]}),E.jsx("button",{onClick:()=>y(!0),className:"p-2.5 rounded-xl bg-surface border-app border text-muted hover:text-primary",children:E.jsx(j1,{size:16})}),E.jsx("button",{onClick:()=>C("settings"),className:`p-2.5 rounded-xl bg-surface border-app border hover:text-primary ${a==="settings"?"text-indigo-500 border-indigo-500/50":"text-muted"}`,children:E.jsx(WA,{size:16})})]})]})}),!R&&E.jsx("div",{className:"fixed top-[72px] left-0 right-0 bg-red-600 text-white py-1 px-4 text-center text-[9px] font-black uppercase tracking-[0.2em] z-[90] animate-in slide-in-from-top duration-300",children:"Modo Sin Conexin Activo"}),E.jsx("main",{className:"max-w-2xl mx-auto",children:M()}),E.jsx(b6,{currentEpisode:T,onClose:()=>S(null),isBottomNavVisible:!0,onEpisodeComplete:w=>Lt(Ut=>new Set(Ut).add(w))}),E.jsx(S6,{activeTab:a,onTabChange:C,notificationCount:0}),p&&E.jsx(A6,{currentTheme:f,onThemeChange:m,onClose:()=>y(!1)})]})}const Db=document.getElementById("root");if(!Db)throw new Error("Could not find root element to mount to");const x6=EA.createRoot(Db);x6.render(E.jsx(fA.StrictMode,{children:E.jsx(w6,{})}));
