import{r as a,j as e,N as f,B as u,b as h,R as n,d as g,a as j}from"./Skeleton-D6L119bm.js";import{E as N}from"./EpisodeList-Nt5RJi41.js";import{f as v,C as S}from"./rss-BJXZhmeK.js";import{S as b}from"./sparkles-CSxFG1-u.js";const w=({onEpisodeSelect:s,viewedGuids:i,setViewedGuids:o,listened:c})=>{const[l,m]=a.useState([]),[x,r]=a.useState(!0);return a.useEffect(()=>{(async()=>{r(!0);try{const t=await v(S[0].rss);m(t.episodes.slice(0,15));const d=new Set(i);t.episodes.slice(0,15).forEach(p=>d.add(p.guid)),o(d)}catch(t){console.error(t)}finally{r(!1)}})()},[]),x?e.jsx("div",{className:"px-6 py-6",children:e.jsx(f,{})}):e.jsxs("div",{className:"animate-in fade-in slide-in-from-right duration-500 px-6 py-6",children:[e.jsxs("div",{className:"mb-10 mt-2",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(u,{className:"text-indigo-500",size:24}),e.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-indigo-500 rounded-full animate-ping"})]}),e.jsx("h2",{className:"text-3xl font-black text-primary uppercase tracking-tighter",children:"Novedades"})]})}),e.jsx("p",{className:"text-xs text-muted font-bold uppercase tracking-widest",children:"Lo último en TEOVOZ"})]}),e.jsxs("div",{className:"bg-surface border border-app rounded-3xl p-6 mb-8 flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-indigo-500/10 rounded-2xl text-indigo-500",children:e.jsx(b,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-primary mb-1 tracking-tight",children:"¡Contenido nuevo cada día!"}),e.jsx("p",{className:"text-xs text-muted leading-relaxed",children:"Sumamos nuevos resúmenes diariamente. No te pierdas nada."})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-muted mb-4",children:"Últimos Lanzamientos"}),e.jsx(N,{episodes:l,onPlay:s,favorites:new Set,listened:c,showPodcastTitle:!0})]})]})},y=()=>{const[s,i]=n.useState(new Set(JSON.parse(localStorage.getItem("teovoz_viewed_notif")||"[]"))),o=new Set(JSON.parse(localStorage.getItem("teovoz_listened")||"[]"));return n.useEffect(()=>{localStorage.setItem("teovoz_viewed_notif",JSON.stringify(Array.from(s)))},[s]),e.jsx(g,{activeTab:"notifications",children:e.jsx(a.Suspense,{fallback:e.jsx("div",{className:"p-6",children:e.jsx(j,{className:"h-40 rounded-3xl"})}),children:e.jsx(w,{onEpisodeSelect:()=>{},viewedGuids:s,setViewedGuids:i,listened:o})})})};h.createRoot(document.getElementById("root")).render(e.jsx(n.StrictMode,{children:e.jsx(y,{})}));
