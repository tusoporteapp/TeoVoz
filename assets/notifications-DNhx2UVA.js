import{r as i,j as e,N as u,B as f,b as h,R as n,d as g,a as j}from"./Skeleton-C4af2fp0.js";import{E as N}from"./EpisodeList-BdO2iNpA.js";import{f as v,C as S}from"./constants-BML1BJYv.js";import{S as b}from"./sparkles-B_M_yZlh.js";const E=({onEpisodeSelect:o,viewedGuids:t,setViewedGuids:s,listened:r})=>{const[d,m]=i.useState([]),[x,c]=i.useState(!0);return i.useEffect(()=>{(async()=>{c(!0);try{const a=await v(S[0].rss);m(a.episodes.slice(0,15));const l=new Set(t);a.episodes.slice(0,15).forEach(p=>l.add(p.guid)),s(l)}catch(a){console.error(a)}finally{c(!1)}})()},[]),x?e.jsx("div",{className:"px-6 py-6",children:e.jsx(u,{})}):e.jsxs("div",{className:"animate-in fade-in slide-in-from-right duration-500 px-6 py-6",children:[e.jsxs("div",{className:"mb-10 mt-2",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"text-indigo-500",size:24}),e.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-indigo-500 rounded-full animate-ping"})]}),e.jsx("h2",{className:"text-3xl font-black text-primary uppercase tracking-tighter",children:"Novedades"})]})}),e.jsx("p",{className:"text-xs text-muted font-bold uppercase tracking-widest",children:"Lo último en TEOVOZ"})]}),e.jsxs("div",{className:"bg-surface border border-app rounded-3xl p-6 mb-8 flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-indigo-500/10 rounded-2xl text-indigo-500",children:e.jsx(b,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-primary mb-1 tracking-tight",children:"¡Contenido nuevo cada día!"}),e.jsx("p",{className:"text-xs text-muted leading-relaxed",children:"Sumamos nuevos resúmenes diariamente. No te pierdas nada."})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-muted mb-4",children:"Últimos Lanzamientos"}),e.jsx(N,{episodes:d,onPlay:o,favorites:new Set,listened:r,showPodcastTitle:!0})]})]})},w=()=>{const[o,t]=n.useState(null),[s,r]=n.useState(new Set(JSON.parse(localStorage.getItem("teovoz_viewed_notif")||"[]"))),d=new Set(JSON.parse(localStorage.getItem("teovoz_listened")||"[]"));return n.useEffect(()=>{localStorage.setItem("teovoz_viewed_notif",JSON.stringify(Array.from(s)))},[s]),e.jsx(g,{activeTab:"notifications",currentEpisode:o,onEpisodeChange:t,children:e.jsx(i.Suspense,{fallback:e.jsx("div",{className:"p-6",children:e.jsx(j,{className:"h-40 rounded-3xl"})}),children:e.jsx(E,{onEpisodeSelect:t,viewedGuids:s,setViewedGuids:r,listened:d})})})};h.createRoot(document.getElementById("root")).render(e.jsx(n.StrictMode,{children:e.jsx(w,{})}));
