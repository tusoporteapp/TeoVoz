import{r as n,j as e,E as u,b as g,R as x,d as h,a as f}from"./Skeleton-DtBm_Hz7.js";import{E}from"./EpisodeList-LlhpZbIJ.js";import{f as S,C as j}from"./constants-BML1BJYv.js";const v=({category:t,onEpisodeSelect:i,favorites:r,listened:a,currentEpisodeId:d})=>{const[s,c]=n.useState(null),[o,p]=n.useState(!0);return n.useEffect(()=>{const l=async()=>{p(!0);try{const m=await S(t.rss);c(m)}catch(m){console.error(m)}finally{p(!1)}};t.rss&&l()},[t]),e.jsxs("div",{className:"animate-in fade-in slide-in-from-right duration-300 px-6",children:[e.jsxs("div",{className:"mb-8 mt-2",children:[e.jsx("h2",{className:"text-3xl font-black text-primary uppercase tracking-tighter mb-2",children:t.name}),e.jsxs("p",{className:"text-xs text-muted font-bold uppercase tracking-widest",children:[(s==null?void 0:s.episodes.length)||0," Episodios disponibles"]})]}),o?e.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(l=>e.jsx(u,{},l))}):e.jsx(E,{episodes:(s==null?void 0:s.episodes)||[],onPlay:i,favorites:r,listened:a,currentEpisodeId:d,podcastImage:s==null?void 0:s.image})]})},y=({categoryId:t})=>{const[i,r]=x.useState(null),a=j.find(o=>o.id===t),d=new Set(JSON.parse(localStorage.getItem("teovoz_favorites")||"[]").map(o=>o.guid)),s=new Set(JSON.parse(localStorage.getItem("teovoz_listened")||"[]"));if(!a)return e.jsx("div",{children:"CategorÃ­a no encontrada"});const c=o=>{localStorage.setItem("teovoz_viewing_episode",JSON.stringify(o)),window.location.href=`/episode.html?guid=${encodeURIComponent(o.guid)}&cat=${t}`};return e.jsx(h,{activeTab:"home",currentEpisode:i,onEpisodeChange:r,children:e.jsx(n.Suspense,{fallback:e.jsx("div",{className:"p-6",children:e.jsx(f,{className:"h-40 rounded-3xl"})}),children:e.jsx(v,{category:a,onEpisodeSelect:c,favorites:d,listened:s})})})},w=t=>{g.createRoot(document.getElementById("root")).render(e.jsx(x.StrictMode,{children:e.jsx(y,{categoryId:t})}))};export{w as m};
