import{r as a,j as e,N as u,B as f,b as g,R as o,d as h,a as j}from"./Skeleton-DtBm_Hz7.js";import{E as N}from"./EpisodeList-LlhpZbIJ.js";import{f as S,C as v}from"./constants-BML1BJYv.js";import{S as b}from"./sparkles-BhlDet60.js";const w=({onEpisodeSelect:n,viewedGuids:r,setViewedGuids:s,listened:d})=>{const[c,l]=a.useState([]),[t,m]=a.useState(!0);return a.useEffect(()=>{(async()=>{m(!0);try{const i=await S(v[0].rss);l(i.episodes.slice(0,15));const x=new Set(r);i.episodes.slice(0,15).forEach(p=>x.add(p.guid)),s(x)}catch(i){console.error(i)}finally{m(!1)}})()},[]),t?e.jsx("div",{className:"px-6 py-6",children:e.jsx(u,{})}):e.jsxs("div",{className:"animate-in fade-in slide-in-from-right duration-500 px-6 py-6",children:[e.jsxs("div",{className:"mb-10 mt-2",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"text-indigo-500",size:24}),e.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-indigo-500 rounded-full animate-ping"})]}),e.jsx("h2",{className:"text-3xl font-black text-primary uppercase tracking-tighter",children:"Novedades"})]})}),e.jsx("p",{className:"text-xs text-muted font-bold uppercase tracking-widest",children:"Lo último en TEOVOZ"})]}),e.jsxs("div",{className:"bg-surface border border-app rounded-3xl p-6 mb-8 flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-indigo-500/10 rounded-2xl text-indigo-500",children:e.jsx(b,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-primary mb-1 tracking-tight",children:"¡Contenido nuevo cada día!"}),e.jsx("p",{className:"text-xs text-muted leading-relaxed",children:"Sumamos nuevos resúmenes diariamente. No te pierdas nada."})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-muted mb-4",children:"Últimos Lanzamientos"}),e.jsx(N,{episodes:c,onPlay:n,favorites:new Set,listened:d,showPodcastTitle:!0})]})]})},E=()=>{const[n,r]=o.useState(null),[s,d]=o.useState(new Set(JSON.parse(localStorage.getItem("teovoz_viewed_notif")||"[]"))),c=new Set(JSON.parse(localStorage.getItem("teovoz_listened")||"[]"));o.useEffect(()=>{localStorage.setItem("teovoz_viewed_notif",JSON.stringify(Array.from(s)))},[s]);const l=t=>{localStorage.setItem("teovoz_viewing_episode",JSON.stringify(t)),window.location.href=`/episode.html?guid=${encodeURIComponent(t.guid)}`};return e.jsx(h,{activeTab:"notifications",currentEpisode:n,onEpisodeChange:r,children:e.jsx(a.Suspense,{fallback:e.jsx("div",{className:"p-6",children:e.jsx(j,{className:"h-40 rounded-3xl"})}),children:e.jsx(w,{onEpisodeSelect:l,viewedGuids:s,setViewedGuids:d,listened:c})})})};g.createRoot(document.getElementById("root")).render(e.jsx(o.StrictMode,{children:e.jsx(E,{})}));
